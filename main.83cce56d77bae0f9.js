(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2011:(Ht,lt,V)=>{"use strict";V.d(lt,{Dh:()=>Te,GT:()=>Oe,cc:()=>ke,hO:()=>Ne,on:()=>fe,pX:()=>xe,xv:()=>$e});var l=V(4650),v=V(9260),F=V(2122);Ht=V.hmd(Ht);const Ie=["ngOnDestroy"],xe=(ue,Be,Ze,Ve={})=>new Proxy(ue,{get:(Ee,We)=>Ze.runOutsideAngular(()=>{var Ce;if(ue[We])return!(null===(Ce=null==Ve?void 0:Ve.spy)||void 0===Ce)&&Ce.get&&Ve.spy.get(We,ue[We]),ue[We];if(Ie.indexOf(We)>-1)return()=>{};const ie=Be.toPromise().then(_e=>{const ze=_e&&_e[We];return"function"==typeof ze?ze.bind(_e):ze&&ze.then?ze.then(Xe=>Ze.run(()=>Xe)):Ze.run(()=>ze)});return new Proxy(()=>{},{get:(_e,ze)=>ie[ze],apply:(_e,ze,Xe)=>ie.then(je=>{var Ke;const Je=je&&je(...Xe);return!(null===(Ke=null==Ve?void 0:Ve.spy)||void 0===Ke)&&Ke.apply&&Ve.spy.apply(We,Xe,Je),Je})})})}),Oe=(ue,Be)=>{Be.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ve=>{Object.defineProperty(ue.prototype,Ve,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ve))})})};class ge{constructor(Be){return Be}}const Te=new l.OlP("angularfire2.app.options"),$e=new l.OlP("angularfire2.app.name");function fe(ue,Be,Ze){const Ee="object"==typeof Ze&&Ze||{};Ee.name=Ee.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const Ce=v.Z.apps.filter(ie=>ie&&ie.name===Ee.name)[0]||Be.runOutsideAngular(()=>v.Z.initializeApp(ue,Ee));try{JSON.stringify(ue)!==JSON.stringify(Ce.options)&&he("error",`${Ce.name} Firebase App already initialized with different options${Ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ie){}return new ge(Ce)}const he=(ue,...Be)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ue](...Be)},me={provide:ge,useFactory:fe,deps:[Te,l.R0b,[new l.FiY,$e]]};let Ne=(()=>{class ue{constructor(Ze){v.Z.registerVersion("angularfire",F.q4.full,"core"),v.Z.registerVersion("angularfire",F.q4.full,"app-compat"),v.Z.registerVersion("angular",l.q4F.full,Ze.toString())}static initializeApp(Ze,Ve){return{ngModule:ue,providers:[{provide:Te,useValue:Ze},{provide:$e,useValue:Ve}]}}}return ue.\u0275fac=function(Ze){return new(Ze||ue)(l.LFG(l.Lbi))},ue.\u0275mod=l.oAB({type:ue}),ue.\u0275inj=l.cJS({providers:[me]}),ue})();function ke(ue,Be,Ze,Ve,Ee){const[,We,Ce]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===ue)||[];if(We)return function nt(ue,Be){try{return ue.toString()===Be.toString()}catch(Ze){return ue===Be}}(Ee,Ce)||(De("error",`${Be} was already initialized on the ${Ze} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:Ee,was:Ce})),We;{const ie=Ve();return globalThis.\u0275AngularfireInstanceCache.push([ue,ie,Ee]),ie}}const yt=!!Ht.hot,De=(ue,...Be)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ue](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Ht,lt,V)=>{"use strict";V.d(lt,{q4:()=>ra,iC:()=>dn,HU:()=>$,vb:()=>w,JM:()=>yo,u3:()=>di});var l=V(4650),v=V(259),F=V(5861),Ie=V(9681),xe=V(2090),Oe=V(4859),ge=V(1877),Te=V(8766);const $e="@firebase/installations",fe="0.6.4",he=1e4,me=`w:${fe}`,Ne="FIS_v2",ke="https://firebaseinstallations.googleapis.com/v1",nt=36e5,Be=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ze(P){return P instanceof xe.ZR&&P.code.includes("request-failed")}function Ve({projectId:P}){return`${ke}/projects/${P}/installations`}function Ee(P){return{token:P.token,requestStatus:2,expiresIn:je(P.expiresIn),creationTime:Date.now()}}function We(P,B){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,F.Z)(function*(P,B){const we=(yield B.json()).error;return Be.create("request-failed",{requestName:P,serverCode:we.code,serverMessage:we.message,serverStatus:we.status})})).apply(this,arguments)}function ie({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function ze(P){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,F.Z)(function*(P){const B=yield P();return B.status>=500&&B.status<600?P():B})).apply(this,arguments)}function je(P){return Number(P.replace("s","000"))}function Fe(){return(Fe=(0,F.Z)(function*({appConfig:P,heartbeatServiceProvider:B},{fid:Y}){const we=Ve(P),it=ie(P),mt=B.getImmediate({optional:!0});if(mt){const Mn=yield mt.getHeartbeatsHeader();Mn&&it.append("x-firebase-client",Mn)}const mn={method:"POST",headers:it,body:JSON.stringify({fid:Y,authVersion:Ne,appId:P.appId,sdkVersion:me})},Cn=yield ze(()=>fetch(we,mn));if(Cn.ok){const Mn=yield Cn.json();return{fid:Mn.fid||Y,registrationStatus:2,refreshToken:Mn.refreshToken,authToken:Ee(Mn.authToken)}}throw yield We("Create Installation",Cn)})).apply(this,arguments)}function at(P){return new Promise(B=>{setTimeout(B,P)})}const Me=/^[cdef][\w-]{21}$/,Se="";function Pe(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const Y=function tt(P){return function ut(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Me.test(Y)?Y:Se}catch(P){return Se}}function ce(P){return`${P.appName}!${P.appId}`}const Re=new Map;function ee(P,B){const Y=ce(P);gt(Y,B),function Xt(P,B){const Y=function en(){return!vt&&"BroadcastChannel"in self&&(vt=new BroadcastChannel("[Firebase] FID Change"),vt.onmessage=P=>{gt(P.data.key,P.data.fid)}),vt}();Y&&Y.postMessage({key:P,fid:B}),function En(){0===Re.size&&vt&&(vt.close(),vt=null)}()}(Y,B)}function gt(P,B){const Y=Re.get(P);if(Y)for(const we of Y)we(B)}let vt=null;const sn="firebase-installations-database",Kt=1,zn="firebase-installations-store";let yr=null;function wr(){return yr||(yr=(0,Te.X3)(sn,Kt,{upgrade:(P,B)=>{0===B&&P.createObjectStore(zn)}})),yr}function xn(P,B){return hr.apply(this,arguments)}function hr(){return(hr=(0,F.Z)(function*(P,B){const Y=ce(P),it=(yield wr()).transaction(zn,"readwrite"),mt=it.objectStore(zn),Pt=yield mt.get(Y);return yield mt.put(B,Y),yield it.done,(!Pt||Pt.fid!==B.fid)&&ee(P,B.fid),B})).apply(this,arguments)}function Nt(P){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,F.Z)(function*(P){const B=ce(P),we=(yield wr()).transaction(zn,"readwrite");yield we.objectStore(zn).delete(B),yield we.done})).apply(this,arguments)}function tr(P,B){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,F.Z)(function*(P,B){const Y=ce(P),it=(yield wr()).transaction(zn,"readwrite"),mt=it.objectStore(zn),Pt=yield mt.get(Y),mn=B(Pt);return void 0===mn?yield mt.delete(Y):yield mt.put(mn,Y),yield it.done,mn&&(!Pt||Pt.fid!==mn.fid)&&ee(P,mn.fid),mn})).apply(this,arguments)}function Br(P){return nr.apply(this,arguments)}function nr(){return nr=(0,F.Z)(function*(P){let B;const Y=yield tr(P.appConfig,we=>{const it=function yn(P){return qr(P||{fid:Pe(),registrationStatus:0})}(we),mt=function Jt(P,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(Be.create("app-offline"))};const Y={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},we=function gn(P,B){return sr.apply(this,arguments)}(P,Y);return{installationEntry:Y,registrationPromise:we}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:cn(P)}:{installationEntry:B}}(P,it);return B=mt.registrationPromise,mt.installationEntry});return Y.fid===Se?{installationEntry:yield B}:{installationEntry:Y,registrationPromise:B}}),nr.apply(this,arguments)}function sr(){return sr=(0,F.Z)(function*(P,B){try{const Y=yield function Je(P,B){return Fe.apply(this,arguments)}(P,B);return xn(P.appConfig,Y)}catch(Y){throw Ze(Y)&&409===Y.customData.serverCode?yield Nt(P.appConfig):yield xn(P.appConfig,{fid:B.fid,registrationStatus:0}),Y}}),sr.apply(this,arguments)}function cn(P){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,F.Z)(function*(P){let B=yield Rt(P.appConfig);for(;1===B.registrationStatus;)yield at(100),B=yield Rt(P.appConfig);if(0===B.registrationStatus){const{installationEntry:Y,registrationPromise:we}=yield Br(P);return we||Y}return B})).apply(this,arguments)}function Rt(P){return tr(P,B=>{if(!B)throw Be.create("installation-not-found");return qr(B)})}function qr(P){return function oi(P){return 1===P.registrationStatus&&P.registrationTime+he<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Zr(){return(Zr=(0,F.Z)(function*({appConfig:P,heartbeatServiceProvider:B},Y){const we=function In(P,{fid:B}){return`${Ve(P)}/${B}/authTokens:generate`}(P,Y),it=function _e(P,{refreshToken:B}){const Y=ie(P);return Y.append("Authorization",function Ke(P){return`${Ne} ${P}`}(B)),Y}(P,Y),mt=B.getImmediate({optional:!0});if(mt){const Mn=yield mt.getHeartbeatsHeader();Mn&&it.append("x-firebase-client",Mn)}const mn={method:"POST",headers:it,body:JSON.stringify({installation:{sdkVersion:me,appId:P.appId}})},Cn=yield ze(()=>fetch(we,mn));if(Cn.ok)return Ee(yield Cn.json());throw yield We("Generate Auth Token",Cn)})).apply(this,arguments)}function bn(P){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,F.Z)(function*(P,B=!1){let Y;const we=yield tr(P.appConfig,mt=>{if(!Rn(mt))throw Be.create("not-registered");const Pt=mt.authToken;if(!B&&function or(P){return 2===P.requestStatus&&!function Ae(P){const B=Date.now();return B<P.creationTime||P.creationTime+P.expiresIn<B+nt}(P)}(Pt))return mt;if(1===Pt.requestStatus)return Y=function kt(P,B){return Ct.apply(this,arguments)}(P,B),mt;{if(!navigator.onLine)throw Be.create("app-offline");const mn=function ye(P){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:B})}(mt);return Y=function fn(P,B){return vn.apply(this,arguments)}(P,mn),mn}});return Y?yield Y:we.authToken}),Dr.apply(this,arguments)}function Ct(){return(Ct=(0,F.Z)(function*(P,B){let Y=yield Qt(P.appConfig);for(;1===Y.authToken.requestStatus;)yield at(100),Y=yield Qt(P.appConfig);const we=Y.authToken;return 0===we.requestStatus?bn(P,B):we})).apply(this,arguments)}function Qt(P){return tr(P,B=>{if(!Rn(B))throw Be.create("not-registered");return function X(P){return 1===P.requestStatus&&P.requestTime+he<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function vn(){return vn=(0,F.Z)(function*(P,B){try{const Y=yield function An(P,B){return Zr.apply(this,arguments)}(P,B),we=Object.assign(Object.assign({},B),{authToken:Y});return yield xn(P.appConfig,we),Y}catch(Y){if(!Ze(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const we=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield xn(P.appConfig,we)}else yield Nt(P.appConfig);throw Y}}),vn.apply(this,arguments)}function Rn(P){return void 0!==P&&2===P.registrationStatus}function Z(){return(Z=(0,F.Z)(function*(P){const B=P,{installationEntry:Y,registrationPromise:we}=yield Br(B);return we?we.catch(console.error):bn(B).catch(console.error),Y.fid})).apply(this,arguments)}function se(){return se=(0,F.Z)(function*(P,B=!1){const Y=P;return yield function ve(P){return re.apply(this,arguments)}(Y),(yield bn(Y,B)).token}),se.apply(this,arguments)}function re(){return(re=(0,F.Z)(function*(P){const{registrationPromise:B}=yield Br(P);B&&(yield B)})).apply(this,arguments)}function Vr(P){return Be.create("missing-app-config-values",{valueName:P})}const Ur="installations",ei=P=>{const B=P.getProvider("app").getImmediate(),Y=function bi(P){if(!P||!P.options)throw Vr("App Configuration");if(!P.name)throw Vr("App Name");const B=["projectId","apiKey","appId"];for(const Y of B)if(!P.options[Y])throw Vr(Y);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(B);return{app:B,appConfig:Y,heartbeatServiceProvider:(0,Ie._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},ds=P=>{const B=P.getProvider("app").getImmediate(),Y=(0,Ie._getProvider)(B,Ur).getImmediate();return{getId:()=>function ne(P){return Z.apply(this,arguments)}(Y),getToken:it=>function Qe(P){return se.apply(this,arguments)}(Y,it)}};(function Fi(){(0,Ie._registerComponent)(new Oe.wA(Ur,ei,"PUBLIC")),(0,Ie._registerComponent)(new Oe.wA("installations-internal",ds,"PRIVATE"))})(),(0,Ie.registerVersion)($e,fe),(0,Ie.registerVersion)($e,fe,"esm2017");const Ln="@firebase/remote-config",Rr=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rn{constructor(B,Y,we,it){this.client=B,this.storage=Y,this.storageCache=we,this.logger=it}isCachedDataFresh(B,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const we=Date.now()-Y,it=we<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${we}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${it}.`),it}fetch(B){var Y=this;return(0,F.Z)(function*(){const[we,it]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(it&&Y.isCachedDataFresh(B.cacheMaxAgeMillis,we))return it;B.eTag=it&&it.eTag;const mt=yield Y.client.fetch(B),Pt=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===mt.status&&Pt.push(Y.storage.setLastSuccessfulFetchResponse(mt)),yield Promise.all(Pt),mt})()}}function Dn(P=navigator){return P.languages&&P.languages[0]||P.language}class Gn{constructor(B,Y,we,it,mt,Pt){this.firebaseInstallations=B,this.sdkVersion=Y,this.namespace=we,this.projectId=it,this.apiKey=mt,this.appId=Pt}fetch(B){var Y=this;return(0,F.Z)(function*(){const[we,it]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,mn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},Cn={sdk_version:Y.sdkVersion,app_instance_id:we,app_instance_id_token:it,app_id:Y.appId,language_code:Dn()},Mn={method:"POST",headers:mn,body:JSON.stringify(Cn)},gr=fetch(Pt,Mn),Xn=new Promise((No,Yo)=>{B.signal.addEventListener(()=>{const Bl=new Error("The operation was aborted.");Bl.name="AbortError",Yo(Bl)})});let io;try{yield Promise.race([gr,Xn]),io=yield gr}catch(No){let Yo="fetch-client-network";throw"AbortError"===(null==No?void 0:No.name)&&(Yo="fetch-timeout"),Rr.create(Yo,{originalErrorMessage:null==No?void 0:No.message})}let Hi=io.status;const $l=io.headers.get("ETag")||void 0;let _c,bl;if(200===io.status){let No;try{No=yield io.json()}catch(Yo){throw Rr.create("fetch-client-parse",{originalErrorMessage:null==Yo?void 0:Yo.message})}_c=No.entries,bl=No.state}if("INSTANCE_STATE_UNSPECIFIED"===bl?Hi=500:"NO_CHANGE"===bl?Hi=304:("NO_TEMPLATE"===bl||"EMPTY_CONFIG"===bl)&&(_c={}),304!==Hi&&200!==Hi)throw Rr.create("fetch-status",{httpStatus:Hi});return{status:Hi,eTag:$l,config:_c}})()}}class wn{constructor(B,Y){this.client=B,this.storage=Y}fetch(B){var Y=this;return(0,F.Z)(function*(){const we=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(B,we)})()}attemptFetch(B,{throttleEndTimeMillis:Y,backoffCount:we}){var it=this;return(0,F.Z)(function*(){yield function fi(P,B){return new Promise((Y,we)=>{const it=Math.max(B-Date.now(),0),mt=setTimeout(Y,it);P.addEventListener(()=>{clearTimeout(mt),we(Rr.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,Y);try{const mt=yield it.client.fetch(B);return yield it.storage.deleteThrottleMetadata(),mt}catch(mt){if(!function Ri(P){if(!(P instanceof xe.ZR&&P.customData))return!1;const B=Number(P.customData.httpStatus);return 429===B||500===B||503===B||504===B}(mt))throw mt;const Pt={throttleEndTimeMillis:Date.now()+(0,xe.$s)(we),backoffCount:we+1};return yield it.storage.setThrottleMetadata(Pt),it.attemptFetch(B,Pt)}})()}}class ns{constructor(B,Y,we,it,mt){this.app=B,this._client=Y,this._storageCache=we,this._storage=it,this._logger=mt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fs(P,B){const Y=P.target.error||void 0;return Rr.create(B,{originalErrorMessage:Y&&(null==Y?void 0:Y.message)})}const qi="app_namespace_store";class _i{constructor(B,Y,we,it=function Bo(){return new Promise((P,B)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=we=>{B(fs(we,"storage-open"))},Y.onsuccess=we=>{P(we.target.result)},Y.onupgradeneeded=we=>{0===we.oldVersion&&we.target.result.createObjectStore(qi,{keyPath:"compositeKey"})}}catch(Y){B(Rr.create("storage-open",{originalErrorMessage:null==Y?void 0:Y.message}))}})}()){this.appId=B,this.appName=Y,this.namespace=we,this.openDbPromise=it}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var Y=this;return(0,F.Z)(function*(){const we=yield Y.openDbPromise;return new Promise((it,mt)=>{const mn=we.transaction([qi],"readonly").objectStore(qi),Cn=Y.createCompositeKey(B);try{const Mn=mn.get(Cn);Mn.onerror=gr=>{mt(fs(gr,"storage-get"))},Mn.onsuccess=gr=>{const Xn=gr.target.result;it(Xn?Xn.value:void 0)}}catch(Mn){mt(Rr.create("storage-get",{originalErrorMessage:null==Mn?void 0:Mn.message}))}})})()}set(B,Y){var we=this;return(0,F.Z)(function*(){const it=yield we.openDbPromise;return new Promise((mt,Pt)=>{const Cn=it.transaction([qi],"readwrite").objectStore(qi),Mn=we.createCompositeKey(B);try{const gr=Cn.put({compositeKey:Mn,value:Y});gr.onerror=Xn=>{Pt(fs(Xn,"storage-set"))},gr.onsuccess=()=>{mt()}}catch(gr){Pt(Rr.create("storage-set",{originalErrorMessage:null==gr?void 0:gr.message}))}})})()}delete(B){var Y=this;return(0,F.Z)(function*(){const we=yield Y.openDbPromise;return new Promise((it,mt)=>{const mn=we.transaction([qi],"readwrite").objectStore(qi),Cn=Y.createCompositeKey(B);try{const Mn=mn.delete(Cn);Mn.onerror=gr=>{mt(fs(gr,"storage-delete"))},Mn.onsuccess=()=>{it()}}catch(Mn){mt(Rr.create("storage-delete",{originalErrorMessage:null==Mn?void 0:Mn.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class li{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,F.Z)(function*(){const Y=B.storage.getLastFetchStatus(),we=B.storage.getLastSuccessfulFetchTimestampMillis(),it=B.storage.getActiveConfig(),mt=yield Y;mt&&(B.lastFetchStatus=mt);const Pt=yield we;Pt&&(B.lastSuccessfulFetchTimestampMillis=Pt);const mn=yield it;mn&&(B.activeConfig=mn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Ki(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,F.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch(P){return!1}})).apply(this,arguments)}!function Vo(){(0,Ie._registerComponent)(new Oe.wA("remote-config",function P(B,{instanceIdentifier:Y}){const we=B.getProvider("app").getImmediate(),it=B.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Rr.create("registration-window");if(!(0,xe.hl)())throw Rr.create("indexed-db-unavailable");const{projectId:mt,apiKey:Pt,appId:mn}=we.options;if(!mt)throw Rr.create("registration-project-id");if(!Pt)throw Rr.create("registration-api-key");if(!mn)throw Rr.create("registration-app-id");const Cn=new _i(mn,we.name,Y=Y||"firebase"),Mn=new li(Cn),gr=new ge.Yd(Ln);gr.logLevel=ge.in.ERROR;const Xn=new Gn(it,Ie.SDK_VERSION,Y,mt,Pt,mn),io=new wn(Xn,Cn),Hi=new rn(io,Cn,Mn,gr),$l=new ns(we,Hi,Mn,Cn,gr);return function le(P){const B=(0,xe.m9)(P);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}($l),$l},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(Ln,"0.4.4"),(0,Ie.registerVersion)(Ln,"0.4.4","esm2017")}();const Yi="/firebase-messaging-sw.js",$s="/firebase-cloud-messaging-push-scope",Ii="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uo="https://fcmregistrations.googleapis.com/v1",co="google.c.a.c_id",Ia="google.c.a.c_l",Co="google.c.a.ts",rs="google.c.a.e";var $i=(()=>{return(P=$i||($i={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",$i;var P})();function is(P){const B=new Uint8Array(P);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function To(P){const Y=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),we=atob(Y),it=new Uint8Array(we.length);for(let mt=0;mt<we.length;++mt)it[mt]=we.charCodeAt(mt);return it}const ho="fcm_token_details_db",wi=5,So="fcm_token_object_Store";function Ds(){return Ds=(0,F.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(mt=>mt.name).includes(ho))return null;let B=null;return(yield(0,Te.X3)(ho,wi,{upgrade:(we=(0,F.Z)(function*(it,mt,Pt,mn){var Cn;if(mt<2||!it.objectStoreNames.contains(So))return;const Mn=mn.objectStore(So),gr=yield Mn.index("fcmSenderId").get(P);if(yield Mn.clear(),gr)if(2===mt){const Xn=gr;if(!Xn.auth||!Xn.p256dh||!Xn.endpoint)return;B={token:Xn.fcmToken,createTime:null!==(Cn=Xn.createTime)&&void 0!==Cn?Cn:Date.now(),subscriptionOptions:{auth:Xn.auth,p256dh:Xn.p256dh,endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:"string"==typeof Xn.vapidKey?Xn.vapidKey:is(Xn.vapidKey)}}}else if(3===mt){const Xn=gr;B={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:is(Xn.auth),p256dh:is(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:is(Xn.vapidKey)}}}else if(4===mt){const Xn=gr;B={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:is(Xn.auth),p256dh:is(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:is(Xn.vapidKey)}}}}),function(mt,Pt,mn,Cn){return we.apply(this,arguments)})})).close(),yield(0,Te.Lj)(ho),yield(0,Te.Lj)("fcm_vapid_details_db"),yield(0,Te.Lj)("undefined"),function fo(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:B}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}(B)?B:null;var we}),Ds.apply(this,arguments)}const Bi="firebase-messaging-database",Xs=1,ti="firebase-messaging-store";let Cs=null;function Ts(){return Cs||(Cs=(0,Te.X3)(Bi,Xs,{upgrade:(P,B)=>{0===B&&P.createObjectStore(ti)}})),Cs}function Bs(P){return Di.apply(this,arguments)}function Di(){return Di=(0,F.Z)(function*(P){const B=Qi(P),we=yield(yield Ts()).transaction(ti).objectStore(ti).get(B);if(we)return we;{const it=yield function Qs(P){return Ds.apply(this,arguments)}(P.appConfig.senderId);if(it)return yield ss(P,it),it}}),Di.apply(this,arguments)}function ss(P,B){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,F.Z)(function*(P,B){const Y=Qi(P),it=(yield Ts()).transaction(ti,"readwrite");return yield it.objectStore(ti).put(B,Y),yield it.done,B})).apply(this,arguments)}function jo(){return(jo=(0,F.Z)(function*(P){const B=Qi(P),we=(yield Ts()).transaction(ti,"readwrite");yield we.objectStore(ti).delete(B),yield we.done})).apply(this,arguments)}function Qi({appConfig:P}){return P.appId}const fr=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ui(P,B){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,F.Z)(function*(P,B){const Y=yield Us(P),we=pi(B),it={method:"POST",headers:Y,body:JSON.stringify(we)};let mt;try{mt=yield(yield fetch(xo(P.appConfig),it)).json()}catch(Pt){throw fr.create("token-subscribe-failed",{errorInfo:null==Pt?void 0:Pt.toString()})}if(mt.error)throw fr.create("token-subscribe-failed",{errorInfo:mt.error.message});if(!mt.token)throw fr.create("token-subscribe-no-token");return mt.token})).apply(this,arguments)}function Mo(){return(Mo=(0,F.Z)(function*(P,B){const Y=yield Us(P),we=pi(B.subscriptionOptions),it={method:"PATCH",headers:Y,body:JSON.stringify(we)};let mt;try{mt=yield(yield fetch(`${xo(P.appConfig)}/${B.token}`,it)).json()}catch(Pt){throw fr.create("token-update-failed",{errorInfo:null==Pt?void 0:Pt.toString()})}if(mt.error)throw fr.create("token-update-failed",{errorInfo:mt.error.message});if(!mt.token)throw fr.create("token-update-no-token");return mt.token})).apply(this,arguments)}function Vs(P,B){return ni.apply(this,arguments)}function ni(){return(ni=(0,F.Z)(function*(P,B){const we={method:"DELETE",headers:yield Us(P)};try{const mt=yield(yield fetch(`${xo(P.appConfig)}/${B}`,we)).json();if(mt.error)throw fr.create("token-unsubscribe-failed",{errorInfo:mt.error.message})}catch(it){throw fr.create("token-unsubscribe-failed",{errorInfo:null==it?void 0:it.toString()})}})).apply(this,arguments)}function xo({projectId:P}){return`${uo}/projects/${P}/registrations`}function Us(P){return gs.apply(this,arguments)}function gs(){return(gs=(0,F.Z)(function*({appConfig:P,installations:B}){const Y=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function pi({p256dh:P,auth:B,endpoint:Y,vapidKey:we}){const it={web:{endpoint:Y,auth:B,p256dh:P}};return we!==Ii&&(it.web.applicationPubKey=we),it}const Ei=6048e5;function As(){return As=(0,F.Z)(function*(P){const B=yield function Js(P,B){return Ms.apply(this,arguments)}(P.swRegistration,P.vapidKey),Y={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:B.endpoint,auth:is(B.getKey("auth")),p256dh:is(B.getKey("p256dh"))},we=yield Bs(P.firebaseDependencies);if(we){if(function Va(P,B){return B.vapidKey===P.vapidKey&&B.endpoint===P.endpoint&&B.auth===P.auth&&B.p256dh===P.p256dh}(we.subscriptionOptions,Y))return Date.now()>=we.createTime+Ei?function ca(P,B){return Pn.apply(this,arguments)}(P,{token:we.token,createTime:Date.now(),subscriptionOptions:Y}):we.token;try{yield Vs(P.firebaseDependencies,we.token)}catch(it){console.warn(it)}return Xo(P.firebaseDependencies,Y)}return Xo(P.firebaseDependencies,Y)}),As.apply(this,arguments)}function Ci(){return Ci=(0,F.Z)(function*(P){const B=yield Bs(P.firebaseDependencies);B&&(yield Vs(P.firebaseDependencies,B.token),yield function Zi(P){return jo.apply(this,arguments)}(P.firebaseDependencies));const Y=yield P.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),Ci.apply(this,arguments)}function Pn(){return Pn=(0,F.Z)(function*(P,B){try{const Y=yield function ii(P,B){return Mo.apply(this,arguments)}(P.firebaseDependencies,B),we=Object.assign(Object.assign({},B),{token:Y,createTime:Date.now()});return yield ss(P.firebaseDependencies,we),Y}catch(Y){throw yield function ms(P){return Ci.apply(this,arguments)}(P),Y}}),Pn.apply(this,arguments)}function Xo(P,B){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,F.Z)(function*(P,B){const we={token:yield ui(P,B),createTime:Date.now(),subscriptionOptions:B};return yield ss(P,we),we.token})).apply(this,arguments)}function Ms(){return(Ms=(0,F.Z)(function*(P,B){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:To(B)})})).apply(this,arguments)}function zo(P){const B={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function Go(P,B){if(!B.notification)return;P.notification={};const Y=B.notification.title;Y&&(P.notification.title=Y);const we=B.notification.body;we&&(P.notification.body=we);const it=B.notification.image;it&&(P.notification.image=it);const mt=B.notification.icon;mt&&(P.notification.icon=mt)}(B,P),function L(P,B){B.data&&(P.data=B.data)}(B,P),function d(P,B){var Y,we,it,mt,Pt;if(!(B.fcmOptions||null!==(Y=B.notification)&&void 0!==Y&&Y.click_action))return;P.fcmOptions={};const mn=null!==(it=null===(we=B.fcmOptions)||void 0===we?void 0:we.link)&&void 0!==it?it:null===(mt=B.notification)||void 0===mt?void 0:mt.click_action;mn&&(P.fcmOptions.link=mn);const Cn=null===(Pt=B.fcmOptions)||void 0===Pt?void 0:Pt.analytics_label;Cn&&(P.fcmOptions.analyticsLabel=Cn)}(B,P),B}function f(P,B){const Y=[];for(let we=0;we<P.length;we++)Y.push(P.charAt(we)),we<B.length&&Y.push(B.charAt(we));return Y.join("")}function H(P){return fr.create("missing-app-config-values",{valueName:P})}f("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),f("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ot{constructor(B,Y,we){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const it=function M(P){if(!P||!P.options)throw H("App Configuration Object");if(!P.name)throw H("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=P;for(const we of B)if(!Y[we])throw H(we);return{appName:P.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:it,installations:Y,analyticsProvider:we}}_delete(){return Promise.resolve()}}function Ft(P){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,F.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(Yi,{scope:$s}),P.swRegistration.update().catch(()=>{})}catch(B){throw fr.create("failed-service-worker-registration",{browserErrorMessage:null==B?void 0:B.message})}})).apply(this,arguments)}function Qn(){return(Qn=(0,F.Z)(function*(P,B){if(!B&&!P.swRegistration&&(yield Ft(P)),B||!P.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw fr.create("invalid-sw-registration");P.swRegistration=B}})).apply(this,arguments)}function Vn(){return(Vn=(0,F.Z)(function*(P,B){B?P.vapidKey=B:P.vapidKey||(P.vapidKey=Ii)})).apply(this,arguments)}function lr(){return lr=(0,F.Z)(function*(P,B){if(!navigator)throw fr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fr.create("permission-blocked");return yield function kr(P,B){return Vn.apply(this,arguments)}(P,null==B?void 0:B.vapidKey),yield function Sn(P,B){return Qn.apply(this,arguments)}(P,null==B?void 0:B.serviceWorkerRegistration),function Qo(P){return As.apply(this,arguments)}(P)}),lr.apply(this,arguments)}function js(){return(js=(0,F.Z)(function*(P,B,Y){const we=function Vi(P){switch(P){case $i.NOTIFICATION_CLICKED:return"notification_open";case $i.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(B);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(we,{message_id:Y[co],message_name:Y[Ia],message_time:Y[Co],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cr(){return Cr=(0,F.Z)(function*(P,B){const Y=B.data;if(!Y.isFirebaseMessaging)return;P.onMessageHandler&&Y.messageType===$i.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(zo(Y)):P.onMessageHandler.next(zo(Y)));const we=Y.data;(function m(P){return"object"==typeof P&&!!P&&co in P})(we)&&"1"===we[rs]&&(yield function si(P,B,Y){return js.apply(this,arguments)}(P,Y.messageType,we))}),Cr.apply(this,arguments)}const da="@firebase/messaging",ha=P=>{const B=new ot(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function os(P,B){return Cr.apply(this,arguments)}(B,Y)),B},Ro=P=>{const B=P.getProvider("messaging").getImmediate();return{getToken:we=>function jt(P,B){return lr.apply(this,arguments)}(B,we)}};function fa(){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,F.Z)(function*(){try{yield(0,xe.eu)()}catch(P){return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function as(){(0,Ie._registerComponent)(new Oe.wA("messaging",ha,"PUBLIC")),(0,Ie._registerComponent)(new Oe.wA("messaging-internal",Ro,"PRIVATE")),(0,Ie.registerVersion)(da,"0.12.4"),(0,Ie.registerVersion)(da,"0.12.4","esm2017")}();const _r="analytics",nu="firebase_id",Lr="origin",ln=6e4,Qr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wn="https://www.googletagmanager.com/gtag/js",Ti=new ge.Yd("@firebase/analytics");function Ua(P){return Promise.all(P.map(B=>B.catch(Y=>Y)))}function wa(){return(wa=(0,F.Z)(function*(P,B,Y,we,it,mt){const Pt=we[it];try{if(Pt)yield B[Pt];else{const Cn=(yield Ua(Y)).find(Mn=>Mn.measurementId===it);Cn&&(yield B[Cn.appId])}}catch(mn){Ti.error(mn)}P("config",it,mt)})).apply(this,arguments)}function R(){return(R=(0,F.Z)(function*(P,B,Y,we,it){try{let mt=[];if(it&&it.send_to){let Pt=it.send_to;Array.isArray(Pt)||(Pt=[Pt]);const mn=yield Ua(Y);for(const Cn of Pt){const Mn=mn.find(Xn=>Xn.measurementId===Cn),gr=Mn&&B[Mn.appId];if(!gr){mt=[];break}mt.push(gr)}}0===mt.length&&(mt=Object.values(B)),yield Promise.all(mt),P("event",we,it||{})}catch(mt){Ti.error(mt)}})).apply(this,arguments)}const ct=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xt=30,$n=new class Er{constructor(B={},Y=1e3){this.throttleMetadata=B,this.intervalMillis=Y}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,Y){this.throttleMetadata[B]=Y}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function pr(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function rr(){return(rr=(0,F.Z)(function*(P){var B;const{appId:Y,apiKey:we}=P,it={method:"GET",headers:pr(we)},mt=Qr.replace("{app-id}",Y),Pt=yield fetch(mt,it);if(200!==Pt.status&&304!==Pt.status){let mn="";try{const Cn=yield Pt.json();null!==(B=Cn.error)&&void 0!==B&&B.message&&(mn=Cn.error.message)}catch(Cn){}throw ct.create("config-fetch-failed",{httpStatus:Pt.status,responseMessage:mn})}return Pt.json()})).apply(this,arguments)}function Xr(){return(Xr=(0,F.Z)(function*(P,B=$n,Y){const{appId:we,apiKey:it,measurementId:mt}=P.options;if(!we)throw ct.create("no-app-id");if(!it){if(mt)return{measurementId:mt,appId:we};throw ct.create("no-api-key")}const Pt=B.getThrottleMetadata(we)||{backoffCount:0,throttleEndTimeMillis:Date.now()},mn=new zs;return setTimeout((0,F.Z)(function*(){mn.abort()}),void 0!==Y?Y:ln),Pi({appId:we,apiKey:it,measurementId:mt},Pt,mn,B)})).apply(this,arguments)}function Pi(P,B,Y){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,F.Z)(function*(P,{throttleEndTimeMillis:B,backoffCount:Y},we,it=$n){var mt;const{appId:Pt,measurementId:mn}=P;try{yield function Hs(P,B){return new Promise((Y,we)=>{const it=Math.max(B-Date.now(),0),mt=setTimeout(Y,it);P.addEventListener(()=>{clearTimeout(mt),we(ct.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(we,B)}catch(Cn){if(mn)return Ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${null==Cn?void 0:Cn.message}]`),{appId:Pt,measurementId:mn};throw Cn}try{const Cn=yield function Jn(P){return rr.apply(this,arguments)}(P);return it.deleteThrottleMetadata(Pt),Cn}catch(Cn){const Mn=Cn;if(!function no(P){if(!(P instanceof xe.ZR&&P.customData))return!1;const B=Number(P.customData.httpStatus);return 429===B||500===B||503===B||504===B}(Mn)){if(it.deleteThrottleMetadata(Pt),mn)return Ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mn} provided in the "measurementId" field in the local Firebase config. [${null==Mn?void 0:Mn.message}]`),{appId:Pt,measurementId:mn};throw Cn}const gr=503===Number(null===(mt=null==Mn?void 0:Mn.customData)||void 0===mt?void 0:mt.httpStatus)?(0,xe.$s)(Y,it.intervalMillis,xt):(0,xe.$s)(Y,it.intervalMillis),Xn={throttleEndTimeMillis:Date.now()+gr,backoffCount:Y+1};return it.setThrottleMetadata(Pt,Xn),Ti.debug(`Calling attemptFetch again in ${gr} millis`),Pi(P,Xn,we,it)}}),Ui.apply(this,arguments)}class zs{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let ys,ta;function ga(){return(ga=(0,F.Z)(function*(P,B,Y,we,it){if(it&&it.global)P("event",Y,we);else{const mt=yield B;P("event",Y,Object.assign(Object.assign({},we),{send_to:mt}))}})).apply(this,arguments)}function Ka(){return(Ka=(0,F.Z)(function*(){if(!(0,xe.hl)())return Ti.warn(ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(P){return Ti.warn(ct.create("indexeddb-unavailable",{errorInfo:null==P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function kl(){return kl=(0,F.Z)(function*(P,B,Y,we,it,mt,Pt){var mn;const Cn=function Kr(P){return Xr.apply(this,arguments)}(P);Cn.then(Hi=>{Y[Hi.measurementId]=Hi.appId,P.options.measurementId&&Hi.measurementId!==P.options.measurementId&&Ti.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${Hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Hi=>Ti.error(Hi)),B.push(Cn);const Mn=function qa(){return Ka.apply(this,arguments)}().then(Hi=>{if(Hi)return we.getId()}),[gr,Xn]=yield Promise.all([Cn,Mn]);(function W(P){const B=window.document.getElementsByTagName("script");for(const Y of Object.values(B))if(Y.src&&Y.src.includes(Wn)&&Y.src.includes(P))return Y;return null})(mt)||function ja(P,B){const Y=document.createElement("script");Y.src=`${Wn}?l=${P}&id=${B}`,Y.async=!0,document.head.appendChild(Y)}(mt,gr.measurementId),ta&&(it("consent","default",ta),function ml(P){ta=P}(void 0)),it("js",new Date);const io=null!==(mn=null==Pt?void 0:Pt.config)&&void 0!==mn?mn:{};return io[Lr]="firebase",io.update=!0,null!=Xn&&(io[nu]=Xn),it("config",gr.measurementId,io),ys&&(it("set",ys),function Wa(P){ys=P}(void 0)),gr.measurementId}),kl.apply(this,arguments)}class Fu{constructor(B){this.app=B}_delete(){return delete Rs[this.app.options.appId],Promise.resolve()}}let Rs={},yl=[];const ls={};let Ya,Os,na="dataLayer",po="gtag",Ta=!1;function vl(P,B,Y){!function Lu(){const P=[];if((0,xe.ru)()&&P.push("This is a browser extension environment."),(0,xe.zI)()||P.push("Cookies are not available."),P.length>0){const B=P.map((we,it)=>`(${it+1}) ${we}`).join(" "),Y=ct.create("invalid-analytics-context",{errorInfo:B});Ti.warn(Y.message)}}();const we=P.options.appId;if(!we)throw ct.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw ct.create("no-api-key");Ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rs[we])throw ct.create("already-exists",{id:we});if(!Ta){!function pl(P){let B=[];Array.isArray(window[P])?B=window[P]:window[P]=B}(na);const{wrappedGtag:mt,gtagCore:Pt}=function N(P,B,Y,we,it){let mt=function(...Pt){window[we].push(arguments)};return window[it]&&"function"==typeof window[it]&&(mt=window[it]),window[it]=function U(P,B,Y,we){function mt(){return mt=(0,F.Z)(function*(Pt,mn,Cn){try{"event"===Pt?yield function pa(P,B,Y,we,it){return R.apply(this,arguments)}(P,B,Y,mn,Cn):"config"===Pt?yield function Ha(P,B,Y,we,it,mt){return wa.apply(this,arguments)}(P,B,Y,we,mn,Cn):"consent"===Pt?P("consent","update",Cn):P("set",mn)}catch(Mn){Ti.error(Mn)}}),mt.apply(this,arguments)}return function it(Pt,mn,Cn){return mt.apply(this,arguments)}}(mt,P,B,Y),{gtagCore:mt,wrappedGtag:window[it]}}(Rs,yl,ls,na,po);Os=mt,Ya=Pt,Ta=!0}return Rs[we]=function Ca(P,B,Y,we,it,mt,Pt){return kl.apply(this,arguments)}(P,yl,ls,B,Ya,na,Y),new Fu(P)}function Ps(){return Za.apply(this,arguments)}function Za(){return(Za=(0,F.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch(P){return!1}})).apply(this,arguments)}const ji="@firebase/analytics";!function El(){(0,Ie._registerComponent)(new Oe.wA(_r,(B,{options:Y})=>vl(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,Ie._registerComponent)(new Oe.wA("analytics-internal",function P(B){try{const Y=B.getProvider(_r).getImmediate();return{logEvent:(we,it,mt)=>function qo(P,B,Y,we){P=(0,xe.m9)(P),function Oo(P,B,Y,we,it){return ga.apply(this,arguments)}(Os,Rs[P.app.options.appId],B,Y,we).catch(it=>Ti.error(it))}(Y,we,it,mt)}}catch(Y){throw ct.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,Ie.registerVersion)(ji,"0.9.4"),(0,Ie.registerVersion)(ji,"0.9.4","esm2017")}();var Bu=V(4408),Fl=V(7565);const yc=new class Uu extends Fl.v{}(class Vu extends Bu.o{constructor(B,Y){super(B,Y),this.scheduler=B,this.work=Y}schedule(B,Y=0){return Y>0?super.schedule(B,Y):(this.delay=Y,this.state=B,this.scheduler.flush(this),this)}execute(B,Y){return Y>0||this.closed?super.execute(B,Y):this._execute(B,Y)}requestAsyncId(B,Y,we=0){return null!=we&&we>0||null==we&&this.delay>0?super.requestAsyncId(B,Y,we):(B.flush(this),0)}});var el=V(4986),tl=V(9751),ru=V(8505),ci=V(9468),iu=V(5363);const ra=new l.GfV("7.5.0"),Aa="__angularfire_symbol__analyticsIsSupportedValue",us="__angularfire_symbol__analyticsIsSupported",Ko="__angularfire_symbol__remoteConfigIsSupportedValue",Ll="__angularfire_symbol__remoteConfigIsSupported",mo="__angularfire_symbol__messagingIsSupportedValue",ya="__angularfire_symbol__messagingIsSupported";function yo(P,B,Y){if(B){if(1===B.length)return B[0];const mt=B.filter(Pt=>Pt.app===Y);if(1===mt.length)return mt[0]}return Y.container.getProvider(P).getImmediate({optional:!0})}globalThis[us]||(globalThis[us]=Ps().then(P=>globalThis[Aa]=P).catch(()=>globalThis[Aa]=!1)),globalThis[ya]||(globalThis[ya]=fa().then(P=>globalThis[mo]=P).catch(()=>globalThis[mo]=!1)),globalThis[Ll]||(globalThis[Ll]=Ki().then(P=>globalThis[Ko]=P).catch(()=>globalThis[Ko]=!1));const w=(P,B)=>{const Y=B?[B]:(0,v.C6)(),we=[];return Y.forEach(it=>{it.container.getProvider(P).instances.forEach(Pt=>{we.includes(Pt)||we.push(Pt)})}),we};function D(){}class E{constructor(B,Y=yc){this.zone=B,this.delegate=Y}now(){return this.delegate.now()}schedule(B,Y,we){const it=this.zone;return this.delegate.schedule(function(Pt){it.runGuarded(()=>{B.apply(this,[Pt])})},Y,we)}}class T{constructor(B){this.zone=B,this.task=null}call(B,Y){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",D,{},D,D)),Y.pipe((0,ru.b)({next:we,complete:we,error:we})).subscribe(B).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $=(()=>{class P{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new E(Zone.current)),this.insideAngular=Y.run(()=>new E(Zone.current,el.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(Y){return new(Y||P)(l.LFG(l.R0b))},P.\u0275prov=l.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function G(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function He(P){return G().ngZone.run(()=>P())}function dn(P){return G(),function tn(P){return function(Y){return(Y=Y.lift(new T(P.ngZone))).pipe((0,ci.R)(P.outsideAngular),(0,iu.Q)(P.insideAngular))}}(G())(P)}const Mr=(P,B)=>function(){const we=arguments;return B&&setTimeout(()=>{"scheduled"===B.state&&B.invoke()},10),He(()=>P.apply(void 0,we))},di=(P,B)=>function(){let Y;const we=arguments;for(let mt=0;mt<arguments.length;mt++)"function"==typeof we[mt]&&(B&&(Y||(Y=He(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",D,{},D,D)))),we[mt]=Mr(we[mt],Y));const it=function J(P){return G().ngZone.runOutsideAngular(()=>P())}(()=>P.apply(this,we));if(!B){if(it instanceof tl.y){const mt=G();return it.pipe((0,ci.R)(mt.outsideAngular),(0,iu.Q)(mt.insideAngular))}return He(()=>it)}return it instanceof tl.y?it.pipe(dn):it instanceof Promise?He(()=>new Promise((mt,Pt)=>it.then(mn=>He(()=>mt(mn)),mn=>He(()=>Pt(mn))))):"function"==typeof it&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),it.apply(this,arguments)}:He(()=>it)}},5114:(Ht,lt,V)=>{"use strict";V.d(lt,{$:()=>xo,A:()=>he,B:()=>ke,G:()=>ds,H:()=>xr,J:()=>wn,L:()=>or,M:()=>Zs,N:()=>uo,P:()=>el,Q:()=>co,R:()=>Wo,T:()=>Ia,U:()=>Ii,V:()=>$i,W:()=>is,X:()=>Qs,Y:()=>Ao,Z:()=>ui,_:()=>ii,a:()=>pn,a0:()=>Qo,a1:()=>ms,a2:()=>ca,a3:()=>Xo,a4:()=>Js,a5:()=>Va,a6:()=>Go,a7:()=>L,a8:()=>m,a9:()=>f,aA:()=>Ae,aB:()=>mn,aC:()=>He,aD:()=>J,aE:()=>ar,aI:()=>pr,aL:()=>rs,aa:()=>Ft,ab:()=>Sn,ac:()=>kr,af:()=>si,ag:()=>Vi,ah:()=>os,ak:()=>ti,al:()=>xs,an:()=>Wn,ao:()=>wa,ap:()=>ze,aq:()=>ht,ar:()=>ve,as:()=>Ze,at:()=>vd,au:()=>bl,av:()=>St,aw:()=>Ve,ax:()=>ie,ay:()=>io,az:()=>je,b:()=>ct,c:()=>Ll,d:()=>gd,e:()=>ya,f:()=>dn,g:()=>Y,h:()=>di,i:()=>Ka,j:()=>mt,k:()=>Wf,l:()=>$r,m:()=>zg,n:()=>Gg,o:()=>Te,r:()=>Bu,s:()=>Ns,u:()=>yc});var l=V(5861),v=V(2090),F=V(9681),Ie=V(1877),xe=V(655),Oe=V(4859);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new v.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new Ie.Yd("@firebase/auth");function Be(C,...y){ue.logLevel<=Ie.in.ERROR&&ue.error(`Auth (${F.SDK_VERSION}): ${C}`,...y)}function Ze(C,...y){throw Ce(C,...y)}function Ve(C,...y){return Ce(C,...y)}function Ee(C,y,_){const x=Object.assign(Object.assign({},nt()),{[y]:_});return new v.LL("auth","Firebase",x).create(y,{appName:C.name})}function We(C,y,_){if(!(y instanceof _))throw _.name!==y.constructor.name&&Ze(C,"argument-error"),Ee(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(C,...y){if("string"!=typeof C){const _=y[0],x=[...y.slice(1)];return x[0]&&(x[0].appName=C.name),C._errorFactory.create(_,...x)}return yt.create(C,...y)}function ie(C,y,..._){if(!C)throw Ce(y,..._)}function _e(C){const y="INTERNAL ASSERTION FAILED: "+C;throw Be(y),new Error(y)}function ze(C,y){C||_e(y)}const Xe=new Map;function je(C){ze(C instanceof Function,"Expected a class definition");let y=Xe.get(C);return y?(ze(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,Xe.set(C,y),y)}function Fe(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function at(){return"http:"===ut()||"https:"===ut()}function ut(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Pe{constructor(y,_){this.shortDelay=y,this.longDelay=_,ze(_>y,"Short delay should be less than long delay!"),this.isMobile=(0,v.uI)()||(0,v.b$)()}get(){return function Me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,v.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(C,y){ze(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return y?`${_}${y.startsWith("/")?y.slice(1):y}`:_}class ce{static initialize(y,_,x){this.fetchImpl=y,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Re={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ee=new Pe(3e4,6e4);function be(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function et(C,y,_,x){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(C,y,_,x,q={}){return Xt(C,q,(0,l.Z)(function*(){let oe={},ft={};x&&("GET"===y?ft=x:oe={body:JSON.stringify(x)});const $t=(0,v.xO)(Object.assign({key:C.config.apiKey},ft)).slice(1),Zt=yield C._getAdditionalHeaders();return Zt["Content-Type"]="application/json",C.languageCode&&(Zt["X-Firebase-Locale"]=C.languageCode),ce.fetch()(sn(C,C.config.apiHost,_,$t),Object.assign({method:y,headers:Zt,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Xt(C,y,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(C,y,_){C._canInitEmulator=!1;const x=Object.assign(Object.assign({},Re),y);try{const q=new Kt(C),oe=yield Promise.race([_(),q.promise]);q.clearNetworkTimeout();const ft=yield oe.json();if("needConfirmation"in ft)throw zn(C,"account-exists-with-different-credential",ft);if(oe.ok&&!("errorMessage"in ft))return ft;{const $t=oe.ok?ft.errorMessage:ft.error.message,[Zt,Bn]=$t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zt)throw zn(C,"credential-already-in-use",ft);if("EMAIL_EXISTS"===Zt)throw zn(C,"email-already-in-use",ft);if("USER_DISABLED"===Zt)throw zn(C,"user-disabled",ft);const mr=x[Zt]||Zt.toLowerCase().replace(/[_\s]+/g,"-");if(Bn)throw Ee(C,mr,Bn);Ze(C,mr)}}catch(q){if(q instanceof v.ZR)throw q;Ze(C,"internal-error",{message:String(q)})}})).apply(this,arguments)}function en(C,y,_,x){return En.apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(C,y,_,x,q={}){const oe=yield et(C,y,_,x,q);return"mfaPendingCredential"in oe&&Ze(C,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function sn(C,y,_,x){const q=`${y}${_}?${x}`;return C.config.emulator?tt(C.config,q):`${C.config.apiScheme}://${q}`}class Kt{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(Ve(this.auth,"network-request-failed")),ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(C,y,_){const x={appName:C.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const q=Ve(C,y,x);return q.customData._tokenResponse=_,q}function wr(){return(wr=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function tr(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function nr(){return(nr=(0,l.Z)(function*(C,y=!1){const _=(0,v.m9)(C),x=yield _.getIdToken(y),q=Jt(x);ie(q&&q.exp&&q.auth_time&&q.iat,_.auth,"internal-error");const oe="object"==typeof q.firebase?q.firebase:void 0,ft=null==oe?void 0:oe.sign_in_provider;return{claims:q,token:x,authTime:tr(yn(q.auth_time)),issuedAtTime:tr(yn(q.iat)),expirationTime:tr(yn(q.exp)),signInProvider:ft||null,signInSecondFactor:(null==oe?void 0:oe.sign_in_second_factor)||null}})).apply(this,arguments)}function yn(C){return 1e3*Number(C)}function Jt(C){const[y,_,x]=C.split(".");if(void 0===y||void 0===_||void 0===x)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,v.tV)(_);return q?JSON.parse(q):(Be("Failed to decode base64 JWT payload"),null)}catch(q){return Be("Caught error parsing JWT payload as JSON",null==q?void 0:q.toString()),null}}function sr(C,y){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(C,y,_=!1){if(_)return y;try{return yield y}catch(x){throw x instanceof v.ZR&&function Pr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(x)&&C.auth.currentUser===C&&(yield C.auth.signOut()),x}})).apply(this,arguments)}class Rt{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var _;if(y){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const q=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(y=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(y);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),x)}iteration(){var y=this;return(0,l.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&y.schedule(!0))}y.schedule()})()}}class qr{constructor(y,_){this.createdAt=y,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oi(C){return An.apply(this,arguments)}function An(){return An=(0,l.Z)(function*(C){var y;const _=C.auth,x=yield C.getIdToken(),q=yield sr(C,function Nt(C,y){return Yn.apply(this,arguments)}(_,{idToken:x}));ie(null==q?void 0:q.users.length,_,"internal-error");const oe=q.users[0];C._notifyReloadListener(oe);const ft=null!==(y=oe.providerUserInfo)&&void 0!==y&&y.length?function Dr(C){return C.map(y=>{var{providerId:_}=y,x=(0,xe._T)(y,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(oe.providerUserInfo):[],$t=function bn(C,y){return[...C.filter(x=>!y.some(q=>q.providerId===x.providerId)),...y]}(C.providerData,ft),mr=!!C.isAnonymous&&!(C.email&&oe.passwordHash||null!=$t&&$t.length),Ni={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:$t,metadata:new qr(oe.createdAt,oe.lastLoginAt),isAnonymous:mr};Object.assign(C,Ni)}),An.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(C){const y=(0,v.m9)(C);yield oi(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(C,y){const _=yield Xt(C,{},(0,l.Z)(function*(){const x=(0,v.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:q,apiKey:oe}=C.config,ft=sn(C,q,"/v1/token",`key=${oe}`),$t=yield C._getAdditionalHeaders();return $t["Content-Type"]="application/x-www-form-urlencoded",ce.fetch()(ft,{method:"POST",headers:$t,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ie(y.idToken,"internal-error"),ie(typeof y.idToken<"u","internal-error"),ie(typeof y.refreshToken<"u","internal-error");const _="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function gn(C){const y=Jt(C);return ie(y,"internal-error"),ie(typeof y.exp<"u","internal-error"),ie(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,_)}getToken(y,_=!1){var x=this;return(0,l.Z)(function*(){return ie(!x.accessToken||x.refreshToken,y,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(y,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,_){var x=this;return(0,l.Z)(function*(){const{accessToken:q,refreshToken:oe,expiresIn:ft}=yield function kt(C,y){return Ct.apply(this,arguments)}(y,_);x.updateTokensAndExpiration(q,oe,Number(ft))})()}updateTokensAndExpiration(y,_,x){this.refreshToken=_||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(y,_){const{refreshToken:x,accessToken:q,expirationTime:oe}=_,ft=new Qt;return x&&(ie("string"==typeof x,"internal-error",{appName:y}),ft.refreshToken=x),q&&(ie("string"==typeof q,"internal-error",{appName:y}),ft.accessToken=q),oe&&(ie("number"==typeof oe,"internal-error",{appName:y}),ft.expirationTime=oe),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Qt,this.toJSON())}_performRefresh(){return _e("not implemented")}}function fn(C,y){ie("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class vn{constructor(y){var{uid:_,auth:x,stsTokenManager:q}=y,oe=(0,xe._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new qr(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(y){var _=this;return(0,l.Z)(function*(){const x=yield sr(_,_.stsTokenManager.getToken(_.auth,y));return ie(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(y){return function Br(C){return nr.apply(this,arguments)}(this,y)}reload(){return function Zr(C){return In.apply(this,arguments)}(this)}_assign(y){this!==y&&(ie(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(_=>Object.assign({},_)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const _=new vn(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(y){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,_=!1){var x=this;return(0,l.Z)(function*(){let q=!1;y.idToken&&y.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(y),q=!0),_&&(yield oi(x)),yield x.auth._persistUserIfCurrent(x),q&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var y=this;return(0,l.Z)(function*(){const _=yield y.getIdToken();return yield sr(y,function yr(C,y){return wr.apply(this,arguments)}(y.auth,{idToken:_})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,_){var x,q,oe,ft,$t,Zt,Bn,mr;const Ni=null!==(x=_.displayName)&&void 0!==x?x:void 0,sl=null!==(q=_.email)&&void 0!==q?q:void 0,Ma=null!==(oe=_.phoneNumber)&&void 0!==oe?oe:void 0,au=null!==(ft=_.photoURL)&&void 0!==ft?ft:void 0,bd=null!==($t=_.tenantId)&&void 0!==$t?$t:void 0,xa=null!==(Zt=_._redirectEventId)&&void 0!==Zt?Zt:void 0,Sc=null!==(Bn=_.createdAt)&&void 0!==Bn?Bn:void 0,Ra=null!==(mr=_.lastLoginAt)&&void 0!==mr?mr:void 0,{uid:Id,emailVerified:Ac,isAnonymous:wd,providerData:lu,stsTokenManager:_h}=_;ie(Id&&_h,y,"internal-error");const Eh=Qt.fromJSON(this.name,_h);ie("string"==typeof Id,y,"internal-error"),fn(Ni,y.name),fn(sl,y.name),ie("boolean"==typeof Ac,y,"internal-error"),ie("boolean"==typeof wd,y,"internal-error"),fn(Ma,y.name),fn(au,y.name),fn(bd,y.name),fn(xa,y.name),fn(Sc,y.name),fn(Ra,y.name);const qu=new vn({uid:Id,auth:y,email:sl,emailVerified:Ac,displayName:Ni,isAnonymous:wd,photoURL:au,phoneNumber:Ma,tenantId:bd,stsTokenManager:Eh,createdAt:Sc,lastLoginAt:Ra});return lu&&Array.isArray(lu)&&(qu.providerData=lu.map(Kf=>Object.assign({},Kf))),xa&&(qu._redirectEventId=xa),qu}static _fromIdTokenResponse(y,_,x=!1){return(0,l.Z)(function*(){const q=new Qt;q.updateFromServerResponse(_);const oe=new vn({uid:_.localId,auth:y,stsTokenManager:q,isAnonymous:x});return yield oi(oe),oe})()}}const or=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,x){var q=this;return(0,l.Z)(function*(){q.storage[_]=x})()}_get(_){var x=this;return(0,l.Z)(function*(){const q=x.storage[_];return void 0===q?null:q})()}_remove(_){var x=this;return(0,l.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return C.type="NONE",C})();function Ae(C,y,_){return`firebase:${C}:${y}:${_}`}class ye{constructor(y,_,x){this.persistence=y,this.auth=_,this.userKey=x;const{config:q,name:oe}=this.auth;this.fullUserKey=Ae(this.userKey,q.apiKey,oe),this.fullPersistenceKey=Ae("persistence",q.apiKey,oe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,l.Z)(function*(){const _=yield y.persistence._get(y.fullUserKey);return _?vn._fromJSON(y.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var _=this;return(0,l.Z)(function*(){if(_.persistence===y)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=y,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,_,x="authUser"){return(0,l.Z)(function*(){if(!_.length)return new ye(je(or),y,x);const q=(yield Promise.all(_.map(function(){var Bn=(0,l.Z)(function*(mr){if(yield mr._isAvailable())return mr});return function(mr){return Bn.apply(this,arguments)}}()))).filter(Bn=>Bn);let oe=q[0]||je(or);const ft=Ae(x,y.config.apiKey,y.name);let $t=null;for(const Bn of _)try{const mr=yield Bn._get(ft);if(mr){const Ni=vn._fromJSON(y,mr);Bn!==oe&&($t=Ni),oe=Bn;break}}catch(mr){}const Zt=q.filter(Bn=>Bn._shouldAllowMigration);return oe._shouldAllowMigration&&Zt.length?(oe=Zt[0],$t&&(yield oe._set(ft,$t.toJSON())),yield Promise.all(_.map(function(){var Bn=(0,l.Z)(function*(mr){if(mr!==oe)try{yield mr._remove(ft)}catch(Ni){}});return function(mr){return Bn.apply(this,arguments)}}())),new ye(oe,y,x)):new ye(oe,y,x)})()}}function X(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(se(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ne(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(re(y))return"Blackberry";if(Le(y))return"Webos";if(Z(y))return"Safari";if((y.includes("chrome/")||Qe(y))&&!y.includes("edge/"))return"Chrome";if(ve(y))return"Android";{const x=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function ne(C=(0,v.z$)()){return/firefox\//i.test(C)}function Z(C=(0,v.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Qe(C=(0,v.z$)()){return/crios\//i.test(C)}function se(C=(0,v.z$)()){return/iemobile/i.test(C)}function ve(C=(0,v.z$)()){return/android/i.test(C)}function re(C=(0,v.z$)()){return/blackberry/i.test(C)}function Le(C=(0,v.z$)()){return/webos/i.test(C)}function ht(C=(0,v.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function St(C=(0,v.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function vr(C=(0,v.z$)()){return ht(C)||ve(C)||Le(C)||re(C)||/windows phone/i.test(C)||se(C)}function bi(C,y=[]){let _;switch(C){case"Browser":_=X((0,v.z$)());break;case"Worker":_=`${X((0,v.z$)())}-${C}`;break;default:_=C}const x=y.length?y.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${x}`}class Vr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,_){const x=oe=>new Promise((ft,$t)=>{try{ft(y(oe))}catch(Zt){$t(Zt)}});x.onAbort=_,this.queue.push(x);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(y){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===y)return;const x=[];try{for(const q of _.queue)yield q(y),q.onAbort&&x.push(q.onAbort)}catch(q){x.reverse();for(const oe of x)try{oe()}catch(ft){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==q?void 0:q.message})}})()}}class Ur{constructor(y,_,x){this.app=y,this.heartbeatServiceProvider=_,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new Vr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(y,_){var x=this;return _&&(this._popupRedirectResolver=je(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var q,oe;if(!x._deleted&&(x.persistenceManager=yield ye.create(x,y),!x._deleted)){if(null!==(q=x._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch(ft){}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(oe=x.currentUser)||void 0===oe?void 0:oe.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,l.Z)(function*(){if(y._deleted)return;const _=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||_){if(y.currentUser&&_&&y.currentUser.uid===_.uid)return y._currentUser._assign(_),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(_,!0)}})()}initializeCurrentUser(y){var _=this;return(0,l.Z)(function*(){var x;const q=yield _.assertedPersistence.getCurrentUser();let oe=q,ft=!1;if(y&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const $t=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,Zt=null==oe?void 0:oe._redirectEventId,Bn=yield _.tryRedirectSignIn(y);(!$t||$t===Zt)&&null!=Bn&&Bn.user&&(oe=Bn.user,ft=!0)}if(!oe)return _.directlySetCurrentUser(null);if(!oe._redirectEventId){if(ft)try{yield _.beforeStateQueue.runMiddleware(oe)}catch($t){oe=q,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject($t))}return oe?_.reloadAndSetCurrentUserOrClear(oe):_.directlySetCurrentUser(null)}return ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===oe._redirectEventId?_.directlySetCurrentUser(oe):_.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(y){var _=this;return(0,l.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,y,!0)}catch(q){yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(y){var _=this;return(0,l.Z)(function*(){try{yield oi(y)}catch(x){if("auth/network-request-failed"!==(null==x?void 0:x.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Se(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,l.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var _=this;return(0,l.Z)(function*(){const x=y?(0,v.m9)(y):null;return x&&ie(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(y,_=!1){var x=this;return(0,l.Z)(function*(){if(!x._deleted)return y&&ie(x.tenantId===y.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(y)),x.queue((0,l.Z)(function*(){yield x.directlySetCurrentUser(y),x.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,l.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(je(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new v.LL("auth","Firebase",y())}onAuthStateChanged(y,_,x){return this.registerStateListener(this.authStateSubscription,y,_,x)}beforeAuthStateChanged(y,_){return this.beforeStateQueue.pushCallback(y,_)}onIdTokenChanged(y,_,x){return this.registerStateListener(this.idTokenSubscription,y,_,x)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,_){var x=this;return(0,l.Z)(function*(){const q=yield x.getOrInitRedirectPersistenceManager(_);return null===y?q.removeCurrentUser():q.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const x=y&&je(y)||_._popupRedirectResolver;ie(x,_,"argument-error"),_.redirectPersistenceManager=yield ye.create(_,[je(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(y){var _=this;return(0,l.Z)(function*(){var x,q;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===y?_._currentUser:(null===(q=_.redirectUser)||void 0===q?void 0:q._redirectEventId)===y?_.redirectUser:null})()}_persistUserIfCurrent(y){var _=this;return(0,l.Z)(function*(){if(y===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,_,x,q){if(this._deleted)return()=>{};const oe="function"==typeof _?_:_.next.bind(_),ft=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ft,this,"internal-error"),ft.then(()=>oe(this.currentUser)),"function"==typeof _?y.addObserver(_,x,q):y.addObserver(_)}directlySetCurrentUser(y){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==y&&_._currentUser._stopProactiveRefresh(),y&&_.isProactiveRefreshEnabled&&y._startProactiveRefresh(),_.currentUser=y,y?yield _.assertedPersistence.setCurrentUser(y):yield _.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,l.Z)(function*(){var _;const x={"X-Client-Version":y.clientVersion};y.app.options.appId&&(x["X-Firebase-gmpid"]=y.app.options.appId);const q=yield null===(_=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return q&&(x["X-Firebase-Client"]=q),x})()}}function ar(C){return(0,v.m9)(C)}class ei{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,v.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ds(C,y,_){const x=ar(C);ie(x._canInitEmulator,x,"emulator-config-failed"),ie(/^https?:\/\//.test(y),x,"invalid-emulator-scheme");const q=!(null==_||!_.disableWarnings),oe=Fi(y),{host:ft,port:$t}=function Ln(C){const y=Fi(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(x);if(q){const oe=q[1];return{host:oe,port:Fr(x.substr(oe.length+1))}}{const[oe,ft]=x.split(":");return{host:oe,port:Fr(ft)}}}(y);x.config.emulator={url:`${oe}//${ft}${null===$t?"":`:${$t}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:ft,port:$t,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Tr(){function C(){const y=document.createElement("p"),_=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Fi(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function Fr(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class xr{constructor(y,_){this.providerId=y,this.signInMethod=_}toJSON(){return _e("not implemented")}_getIdTokenResponse(y){return _e("not implemented")}_linkToIdToken(y,_){return _e("not implemented")}_getReauthenticationResolver(y){return _e("not implemented")}}function jr(C,y){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:resetPassword",be(C,y))})).apply(this,arguments)}function ts(C,y){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:update",be(C,y))})).apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(C,y){return en(C,"POST","/v1/accounts:signInWithPassword",be(C,y))})).apply(this,arguments)}function Hr(C,y){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:sendOobCode",be(C,y))})).apply(this,arguments)}function le(){return(le=(0,l.Z)(function*(C,y){return Hr(C,y)})).apply(this,arguments)}function rt(){return(rt=(0,l.Z)(function*(C,y){return Hr(C,y)})).apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(C,y){return Hr(C,y)})).apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(C,y){return Hr(C,y)})).apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(C,y){return en(C,"POST","/v1/accounts:signInWithEmailLink",be(C,y))})).apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(C,y){return en(C,"POST","/v1/accounts:signInWithEmailLink",be(C,y))})).apply(this,arguments)}class Dn extends xr{constructor(y,_,x,q=null){super("password",x),this._email=y,this._password=_,this._tenantId=q}static _fromEmailAndPassword(y,_){return new Dn(y,_,"password")}static _fromEmailAndCode(y,_,x=null){return new Dn(y,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(y){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function On(C,y){return Ar.apply(this,arguments)}(y,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Et(C,y){return Dt.apply(this,arguments)}(y,{email:_._email,oobCode:_._password});default:Ze(y,"internal-error")}})()}_linkToIdToken(y,_){var x=this;return(0,l.Z)(function*(){switch(x.signInMethod){case"password":return ts(y,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Bt(C,y){return rn.apply(this,arguments)}(y,{idToken:_,email:x._email,oobCode:x._password});default:Ze(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Gn(C,y){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(C,y){return en(C,"POST","/v1/accounts:signInWithIdp",be(C,y))})).apply(this,arguments)}class wn extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const _=new wn(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(_.idToken=y.idToken),y.accessToken&&(_.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(_.nonce=y.nonce),y.pendingToken&&(_.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(_.accessToken=y.oauthToken,_.secret=y.oauthTokenSecret):Ze("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:x,signInMethod:q}=_,oe=(0,xe._T)(_,["providerId","signInMethod"]);if(!x||!q)return null;const ft=new wn(x,q);return ft.idToken=oe.idToken||void 0,ft.accessToken=oe.accessToken||void 0,ft.secret=oe.secret,ft.nonce=oe.nonce,ft.pendingToken=oe.pendingToken||null,ft}_getIdTokenResponse(y){return Gn(y,this.buildRequest())}_linkToIdToken(y,_){const x=this.buildRequest();return x.idToken=_,Gn(y,x)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Gn(y,_)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),y.postBody=(0,v.xO)(_)}return y}}function hs(){return(hs=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:sendVerificationCode",be(C,y))})).apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(C,y){return en(C,"POST","/v1/accounts:signInWithPhoneNumber",be(C,y))})).apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(C,y){const _=yield en(C,"POST","/v1/accounts:signInWithPhoneNumber",be(C,y));if(_.temporaryProof)throw zn(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Oi={USER_NOT_FOUND:"user-not-found"};function _i(){return(_i=(0,l.Z)(function*(C,y){return en(C,"POST","/v1/accounts:signInWithPhoneNumber",be(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Oi)})).apply(this,arguments)}class li extends xr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,_){return new li({verificationId:y,verificationCode:_})}static _fromTokenResponse(y,_){return new li({phoneNumber:y,temporaryProof:_})}_getIdTokenResponse(y){return function ns(C,y){return fs.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,_){return function qi(C,y){return ps.apply(this,arguments)}(y,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Bo(C,y){return _i.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:_,verificationId:x,verificationCode:q}=this.params;return y&&_?{temporaryProof:y,phoneNumber:_}:{sessionInfo:x,code:q}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:_,verificationCode:x,phoneNumber:q,temporaryProof:oe}=y;return x||_||q||oe?new li({verificationId:_,verificationCode:x,phoneNumber:q,temporaryProof:oe}):null}}class Li{constructor(y){var _,x,q,oe,ft,$t;const Zt=(0,v.zd)((0,v.pd)(y)),Bn=null!==(_=Zt.apiKey)&&void 0!==_?_:null,mr=null!==(x=Zt.oobCode)&&void 0!==x?x:null,Ni=function Vo(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=Zt.mode)&&void 0!==q?q:null);ie(Bn&&mr&&Ni,"argument-error"),this.apiKey=Bn,this.operation=Ni,this.code=mr,this.continueUrl=null!==(oe=Zt.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(ft=Zt.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==($t=Zt.tenantId)&&void 0!==$t?$t:null}static parseLink(y){const _=function Do(C){const y=(0,v.zd)((0,v.pd)(C)).link,_=y?(0,v.zd)((0,v.pd)(y)).deep_link_id:null,x=(0,v.zd)((0,v.pd)(C)).deep_link_id;return(x?(0,v.zd)((0,v.pd)(x)).link:null)||x||_||y||C}(y);try{return new Li(_)}catch(x){return null}}}let Zs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,x){return Dn._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const q=Li.parseLink(x);return ie(q,"argument-error"),Dn._fromEmailAndCode(_,q.code,q.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Yi{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class $s extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Ii extends $s{static credentialFromJSON(y){const _="string"==typeof y?JSON.parse(y):y;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),wn._fromParams(_)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ie(y.idToken||y.accessToken,"argument-error"),wn._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Ii.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Ii.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:q,pendingToken:oe,nonce:ft,providerId:$t}=y;if(!x&&!q&&!_&&!oe||!$t)return null;try{return new Ii($t)._credential({idToken:_,accessToken:x,nonce:ft,pendingToken:oe})}catch(Zt){return null}}}let uo=(()=>{class C extends $s{constructor(){super("facebook.com")}static credential(_){return wn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(x){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),co=(()=>{class C extends $s{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return wn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:q}=_;if(!x&&!q)return null;try{return C.credential(x,q)}catch(oe){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ia=(()=>{class C extends $s{constructor(){super("github.com")}static credential(_){return wn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(x){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class rs extends xr{constructor(y,_){super(y,y),this.pendingToken=_}_getIdTokenResponse(y){return Gn(y,this.buildRequest())}_linkToIdToken(y,_){const x=this.buildRequest();return x.idToken=_,Gn(y,x)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Gn(y,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:x,signInMethod:q,pendingToken:oe}=_;return x&&q&&oe&&x===q?new rs(x,oe):null}static _create(y,_){return new rs(y,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $i extends Yi{constructor(y){ie(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return $i.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return $i.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const _=rs.fromJSON(y);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:_,providerId:x}=y;if(!_||!x)return null;try{return rs._create(x,_)}catch(q){return null}}}let is=(()=>{class C extends $s{constructor(){super("twitter.com")}static credential(_,x){return wn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:q}=_;if(!x||!q)return null;try{return C.credential(x,q)}catch(oe){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function To(C,y){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(C,y){return en(C,"POST","/v1/accounts:signUp",be(C,y))})).apply(this,arguments)}class wi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,_,x,q=!1){return(0,l.Z)(function*(){const oe=yield vn._fromIdTokenResponse(y,x,q),ft=So(x);return new wi({user:oe,providerId:ft,_tokenResponse:x,operationType:_})})()}static _forOperation(y,_,x){return(0,l.Z)(function*(){yield y._updateTokensIfNecessary(x,!0);const q=So(x);return new wi({user:y,providerId:q,_tokenResponse:x,operationType:_})})()}}function So(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Qs(C){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(C){var y;const _=ar(C);if(yield _._initializationPromise,null!==(y=_.currentUser)&&void 0!==y&&y.isAnonymous)return new wi({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield To(_,{returnSecureToken:!0}),q=yield wi._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(q.user),q})).apply(this,arguments)}class fo extends v.ZR{constructor(y,_,x,q){var oe;super(_.code,_.message),this.operationType=x,this.user=q,Object.setPrototypeOf(this,fo.prototype),this.customData={appName:y.name,tenantId:null!==(oe=y.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(y,_,x,q){return new fo(y,_,x,q)}}function Bi(C,y,_,x){return("reauthenticate"===y?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?fo._fromErrorAndOperation(C,oe,y,x):oe})}function Xs(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function ti(C,y){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,l.Z)(function*(C,y){const _=(0,v.m9)(C);yield Di(!0,_,y);const{providerUserInfo:x}=yield function xn(C,y){return hr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[y]}),q=Xs(x||[]);return _.providerData=_.providerData.filter(oe=>q.has(oe.providerId)),q.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Cs.apply(this,arguments)}function Ts(C,y){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(C,y,_=!1){const x=yield sr(C,y._linkToIdToken(C.auth,yield C.getIdToken()),_);return wi._forOperation(C,"link",x)})).apply(this,arguments)}function Di(C,y,_){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(C,y,_){yield oi(y);const q=!1===C?"provider-already-linked":"no-such-provider";ie(Xs(y.providerData).has(_)===C,y.auth,q)})).apply(this,arguments)}function Ss(C,y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.Z)(function*(C,y,_=!1){const{auth:x}=C,q="reauthenticate";try{const oe=yield sr(C,Bi(x,q,y,C),_);ie(oe.idToken,x,"internal-error");const ft=Jt(oe.idToken);ie(ft,x,"internal-error");const{sub:$t}=ft;return ie(C.uid===$t,x,"user-mismatch"),wi._forOperation(C,q,oe)}catch(oe){throw"auth/user-not-found"===(null==oe?void 0:oe.code)&&Ze(x,"user-mismatch"),oe}})).apply(this,arguments)}function jo(C,y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(C,y,_=!1){const x="signIn",q=yield Bi(C,x,y),oe=yield wi._fromIdTokenResponse(C,x,q);return _||(yield C._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Ao(C,y){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(C,y){return jo(ar(C),y)})).apply(this,arguments)}function ui(C,y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(C,y){const _=(0,v.m9)(C);return yield Di(!1,_,y.providerId),Ts(_,y)})).apply(this,arguments)}function ii(C,y){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(C,y){return Ss((0,v.m9)(C),y)})).apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(C,y){return en(C,"POST","/v1/accounts:signInWithCustomToken",be(C,y))})).apply(this,arguments)}function xo(C,y){return Us.apply(this,arguments)}function Us(){return Us=(0,l.Z)(function*(C,y){const _=ar(C),x=yield function Vs(C,y){return ni.apply(this,arguments)}(_,{token:y,returnSecureToken:!0}),q=yield wi._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(q.user),q}),Us.apply(this,arguments)}class gs{constructor(y,_){this.factorId=y,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(y,_){return"phoneInfo"in _?pi._fromServerResponse(y,_):Ze(y,"internal-error")}}class pi extends gs{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,_){return new pi(_)}}function Ei(C,y,_){var x;ie((null===(x=_.url)||void 0===x?void 0:x.length)>0,C,"invalid-continue-uri"),ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=_.url,y.dynamicLinkDomain=_.dynamicLinkDomain,y.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=_.android.installApp,y.androidMinimumVersionCode=_.android.minimumVersion,y.androidPackageName=_.android.packageName)}function Qo(C,y,_){return As.apply(this,arguments)}function As(){return As=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),q={requestType:"PASSWORD_RESET",email:y};_&&Ei(x,q,_),yield function Ue(C,y){return rt.apply(this,arguments)}(x,q)}),As.apply(this,arguments)}function ms(C,y,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(C,y,_){yield jr((0,v.m9)(C),{oobCode:y,newPassword:_})})).apply(this,arguments)}function ca(C,y){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,l.Z)(function*(C,y){yield function ai(C,y){return zt.apply(this,arguments)}((0,v.m9)(C),{oobCode:y})}),Pn.apply(this,arguments)}function Xo(C,y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(C,y){const _=(0,v.m9)(C),x=yield jr(_,{oobCode:y}),q=x.requestType;switch(ie(q,_,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(x.mfaInfo,_,"internal-error");default:ie(x.email,_,"internal-error")}let oe=null;return x.mfaInfo&&(oe=gs._fromServerResponse(ar(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:oe},operation:q}})).apply(this,arguments)}function Js(C,y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(C,y){const{data:_}=yield Xo((0,v.m9)(C),y);return _.email})).apply(this,arguments)}function Va(C,y,_){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(C,y,_){const x=ar(C),q=yield To(x,{returnSecureToken:!0,email:y,password:_}),oe=yield wi._fromIdTokenResponse(x,"signIn",q);return yield x._updateCurrentUser(oe.user),oe})).apply(this,arguments)}function Go(C,y,_){return Ao((0,v.m9)(C),Zs.credential(y,_))}function L(C,y,_){return d.apply(this,arguments)}function d(){return d=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),q={requestType:"EMAIL_SIGNIN",email:y};ie(_.handleCodeInApp,x,"argument-error"),_&&Ei(x,q,_),yield function It(C,y){return te.apply(this,arguments)}(x,q)}),d.apply(this,arguments)}function m(C,y){const _=Li.parseLink(y);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function f(C,y,_){return M.apply(this,arguments)}function M(){return(M=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),q=Zs.credentialWithLink(y,_||Fe());return ie(q._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Ao(x,q)})).apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:createAuthUri",be(C,y))})).apply(this,arguments)}function Ft(C,y){return Gt.apply(this,arguments)}function Gt(){return Gt=(0,l.Z)(function*(C,y){const x={identifier:y,continueUri:at()?Fe():"http://localhost"},{signinMethods:q}=yield function H(C,y){return ot.apply(this,arguments)}((0,v.m9)(C),x);return q||[]}),Gt.apply(this,arguments)}function Sn(C,y){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,l.Z)(function*(C,y){const _=(0,v.m9)(C),q={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Ei(_.auth,q,y);const{email:oe}=yield function K(C,y){return le.apply(this,arguments)}(_.auth,q);oe!==C.email&&(yield C.reload())}),Qn.apply(this,arguments)}function kr(C,y,_){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};_&&Ei(x.auth,oe,_);const{email:ft}=yield function Ge(C,y){return st.apply(this,arguments)}(x.auth,oe);ft!==C.email&&(yield C.reload())}),Vn.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(C,y){return et(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function si(C,y){return js.apply(this,arguments)}function js(){return js=(0,l.Z)(function*(C,{displayName:y,photoURL:_}){if(void 0===y&&void 0===_)return;const x=(0,v.m9)(C),oe={idToken:yield x.getIdToken(),displayName:y,photoUrl:_,returnSecureToken:!0},ft=yield sr(x,function jt(C,y){return lr.apply(this,arguments)}(x.auth,oe));x.displayName=ft.displayName||null,x.photoURL=ft.photoUrl||null;const $t=x.providerData.find(({providerId:Zt})=>"password"===Zt);$t&&($t.displayName=x.displayName,$t.photoURL=x.photoURL),yield x._updateTokensIfNecessary(ft)}),js.apply(this,arguments)}function Vi(C,y){return Cr((0,v.m9)(C),y,null)}function os(C,y){return Cr((0,v.m9)(C),null,y)}function Cr(C,y,_){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(C,y,_){const{auth:x}=C,oe={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(oe.email=y),_&&(oe.password=_);const ft=yield sr(C,ts(x,oe));yield C._updateTokensIfNecessary(ft,!0)})).apply(this,arguments)}class ha{constructor(y,_,x={}){this.isNewUser=y,this.providerId=_,this.profile=x}}class Ro extends ha{constructor(y,_,x,q){super(y,_,x),this.username=q}}class as extends ha{constructor(y,_){super(y,"facebook.com",_)}}class fa extends Ro{constructor(y,_){super(y,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Jo extends ha{constructor(y,_){super(y,"google.com",_)}}class Nl extends Ro{constructor(y,_,x){super(y,"twitter.com",_,x)}}function xs(C){const{user:y,_tokenResponse:_}=C;return y.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Pl(C){var y,_;if(!C)return null;const{providerId:x}=C,q=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},oe=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!x&&null!=C&&C.idToken){const ft=null===(_=null===(y=Jt(C.idToken))||void 0===y?void 0:y.firebase)||void 0===_?void 0:_.sign_in_provider;if(ft)return new ha(oe,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!x)return null;switch(x){case"facebook.com":return new as(oe,q);case"github.com":return new fa(oe,q);case"google.com":return new Jo(oe,q);case"twitter.com":return new Nl(oe,q,C.screenName||null);case"custom":case"anonymous":return new ha(oe,null);default:return new ha(oe,x,q)}}(_)}class ln{constructor(y,_,x){this.type=y,this.credential=_,this.auth=x}static _fromIdtoken(y,_){return new ln("enroll",y,_)}static _fromMfaPendingCredential(y){return new ln("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var _,x;if(null!=y&&y.multiFactorSession){if(null!==(_=y.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ln._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(x=y.multiFactorSession)&&void 0!==x&&x.idToken)return ln._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Qr{constructor(y,_,x){this.session=y,this.hints=_,this.signInResolver=x}static _fromError(y,_){const x=ar(y),q=_.customData._serverResponse,oe=(q.mfaInfo||[]).map($t=>gs._fromServerResponse(x,$t));ie(q.mfaPendingCredential,x,"internal-error");const ft=ln._fromMfaPendingCredential(q.mfaPendingCredential);return new Qr(ft,oe,function(){var $t=(0,l.Z)(function*(Zt){const Bn=yield Zt._process(x,ft);delete q.mfaInfo,delete q.mfaPendingCredential;const mr=Object.assign(Object.assign({},q),{idToken:Bn.idToken,refreshToken:Bn.refreshToken});switch(_.operationType){case"signIn":const Ni=yield wi._fromIdTokenResponse(x,_.operationType,mr);return yield x._updateCurrentUser(Ni.user),Ni;case"reauthenticate":return ie(_.user,x,"internal-error"),wi._forOperation(_.user,_.operationType,mr);default:Ze(x,"internal-error")}});return function(Zt){return $t.apply(this,arguments)}}())}resolveSignIn(y){var _=this;return(0,l.Z)(function*(){return _.signInResolver(y)})()}}function Wn(C,y){var _;const x=(0,v.m9)(C),q=y;return ie(y.customData.operationType,x,"argument-error"),ie(null===(_=q.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),Qr._fromError(x,q)}class pl{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>gs._fromServerResponse(y.auth,x)))})}static _fromUser(y){return new pl(y)}getSession(){var y=this;return(0,l.Z)(function*(){return ln._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,_){var x=this;return(0,l.Z)(function*(){const q=y,oe=yield x.getSession(),ft=yield sr(x.user,q._process(x.user.auth,oe,_));return yield x.user._updateTokensIfNecessary(ft),x.user.reload()})()}unenroll(y){var _=this;return(0,l.Z)(function*(){const x="string"==typeof y?y:y.uid,q=yield _.user.getIdToken();try{const oe=yield sr(_.user,function ja(C,y){return et(C,"POST","/v2/accounts/mfaEnrollment:withdraw",be(C,y))}(_.user.auth,{idToken:q,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ft})=>ft!==x),yield _.user._updateTokensIfNecessary(oe),yield _.user.reload()}catch(oe){throw oe}})()}}const Ha=new WeakMap;function wa(C){const y=(0,v.m9)(C);return Ha.has(y)||Ha.set(y,pl._fromUser(y)),Ha.get(y)}const pa="__sak";class R{constructor(y,_){this.storageRetriever=y,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(pa,"1"),this.storage.removeItem(pa),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,_){return this.storage.setItem(y,JSON.stringify(_)),Promise.resolve()}_get(y){const _=this.storage.getItem(y);return Promise.resolve(_?JSON.parse(_):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const ct=(()=>{class C extends R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function U(){const C=(0,v.z$)();return Z(C)||ht(C)}()&&function vi(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=vr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const q=this.storage.getItem(x),oe=this.localCache[x];q!==oe&&_(x,oe,q)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys(($t,Zt,Bn)=>{this.notifyListeners($t,Bn)});const q=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $t=this.storage.getItem(q);if(_.newValue!==$t)null!==_.newValue?this.storage.setItem(q,_.newValue):this.storage.removeItem(q);else if(this.localCache[q]===_.newValue&&!x)return}const oe=()=>{const $t=this.storage.getItem(q);!x&&this.localCache[q]===$t||this.notifyListeners(q,$t)},ft=this.storage.getItem(q);!function an(){return(0,v.w1)()&&10===document.documentMode}()||ft===_.newValue||_.newValue===_.oldValue?oe():setTimeout(oe,10)}notifyListeners(_,x){this.localCache[_]=x;const q=this.listeners[_];if(q)for(const oe of Array.from(q))oe(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var q=()=>super._set,oe=this;return(0,l.Z)(function*(){yield q().call(oe,_,x),oe.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,q=this;return(0,l.Z)(function*(){const oe=yield x().call(q,_);return q.localCache[_]=JSON.stringify(oe),oe})()}_remove(_){var x=()=>super._remove,q=this;return(0,l.Z)(function*(){yield x().call(q,_),delete q.localCache[_]})()}}return C.type="LOCAL",C})(),pn=(()=>{class C extends R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return C.type="SESSION",C})();let $n=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(oe=>oe.isListeningto(_));if(x)return x;const q=new C(_);return this.receivers.push(q),q}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,l.Z)(function*(){const q=_,{eventId:oe,eventType:ft,data:$t}=q.data,Zt=x.handlersMap[ft];if(null==Zt||!Zt.size)return;q.ports[0].postMessage({status:"ack",eventId:oe,eventType:ft});const Bn=Array.from(Zt).map(function(){var Ni=(0,l.Z)(function*(sl){return sl(q.origin,$t)});return function(sl){return Ni.apply(this,arguments)}}()),mr=yield function Er(C){return Promise.all(C.map(function(){var y=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return y.apply(this,arguments)}}()))}(Bn);q.ports[0].postMessage({status:"done",eventId:oe,eventType:ft,response:mr})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function pr(C="",y=10){let _="";for(let x=0;x<y;x++)_+=Math.floor(10*Math.random());return C+_}class Jn{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,_,x=50){var q=this;return(0,l.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let ft,$t;return new Promise((Zt,Bn)=>{const mr=pr("",20);oe.port1.start();const Ni=setTimeout(()=>{Bn(new Error("unsupported_event"))},x);$t={messageChannel:oe,onMessage(sl){const Ma=sl;if(Ma.data.eventId===mr)switch(Ma.data.status){case"ack":clearTimeout(Ni),ft=setTimeout(()=>{Bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),Zt(Ma.data.response);break;default:clearTimeout(Ni),clearTimeout(ft),Bn(new Error("invalid_response"))}}},q.handlers.add($t),oe.port1.addEventListener("message",$t.onMessage),q.target.postMessage({eventType:y,eventId:mr,data:_},[oe.port2])}).finally(()=>{$t&&q.removeMessageHandler($t)})})()}}function rr(){return window}function Xr(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}function Ui(){return(Ui=(0,l.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const zs="firebaseLocalStorageDb",ys=1,Oo="firebaseLocalStorage",ga="fbase_key";class ma{constructor(y){this.request=y}toPromise(){return new Promise((y,_)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ro(C,y){return C.transaction([Oo],y?"readwrite":"readonly").objectStore(Oo)}function ea(){const C=indexedDB.open(zs,ys);return new Promise((y,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const x=C.result;try{x.createObjectStore(Oo,{keyPath:ga})}catch(q){_(q)}}),C.addEventListener("success",(0,l.Z)(function*(){const x=C.result;x.objectStoreNames.contains(Oo)?y(x):(x.close(),yield function za(){const C=indexedDB.deleteDatabase(zs);return new ma(C).toPromise()}(),y(yield ea()))}))})}function Ga(C,y,_){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(C,y,_){const x=ro(C,!0).put({[ga]:y,value:_});return new ma(x).toPromise()})).apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(C,y){const _=ro(C,!1).get(y),x=yield new ma(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function ta(C,y){const _=ro(C,!0).delete(y);return new ma(_).toPromise()}const Ka=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ea()),_.db})()}_withRetries(_){var x=this;return(0,l.Z)(function*(){let q=0;for(;;)try{const oe=yield x._openDb();return yield _(oe)}catch(oe){if(q++>3)throw oe;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Xr()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=$n._getInstance(function no(){return Xr()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,l.Z)(function*(q,oe){return{keyProcessed:(yield _._poll()).includes(oe.key)}});return function(q,oe){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,l.Z)(function*(q,oe){return["keyChanged"]});return function(q,oe){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var x,q;if(_.activeServiceWorker=yield function Pi(){return Ui.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Jn(_.activeServiceWorker);const oe=yield _.sender._send("ping",{},800);oe&&null!==(x=oe[0])&&void 0!==x&&x.fulfilled&&null!==(q=oe[0])&&void 0!==q&&q.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,l.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Hs(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch(q){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ea();return yield Ga(_,pa,"1"),yield ta(_,pa),!0}catch(_){}return!1})()}_withPendingWrite(_){var x=this;return(0,l.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var q=this;return(0,l.Z)(function*(){return q._withPendingWrite((0,l.Z)(function*(){return yield q._withRetries(oe=>Ga(oe,_,x)),q.localCache[_]=x,q.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,l.Z)(function*(){const q=yield x._withRetries(oe=>function Po(C,y){return gl.apply(this,arguments)}(oe,_));return x.localCache[_]=q,q})()}_remove(_){var x=this;return(0,l.Z)(function*(){return x._withPendingWrite((0,l.Z)(function*(){return yield x._withRetries(q=>ta(q,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const x=yield _._withRetries(ft=>{const $t=ro(ft,!1).getAll();return new ma($t).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const q=[],oe=new Set;for(const{fbase_key:ft,value:$t}of x)oe.add(ft),JSON.stringify(_.localCache[ft])!==JSON.stringify($t)&&(_.notifyListeners(ft,$t),q.push(ft));for(const ft of Object.keys(_.localCache))_.localCache[ft]&&!oe.has(ft)&&(_.notifyListeners(ft,null),q.push(ft));return q})()}notifyListeners(_,x){this.localCache[_]=x;const q=this.listeners[_];if(q)for(const oe of Array.from(q))oe(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Rs(){return(Rs=(0,l.Z)(function*(C){return(yield et(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ls(C){return new Promise((y,_)=>{const x=document.createElement("script");x.setAttribute("src",C),x.onload=y,x.onerror=q=>{const oe=Ve("internal-error");oe.customData=q,_(oe)},x.type="text/javascript",x.charset="UTF-8",function yl(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(x)})}function na(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Os=1e12;class Ta{constructor(y){this.auth=y,this.counter=Os,this._widgets=new Map}render(y,_){const x=this.counter;return this._widgets.set(x,new Sa(y,this.auth.name,_||{})),this.counter++,x}reset(y){var _;const x=y||Os;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(y){var _;return(null===(_=this._widgets.get(y||Os))||void 0===_?void 0:_.getResponse())||""}execute(y){var _=this;return(0,l.Z)(function*(){var x;return null===(x=_._widgets.get(y||Os))||void 0===x||x.execute(),""})()}}class Sa{constructor(y,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof y?document.getElementById(y):y;ie(q,"argument-error",{appName:_}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lu(C){const y=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<C;x++)y.push(_.charAt(Math.floor(Math.random()*_.length)));return y.join("")}(50);const{callback:y,"expired-callback":_}=this.params;if(y)try{y(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vl=na("rcb"),_l=new Pe(3e4,6e4);class Ps{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=rr().grecaptcha)||void 0===y||!y.render)}load(y,_=""){return ie(function Za(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),y,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(rr().grecaptcha):new Promise((x,q)=>{const oe=rr().setTimeout(()=>{q(Ve(y,"network-request-failed"))},_l.get());rr()[vl]=()=>{rr().clearTimeout(oe),delete rr()[vl];const $t=rr().grecaptcha;if(!$t)return void q(Ve(y,"internal-error"));const Zt=$t.render;$t.render=(Bn,mr)=>{const Ni=Zt(Bn,mr);return this.counter++,Ni},this.hostLanguage=_,x($t)},ls(`https://www.google.com/recaptcha/api.js??${(0,v.xO)({onload:vl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(oe),q(Ve(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var _;return!(null===(_=rr().grecaptcha)||void 0===_||!_.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class go{load(y){return(0,l.Z)(function*(){return new Ta(y)})()}clearedOneInstance(){}}const Qa="recaptcha",Xa={theme:"light",type:"image"};class Wo{constructor(y,_=Object.assign({},Xa),x){this.parameters=_,this.type=Qa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ar(x),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof y?document.getElementById(y):y;ie(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new go:new Ps,this.validateStartingState()}verify(){var y=this;return(0,l.Z)(function*(){y.assertNotDestroyed();const _=yield y.render(),x=y.getAssertedRecaptcha();return x.getResponse(_)||new Promise(oe=>{const ft=$t=>{$t&&(y.tokenChangeListeners.delete(ft),oe($t))};y.tokenChangeListeners.add(ft),y.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof y)y(_);else if("string"==typeof y){const x=rr()[y];"function"==typeof x&&x(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,l.Z)(function*(){if(yield y.init(),!y.widgetId){let _=y.container;if(!y.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}y.widgetId=y.getAssertedRecaptcha().render(_,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,l.Z)(function*(){ie(at()&&!Xr(),y.auth,"internal-error"),yield function Ja(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const _=yield function Fu(C){return Rs.apply(this,arguments)}(y.auth);ie(_,y.auth,"internal-error"),y.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qo{constructor(y,_){this.verificationId=y,this.onConfirmation=_}confirm(y){const _=li._fromVerification(this.verificationId,y);return this.onConfirmation(_)}}function Ns(C,y,_){return ji.apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(C,y,_){const x=ar(C),q=yield Fl(x,y,(0,v.m9)(_));return new qo(q,oe=>Ao(x,oe))})).apply(this,arguments)}function $r(C,y,_){return El.apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);yield Di(!1,x,"phone");const q=yield Fl(x.auth,y,(0,v.m9)(_));return new qo(q,oe=>ui(x,oe))})).apply(this,arguments)}function Bu(C,y,_){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),q=yield Fl(x.auth,y,(0,v.m9)(_));return new qo(q,oe=>ii(x,oe))})).apply(this,arguments)}function Fl(C,y,_){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,l.Z)(function*(C,y,_){var x;const q=yield _.verify();try{let oe;if(ie("string"==typeof q,C,"argument-error"),ie(_.type===Qa,C,"argument-error"),oe="string"==typeof y?{phoneNumber:y}:y,"session"in oe){const ft=oe.session;if("phoneNumber"in oe)return ie("enroll"===ft.type,C,"internal-error"),(yield function Ti(C,y){return et(C,"POST","/v2/accounts/mfaEnrollment:start",be(C,y))}(C,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{ie("signin"===ft.type,C,"internal-error");const $t=(null===(x=oe.multiFactorHint)||void 0===x?void 0:x.uid)||oe.multiFactorUid;return ie($t,C,"missing-multi-factor-info"),(yield function Ca(C,y){return et(C,"POST","/v2/accounts/mfaSignIn:start",be(C,y))}(C,{mfaPendingCredential:ft.credential,mfaEnrollmentId:$t,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield function ws(C,y){return hs.apply(this,arguments)}(C,{phoneNumber:oe.phoneNumber,recaptchaToken:q});return ft}}finally{_._reset()}}),Uu.apply(this,arguments)}function yc(C,y){return ju.apply(this,arguments)}function ju(){return(ju=(0,l.Z)(function*(C,y){yield Ts((0,v.m9)(C),y)})).apply(this,arguments)}let el=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=ar(_)}verifyPhoneNumber(_,x){return Fl(this.auth,_,(0,v.m9)(x))}static credential(_,x){return li._fromVerification(_,x)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:q}=_;return x&&q?li._fromTokenResponse(x,q):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function tl(C,y){return y?je(y):(ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ru extends xr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Gn(y,this._buildIdpRequest())}_linkToIdToken(y,_){return Gn(y,this._buildIdpRequest(_))}_getReauthenticationResolver(y){return Gn(y,this._buildIdpRequest())}_buildIdpRequest(y){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(_.idToken=y),_}}function ci(C){return jo(C.auth,new ru(C),C.bypassAuthState)}function iu(C){const{auth:y,user:_}=C;return ie(_,y,"internal-error"),Ss(_,new ru(C),C.bypassAuthState)}function ra(C){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(C){const{auth:y,user:_}=C;return ie(_,y,"internal-error"),Ts(_,new ru(C),C.bypassAuthState)})).apply(this,arguments)}class us{constructor(y,_,x,q,oe=!1){this.auth=y,this.resolver=x,this.user=q,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var y=this;return new Promise(function(){var _=(0,l.Z)(function*(x,q){y.pendingPromise={resolve:x,reject:q};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(oe){y.reject(oe)}});return function(x,q){return _.apply(this,arguments)}}())}onAuthEvent(y){var _=this;return(0,l.Z)(function*(){const{urlResponse:x,sessionId:q,postBody:oe,tenantId:ft,error:$t,type:Zt}=y;if($t)return void _.reject($t);const Bn={auth:_.auth,requestUri:x,sessionId:q,tenantId:ft||void 0,postBody:oe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Zt)(Bn))}catch(mr){_.reject(mr)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return ci;case"linkViaPopup":case"linkViaRedirect":return ra;case"reauthViaPopup":case"reauthViaRedirect":return iu;default:Ze(this.auth,"internal-error")}}resolve(y){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ko=new Pe(2e3,1e4);function Ll(C,y,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(C,y,_){const x=ar(C);We(C,y,Yi);const q=tl(x,_);return new vc(x,"signInViaPopup",y,q).executeNotNull()})).apply(this,arguments)}function ya(C,y,_){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);We(x.auth,y,Yi);const q=tl(x.auth,_);return new vc(x.auth,"reauthViaPopup",y,q,x).executeNotNull()})).apply(this,arguments)}function gd(C,y,_){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);We(x.auth,y,Yi);const q=tl(x.auth,_);return new vc(x.auth,"linkViaPopup",y,q,x).executeNotNull()})).apply(this,arguments)}let vc=(()=>{class C extends us{constructor(_,x,q,oe,ft){super(_,x,oe,ft),this.provider=q,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const x=yield _.execute();return ie(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,l.Z)(function*(){ze(1===_.filter.length,"Popup operations only handle one event");const x=pr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(q=>{_.reject(q)}),_.resolver._isIframeWebStorageSupported(_.auth,q=>{q||_.reject(Ve(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,q;this.pollId=null!==(q=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ko.get())};_()}}return C.currentPopupAction=null,C})();const yo="pendingRedirect",w=new Map;class D extends us{constructor(y,_,x=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var y=()=>super.execute,_=this;return(0,l.Z)(function*(){let x=w.get(_.auth._key());if(!x){try{const oe=(yield function E(C,y){return T.apply(this,arguments)}(_.resolver,_.auth))?yield y().call(_):null;x=()=>Promise.resolve(oe)}catch(q){x=()=>Promise.reject(q)}w.set(_.auth._key(),x)}return _.bypassAuthState||w.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(y){var _=()=>super.onAuthEvent,x=this;return(0,l.Z)(function*(){if("signInViaRedirect"===y.type)return _().call(x,y);if("unknown"!==y.type){if(y.eventId){const q=yield x.auth._redirectUserForId(y.eventId);if(q)return x.user=q,_().call(x,y);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,l.Z)(function*(C,y){const _=Lt(y),x=bt(C);if(!(yield x._isAvailable()))return!1;const q="true"===(yield x._get(_));return yield x._remove(_),q})).apply(this,arguments)}function $(C,y){return G.apply(this,arguments)}function G(){return(G=(0,l.Z)(function*(C,y){return bt(C)._set(Lt(y),"true")})).apply(this,arguments)}function J(){w.clear()}function He(C,y){w.set(C._key(),y)}function bt(C){return je(C._redirectPersistence)}function Lt(C){return Ae(yo,C.config.apiKey,C.name)}function dn(C,y,_){return function tn(C,y,_){return Mr.apply(this,arguments)}(C,y,_)}function Mr(){return(Mr=(0,l.Z)(function*(C,y,_){const x=ar(C);We(C,y,Yi),yield x._initializationPromise;const q=tl(x,_);return yield $(q,x),q._openRedirect(x,y,"signInViaRedirect")})).apply(this,arguments)}function di(C,y,_){return function P(C,y,_){return B.apply(this,arguments)}(C,y,_)}function B(){return(B=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);We(x.auth,y,Yi),yield x.auth._initializationPromise;const q=tl(x.auth,_);yield $(q,x.auth);const oe=yield Mn(x);return q._openRedirect(x.auth,y,"reauthViaRedirect",oe)})).apply(this,arguments)}function Y(C,y,_){return function we(C,y,_){return it.apply(this,arguments)}(C,y,_)}function it(){return(it=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);We(x.auth,y,Yi),yield x.auth._initializationPromise;const q=tl(x.auth,_);yield Di(!1,x,y.providerId),yield $(q,x.auth);const oe=yield Mn(x);return q._openRedirect(x.auth,y,"linkViaRedirect",oe)})).apply(this,arguments)}function mt(C,y){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(C,y){return yield ar(C)._initializationPromise,mn(C,y,!1)})).apply(this,arguments)}function mn(C,y){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(C,y,_=!1){const x=ar(C),q=tl(x,y),ft=yield new D(x,q,_).execute();return ft&&!_&&(delete ft.user._redirectEventId,yield x._persistUserIfCurrent(ft.user),yield x._setRedirectUser(null,y)),ft})).apply(this,arguments)}function Mn(C){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(C){const y=pr(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class io{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(y,x)&&(_=!0,this.sendToConsumer(y,x),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function _c(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $l(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=y,_=!0)),_}sendToConsumer(y,_){var x;if(y.error&&!$l(y)){const q=(null===(x=y.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(Ve(this.auth,q))}else _.onAuthEvent(y)}isEventForConsumer(y,_){const x=null===_.eventId||!!y.eventId&&y.eventId===_.eventId;return _.filter.includes(y.type)&&x}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hi(y))}saveEventToCache(y){this.cachedEventUids.add(Hi(y)),this.lastProcessedEventTime=Date.now()}}function Hi(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function $l({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function bl(C){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(C,y={}){return et(C,"GET","/v1/projects",y)})).apply(this,arguments)}const Yo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bl=/^https?/;function su(){return(su=(0,l.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield bl(C);for(const _ of y)try{if(Vl(_))return}catch(x){}Ze(C,"unauthorized-domain")})).apply(this,arguments)}function Vl(C){const y=Fe(),{protocol:_,hostname:x}=new URL(y);if(C.startsWith("chrome-extension://")){const ft=new URL(C);return""===ft.hostname&&""===x?"chrome-extension:"===_&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===_&&ft.hostname===x}if(!Bl.test(_))return!1;if(Yo.test(C))return x===C;const q=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(x)}const Uf=new Pe(3e4,6e4);function hh(){const C=rr().___jsl;if(null!=C&&C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let bc=null;const fh=new Pe(5e3,15e3),Hu="__/auth/iframe",Ul="emulator/auth/iframe",zu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ph=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jg(C){const y=C.config;ie(y.authDomain,C,"auth-domain-config-required");const _=y.emulator?tt(y,Ul):`https://${C.config.authDomain}/${Hu}`,x={apiKey:y.apiKey,appName:C.name,v:F.SDK_VERSION},q=ph.get(C.config.apiHost);q&&(x.eid=q);const oe=C._getFrameworks();return oe.length&&(x.fw=oe.join(",")),`${_}?${(0,v.xO)(x).slice(1)}`}function Ic(){return Ic=(0,l.Z)(function*(C){const y=yield function jf(C){return bc=bc||function e_(C){return new Promise((y,_)=>{var x,q,oe;function ft(){hh(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{hh(),_(Ve(C,"network-request-failed"))},timeout:Uf.get()})}if(null!==(q=null===(x=rr().gapi)||void 0===x?void 0:x.iframes)&&void 0!==q&&q.Iframe)y(gapi.iframes.getContext());else{if(null===(oe=rr().gapi)||void 0===oe||!oe.load){const $t=na("iframefcb");return rr()[$t]=()=>{gapi.load?ft():_(Ve(C,"network-request-failed"))},ls(`https://apis.google.com/js/api.js?onload=${$t}`).catch(Zt=>_(Zt))}ft()}}).catch(y=>{throw bc=null,y})}(C),bc}(C),_=rr().gapi;return ie(_,C,"internal-error"),y.open({where:document.body,url:jg(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zu,dontclear:!0},x=>new Promise(function(){var q=(0,l.Z)(function*(oe,ft){yield x.restyle({setHideOnLeave:!1});const $t=Ve(C,"network-request-failed"),Zt=rr().setTimeout(()=>{ft($t)},fh.get());function Bn(){rr().clearTimeout(Zt),oe(x)}x.ping(Bn).then(Bn,()=>{ft($t)})});return function(oe,ft){return q.apply(this,arguments)}}()))}),Ic.apply(this,arguments)}const md={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wc=500,Hf=600,yd="_blank",zf="http://localhost";class gh{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}const Dc="__/auth/handler",jl="emulator/auth/handler";function vd(C,y,_,x,q,oe){ie(C.config.authDomain,C,"auth-domain-config-required"),ie(C.config.apiKey,C,"invalid-api-key");const ft={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:x,v:F.SDK_VERSION,eventId:q};if(y instanceof Yi){y.setDefaultLanguage(C.languageCode),ft.providerId=y.providerId||"",(0,v.xb)(y.getCustomParameters())||(ft.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Zt,Bn]of Object.entries(oe||{}))ft[Zt]=Bn}if(y instanceof $s){const Zt=y.getScopes().filter(Bn=>""!==Bn);Zt.length>0&&(ft.scopes=Zt.join(","))}C.tenantId&&(ft.tid=C.tenantId);const $t=ft;for(const Zt of Object.keys($t))void 0===$t[Zt]&&delete $t[Zt];return`${function mh({config:C}){return C.emulator?tt(C,jl):`https://${C.authDomain}/${Dc}`}(C)}?${(0,v.xO)($t).slice(1)}`}const Gu="webStorageSupport",Wf=class Wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pn,this._completeRedirectFn=mn,this._overrideRedirectResult=He}_openPopup(y,_,x,q){var oe=this;return(0,l.Z)(function*(){var ft;ze(null===(ft=oe.eventManagers[y._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const $t=vd(y,_,x,Fe(),q);return function Gf(C,y,_,x=wc,q=Hf){const oe=Math.max((window.screen.availHeight-q)/2,0).toString(),ft=Math.max((window.screen.availWidth-x)/2,0).toString();let $t="";const Zt=Object.assign(Object.assign({},md),{width:x.toString(),height:q.toString(),top:oe,left:ft}),Bn=(0,v.z$)().toLowerCase();_&&($t=Qe(Bn)?yd:_),ne(Bn)&&(y=y||zf,Zt.scrollbars="yes");const mr=Object.entries(Zt).reduce((sl,[Ma,au])=>`${sl}${Ma}=${au},`,"");if(function nn(C=(0,v.z$)()){var y;return ht(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Bn)&&"_self"!==$t)return function il(C,y){const _=document.createElement("a");_.href=C,_.target=y;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(y||"",$t),new gh(null);const Ni=window.open(y||"",$t,mr);ie(Ni,C,"popup-blocked");try{Ni.focus()}catch(sl){}return new gh(Ni)}(y,$t,pr())})()}_openRedirect(y,_,x,q){var oe=this;return(0,l.Z)(function*(){return yield oe._originValidation(y),function Kr(C){rr().location.href=C}(vd(y,_,x,Fe(),q)),new Promise(()=>{})})()}_initialize(y){const _=y._key();if(this.eventManagers[_]){const{manager:q,promise:oe}=this.eventManagers[_];return q?Promise.resolve(q):(ze(oe,"If manager is not set, promise should be"),oe)}const x=this.initAndGetManager(y);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(y){var _=this;return(0,l.Z)(function*(){const x=yield function zi(C){return Ic.apply(this,arguments)}(y),q=new io(y);return x.register("authEvent",oe=>(ie(null==oe?void 0:oe.authEvent,y,"invalid-auth-event"),{status:q.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[y._key()]={manager:q},_.iframes[y._key()]=x,q})()}_isIframeWebStorageSupported(y,_){this.iframes[y._key()].send(Gu,{type:Gu},q=>{var oe;const ft=null===(oe=null==q?void 0:q[0])||void 0===oe?void 0:oe[Gu];void 0!==ft&&_(!!ft),Ze(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ec(C){return su.apply(this,arguments)}(y)),this.originValidationPromises[_]}get _shouldInitProactively(){return vr()||Z()||ht()}};class Hg{constructor(y){this.factorId=y}_process(y,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(y,_.credential,x);case"signin":return this._finalizeSignIn(y,_.credential);default:return _e("unexpected MultiFactorSessionType")}}}class Cc extends Hg{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Cc(y)}_finalizeEnroll(y,_,x){return function Ua(C,y){return et(C,"POST","/v2/accounts/mfaEnrollment:finalize",be(C,y))}(y,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,_){return function kl(C,y){return et(C,"POST","/v2/accounts/mfaSignIn:finalize",be(C,y))}(y,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zg=(()=>{class C{constructor(){}static assertion(_){return Cc._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var yh="@firebase/auth";class Tc{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const _=this.auth.onIdTokenChanged(x=>{y((null==x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,_),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const _=this.internalListeners.get(y);_&&(this.internalListeners.delete(y),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ou=(0,v.Pz)("authIdTokenMaxAge")||300;let vh=null;const qf=C=>function(){var y=(0,l.Z)(function*(_){const x=_&&(yield _.getIdTokenResult()),q=x&&((new Date).getTime()-Date.parse(x.issuedAtTime))/1e3;if(q&&q>ou)return;const oe=null==x?void 0:x.token;vh!==oe&&(vh=oe,yield fetch(C,{method:oe?"POST":"DELETE",headers:oe?{Authorization:`Bearer ${oe}`}:{}}))});return function(_){return y.apply(this,arguments)}}();function Gg(C=(0,F.getApp)()){const y=(0,F._getProvider)(C,"auth");if(y.isInitialized())return y.getImmediate();const _=function Ke(C,y){const _=(0,F._getProvider)(C,"auth");if(_.isInitialized()){const q=_.getImmediate(),oe=_.getOptions();if((0,v.vZ)(oe,null!=y?y:{}))return q;Ze(q,"already-initialized")}return _.initialize({options:y})}(C,{popupRedirectResolver:Wf,persistence:[Ka,ct,pn]}),x=(0,v.Pz)("authTokenSyncURL");if(x){const oe=qf(x);(function At(C,y,_){(0,v.m9)(C).beforeAuthStateChanged(y,_)})(_,oe,()=>oe(_.currentUser)),function ku(C,y,_,x){(0,v.m9)(C).onIdTokenChanged(y,_,x)}(_,ft=>oe(ft))}const q=(0,v.q4)("auth");return q&&ds(_,`http://${q}`),_}!function Ed(C){(0,F._registerComponent)(new Oe.wA("auth",(y,{options:_})=>{const x=y.getProvider("app").getImmediate(),q=y.getProvider("heartbeat"),{apiKey:oe,authDomain:ft}=x.options;return(($t,Zt)=>{ie(oe&&!oe.includes(":"),"invalid-api-key",{appName:$t.name}),ie(!(null!=ft&&ft.includes(":")),"argument-error",{appName:$t.name});const Bn={apiKey:oe,authDomain:ft,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bi(C)},mr=new Ur($t,Zt,Bn);return function Je(C,y){const _=(null==y?void 0:y.persistence)||[],x=(Array.isArray(_)?_:[_]).map(je);null!=y&&y.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(x,null==y?void 0:y.popupRedirectResolver)}(mr,_),mr})(x,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,_,x)=>{y.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new Oe.wA("auth-internal",y=>{const _=ar(y.getProvider("auth").getImmediate());return new Tc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(yh,"0.21.5",function _d(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,F.registerVersion)(yh,"0.21.5","esm2017")}("Browser")},2090:(Ht,lt,V)=>{"use strict";V.d(lt,{$s:()=>fn,BH:()=>We,G6:()=>Me,L:()=>$e,LL:()=>ee,P0:()=>Ze,Pz:()=>Ee,Sg:()=>Ce,UG:()=>ze,US:()=>Oe,ZB:()=>me,ZR:()=>Re,aH:()=>Ve,b$:()=>Ke,eu:()=>Pe,hl:()=>Se,jU:()=>Xe,m9:()=>or,ne:()=>yn,pd:()=>Br,q4:()=>Be,r3:()=>zn,ru:()=>je,tV:()=>fe,uI:()=>_e,vZ:()=>hr,w1:()=>Fe,xO:()=>tr,xb:()=>wr,z$:()=>ie,zI:()=>tt,zd:()=>Sr});const Ie=function(Ae){const ye=[];let X=0;for(let ne=0;ne<Ae.length;ne++){let Z=Ae.charCodeAt(ne);Z<128?ye[X++]=Z:Z<2048?(ye[X++]=Z>>6|192,ye[X++]=63&Z|128):55296==(64512&Z)&&ne+1<Ae.length&&56320==(64512&Ae.charCodeAt(ne+1))?(Z=65536+((1023&Z)<<10)+(1023&Ae.charCodeAt(++ne)),ye[X++]=Z>>18|240,ye[X++]=Z>>12&63|128,ye[X++]=Z>>6&63|128,ye[X++]=63&Z|128):(ye[X++]=Z>>12|224,ye[X++]=Z>>6&63|128,ye[X++]=63&Z|128)}return ye},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,ye){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let Z=0;Z<Ae.length;Z+=3){const Qe=Ae[Z],se=Z+1<Ae.length,ve=se?Ae[Z+1]:0,re=Z+2<Ae.length,Le=re?Ae[Z+2]:0;let nn=(15&ve)<<2|Le>>6,an=63&Le;re||(an=64,se||(nn=64)),ne.push(X[Qe>>2],X[(3&Qe)<<4|ve>>4],X[nn],X[an])}return ne.join("")},encodeString(Ae,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(Ae):this.encodeByteArray(Ie(Ae),ye)},decodeString(Ae,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(Ae):function(Ae){const ye=[];let X=0,ne=0;for(;X<Ae.length;){const Z=Ae[X++];if(Z<128)ye[ne++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const Qe=Ae[X++];ye[ne++]=String.fromCharCode((31&Z)<<6|63&Qe)}else if(Z>239&&Z<365){const re=((7&Z)<<18|(63&Ae[X++])<<12|(63&Ae[X++])<<6|63&Ae[X++])-65536;ye[ne++]=String.fromCharCode(55296+(re>>10)),ye[ne++]=String.fromCharCode(56320+(1023&re))}else{const Qe=Ae[X++],se=Ae[X++];ye[ne++]=String.fromCharCode((15&Z)<<12|(63&Qe)<<6|63&se)}}return ye.join("")}(this.decodeStringToByteArray(Ae,ye))},decodeStringToByteArray(Ae,ye){this.init_();const X=ye?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let Z=0;Z<Ae.length;){const Qe=X[Ae.charAt(Z++)],ve=Z<Ae.length?X[Ae.charAt(Z)]:0;++Z;const Le=Z<Ae.length?X[Ae.charAt(Z)]:64;++Z;const St=Z<Ae.length?X[Ae.charAt(Z)]:64;if(++Z,null==Qe||null==ve||null==Le||null==St)throw new ge;ne.push(Qe<<2|ve>>4),64!==Le&&(ne.push(ve<<4&240|Le>>2),64!==St&&ne.push(Le<<6&192|St))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(Ae){return function(Ae){const ye=Ie(Ae);return Oe.encodeByteArray(ye,!0)}(Ae).replace(/\./g,"")},fe=function(Ae){try{return Oe.decodeString(Ae,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function me(Ae,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return ye}for(const X in ye)!ye.hasOwnProperty(X)||!Ne(X)||(Ae[X]=me(Ae[X],ye[X]));return Ae}function Ne(Ae){return"__proto__"!==Ae}const ue=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(X){return}const ye=Ae&&fe(Ae[1]);return ye&&JSON.parse(ye)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},Be=Ae=>{var ye,X;return null===(X=null===(ye=ue())||void 0===ye?void 0:ye.emulatorHosts)||void 0===X?void 0:X[Ae]},Ze=Ae=>{const ye=Be(Ae);if(!ye)return;const X=ye.lastIndexOf(":");if(X<=0||X+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const ne=parseInt(ye.substring(X+1),10);return"["===ye[0]?[ye.substring(1,X-1),ne]:[ye.substring(0,X),ne]},Ve=()=>{var Ae;return null===(Ae=ue())||void 0===Ae?void 0:Ae.config},Ee=Ae=>{var ye;return null===(ye=ue())||void 0===ye?void 0:ye[`_${Ae}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,X)=>{this.resolve=ye,this.reject=X})}wrapCallback(ye){return(X,ne)=>{X?this.reject(X):this.resolve(ne),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(X):ye(X,ne))}}}function Ce(Ae,ye){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=ye||"demo-project",Z=Ae.iat||0,Qe=Ae.sub||Ae.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:Z,exp:Z+3600,auth_time:Z,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(se)),""].join(".")}function ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function ze(){var Ae;const ye=null===(Ae=ue())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(X){return!1}}function Xe(){return"object"==typeof self&&self.self===self}function je(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const Ae=ie();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function Me(){return!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch(Ae){return!1}}function Pe(){return new Promise((Ae,ye)=>{try{let X=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(ne);Z.onsuccess=()=>{Z.result.close(),X||self.indexedDB.deleteDatabase(ne),Ae(!0)},Z.onupgradeneeded=()=>{X=!1},Z.onerror=()=>{var Qe;ye((null===(Qe=Z.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(X){ye(X)}})}function tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Re extends Error{constructor(ye,X,ne){super(X),this.code=ye,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(ye,X,ne){this.service=ye,this.serviceName=X,this.errors=ne}create(ye,...X){const ne=X[0]||{},Z=`${this.service}/${ye}`,Qe=this.errors[ye],se=Qe?function be(Ae,ye){return Ae.replace(et,(X,ne)=>{const Z=ye[ne];return null!=Z?String(Z):`<${ne}?>`})}(Qe,ne):"Error";return new Re(Z,`${this.serviceName}: ${se} (${Z}).`,ne)}}const et=/\{\$([^}]+)}/g;function zn(Ae,ye){return Object.prototype.hasOwnProperty.call(Ae,ye)}function wr(Ae){for(const ye in Ae)if(Object.prototype.hasOwnProperty.call(Ae,ye))return!1;return!0}function hr(Ae,ye){if(Ae===ye)return!0;const X=Object.keys(Ae),ne=Object.keys(ye);for(const Z of X){if(!ne.includes(Z))return!1;const Qe=Ae[Z],se=ye[Z];if(Nt(Qe)&&Nt(se)){if(!hr(Qe,se))return!1}else if(Qe!==se)return!1}for(const Z of ne)if(!X.includes(Z))return!1;return!0}function Nt(Ae){return null!==Ae&&"object"==typeof Ae}function tr(Ae){const ye=[];for(const[X,ne]of Object.entries(Ae))Array.isArray(ne)?ne.forEach(Z=>{ye.push(encodeURIComponent(X)+"="+encodeURIComponent(Z))}):ye.push(encodeURIComponent(X)+"="+encodeURIComponent(ne));return ye.length?"&"+ye.join("&"):""}function Sr(Ae){const ye={};return Ae.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[Z,Qe]=ne.split("=");ye[decodeURIComponent(Z)]=decodeURIComponent(Qe)}}),ye}function Br(Ae){const ye=Ae.indexOf("?");if(!ye)return"";const X=Ae.indexOf("#",ye);return Ae.substring(ye,X>0?X:void 0)}function yn(Ae,ye){const X=new Jt(Ae,ye);return X.subscribe.bind(X)}class Jt{constructor(ye,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{ye(this)}).catch(ne=>{this.error(ne)})}next(ye){this.forEachObserver(X=>{X.next(ye)})}error(ye){this.forEachObserver(X=>{X.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,X,ne){let Z;if(void 0===ye&&void 0===X&&void 0===ne)throw new Error("Missing Observer.");Z=function sr(Ae,ye){if("object"!=typeof Ae||null===Ae)return!1;for(const X of ye)if(X in Ae&&"function"==typeof Ae[X])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:X,complete:ne},void 0===Z.next&&(Z.next=cn),void 0===Z.error&&(Z.error=cn),void 0===Z.complete&&(Z.complete=cn);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(se){}}),this.observers.push(Z),Qe}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,ye)}sendOne(ye,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{X(this.observers[ye])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cn(){}const Dr=1e3,kt=2,Ct=144e5,Qt=.5;function fn(Ae,ye=Dr,X=kt){const ne=ye*Math.pow(X,Ae),Z=Math.round(Qt*ne*(Math.random()-.5)*2);return Math.min(Ct,ne+Z)}function or(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},2078:(Ht,lt,V)=>{"use strict";V.d(lt,{w:()=>Sr,dr:()=>An,oU:()=>In,cs:()=>Zi,Sm:()=>fn,nz:()=>X,W2:()=>Qe,Gu:()=>an,pK:()=>Ur,Ie:()=>ar,Q$:()=>Tr,q_:()=>xr,yh:()=>jr,z0:()=>Rr,fG:()=>ts,zc:()=>gi,uN:()=>On,d8:()=>ni,jP:()=>Di,jI:()=>wn,yW:()=>ns,wd:()=>ps,sr:()=>Bo,Pc:()=>L,r4:()=>Ms,_q:()=>Ei,YI:()=>Qi,Fo:()=>Ao,j9:()=>Jt});var l=V(4650),v=V(433),F=V(655),Ie=V(8421),xe=V(9751),Oe=V(5577),ge=V(1144),Te=V(576),$e=V(3268);const fe=["addListener","removeListener"],he=["addEventListener","removeEventListener"],me=["on","off"];function Ne(d,m,f,M){if((0,Te.m)(f)&&(M=f,f=void 0),M)return Ne(d,m,f).pipe((0,$e.Z)(M));const[H,ot]=function De(d){return(0,Te.m)(d.addEventListener)&&(0,Te.m)(d.removeEventListener)}(d)?he.map(Ft=>Gt=>d[Ft](m,Gt,f)):function nt(d){return(0,Te.m)(d.addListener)&&(0,Te.m)(d.removeListener)}(d)?fe.map(ke(d,m)):function yt(d){return(0,Te.m)(d.on)&&(0,Te.m)(d.off)}(d)?me.map(ke(d,m)):[];if(!H&&(0,ge.z)(d))return(0,Oe.z)(Ft=>Ne(Ft,m,f))((0,Ie.Xf)(d));if(!H)throw new TypeError("Invalid event target");return new xe.y(Ft=>{const Gt=(...Sn)=>Ft.next(1<Sn.length?Sn:Sn[0]);return H(Gt),()=>ot(Gt)})}function ke(d,m){return f=>M=>d[f](m,M)}var ue=V(7579),Be=V(1135),Ze=V(2435),ie=(V(181),V(6439),V(7838),V(1898),V(5179)),_e=V(5730),ze=V(1843),Xe=V(6369),je=V(3539),Fe=(V(3457),V(4349),V(1308)),tt=V(9300),ce=V(3900),Re=V(1884),ee=V(6895);const et=ie.i,vt=["*"];function zn(d,m){if(1&d&&l.GkF(0,1),2&d){const f=l.oxw();l.Q6J("ngTemplateOutlet",f.template)}}const yr=d=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(d):"function"==typeof requestAnimationFrame?requestAnimationFrame(d):setTimeout(d),wr=d=>!!d.resolveComponentFactory;let xn=(()=>{class d{constructor(f,M){this.injector=f,this.el=M,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(f){this.el.nativeElement.value=this.lastValue=null==f?"":f,hr(this.el)}handleChangeEvent(f,M){f===this.el.nativeElement&&(M!==this.lastValue&&(this.lastValue=M,this.onChange(M)),hr(this.el))}_handleBlurEvent(f){f===this.el.nativeElement&&(this.onTouched(),hr(this.el))}registerOnChange(f){this.onChange=f}registerOnTouched(f){this.onTouched=f}setDisabledState(f){this.el.nativeElement.disabled=f}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let f;try{f=this.injector.get(v.a5)}catch(H){}if(!f)return;f.statusChanges&&(this.statusChanges=f.statusChanges.subscribe(()=>hr(this.el)));const M=f.control;M&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(ot=>{if(typeof M[ot]<"u"){const Ft=M[ot].bind(M);M[ot]=(...Gt)=>{Ft(...Gt),hr(this.el)}}})}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.zs3),l.Y36(l.SBq))},d.\u0275dir=l.lG2({type:d,hostBindings:function(f,M){1&f&&l.NdJ("ionBlur",function(ot){return M._handleBlurEvent(ot.target)})}}),d})();const hr=d=>{yr(()=>{const m=d.nativeElement,f=null!=m.value&&m.value.toString().length>0,M=Nt(m);Yn(m,M);const H=m.closest("ion-item");H&&Yn(H,f?[...M,"item-has-value"]:M)})},Nt=d=>{const m=d.classList,f=[];for(let M=0;M<m.length;M++){const H=m.item(M);null!==H&&tr(H,"ng-")&&f.push(`ion-${H.substring(3)}`)}return f},Yn=(d,m)=>{const f=d.classList;f.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),f.add(...m)},tr=(d,m)=>d.substring(0,m.length)===m;let Sr=(()=>{class d extends xn{constructor(f,M){super(f,M)}writeValue(f){this.el.nativeElement.checked=this.lastValue=null!=f&&f,hr(this.el)}_handleIonChange(f){this.handleChangeEvent(f,f.checked)}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.zs3),l.Y36(l.SBq))},d.\u0275dir=l.lG2({type:d,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(f,M){1&f&&l.NdJ("ionChange",function(ot){return M._handleIonChange(ot.target)})},features:[l._Bn([{provide:v.JU,useExisting:d,multi:!0}]),l.qOj]}),d})(),Jt=(()=>{class d extends xn{constructor(f,M){super(f,M)}_handleInputEvent(f){this.handleChangeEvent(f,f.value)}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.zs3),l.Y36(l.SBq))},d.\u0275dir=l.lG2({type:d,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(f,M){1&f&&l.NdJ("ionChange",function(ot){return M._handleInputEvent(ot.target)})},features:[l._Bn([{provide:v.JU,useExisting:d,multi:!0}]),l.qOj]}),d})();const gn=(d,m)=>{const f=d.prototype;m.forEach(M=>{Object.defineProperty(f,M,{get(){return this.el[M]},set(H){this.z.runOutsideAngular(()=>this.el[M]=H)}})})},sr=(d,m)=>{const f=d.prototype;m.forEach(M=>{f[M]=function(){const H=arguments;return this.z.runOutsideAngular(()=>this.el[M].apply(this.el,H))}})},cn=(d,m,f)=>{f.forEach(M=>d[M]=Ne(m,M))};function Rt(d){return function(f){const{defineCustomElementFn:M,inputs:H,methods:ot}=d;return void 0!==M&&M(),H&&gn(f,H),ot&&sr(f,ot),f}}let An=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-app"]],ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0})],d),d})(),In=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],d),d})(),fn=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["collapse"]})],d),d})(),X=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,cn(this,this.el,["ionChange","ionFocus","ionBlur"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],d),d})(),Qe=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,cn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],d),d})(),an=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],d),d})(),Ur=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,cn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],d),d})(),ar=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],d),d})(),Tr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],d),d})(),xr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],d),d})(),jr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],d),d})(),Rr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,cn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],d),d})(),ts=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],d),d})(),gi=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],d),d})(),On=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})(),wn=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,cn(this,this.el,["ionSplitPaneVisible"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],d),d})(),ns=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})(),ps=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","size"]})],d),d})(),Bo=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})();class _i{constructor(m={}){this.data=m}get(m){return this.data[m]}}let li=(()=>{class d{constructor(f,M){this.zone=f,this.appRef=M}create(f,M,H,ot){return new Vo(f,M,H,this.appRef,this.zone,ot)}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(l.R0b),l.LFG(l.z2F))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac}),d})();class Vo{constructor(m,f,M,H,ot,Ft){this.resolverOrInjector=m,this.injector=f,this.location=M,this.appRef=H,this.zone=ot,this.elementReferenceKey=Ft,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(m,f,M,H){return this.zone.run(()=>new Promise(ot=>{const Ft=Object.assign({},M);void 0!==this.elementReferenceKey&&(Ft[this.elementReferenceKey]=m),ot(Do(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,m,f,Ft,H))}))}removeViewFromDom(m,f){return this.zone.run(()=>new Promise(M=>{const H=this.elRefMap.get(f);if(H){H.destroy(),this.elRefMap.delete(f);const ot=this.elEventsMap.get(f);ot&&(ot(),this.elEventsMap.delete(f))}M()}))}}const Do=(d,m,f,M,H,ot,Ft,Gt,Sn,Qn,kr)=>{let Vn;const jt=l.zs3.create({providers:Yi(Qn),parent:f});if(m&&wr(m)){const Vi=m.resolveComponentFactory(Sn);Vn=M?M.createComponent(Vi,M.length,jt):Vi.create(jt)}else{if(!M)return null;Vn=M.createComponent(Sn,{index:M.indexOf,injector:jt,environmentInjector:m})}const lr=Vn.instance,si=Vn.location.nativeElement;if(Qn&&Object.assign(lr,Qn),kr)for(const Vi of kr)si.classList.add(Vi);const js=Ki(d,lr,si);return Gt.appendChild(si),M||H.attachView(Vn.hostView),Vn.changeDetectorRef.reattach(),ot.set(si,Vn),Ft.set(si,js),si},Li=[ze.L,ze.a,ze.b,ze.c,ze.d],Ki=(d,m,f)=>d.run(()=>{const M=Li.filter(H=>"function"==typeof m[H]).map(H=>{const ot=Ft=>m[H](Ft.detail);return f.addEventListener(H,ot),()=>f.removeEventListener(H,ot)});return()=>M.forEach(H=>H())}),Zs=new l.OlP("NavParamsToken"),Yi=d=>[{provide:Zs,useValue:d},{provide:_i,useFactory:$s,deps:[Zs]}],$s=d=>new _i(d),uo=(d,m)=>((d=d.filter(f=>f.stackId!==m.stackId)).push(m),d),Co=(d,m)=>{const f=d.createUrlTree(["."],{relativeTo:m});return d.serializeUrl(f)},Uo=(d,m)=>{if(!d)return;const f=$i(m);for(let M=0;M<f.length;M++){if(M>=d.length)return f[M];if(f[M]!==d[M])return}},$i=d=>d.split("/").map(m=>m.trim()).filter(m=>""!==m),is=d=>{d&&(d.ref.destroy(),d.unlistenEvents())};class To{constructor(m,f,M,H,ot,Ft){this.containerEl=f,this.router=M,this.navCtrl=H,this.zone=ot,this.location=Ft,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==m?$i(m):void 0}createView(m,f){var M;const H=Co(this.router,f),ot=null===(M=null==m?void 0:m.location)||void 0===M?void 0:M.nativeElement,Ft=Ki(this.zone,m.instance,ot);return{id:this.nextId++,stackId:Uo(this.tabsPrefix,H),unlistenEvents:Ft,element:ot,ref:m,url:H}}getExistingView(m){const f=Co(this.router,m),M=this.views.find(H=>H.url===f);return M&&M.ref.changeDetectorRef.reattach(),M}setActive(m){var f,M;const H=this.navCtrl.consumeTransition();let{direction:ot,animation:Ft,animationBuilder:Gt}=H;const Sn=this.activeView,Qn=((d,m)=>!m||d.stackId!==m.stackId)(m,Sn);Qn&&(ot="back",Ft=void 0);const kr=this.views.slice();let Vn;const jt=this.router;jt.getCurrentNavigation?Vn=jt.getCurrentNavigation():!(null===(f=jt.navigations)||void 0===f)&&f.value&&(Vn=jt.navigations.value),null!==(M=null==Vn?void 0:Vn.extras)&&void 0!==M&&M.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const lr=this.views.includes(m),si=this.insertView(m,ot);lr||m.ref.changeDetectorRef.detectChanges();const js=m.animationBuilder;return void 0===Gt&&"back"===ot&&!Qn&&void 0!==js&&(Gt=js),Sn&&(Sn.animationBuilder=Gt),this.zone.runOutsideAngular(()=>this.wait(()=>(Sn&&Sn.ref.changeDetectorRef.detach(),m.ref.changeDetectorRef.reattach(),this.transition(m,Sn,Ft,this.canGoBack(1),!1,Gt).then(()=>ho(m,si,kr,this.location,this.zone)).then(()=>({enteringView:m,direction:ot,animation:Ft,tabSwitch:Qn})))))}canGoBack(m,f=this.getActiveStackId()){return this.getStack(f).length>m}pop(m,f=this.getActiveStackId()){return this.zone.run(()=>{var M,H;const ot=this.getStack(f);if(ot.length<=m)return Promise.resolve(!1);const Ft=ot[ot.length-m-1];let Gt=Ft.url;const Sn=Ft.savedData;if(Sn){const kr=Sn.get("primary");null!==(H=null===(M=null==kr?void 0:kr.route)||void 0===M?void 0:M._routerState)&&void 0!==H&&H.snapshot.url&&(Gt=kr.route._routerState.snapshot.url)}const{animationBuilder:Qn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Gt,Object.assign(Object.assign({},Ft.savedExtras),{animation:Qn})).then(()=>!0)})}startBackTransition(){const m=this.activeView;if(m){const f=this.getStack(m.stackId),M=f[f.length-2],H=M.animationBuilder;return this.wait(()=>this.transition(M,m,"back",this.canGoBack(2),!0,H))}return Promise.resolve()}endBackTransition(m){m?(this.skipTransition=!0,this.pop(1)):this.activeView&&wi(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(m){const f=this.getStack(m);return f.length>0?f[f.length-1]:void 0}getRootUrl(m){const f=this.getStack(m);return f.length>0?f[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(is),this.activeView=void 0,this.views=[]}getStack(m){return this.views.filter(f=>f.stackId===m)}insertView(m,f){return this.activeView=m,this.views=((d,m,f)=>"root"===f?uo(d,m):"forward"===f?((d,m)=>(d.indexOf(m)>=0?d=d.filter(M=>M.stackId!==m.stackId||M.id<=m.id):d.push(m),d))(d,m):((d,m)=>d.indexOf(m)>=0?d.filter(M=>M.stackId!==m.stackId||M.id<=m.id):uo(d,m))(d,m))(this.views,m,f),this.views.slice()}transition(m,f,M,H,ot,Ft){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(f===m)return Promise.resolve(!1);const Gt=m?m.element:void 0,Sn=f?f.element:void 0,Qn=this.containerEl;return Gt&&Gt!==Sn&&(Gt.classList.add("ion-page"),Gt.classList.add("ion-page-invisible"),Gt.parentElement!==Qn&&Qn.appendChild(Gt),Qn.commit)?Qn.commit(Gt,Sn,{deepWait:!0,duration:void 0===M?0:void 0,direction:M,showGoBack:H,progressAnimation:ot,animationBuilder:Ft}):Promise.resolve(!1)}wait(m){return(0,F.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const f=this.runningTask=m();return f.finally(()=>this.runningTask=void 0),f})}}const ho=(d,m,f,M,H)=>"function"==typeof requestAnimationFrame?new Promise(ot=>{requestAnimationFrame(()=>{wi(d,m,f,M,H),ot()})}):Promise.resolve(),wi=(d,m,f,M,H)=>{H.run(()=>f.filter(ot=>!m.includes(ot)).forEach(is)),m.forEach(ot=>{const Gt=M.path().split("?")[0].split("#")[0];if(ot!==d&&ot.url!==Gt){const Sn=ot.element;Sn.setAttribute("aria-hidden","true"),Sn.classList.add("ion-page-hidden"),ot.ref.changeDetectorRef.detach()}})};let So=(()=>{class d{get(f,M){const H=Ds();return H?H.get(f,M):null}getBoolean(f,M){const H=Ds();return!!H&&H.getBoolean(f,M)}getNumber(f,M){const H=Ds();return H?H.getNumber(f,M):0}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Qs=new l.OlP("USERCONFIG"),Ds=()=>{if(typeof window<"u"){const d=window.Ionic;if(null!=d&&d.config)return d.config}return null};let fo=(()=>{class d{constructor(f,M){this.doc=f,this.backButton=new ue.x,this.keyboardDidShow=new ue.x,this.keyboardDidHide=new ue.x,this.pause=new ue.x,this.resume=new ue.x,this.resize=new ue.x,M.run(()=>{var H;let ot;this.win=f.defaultView,this.backButton.subscribeWithPriority=function(Ft,Gt){return this.subscribe(Sn=>Sn.register(Ft,Qn=>M.run(()=>Gt(Qn))))},Xs(this.pause,f,"pause"),Xs(this.resume,f,"resume"),Xs(this.backButton,f,"ionBackButton"),Xs(this.resize,this.win,"resize"),Xs(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Xs(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Ft=>{ot=Ft}),null!==(H=this.win)&&void 0!==H&&H.cordova?f.addEventListener("deviceready",()=>{ot("cordova")},{once:!0}):ot("dom")})}is(f){return(0,ie.a)(this.win,f)}platforms(){return(0,ie.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(f){return Bi(this.win.location.href,f)}isLandscape(){return!this.isPortrait()}isPortrait(){var f,M;return null===(M=(f=this.win).matchMedia)||void 0===M?void 0:M.call(f,"(orientation: portrait)").matches}testUserAgent(f){const M=this.win.navigator;return!!(null!=M&&M.userAgent&&M.userAgent.indexOf(f)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(ee.K0),l.LFG(l.R0b))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Bi=(d,m)=>{m=m.replace(/[[\]\\]/g,"\\$&");const M=new RegExp("[\\?&]"+m+"=([^&#]*)").exec(d);return M?decodeURIComponent(M[1].replace(/\+/g," ")):null},Xs=(d,m,f)=>{m&&m.addEventListener(f,M=>{d.next(null!=M?M.detail:void 0)})};let ti=(()=>{class d{constructor(f,M,H,ot){this.location=M,this.serializer=H,this.router=ot,this.direction=Ts,this.animated=Bs,this.guessDirection="forward",this.lastNavId=-1,ot&&ot.events.subscribe(Ft=>{if(Ft instanceof Ze.OD){const Gt=Ft.restoredState?Ft.restoredState.navigationId:Ft.id;this.guessDirection=Gt<this.lastNavId?"back":"forward",this.guessAnimation=Ft.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Ft.id:Gt}}),f.backButton.subscribeWithPriority(0,Ft=>{this.pop(),Ft()})}navigateForward(f,M={}){return this.setDirection("forward",M.animated,M.animationDirection,M.animation),this.navigate(f,M)}navigateBack(f,M={}){return this.setDirection("back",M.animated,M.animationDirection,M.animation),this.navigate(f,M)}navigateRoot(f,M={}){return this.setDirection("root",M.animated,M.animationDirection,M.animation),this.navigate(f,M)}back(f={animated:!0,animationDirection:"back"}){return this.setDirection("back",f.animated,f.animationDirection,f.animation),this.location.back()}pop(){return(0,F.mG)(this,void 0,void 0,function*(){let f=this.topOutlet;for(;f&&!(yield f.pop());)f=f.parentOutlet})}setDirection(f,M,H,ot){this.direction=f,this.animated=Cs(f,M,H),this.animationBuilder=ot}setTopOutlet(f){this.topOutlet=f}consumeTransition(){let M,f="root";const H=this.animationBuilder;return"auto"===this.direction?(f=this.guessDirection,M=this.guessAnimation):(M=this.animated,f=this.direction),this.direction=Ts,this.animated=Bs,this.animationBuilder=void 0,{direction:f,animation:M,animationBuilder:H}}navigate(f,M){if(Array.isArray(f))return this.router.navigate(f,M);{const H=this.serializer.parse(f.toString());return void 0!==M.queryParams&&(H.queryParams=Object.assign({},M.queryParams)),void 0!==M.fragment&&(H.fragment=M.fragment),this.router.navigateByUrl(H,M)}}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(fo),l.LFG(ee.Ye),l.LFG(Ze.Hx),l.LFG(Ze.F0,8))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Cs=(d,m,f)=>{if(!1!==m){if(void 0!==f)return f;if("forward"===d||"back"===d)return d;if("root"===d&&!0===m)return"forward"}},Ts="auto",Bs=void 0;let Di=(()=>{class d{constructor(f,M,H,ot,Ft,Gt,Sn,Qn,kr,Vn,jt,lr,si){this.parentContexts=f,this.location=M,this.config=Ft,this.navCtrl=Gt,this.componentFactoryResolver=Sn,this.parentOutlet=si,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Be.X(null),this.stackEvents=new l.vpe,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.nativeEl=kr.nativeElement,this.name=H||Ze.eC,this.tabsPrefix="true"===ot?Co(Vn,lr):void 0,this.stackCtrl=new To(this.tabsPrefix,this.nativeEl,Vn,Gt,jt,Qn),f.onChildOutletCreated(this.name,this)}set animation(f){this.nativeEl.animation=f}set animated(f){this.nativeEl.animated=f}set swipeGesture(f){this._swipeGesture=f,this.nativeEl.swipeHandler=f?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:M=>this.stackCtrl.endBackTransition(M)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const f=this.getContext();null!=f&&f.route&&this.activateWith(f.route,f.resolver||null)}new Promise(f=>(0,_e.c)(this.nativeEl,f)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(f,M){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const M=this.getContext();this.activatedView.savedData=new Map(M.children.contexts);const H=this.activatedView.savedData.get("primary");if(H&&M.route&&(H.route=Object.assign({},M.route)),this.activatedView.savedExtras={},M.route){const ot=M.route.snapshot;this.activatedView.savedExtras.queryParams=ot.queryParams,this.activatedView.savedExtras.fragment=ot.fragment}}const f=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,M){var H;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=f;let ot,Ft=this.stackCtrl.getExistingView(f);if(Ft){ot=this.activated=Ft.ref;const Gt=Ft.savedData;Gt&&(this.getContext().children.contexts=Gt),this.updateActivatedRouteProxy(ot.instance,f)}else{const Gt=f._futureSnapshot;if(null==Gt.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const Sn=this.parentContexts.getOrCreateContext(this.name).children,Qn=new Be.X(null),kr=this.createActivatedRouteProxy(Qn,f),Vn=new ss(kr,Sn,this.location.injector),jt=null!==(H=Gt.routeConfig.component)&&void 0!==H?H:Gt.component;if((M=M||this.componentFactoryResolver)&&wr(M)){const lr=M.resolveComponentFactory(jt);ot=this.activated=this.location.createComponent(lr,this.location.length,Vn)}else ot=this.activated=this.location.createComponent(jt,{index:this.location.length,injector:Vn,environmentInjector:null!=M?M:this.environmentInjector});Qn.next(ot.instance),Ft=this.stackCtrl.createView(this.activated,f),this.proxyMap.set(ot.instance,kr),this.currentActivatedRoute$.next({component:ot.instance,activatedRoute:f})}this.activatedView=Ft,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Ft).then(Gt=>{this.activateEvents.emit(ot.instance),this.stackEvents.emit(Gt)})}canGoBack(f=1,M){return this.stackCtrl.canGoBack(f,M)}pop(f=1,M){return this.stackCtrl.pop(f,M)}getLastUrl(f){const M=this.stackCtrl.getLastUrl(f);return M?M.url:void 0}getLastRouteView(f){return this.stackCtrl.getLastUrl(f)}getRootView(f){return this.stackCtrl.getRootUrl(f)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(f,M){const H=new Ze.gz;return H._futureSnapshot=M._futureSnapshot,H._routerState=M._routerState,H.snapshot=M.snapshot,H.outlet=M.outlet,H.component=M.component,H._paramMap=this.proxyObservable(f,"paramMap"),H._queryParamMap=this.proxyObservable(f,"queryParamMap"),H.url=this.proxyObservable(f,"url"),H.params=this.proxyObservable(f,"params"),H.queryParams=this.proxyObservable(f,"queryParams"),H.fragment=this.proxyObservable(f,"fragment"),H.data=this.proxyObservable(f,"data"),H}proxyObservable(f,M){return f.pipe((0,tt.h)(H=>!!H),(0,ce.w)(H=>this.currentActivatedRoute$.pipe((0,tt.h)(ot=>null!==ot&&ot.component===H),(0,ce.w)(ot=>ot&&ot.activatedRoute[M]),(0,Re.x)())))}updateActivatedRouteProxy(f,M){const H=this.proxyMap.get(f);if(!H)throw new Error("Could not find activated route proxy for view");H._futureSnapshot=M._futureSnapshot,H._routerState=M._routerState,H.snapshot=M.snapshot,H.outlet=M.outlet,H.component=M.component,this.currentActivatedRoute$.next({component:f,activatedRoute:M})}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(Ze.y6),l.Y36(l.s_b),l.$8M("name"),l.$8M("tabs"),l.Y36(So),l.Y36(ti),l.Y36(l._Vd,8),l.Y36(ee.Ye),l.Y36(l.SBq),l.Y36(Ze.F0),l.Y36(l.R0b),l.Y36(Ze.gz),l.Y36(d,12))},d.\u0275dir=l.lG2({type:d,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),d})();class ss{constructor(m,f,M){this.route=m,this.childContexts=f,this.parent=M}get(m,f){return m===Ze.gz?this.route:m===Ze.y6?this.childContexts:this.parent.get(m,f)}}let Zi=(()=>{class d{constructor(f,M,H){this.routerOutlet=f,this.navCtrl=M,this.config=H}onClick(f){var M;const H=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(M=this.routerOutlet)&&void 0!==M&&M.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),f.preventDefault()):null!=H&&(this.navCtrl.navigateBack(H,{animation:this.routerAnimation}),f.preventDefault())}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(Di,8),l.Y36(ti),l.Y36(So))},d.\u0275dir=l.lG2({type:d,selectors:[["ion-back-button"]],hostBindings:function(f,M){1&f&&l.NdJ("click",function(ot){return M.onClick(ot)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),d})(),Qi=(()=>{class d{constructor(f,M,H,ot,Ft){this.locationStrategy=f,this.navCtrl=M,this.elementRef=H,this.router=ot,this.routerLink=Ft,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var f;if(null!==(f=this.routerLink)&&void 0!==f&&f.urlTree){const M=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=M}}onClick(f){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),f.preventDefault()}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(ee.S$),l.Y36(ti),l.Y36(l.SBq),l.Y36(Ze.F0),l.Y36(Ze.rH,8))},d.\u0275dir=l.lG2({type:d,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(f,M){1&f&&l.NdJ("click",function(ot){return M.onClick(ot)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[l.TTD]}),d})(),Ao=(()=>{class d{constructor(f,M,H,ot,Ft){this.locationStrategy=f,this.navCtrl=M,this.elementRef=H,this.router=ot,this.routerLink=Ft,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var f;if(null!==(f=this.routerLink)&&void 0!==f&&f.urlTree){const M=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=M}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(ee.S$),l.Y36(ti),l.Y36(l.SBq),l.Y36(Ze.F0),l.Y36(Ze.rH,8))},d.\u0275dir=l.lG2({type:d,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(f,M){1&f&&l.NdJ("click",function(){return M.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[l.TTD]}),d})(),ni=(()=>{let d=class{constructor(f,M,H){this.z=H,this.isCmpOpen=!1,this.el=M.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,f.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,f.detectChanges()}),cn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-popover"]],contentQueries:function(f,M,H){if(1&f&&l.Suo(H,l.Rgc,5),2&f){let ot;l.iGM(ot=l.CRH())&&(M.template=ot.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(f,M){1&f&&l.YNc(0,zn,1,1,"ng-container",0),2&f&&l.Q6J("ngIf",M.isCmpOpen||M.keepContentsMounted)},dependencies:[ee.O5,ee.tP],encapsulation:2,changeDetection:0}),d=(0,F.gn)([Rt({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],d),d})();class xo{constructor(m){this.ctrl=m}create(m){return this.ctrl.create(m||{})}dismiss(m,f,M){return this.ctrl.dismiss(m,f,M)}getTop(){return this.ctrl.getTop()}}let Ei=(()=>{class d{open(f){return Xe.m.open(f)}close(f){return Xe.m.close(f)}toggle(f){return Xe.m.toggle(f)}enable(f,M){return Xe.m.enable(f,M)}swipeGesture(f,M){return Xe.m.swipeGesture(f,M)}isOpen(f){return Xe.m.isOpen(f)}isEnabled(f){return Xe.m.isEnabled(f)}get(f){return Xe.m.get(f)}getOpen(){return Xe.m.getOpen()}getMenus(){return Xe.m.getMenus()}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();class As{}let ms=(()=>{class d extends xo{constructor(f,M,H,ot){super(je.m),this.angularDelegate=f,this.resolver=M,this.injector=H,this.environmentInjector=ot}create(f){var M;return super.create(Object.assign(Object.assign({},f),{delegate:this.angularDelegate.create(null!==(M=this.resolver)&&void 0!==M?M:this.environmentInjector,this.injector,void 0,"modal")}))}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(li),l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(As,8))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac}),d})(),Ci=(()=>{class d extends xo{constructor(f,M,H,ot){super(je.c),this.angularDelegate=f,this.resolver=M,this.injector=H,this.environmentInjector=ot}create(f){var M;return super.create(Object.assign(Object.assign({},f),{delegate:this.angularDelegate.create(null!==(M=this.resolver)&&void 0!==M?M:this.environmentInjector,this.injector,void 0,"popover")}))}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(li),l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(As,8))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac}),d})();class Ms{shouldDetach(m){return!1}shouldAttach(m){return!1}store(m,f){}retrieve(m){return null}shouldReuseRoute(m,f){if(m.routeConfig!==f.routeConfig)return!1;const M=m.params,H=f.params,ot=Object.keys(M),Ft=Object.keys(H);if(ot.length!==Ft.length)return!1;for(const Gt of ot)if(H[Gt]!==M[Gt])return!1;return!0}}const Va=(d,m,f)=>()=>{if(m.defaultView&&typeof window<"u"){(d=>{const m=window,f=m.Ionic;f&&f.config&&"Object"!==f.config.constructor.name||(m.Ionic=m.Ionic||{},m.Ionic.config=Object.assign(Object.assign({},m.Ionic.config),d))})(Object.assign(Object.assign({},d),{_zoneGate:ot=>f.run(ot)}));const H="__zone_symbol__addEventListener"in m.body?"__zone_symbol__addEventListener":"addEventListener";return function be(){var d=[];if(typeof window<"u"){var m=window;(!m.customElements||m.Element&&(!m.Element.prototype.closest||!m.Element.prototype.matches||!m.Element.prototype.remove||!m.Element.prototype.getRootNode))&&d.push(V.e(6748).then(V.t.bind(V,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||m.NodeList&&!m.NodeList.prototype.forEach||!m.fetch||!function(){try{var M=new URL("b","http://a");return M.pathname="c%20d","http://a/c%20d"===M.href&&M.searchParams}catch(H){return!1}}()||typeof WeakMap>"u")&&d.push(V.e(2214).then(V.t.bind(V,4144,23)))}return Promise.all(d)}().then(()=>((d,m)=>typeof window>"u"?Promise.resolve():(0,Fe.p)().then(()=>(et(),(0,Fe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),m))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:yr,jmp:ot=>f.runOutsideAngular(ot),ael(ot,Ft,Gt,Sn){ot[H](Ft,Gt,Sn)},rel(ot,Ft,Gt,Sn){ot.removeEventListener(Ft,Gt,Sn)}}))}};let L=(()=>{class d{static forRoot(f){return{ngModule:d,providers:[{provide:Qs,useValue:f},{provide:l.ip1,useFactory:Va,multi:!0,deps:[Qs,ee.K0,l.R0b]}]}}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({providers:[li,ms,Ci],imports:[[ee.ez]]}),d})()},181:(Ht,lt,V)=>{"use strict";V.d(lt,{c:()=>yt});var l=V(5730),v=V(3457);let F;const xe=De=>De.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oe=De=>(void 0===F&&(F=void 0===De.style.animationName&&void 0!==De.style.webkitAnimationName?"-webkit-":""),F),ge=(De,ue,Be)=>{const Ze=ue.startsWith("animation")?Oe(De):"";De.style.setProperty(Ze+ue,Be)},Te=(De,ue)=>{const Be=ue.startsWith("animation")?Oe(De):"";De.style.removeProperty(Be+ue)},he=[],nt=(De=[],ue)=>{if(void 0!==ue){const Be=Array.isArray(ue)?ue:[ue];return[...De,...Be]}return De},yt=De=>{let ue,Be,Ze,Ve,Ee,We,Xe,Se,Pe,tt,ce,et,gt,Ce=[],ie=[],_e=[],ze=!1,je={},Ke=[],Je=[],Fe={},at=0,ut=!1,Me=!1,Re=!0,ee=!1,be=!0,Xt=!1;const vt=De,en=[],En=[],sn=[],Kt=[],zn=[],yr=[],wr=[],xn=[],hr=[],Nt=[],Yn="function"==typeof AnimationEffect||void 0!==v.w&&"function"==typeof v.w.AnimationEffect,tr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Yn,Br=()=>Nt,sr=(te,Ge)=>((null!=Ge&&Ge.oneTimeCallback?En:en).push({c:te,o:Ge}),gt),Pr=()=>{if(tr)Nt.forEach(te=>{te.cancel()}),Nt.length=0;else{const te=sn.slice();(0,l.r)(()=>{te.forEach(Ge=>{Te(Ge,"animation-name"),Te(Ge,"animation-duration"),Te(Ge,"animation-timing-function"),Te(Ge,"animation-iteration-count"),Te(Ge,"animation-delay"),Te(Ge,"animation-play-state"),Te(Ge,"animation-fill-mode"),Te(Ge,"animation-direction")})})}},Rt=()=>{zn.forEach(te=>{null!=te&&te.parentNode&&te.parentNode.removeChild(te)}),zn.length=0},Rn=()=>void 0!==Ee?Ee:Xe?Xe.getFill():"both",or=()=>void 0!==Pe?Pe:void 0!==We?We:Xe?Xe.getDirection():"normal",Ae=()=>ut?"linear":void 0!==Ze?Ze:Xe?Xe.getEasing():"linear",ye=()=>Me?0:void 0!==tt?tt:void 0!==Be?Be:Xe?Xe.getDuration():0,X=()=>void 0!==Ve?Ve:Xe?Xe.getIterations():1,ne=()=>void 0!==ce?ce:void 0!==ue?ue:Xe?Xe.getDelay():0,Ur=()=>{0!==at&&(at--,0===at&&((()=>{zt(),xn.forEach(Dt=>Dt()),hr.forEach(Dt=>Dt());const te=Re?1:0,Ge=Ke,st=Je,Et=Fe;sn.forEach(Dt=>{const Bt=Dt.classList;Ge.forEach(rn=>Bt.add(rn)),st.forEach(rn=>Bt.remove(rn));for(const rn in Et)Et.hasOwnProperty(rn)&&ge(Dt,rn,Et[rn])}),en.forEach(Dt=>Dt.c(te,gt)),En.forEach(Dt=>Dt.c(te,gt)),En.length=0,be=!0,Re&&(ee=!0),Re=!0})(),Xe&&Xe.animationFinish()))},ar=(te=!0)=>{Rt();const Ge=(De=>(De.forEach(ue=>{for(const Be in ue)if(ue.hasOwnProperty(Be)){const Ze=ue[Be];if("easing"===Be)ue["animation-timing-function"]=Ze,delete ue[Be];else{const Ve=xe(Be);Ve!==Be&&(ue[Ve]=Ze,delete ue[Be])}}}),De))(Ce);sn.forEach(st=>{if(Ge.length>0){const Et=((De=[])=>De.map(ue=>{const Be=ue.offset,Ze=[];for(const Ve in ue)ue.hasOwnProperty(Ve)&&"offset"!==Ve&&Ze.push(`${Ve}: ${ue[Ve]};`);return`${100*Be}% { ${Ze.join(" ")} }`}).join(" "))(Ge);et=void 0!==De?De:(De=>{let ue=he.indexOf(De);return ue<0&&(ue=he.push(De)-1),`ion-animation-${ue}`})(Et);const Dt=((De,ue,Be)=>{var Ze;const Ve=(De=>{const ue=void 0!==De.getRootNode?De.getRootNode():De;return ue.head||ue})(Be),Ee=Oe(Be),We=Ve.querySelector("#"+De);if(We)return We;const Ce=(null!==(Ze=Be.ownerDocument)&&void 0!==Ze?Ze:document).createElement("style");return Ce.id=De,Ce.textContent=`@${Ee}keyframes ${De} { ${ue} } @${Ee}keyframes ${De}-alt { ${ue} }`,Ve.appendChild(Ce),Ce})(et,Et,st);zn.push(Dt),ge(st,"animation-duration",`${ye()}ms`),ge(st,"animation-timing-function",Ae()),ge(st,"animation-delay",`${ne()}ms`),ge(st,"animation-fill-mode",Rn()),ge(st,"animation-direction",or());const Bt=X()===1/0?"infinite":X().toString();ge(st,"animation-iteration-count",Bt),ge(st,"animation-play-state","paused"),te&&ge(st,"animation-name",`${Dt.id}-alt`),(0,l.r)(()=>{ge(st,"animation-name",Dt.id||null)})}})},ds=(te=!0)=>{(()=>{yr.forEach(Et=>Et()),wr.forEach(Et=>Et());const te=ie,Ge=_e,st=je;sn.forEach(Et=>{const Dt=Et.classList;te.forEach(Bt=>Dt.add(Bt)),Ge.forEach(Bt=>Dt.remove(Bt));for(const Bt in st)st.hasOwnProperty(Bt)&&ge(Et,Bt,st[Bt])})})(),Ce.length>0&&(tr?(sn.forEach(te=>{const Ge=te.animate(Ce,{id:vt,delay:ne(),duration:ye(),easing:Ae(),iterations:X(),fill:Rn(),direction:or()});Ge.pause(),Nt.push(Ge)}),Nt.length>0&&(Nt[0].onfinish=()=>{Ur()})):ar(te)),ze=!0},Fi=te=>{if(te=Math.min(Math.max(te,0),.9999),tr)Nt.forEach(Ge=>{Ge.currentTime=Ge.effect.getComputedTiming().delay+ye()*te,Ge.pause()});else{const Ge=`-${ye()*te}ms`;sn.forEach(st=>{Ce.length>0&&(ge(st,"animation-delay",Ge),ge(st,"animation-play-state","paused"))})}},Ln=te=>{Nt.forEach(Ge=>{Ge.effect.updateTiming({delay:ne(),duration:ye(),easing:Ae(),iterations:X(),fill:Rn(),direction:or()})}),void 0!==te&&Fi(te)},Fr=(te=!0,Ge)=>{(0,l.r)(()=>{sn.forEach(st=>{ge(st,"animation-name",et||null),ge(st,"animation-duration",`${ye()}ms`),ge(st,"animation-timing-function",Ae()),ge(st,"animation-delay",void 0!==Ge?`-${Ge*ye()}ms`:`${ne()}ms`),ge(st,"animation-fill-mode",Rn()||null),ge(st,"animation-direction",or()||null);const Et=X()===1/0?"infinite":X().toString();ge(st,"animation-iteration-count",Et),te&&ge(st,"animation-name",`${et}-alt`),(0,l.r)(()=>{ge(st,"animation-name",et||null)})})})},Tr=(te=!1,Ge=!0,st)=>(te&&Kt.forEach(Et=>{Et.update(te,Ge,st)}),tr?Ln(st):Fr(Ge,st),gt),ts=()=>{ze&&(tr?Nt.forEach(te=>{te.pause()}):sn.forEach(te=>{ge(te,"animation-play-state","paused")}),Xt=!0)},ai=()=>{Se=void 0,Ur()},zt=()=>{Se&&clearTimeout(Se)},K=te=>new Promise(Ge=>{null!=te&&te.sync&&(Me=!0,sr(()=>Me=!1,{oneTimeCallback:!0})),ze||ds(),ee&&(tr?(Fi(0),Ln()):Fr(),ee=!1),be&&(at=Kt.length+1,be=!1),sr(()=>Ge(),{oneTimeCallback:!0}),Kt.forEach(st=>{st.play()}),tr?(Nt.forEach(te=>{te.play()}),(0===Ce.length||0===sn.length)&&Ur()):(()=>{if(zt(),(0,l.r)(()=>{sn.forEach(te=>{Ce.length>0&&ge(te,"animation-play-state","running")})}),0===Ce.length||0===sn.length)Ur();else{const te=ne()||0,Ge=ye()||0,st=X()||1;isFinite(st)&&(Se=setTimeout(ai,te+Ge*st+100)),((De,ue)=>{let Be;const Ze={passive:!0},Ee=We=>{De===We.target&&(Be&&Be(),zt(),(0,l.r)(()=>{sn.forEach(te=>{Te(te,"animation-duration"),Te(te,"animation-delay"),Te(te,"animation-play-state")}),(0,l.r)(Ur)}))};De&&(De.addEventListener("webkitAnimationEnd",Ee,Ze),De.addEventListener("animationend",Ee,Ze),Be=()=>{De.removeEventListener("webkitAnimationEnd",Ee,Ze),De.removeEventListener("animationend",Ee,Ze)})})(sn[0])}})(),Xt=!1}),Ue=(te,Ge)=>{const st=Ce[0];return void 0===st||void 0!==st.offset&&0!==st.offset?Ce=[{offset:0,[te]:Ge},...Ce]:st[te]=Ge,gt};return gt={parentAnimation:Xe,elements:sn,childAnimations:Kt,id:vt,animationFinish:Ur,from:Ue,to:(te,Ge)=>{const st=Ce[Ce.length-1];return void 0===st||void 0!==st.offset&&1!==st.offset?Ce=[...Ce,{offset:1,[te]:Ge}]:st[te]=Ge,gt},fromTo:(te,Ge,st)=>Ue(te,Ge).to(te,st),parent:te=>(Xe=te,gt),play:K,pause:()=>(Kt.forEach(te=>{te.pause()}),ts(),gt),stop:()=>{Kt.forEach(te=>{te.stop()}),ze&&(Pr(),ze=!1),ut=!1,Me=!1,be=!0,Pe=void 0,tt=void 0,ce=void 0,at=0,ee=!1,Re=!0,Xt=!1},destroy:te=>(Kt.forEach(Ge=>{Ge.destroy(te)}),(te=>{Pr(),te&&Rt()})(te),sn.length=0,Kt.length=0,Ce.length=0,en.length=0,En.length=0,ze=!1,be=!0,gt),keyframes:te=>{const Ge=Ce!==te;return Ce=te,Ge&&(te=>{tr?Br().forEach(Ge=>{if(Ge.effect.setKeyframes)Ge.effect.setKeyframes(te);else{const st=new KeyframeEffect(Ge.effect.target,te,Ge.effect.getTiming());Ge.effect=st}}):ar()})(Ce),gt},addAnimation:te=>{if(null!=te)if(Array.isArray(te))for(const Ge of te)Ge.parent(gt),Kt.push(Ge);else te.parent(gt),Kt.push(te);return gt},addElement:te=>{if(null!=te)if(1===te.nodeType)sn.push(te);else if(te.length>=0)for(let Ge=0;Ge<te.length;Ge++)sn.push(te[Ge]);else console.error("Invalid addElement value");return gt},update:Tr,fill:te=>(Ee=te,Tr(!0),gt),direction:te=>(We=te,Tr(!0),gt),iterations:te=>(Ve=te,Tr(!0),gt),duration:te=>(!tr&&0===te&&(te=1),Be=te,Tr(!0),gt),easing:te=>(Ze=te,Tr(!0),gt),delay:te=>(ue=te,Tr(!0),gt),getWebAnimations:Br,getKeyframes:()=>Ce,getFill:Rn,getDirection:or,getDelay:ne,getIterations:X,getEasing:Ae,getDuration:ye,afterAddRead:te=>(xn.push(te),gt),afterAddWrite:te=>(hr.push(te),gt),afterClearStyles:(te=[])=>{for(const Ge of te)Fe[Ge]="";return gt},afterStyles:(te={})=>(Fe=te,gt),afterRemoveClass:te=>(Je=nt(Je,te),gt),afterAddClass:te=>(Ke=nt(Ke,te),gt),beforeAddRead:te=>(yr.push(te),gt),beforeAddWrite:te=>(wr.push(te),gt),beforeClearStyles:(te=[])=>{for(const Ge of te)je[Ge]="";return gt},beforeStyles:(te={})=>(je=te,gt),beforeRemoveClass:te=>(_e=nt(_e,te),gt),beforeAddClass:te=>(ie=nt(ie,te),gt),onFinish:sr,isRunning:()=>0!==at&&!Xt,progressStart:(te=!1,Ge)=>(Kt.forEach(st=>{st.progressStart(te,Ge)}),ts(),ut=te,ze||ds(),Tr(!1,!0,Ge),gt),progressStep:te=>(Kt.forEach(Ge=>{Ge.progressStep(te)}),Fi(te),gt),progressEnd:(te,Ge,st)=>(ut=!1,Kt.forEach(Et=>{Et.progressEnd(te,Ge,st)}),void 0!==st&&(tt=st),ee=!1,Re=!0,0===te?(Pe="reverse"===or()?"normal":"reverse","reverse"===Pe&&(Re=!1),tr?(Tr(),Fi(1-Ge)):(ce=(1-Ge)*ye()*-1,Tr(!1,!1))):1===te&&(tr?(Tr(),Fi(Ge)):(ce=Ge*ye()*-1,Tr(!1,!1))),void 0!==te&&(sr(()=>{tt=void 0,Pe=void 0,ce=void 0},{oneTimeCallback:!0}),Xe||K()),gt)}}},4349:(Ht,lt,V)=>{"use strict";V.d(lt,{G:()=>xe});class v{constructor(ge,Te,$e,fe,he){this.id=Te,this.name=$e,this.disableScroll=he,this.priority=1e6*fe+Te,this.ctrl=ge}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ge=this.ctrl.capture(this.name,this.id,this.priority);return ge&&this.disableScroll&&this.ctrl.disableScroll(this.id),ge}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class F{constructor(ge,Te,$e,fe){this.id=Te,this.disable=$e,this.disableScroll=fe,this.ctrl=ge}block(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.disableGesture(ge,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.enableGesture(ge,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ie="backdrop-no-scroll",xe=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ge){var Te;return new v(this,this.newID(),ge.name,null!==(Te=ge.priority)&&void 0!==Te?Te:0,!!ge.disableScroll)}createBlocker(ge={}){return new F(this,this.newID(),ge.disable,!!ge.disableScroll)}start(ge,Te,$e){return this.canStart(ge)?(this.requestedStart.set(Te,$e),!0):(this.requestedStart.delete(Te),!1)}capture(ge,Te,$e){if(!this.start(ge,Te,$e))return!1;const fe=this.requestedStart;let he=-1e4;if(fe.forEach(me=>{he=Math.max(he,me)}),he===$e){this.capturedId=Te,fe.clear();const me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ge}});return document.dispatchEvent(me),!0}return fe.delete(Te),!1}release(ge){this.requestedStart.delete(ge),this.capturedId===ge&&(this.capturedId=void 0)}disableGesture(ge,Te){let $e=this.disabledGestures.get(ge);void 0===$e&&($e=new Set,this.disabledGestures.set(ge,$e)),$e.add(Te)}enableGesture(ge,Te){const $e=this.disabledGestures.get(ge);void 0!==$e&&$e.delete(Te)}disableScroll(ge){this.disabledScroll.add(ge),1===this.disabledScroll.size&&document.body.classList.add(Ie)}enableScroll(ge){this.disabledScroll.delete(ge),0===this.disabledScroll.size&&document.body.classList.remove(Ie)}canStart(ge){return!(void 0!==this.capturedId||this.isDisabled(ge))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ge){const Te=this.disabledGestures.get(ge);return!!(Te&&Te.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Ht,lt,V)=>{"use strict";V.r(lt),V.d(lt,{MENU_BACK_BUTTON_PRIORITY:()=>xe,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ie,blockHardwareBackButton:()=>v,startHardwareBackButton:()=>F});var l=V(5861);const v=()=>{document.addEventListener("backbutton",()=>{})},F=()=>{const Oe=document;let ge=!1;Oe.addEventListener("backbutton",()=>{if(ge)return;let Te=0,$e=[];const fe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ne,ke){$e.push({priority:Ne,handler:ke,id:Te++})}}});Oe.dispatchEvent(fe);const he=function(){var Ne=(0,l.Z)(function*(ke){try{if(null!=ke&&ke.handler){const nt=ke.handler(me);null!=nt&&(yield nt)}}catch(nt){console.error(nt)}});return function(nt){return Ne.apply(this,arguments)}}(),me=()=>{if($e.length>0){let Ne={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};$e.forEach(ke=>{ke.priority>=Ne.priority&&(Ne=ke)}),ge=!0,$e=$e.filter(ke=>ke.id!==Ne.id),he(Ne).then(()=>ge=!1)}};me()})},Ie=100,xe=99},5730:(Ht,lt,V)=>{"use strict";V.d(lt,{a:()=>ge,b:()=>Te,c:()=>F,d:()=>ke,e:()=>nt,f:()=>Ne,g:()=>$e,h:()=>Ve,i:()=>Oe,j:()=>Ie,k:()=>me,l:()=>yt,m:()=>he,n:()=>De,o:()=>Ze,p:()=>Be,q:()=>Ee,r:()=>fe,s:()=>We,t:()=>l,u:()=>ue});const l=(Ce,ie=0)=>new Promise(_e=>{v(Ce,ie,_e)}),v=(Ce,ie=0,_e)=>{let ze,Xe;const je={passive:!0},Je=()=>{ze&&ze()},Fe=at=>{(void 0===at||Ce===at.target)&&(Je(),_e(at))};return Ce&&(Ce.addEventListener("webkitTransitionEnd",Fe,je),Ce.addEventListener("transitionend",Fe,je),Xe=setTimeout(Fe,ie+500),ze=()=>{Xe&&(clearTimeout(Xe),Xe=void 0),Ce.removeEventListener("webkitTransitionEnd",Fe,je),Ce.removeEventListener("transitionend",Fe,je)}),Je},F=(Ce,ie)=>{Ce.componentOnReady?Ce.componentOnReady().then(_e=>ie(_e)):fe(()=>ie(Ce))},Ie=(Ce,ie=[])=>{const _e={};return ie.forEach(ze=>{Ce.hasAttribute(ze)&&(null!==Ce.getAttribute(ze)&&(_e[ze]=Ce.getAttribute(ze)),Ce.removeAttribute(ze))}),_e},xe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Oe=(Ce,ie)=>{let _e=xe;return ie&&ie.length>0&&(_e=_e.filter(ze=>!ie.includes(ze))),Ie(Ce,_e)},ge=(Ce,ie,_e,ze)=>{var Xe;if(typeof window<"u"){const je=window,Ke=null===(Xe=null==je?void 0:je.Ionic)||void 0===Xe?void 0:Xe.config;if(Ke){const Je=Ke.get("_ael");if(Je)return Je(Ce,ie,_e,ze);if(Ke._ael)return Ke._ael(Ce,ie,_e,ze)}}return Ce.addEventListener(ie,_e,ze)},Te=(Ce,ie,_e,ze)=>{var Xe;if(typeof window<"u"){const je=window,Ke=null===(Xe=null==je?void 0:je.Ionic)||void 0===Xe?void 0:Xe.config;if(Ke){const Je=Ke.get("_rel");if(Je)return Je(Ce,ie,_e,ze);if(Ke._rel)return Ke._rel(Ce,ie,_e,ze)}}return Ce.removeEventListener(ie,_e,ze)},$e=(Ce,ie=Ce)=>Ce.shadowRoot||ie,fe=Ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ce):setTimeout(Ce),he=Ce=>!!Ce.shadowRoot&&!!Ce.attachShadow,me=Ce=>{const ie=Ce.closest("ion-item");return ie?ie.querySelector("ion-label"):null},Ne=Ce=>{if(Ce.focus(),Ce.classList.contains("ion-focusable")){const ie=Ce.closest("ion-app");ie&&ie.setFocus([Ce])}},ke=(Ce,ie)=>{let _e;const ze=Ce.getAttribute("aria-labelledby"),Xe=Ce.id;let je=null!==ze&&""!==ze.trim()?ze:ie+"-lbl",Ke=null!==ze&&""!==ze.trim()?document.getElementById(ze):me(Ce);return Ke?(null===ze&&(Ke.id=je),_e=Ke.textContent,Ke.setAttribute("aria-hidden","true")):""!==Xe.trim()&&(Ke=document.querySelector(`label[for="${Xe}"]`),Ke&&(""!==Ke.id?je=Ke.id:Ke.id=je=`${Xe}-lbl`,_e=Ke.textContent)),{label:Ke,labelId:je,labelText:_e}},nt=(Ce,ie,_e,ze,Xe)=>{if(Ce||he(ie)){let je=ie.querySelector("input.aux-input");je||(je=ie.ownerDocument.createElement("input"),je.type="hidden",je.classList.add("aux-input"),ie.appendChild(je)),je.disabled=Xe,je.name=_e,je.value=ze||""}},yt=(Ce,ie,_e)=>Math.max(Ce,Math.min(ie,_e)),De=(Ce,ie)=>{if(!Ce){const _e="ASSERT: "+ie;throw console.error(_e),new Error(_e)}},ue=Ce=>Ce.timeStamp||Date.now(),Be=Ce=>{if(Ce){const ie=Ce.changedTouches;if(ie&&ie.length>0){const _e=ie[0];return{x:_e.clientX,y:_e.clientY}}if(void 0!==Ce.pageX)return{x:Ce.pageX,y:Ce.pageY}}return{x:0,y:0}},Ze=Ce=>{const ie="rtl"===document.dir;switch(Ce){case"start":return ie;case"end":return!ie;default:throw new Error(`"${Ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=(Ce,ie)=>{const _e=Ce._original||Ce;return{_original:Ce,emit:Ee(_e.emit.bind(_e),ie)}},Ee=(Ce,ie=0)=>{let _e;return(...ze)=>{clearTimeout(_e),_e=setTimeout(Ce,ie,...ze)}},We=(Ce,ie)=>{if(null!=Ce||(Ce={}),null!=ie||(ie={}),Ce===ie)return!0;const _e=Object.keys(Ce);if(_e.length!==Object.keys(ie).length)return!1;for(const ze of _e)if(!(ze in ie)||Ce[ze]!==ie[ze])return!1;return!0}},1843:(Ht,lt,V)=>{"use strict";V.d(lt,{L:()=>Ie,a:()=>xe,b:()=>Oe,c:()=>ge,d:()=>Te,e:()=>ie,g:()=>Xe,l:()=>We,s:()=>_e,t:()=>he});var l=V(5861),v=V(1308),F=V(5730);const Ie="ionViewWillEnter",xe="ionViewDidEnter",Oe="ionViewWillLeave",ge="ionViewDidLeave",Te="ionViewWillUnload",he=je=>new Promise((Ke,Je)=>{(0,v.c)(()=>{me(je),Ne(je).then(Fe=>{Fe.animation&&Fe.animation.destroy(),ke(je),Ke(Fe)},Fe=>{ke(je),Je(Fe)})})}),me=je=>{const Ke=je.enteringEl,Je=je.leavingEl;ze(Ke,Je,je.direction),je.showGoBack?Ke.classList.add("can-go-back"):Ke.classList.remove("can-go-back"),_e(Ke,!1),Ke.style.setProperty("pointer-events","none"),Je&&(_e(Je,!1),Je.style.setProperty("pointer-events","none"))},Ne=function(){var je=(0,l.Z)(function*(Ke){const Je=yield nt(Ke);return Je&&v.B.isBrowser?yt(Je,Ke):De(Ke)});return function(Je){return je.apply(this,arguments)}}(),ke=je=>{const Ke=je.enteringEl,Je=je.leavingEl;Ke.classList.remove("ion-page-invisible"),Ke.style.removeProperty("pointer-events"),void 0!==Je&&(Je.classList.remove("ion-page-invisible"),Je.style.removeProperty("pointer-events"))},nt=function(){var je=(0,l.Z)(function*(Ke){return Ke.leavingEl&&Ke.animated&&0!==Ke.duration?Ke.animationBuilder?Ke.animationBuilder:"ios"===Ke.mode?(yield Promise.resolve().then(V.bind(V,6439))).iosTransitionAnimation:(yield Promise.resolve().then(V.bind(V,7838))).mdTransitionAnimation:void 0});return function(Je){return je.apply(this,arguments)}}(),yt=function(){var je=(0,l.Z)(function*(Ke,Je){yield ue(Je,!0);const Fe=Ke(Je.baseEl,Je);Ve(Je.enteringEl,Je.leavingEl);const at=yield Ze(Fe,Je);return Je.progressCallback&&Je.progressCallback(void 0),at&&Ee(Je.enteringEl,Je.leavingEl),{hasCompleted:at,animation:Fe}});return function(Je,Fe){return je.apply(this,arguments)}}(),De=function(){var je=(0,l.Z)(function*(Ke){const Je=Ke.enteringEl,Fe=Ke.leavingEl;return yield ue(Ke,!1),Ve(Je,Fe),Ee(Je,Fe),{hasCompleted:!0}});return function(Je){return je.apply(this,arguments)}}(),ue=function(){var je=(0,l.Z)(function*(Ke,Je){const at=(void 0!==Ke.deepWait?Ke.deepWait:Je)?[ie(Ke.enteringEl),ie(Ke.leavingEl)]:[Ce(Ke.enteringEl),Ce(Ke.leavingEl)];yield Promise.all(at),yield Be(Ke.viewIsReady,Ke.enteringEl)});return function(Je,Fe){return je.apply(this,arguments)}}(),Be=function(){var je=(0,l.Z)(function*(Ke,Je){Ke&&(yield Ke(Je))});return function(Je,Fe){return je.apply(this,arguments)}}(),Ze=(je,Ke)=>{const Je=Ke.progressCallback,Fe=new Promise(at=>{je.onFinish(ut=>at(1===ut))});return Je?(je.progressStart(!0),Je(je)):je.play(),Fe},Ve=(je,Ke)=>{We(Ke,Oe),We(je,Ie)},Ee=(je,Ke)=>{We(je,xe),We(Ke,ge)},We=(je,Ke)=>{if(je){const Je=new CustomEvent(Ke,{bubbles:!1,cancelable:!1});je.dispatchEvent(Je)}},Ce=je=>je?new Promise(Ke=>(0,F.c)(je,Ke)):Promise.resolve(),ie=function(){var je=(0,l.Z)(function*(Ke){const Je=Ke;if(Je){if(null!=Je.componentOnReady){if(null!=(yield Je.componentOnReady()))return}else if(null!=Je.__registerHost)return void(yield new Promise(at=>(0,F.r)(at)));yield Promise.all(Array.from(Je.children).map(ie))}});return function(Je){return je.apply(this,arguments)}}(),_e=(je,Ke)=>{Ke?(je.setAttribute("aria-hidden","true"),je.classList.add("ion-page-hidden")):(je.hidden=!1,je.removeAttribute("aria-hidden"),je.classList.remove("ion-page-hidden"))},ze=(je,Ke,Je)=>{void 0!==je&&(je.style.zIndex="back"===Je?"99":"101"),void 0!==Ke&&(Ke.style.zIndex="100")},Xe=je=>je.classList.contains("ion-page")?je:je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||je},6369:(Ht,lt,V)=>{"use strict";V.d(lt,{m:()=>he});var l=V(5861),v=V(7593),F=V(5730),Ie=V(5179),xe=V(181);const Oe=me=>(0,xe.c)().duration(me?400:300),ge=me=>{let Ne,ke;const nt=me.width+8,yt=(0,xe.c)(),De=(0,xe.c)();me.isEndSide?(Ne=nt+"px",ke="0px"):(Ne=-nt+"px",ke="0px"),yt.addElement(me.menuInnerEl).fromTo("transform",`translateX(${Ne})`,`translateX(${ke})`);const Be="ios"===(0,Ie.b)(me),Ze=Be?.2:.25;return De.addElement(me.backdropEl).fromTo("opacity",.01,Ze),Oe(Be).addAnimation([yt,De])},Te=me=>{let Ne,ke;const nt=(0,Ie.b)(me),yt=me.width;me.isEndSide?(Ne=-yt+"px",ke=yt+"px"):(Ne=yt+"px",ke=-yt+"px");const De=(0,xe.c)().addElement(me.menuInnerEl).fromTo("transform",`translateX(${ke})`,"translateX(0px)"),ue=(0,xe.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ne})`),Be=(0,xe.c)().addElement(me.backdropEl).fromTo("opacity",.01,.32);return Oe("ios"===nt).addAnimation([De,ue,Be])},$e=me=>{const Ne=(0,Ie.b)(me),ke=me.width*(me.isEndSide?-1:1)+"px",nt=(0,xe.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${ke})`);return Oe("ios"===Ne).addAnimation(nt)},he=(()=>{const me=new Map,Ne=[],ke=function(){var Se=(0,l.Z)(function*(Pe){const tt=yield Ve(Pe);return!!tt&&tt.open()});return function(tt){return Se.apply(this,arguments)}}(),nt=function(){var Se=(0,l.Z)(function*(Pe){const tt=yield void 0!==Pe?Ve(Pe):Ee();return void 0!==tt&&tt.close()});return function(tt){return Se.apply(this,arguments)}}(),yt=function(){var Se=(0,l.Z)(function*(Pe){const tt=yield Ve(Pe);return!!tt&&tt.toggle()});return function(tt){return Se.apply(this,arguments)}}(),De=function(){var Se=(0,l.Z)(function*(Pe,tt){const ce=yield Ve(tt);return ce&&(ce.disabled=!Pe),ce});return function(tt,ce){return Se.apply(this,arguments)}}(),ue=function(){var Se=(0,l.Z)(function*(Pe,tt){const ce=yield Ve(tt);return ce&&(ce.swipeGesture=Pe),ce});return function(tt,ce){return Se.apply(this,arguments)}}(),Be=function(){var Se=(0,l.Z)(function*(Pe){if(null!=Pe){const tt=yield Ve(Pe);return void 0!==tt&&tt.isOpen()}return void 0!==(yield Ee())});return function(tt){return Se.apply(this,arguments)}}(),Ze=function(){var Se=(0,l.Z)(function*(Pe){const tt=yield Ve(Pe);return!!tt&&!tt.disabled});return function(tt){return Se.apply(this,arguments)}}(),Ve=function(){var Se=(0,l.Z)(function*(Pe){return yield Me(),"start"===Pe||"end"===Pe?ut(Re=>Re.side===Pe&&!Re.disabled)||ut(Re=>Re.side===Pe):null!=Pe?ut(ce=>ce.menuId===Pe):ut(ce=>!ce.disabled)||(Ne.length>0?Ne[0].el:void 0)});return function(tt){return Se.apply(this,arguments)}}(),Ee=function(){var Se=(0,l.Z)(function*(){return yield Me(),Je()});return function(){return Se.apply(this,arguments)}}(),We=function(){var Se=(0,l.Z)(function*(){return yield Me(),Fe()});return function(){return Se.apply(this,arguments)}}(),Ce=function(){var Se=(0,l.Z)(function*(){return yield Me(),at()});return function(){return Se.apply(this,arguments)}}(),ie=(Se,Pe)=>{me.set(Se,Pe)},Xe=Se=>{const Pe=Se.side;Ne.filter(tt=>tt.side===Pe&&tt!==Se).forEach(tt=>tt.disabled=!0)},je=function(){var Se=(0,l.Z)(function*(Pe,tt,ce){if(at())return!1;if(tt){const Re=yield Ee();Re&&Pe.el!==Re&&(yield Re.setOpen(!1,!1))}return Pe._setOpen(tt,ce)});return function(tt,ce,Re){return Se.apply(this,arguments)}}(),Je=()=>ut(Se=>Se._isOpen),Fe=()=>Ne.map(Se=>Se.el),at=()=>Ne.some(Se=>Se.isAnimating),ut=Se=>{const Pe=Ne.find(Se);if(void 0!==Pe)return Pe.el},Me=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Se=>new Promise(Pe=>(0,F.c)(Se,Pe))));return ie("reveal",$e),ie("push",Te),ie("overlay",ge),typeof document<"u"&&document.addEventListener("ionBackButton",Se=>{const Pe=Je();Pe&&Se.detail.register(v.MENU_BACK_BUTTON_PRIORITY,()=>Pe.close())}),{registerAnimation:ie,get:Ve,getMenus:We,getOpen:Ee,isEnabled:Ze,swipeGesture:ue,isAnimating:Ce,isOpen:Be,enable:De,toggle:yt,close:nt,open:ke,_getOpenSync:Je,_createAnimation:(Se,Pe)=>{const tt=me.get(Se);if(!tt)throw new Error("animation not registered");return tt(Pe)},_register:Se=>{Ne.indexOf(Se)<0&&(Se.disabled||Xe(Se),Ne.push(Se))},_unregister:Se=>{const Pe=Ne.indexOf(Se);Pe>-1&&Ne.splice(Pe,1)},_setOpen:je,_setActiveMenu:Xe}})()},3457:(Ht,lt,V)=>{"use strict";V.d(lt,{w:()=>l});const l=typeof window<"u"?window:void 0},1898:(Ht,lt,V)=>{"use strict";V.r(lt),V.d(lt,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>$e});var l=V(4349);const v=(Ne,ke,nt,yt)=>{const De=F(Ne)?{capture:!!yt.capture,passive:!!yt.passive}:!!yt.capture;let ue,Be;return Ne.__zone_symbol__addEventListener?(ue="__zone_symbol__addEventListener",Be="__zone_symbol__removeEventListener"):(ue="addEventListener",Be="removeEventListener"),Ne[ue](ke,nt,De),()=>{Ne[Be](ke,nt,De)}},F=Ne=>{if(void 0===Ie)try{const ke=Object.defineProperty({},"passive",{get:()=>{Ie=!0}});Ne.addEventListener("optsTest",()=>{},ke)}catch(ke){Ie=!1}return!!Ie};let Ie;const ge=Ne=>Ne instanceof Document?Ne:Ne.ownerDocument,$e=Ne=>{let ke=!1,nt=!1,yt=!0,De=!1;const ue=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ne),Be=ue.canStart,Ze=ue.onWillStart,Ve=ue.onStart,Ee=ue.onEnd,We=ue.notCaptured,Ce=ue.onMove,ie=ue.threshold,_e=ue.passive,ze=ue.blurOnStart,Xe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},je=((Ne,ke,nt)=>{const yt=nt*(Math.PI/180),De="x"===Ne,ue=Math.cos(yt),Be=ke*ke;let Ze=0,Ve=0,Ee=!1,We=0;return{start(Ce,ie){Ze=Ce,Ve=ie,We=0,Ee=!0},detect(Ce,ie){if(!Ee)return!1;const _e=Ce-Ze,ze=ie-Ve,Xe=_e*_e+ze*ze;if(Xe<Be)return!1;const je=Math.sqrt(Xe),Ke=(De?_e:ze)/je;return We=Ke>ue?1:Ke<-ue?-1:0,Ee=!1,!0},isGesture:()=>0!==We,getDirection:()=>We}})(ue.direction,ue.threshold,ue.maxAngle),Ke=l.G.createGesture({name:Ne.gestureName,priority:Ne.gesturePriority,disableScroll:Ne.disableScroll}),at=()=>{ke&&(De=!1,Ce&&Ce(Xe))},ut=()=>!!Ke.capture()&&(ke=!0,yt=!1,Xe.startX=Xe.currentX,Xe.startY=Xe.currentY,Xe.startTime=Xe.currentTime,Ze?Ze(Xe).then(Se):Se(),!0),Se=()=>{ze&&(()=>{if(typeof document<"u"){const ee=document.activeElement;null!=ee&&ee.blur&&ee.blur()}})(),Ve&&Ve(Xe),yt=!0},Pe=()=>{ke=!1,nt=!1,De=!1,yt=!0,Ke.release()},tt=ee=>{const be=ke,et=yt;if(Pe(),et){if(fe(Xe,ee),be)return void(Ee&&Ee(Xe));We&&We(Xe)}},ce=((Ne,ke,nt,yt,De)=>{let ue,Be,Ze,Ve,Ee,We,Ce,ie=0;const _e=Me=>{ie=Date.now()+2e3,ke(Me)&&(!Be&&nt&&(Be=v(Ne,"touchmove",nt,De)),Ze||(Ze=v(Me.target,"touchend",Xe,De)),Ve||(Ve=v(Me.target,"touchcancel",Xe,De)))},ze=Me=>{ie>Date.now()||ke(Me)&&(!We&&nt&&(We=v(ge(Ne),"mousemove",nt,De)),Ce||(Ce=v(ge(Ne),"mouseup",je,De)))},Xe=Me=>{Ke(),yt&&yt(Me)},je=Me=>{Je(),yt&&yt(Me)},Ke=()=>{Be&&Be(),Ze&&Ze(),Ve&&Ve(),Be=Ze=Ve=void 0},Je=()=>{We&&We(),Ce&&Ce(),We=Ce=void 0},Fe=()=>{Ke(),Je()},at=(Me=!0)=>{Me?(ue||(ue=v(Ne,"touchstart",_e,De)),Ee||(Ee=v(Ne,"mousedown",ze,De))):(ue&&ue(),Ee&&Ee(),ue=Ee=void 0,Fe())};return{enable:at,stop:Fe,destroy:()=>{at(!1),yt=nt=ke=void 0}}})(ue.el,ee=>{const be=me(ee);return!(nt||!yt||(he(ee,Xe),Xe.startX=Xe.currentX,Xe.startY=Xe.currentY,Xe.startTime=Xe.currentTime=be,Xe.velocityX=Xe.velocityY=Xe.deltaX=Xe.deltaY=0,Xe.event=ee,Be&&!1===Be(Xe))||(Ke.release(),!Ke.start()))&&(nt=!0,0===ie?ut():(je.start(Xe.startX,Xe.startY),!0))},ee=>{ke?!De&&yt&&(De=!0,fe(Xe,ee),requestAnimationFrame(at)):(fe(Xe,ee),je.detect(Xe.currentX,Xe.currentY)&&(!je.isGesture()||!ut())&&Re())},tt,{capture:!1,passive:_e}),Re=()=>{Pe(),ce.stop(),We&&We(Xe)};return{enable(ee=!0){ee||(ke&&tt(void 0),Pe()),ce.enable(ee)},destroy(){Ke.destroy(),ce.destroy()}}},fe=(Ne,ke)=>{if(!ke)return;const nt=Ne.currentX,yt=Ne.currentY,De=Ne.currentTime;he(ke,Ne);const ue=Ne.currentX,Be=Ne.currentY,Ve=(Ne.currentTime=me(ke))-De;if(Ve>0&&Ve<100){const We=(Be-yt)/Ve;Ne.velocityX=(ue-nt)/Ve*.7+.3*Ne.velocityX,Ne.velocityY=.7*We+.3*Ne.velocityY}Ne.deltaX=ue-Ne.startX,Ne.deltaY=Be-Ne.startY,Ne.event=ke},he=(Ne,ke)=>{let nt=0,yt=0;if(Ne){const De=Ne.changedTouches;if(De&&De.length>0){const ue=De[0];nt=ue.clientX,yt=ue.clientY}else void 0!==Ne.pageX&&(nt=Ne.pageX,yt=Ne.pageY)}ke.currentX=nt,ke.currentY=yt},me=Ne=>Ne.timeStamp||Date.now()},1308:(Ht,lt,V)=>{"use strict";V.d(lt,{B:()=>xi,H:()=>sn,a:()=>Re,b:()=>bi,c:()=>Hr,e:()=>bn,f:()=>Ar,g:()=>ee,h:()=>en,i:()=>In,j:()=>or,k:()=>Vr,p:()=>yt,r:()=>ei,s:()=>ke});var l=V(5861);let F,Ie,xe,Oe=!1,ge=!1,Te=!1,$e=!1,fe=!1;const he=typeof window<"u"?window:{},me=he.document||{head:{}},Ne={$flags$:0,$resourcesUrl$:"",jmp:K=>K(),raf:K=>requestAnimationFrame(K),ael:(K,le,Ue,rt)=>K.addEventListener(le,Ue,rt),rel:(K,le,Ue,rt)=>K.removeEventListener(le,Ue,rt),ce:(K,le)=>new CustomEvent(K,le)},ke=K=>{Object.assign(Ne,K)},yt=K=>Promise.resolve(K),De=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(K){}return!1})(),ue=(K,le,Ue,rt)=>{Ue&&Ue.map(([It,te,Ge])=>{const st=Ze(K,It),Et=Be(le,Ge),Dt=Ve(It);Ne.ael(st,te,Et,Dt),(le.$rmListeners$=le.$rmListeners$||[]).push(()=>Ne.rel(st,te,Et,Dt))})},Be=(K,le)=>Ue=>{try{256&K.$flags$?K.$lazyInstance$[le](Ue):(K.$queuedListeners$=K.$queuedListeners$||[]).push([le,Ue])}catch(rt){Ln(rt)}},Ze=(K,le)=>4&le?me:8&le?he:16&le?me.body:K,Ve=K=>0!=(2&K),_e="s-id",ze="sty-id",Ke="http://www.w3.org/1999/xlink",at=new WeakMap,ut=(K,le,Ue)=>{let rt=xr.get(K);De&&Ue?(rt=rt||new CSSStyleSheet,"string"==typeof rt?rt=le:rt.replaceSync(le)):rt=le,xr.set(K,rt)},Me=(K,le,Ue,rt)=>{let It=Pe(le,Ue);const te=xr.get(It);if(K=11===K.nodeType?K:me,te)if("string"==typeof te){let st,Ge=at.get(K=K.head||K);Ge||at.set(K,Ge=new Set),Ge.has(It)||(K.host&&(st=K.querySelector(`[${ze}="${It}"]`))?st.innerHTML=te:(st=me.createElement("style"),st.innerHTML=te,K.insertBefore(st,K.querySelector("link"))),Ge&&Ge.add(It))}else K.adoptedStyleSheets.includes(te)||(K.adoptedStyleSheets=[...K.adoptedStyleSheets,te]);return It},Pe=(K,le)=>"sc-"+(le&&32&K.$flags$?K.$tagName$+"-"+le:K.$tagName$),tt=K=>K.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Re=K=>jr.push(K),ee=K=>ar(K).$modeName$,be={},vt=K=>"object"==(K=typeof K)||"function"===K,en=(K,le,...Ue)=>{let rt=null,It=null,te=null,Ge=!1,st=!1;const Et=[],Dt=rn=>{for(let Dn=0;Dn<rn.length;Dn++)rt=rn[Dn],Array.isArray(rt)?Dt(rt):null!=rt&&"boolean"!=typeof rt&&((Ge="function"!=typeof K&&!vt(rt))&&(rt=String(rt)),Ge&&st?Et[Et.length-1].$text$+=rt:Et.push(Ge?En(null,rt):rt),st=Ge)};if(Dt(Ue),le){le.key&&(It=le.key),le.name&&(te=le.name);{const rn=le.className||le.class;rn&&(le.class="object"!=typeof rn?rn:Object.keys(rn).filter(Dn=>rn[Dn]).join(" "))}}if("function"==typeof K)return K(null===le?{}:le,Et,zn);const Bt=En(K,null);return Bt.$attrs$=le,Et.length>0&&(Bt.$children$=Et),Bt.$key$=It,Bt.$name$=te,Bt},En=(K,le)=>({$flags$:0,$tag$:K,$text$:le,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),sn={},zn={forEach:(K,le)=>K.map(yr).forEach(le),map:(K,le)=>K.map(yr).map(le).map(wr)},yr=K=>({vattrs:K.$attrs$,vchildren:K.$children$,vkey:K.$key$,vname:K.$name$,vtag:K.$tag$,vtext:K.$text$}),wr=K=>{if("function"==typeof K.vtag){const Ue=Object.assign({},K.vattrs);return K.vkey&&(Ue.key=K.vkey),K.vname&&(Ue.name=K.vname),en(K.vtag,Ue,...K.vchildren||[])}const le=En(K.vtag,K.vtext);return le.$attrs$=K.vattrs,le.$children$=K.vchildren,le.$key$=K.vkey,le.$name$=K.vname,le},xn=(K,le,Ue,rt,It,te)=>{if(Ue!==rt){let Ge=Fi(K,le),st=le.toLowerCase();if("class"===le){const Et=K.classList,Dt=Nt(Ue),Bt=Nt(rt);Et.remove(...Dt.filter(rn=>rn&&!Bt.includes(rn))),Et.add(...Bt.filter(rn=>rn&&!Dt.includes(rn)))}else if("style"===le){for(const Et in Ue)(!rt||null==rt[Et])&&(Et.includes("-")?K.style.removeProperty(Et):K.style[Et]="");for(const Et in rt)(!Ue||rt[Et]!==Ue[Et])&&(Et.includes("-")?K.style.setProperty(Et,rt[Et]):K.style[Et]=rt[Et])}else if("key"!==le)if("ref"===le)rt&&rt(K);else if(Ge||"o"!==le[0]||"n"!==le[1]){const Et=vt(rt);if((Ge||Et&&null!==rt)&&!It)try{if(K.tagName.includes("-"))K[le]=rt;else{const Bt=null==rt?"":rt;"list"===le?Ge=!1:(null==Ue||K[le]!=Bt)&&(K[le]=Bt)}}catch(Bt){}let Dt=!1;st!==(st=st.replace(/^xlink\:?/,""))&&(le=st,Dt=!0),null==rt||!1===rt?(!1!==rt||""===K.getAttribute(le))&&(Dt?K.removeAttributeNS(Ke,le):K.removeAttribute(le)):(!Ge||4&te||It)&&!Et&&(rt=!0===rt?"":rt,Dt?K.setAttributeNS(Ke,le,rt):K.setAttribute(le,rt))}else le="-"===le[2]?le.slice(3):Fi(he,st)?st.slice(2):st[2]+le.slice(3),Ue&&Ne.rel(K,le,Ue,!1),rt&&Ne.ael(K,le,rt,!1)}},hr=/\s/,Nt=K=>K?K.split(hr):[],Yn=(K,le,Ue,rt)=>{const It=11===le.$elm$.nodeType&&le.$elm$.host?le.$elm$.host:le.$elm$,te=K&&K.$attrs$||be,Ge=le.$attrs$||be;for(rt in te)rt in Ge||xn(It,rt,te[rt],void 0,Ue,le.$flags$);for(rt in Ge)xn(It,rt,te[rt],Ge[rt],Ue,le.$flags$)},tr=(K,le,Ue,rt)=>{const It=le.$children$[Ue];let Ge,st,Et,te=0;if(Oe||(Te=!0,"slot"===It.$tag$&&(F&&rt.classList.add(F+"-s"),It.$flags$|=It.$children$?2:1)),null!==It.$text$)Ge=It.$elm$=me.createTextNode(It.$text$);else if(1&It.$flags$)Ge=It.$elm$=me.createTextNode("");else{if($e||($e="svg"===It.$tag$),Ge=It.$elm$=me.createElementNS($e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&It.$flags$?"slot-fb":It.$tag$),$e&&"foreignObject"===It.$tag$&&($e=!1),Yn(null,It,$e),(K=>null!=K)(F)&&Ge["s-si"]!==F&&Ge.classList.add(Ge["s-si"]=F),It.$children$)for(te=0;te<It.$children$.length;++te)st=tr(K,It,te,Ge),st&&Ge.appendChild(st);"svg"===It.$tag$?$e=!1:"foreignObject"===Ge.tagName&&($e=!0)}return Ge["s-hn"]=xe,3&It.$flags$&&(Ge["s-sr"]=!0,Ge["s-cr"]=Ie,Ge["s-sn"]=It.$name$||"",Et=K&&K.$children$&&K.$children$[Ue],Et&&Et.$tag$===It.$tag$&&K.$elm$&&Sr(K.$elm$,!1)),Ge},Sr=(K,le)=>{Ne.$flags$|=1;const Ue=K.childNodes;for(let rt=Ue.length-1;rt>=0;rt--){const It=Ue[rt];It["s-hn"]!==xe&&It["s-ol"]&&(sr(It).insertBefore(It,gn(It)),It["s-ol"].remove(),It["s-ol"]=void 0,Te=!0),le&&Sr(It,le)}Ne.$flags$&=-2},Br=(K,le,Ue,rt,It,te)=>{let st,Ge=K["s-cr"]&&K["s-cr"].parentNode||K;for(Ge.shadowRoot&&Ge.tagName===xe&&(Ge=Ge.shadowRoot);It<=te;++It)rt[It]&&(st=tr(null,Ue,It,K),st&&(rt[It].$elm$=st,Ge.insertBefore(st,gn(le))))},nr=(K,le,Ue,rt,It)=>{for(;le<=Ue;++le)(rt=K[le])&&(It=rt.$elm$,An(rt),ge=!0,It["s-ol"]?It["s-ol"].remove():Sr(It,!0),It.remove())},Jt=(K,le)=>K.$tag$===le.$tag$&&("slot"===K.$tag$?K.$name$===le.$name$:K.$key$===le.$key$),gn=K=>K&&K["s-ol"]||K,sr=K=>(K["s-ol"]?K["s-ol"]:K).parentNode,cn=(K,le)=>{const Ue=le.$elm$=K.$elm$,rt=K.$children$,It=le.$children$,te=le.$tag$,Ge=le.$text$;let st;null===Ge?($e="svg"===te||"foreignObject"!==te&&$e,"slot"===te||Yn(K,le,$e),null!==rt&&null!==It?((K,le,Ue,rt)=>{let fi,Ri,It=0,te=0,Ge=0,st=0,Et=le.length-1,Dt=le[0],Bt=le[Et],rn=rt.length-1,Dn=rt[0],Gn=rt[rn];for(;It<=Et&&te<=rn;)if(null==Dt)Dt=le[++It];else if(null==Bt)Bt=le[--Et];else if(null==Dn)Dn=rt[++te];else if(null==Gn)Gn=rt[--rn];else if(Jt(Dt,Dn))cn(Dt,Dn),Dt=le[++It],Dn=rt[++te];else if(Jt(Bt,Gn))cn(Bt,Gn),Bt=le[--Et],Gn=rt[--rn];else if(Jt(Dt,Gn))("slot"===Dt.$tag$||"slot"===Gn.$tag$)&&Sr(Dt.$elm$.parentNode,!1),cn(Dt,Gn),K.insertBefore(Dt.$elm$,Bt.$elm$.nextSibling),Dt=le[++It],Gn=rt[--rn];else if(Jt(Bt,Dn))("slot"===Dt.$tag$||"slot"===Gn.$tag$)&&Sr(Bt.$elm$.parentNode,!1),cn(Bt,Dn),K.insertBefore(Bt.$elm$,Dt.$elm$),Bt=le[--Et],Dn=rt[++te];else{for(Ge=-1,st=It;st<=Et;++st)if(le[st]&&null!==le[st].$key$&&le[st].$key$===Dn.$key$){Ge=st;break}Ge>=0?(Ri=le[Ge],Ri.$tag$!==Dn.$tag$?fi=tr(le&&le[te],Ue,Ge,K):(cn(Ri,Dn),le[Ge]=void 0,fi=Ri.$elm$),Dn=rt[++te]):(fi=tr(le&&le[te],Ue,te,K),Dn=rt[++te]),fi&&sr(Dt.$elm$).insertBefore(fi,gn(Dt.$elm$))}It>Et?Br(K,null==rt[rn+1]?null:rt[rn+1].$elm$,Ue,rt,te,rn):te>rn&&nr(le,It,Et)})(Ue,rt,le,It):null!==It?(null!==K.$text$&&(Ue.textContent=""),Br(Ue,null,le,It,0,It.length-1)):null!==rt&&nr(rt,0,rt.length-1),$e&&"svg"===te&&($e=!1)):(st=Ue["s-cr"])?st.parentNode.textContent=Ge:K.$text$!==Ge&&(Ue.data=Ge)},Pr=K=>{const le=K.childNodes;let Ue,rt,It,te,Ge,st;for(rt=0,It=le.length;rt<It;rt++)if(Ue=le[rt],1===Ue.nodeType){if(Ue["s-sr"])for(Ge=Ue["s-sn"],Ue.hidden=!1,te=0;te<It;te++)if(st=le[te].nodeType,le[te]["s-hn"]!==Ue["s-hn"]||""!==Ge){if(1===st&&Ge===le[te].getAttribute("slot")){Ue.hidden=!0;break}}else if(1===st||3===st&&""!==le[te].textContent.trim()){Ue.hidden=!0;break}Pr(Ue)}},Rt=[],qr=K=>{let le,Ue,rt,It,te,Ge,st=0;const Et=K.childNodes,Dt=Et.length;for(;st<Dt;st++){if(le=Et[st],le["s-sr"]&&(Ue=le["s-cr"])&&Ue.parentNode)for(rt=Ue.parentNode.childNodes,It=le["s-sn"],Ge=rt.length-1;Ge>=0;Ge--)Ue=rt[Ge],!Ue["s-cn"]&&!Ue["s-nr"]&&Ue["s-hn"]!==le["s-hn"]&&(oi(Ue,It)?(te=Rt.find(Bt=>Bt.$nodeToRelocate$===Ue),ge=!0,Ue["s-sn"]=Ue["s-sn"]||It,te?te.$slotRefNode$=le:Rt.push({$slotRefNode$:le,$nodeToRelocate$:Ue}),Ue["s-sr"]&&Rt.map(Bt=>{oi(Bt.$nodeToRelocate$,Ue["s-sn"])&&(te=Rt.find(rn=>rn.$nodeToRelocate$===Ue),te&&!Bt.$slotRefNode$&&(Bt.$slotRefNode$=te.$slotRefNode$))})):Rt.some(Bt=>Bt.$nodeToRelocate$===Ue)||Rt.push({$nodeToRelocate$:Ue}));1===le.nodeType&&qr(le)}},oi=(K,le)=>1===K.nodeType?null===K.getAttribute("slot")&&""===le||K.getAttribute("slot")===le:K["s-sn"]===le||""===le,An=K=>{K.$attrs$&&K.$attrs$.ref&&K.$attrs$.ref(null),K.$children$&&K.$children$.map(An)},In=K=>ar(K).$hostElement$,bn=(K,le,Ue)=>{const rt=In(K);return{emit:It=>Dr(rt,le,{bubbles:!!(4&Ue),composed:!!(2&Ue),cancelable:!!(1&Ue),detail:It})}},Dr=(K,le,Ue)=>{const rt=Ne.ce(le,Ue);return K.dispatchEvent(rt),rt},kt=(K,le)=>{le&&!K.$onRenderResolve$&&le["s-p"]&&le["s-p"].push(new Promise(Ue=>K.$onRenderResolve$=Ue))},Ct=(K,le)=>{if(K.$flags$|=16,!(4&K.$flags$))return kt(K,K.$ancestorComponent$),Hr(()=>Qt(K,le));K.$flags$|=512},Qt=(K,le)=>{const rt=K.$lazyInstance$;let It;return le&&(K.$flags$|=256,K.$queuedListeners$&&(K.$queuedListeners$.map(([te,Ge])=>ye(rt,te,Ge)),K.$queuedListeners$=null),It=ye(rt,"componentWillLoad")),It=X(It,()=>ye(rt,"componentWillRender")),X(It,()=>fn(K,rt,le))},fn=function(){var K=(0,l.Z)(function*(le,Ue,rt){const It=le.$hostElement$,Ge=It["s-rc"];rt&&(K=>{const le=K.$cmpMeta$,Ue=K.$hostElement$,rt=le.$flags$,te=Me(Ue.shadowRoot?Ue.shadowRoot:Ue.getRootNode(),le,K.$modeName$);10&rt&&(Ue["s-sc"]=te,Ue.classList.add(te+"-h"),2&rt&&Ue.classList.add(te+"-s"))})(le);vn(le,Ue),Ge&&(Ge.map(Et=>Et()),It["s-rc"]=void 0);{const Et=It["s-p"],Dt=()=>Rn(le);0===Et.length?Dt():(Promise.all(Et).then(Dt),le.$flags$|=4,Et.length=0)}});return function(Ue,rt,It){return K.apply(this,arguments)}}(),vn=(K,le,Ue)=>{try{le=le.render&&le.render(),K.$flags$&=-17,K.$flags$|=2,((K,le)=>{const Ue=K.$hostElement$,rt=K.$cmpMeta$,It=K.$vnode$||En(null,null),te=(K=>K&&K.$tag$===sn)(le)?le:en(null,null,le);if(xe=Ue.tagName,rt.$attrsToReflect$&&(te.$attrs$=te.$attrs$||{},rt.$attrsToReflect$.map(([Ge,st])=>te.$attrs$[st]=Ue[Ge])),te.$tag$=null,te.$flags$|=4,K.$vnode$=te,te.$elm$=It.$elm$=Ue.shadowRoot||Ue,F=Ue["s-sc"],Ie=Ue["s-cr"],Oe=0!=(1&rt.$flags$),ge=!1,cn(It,te),Ne.$flags$|=1,Te){qr(te.$elm$);let Ge,st,Et,Dt,Bt,rn,Dn=0;for(;Dn<Rt.length;Dn++)Ge=Rt[Dn],st=Ge.$nodeToRelocate$,st["s-ol"]||(Et=me.createTextNode(""),Et["s-nr"]=st,st.parentNode.insertBefore(st["s-ol"]=Et,st));for(Dn=0;Dn<Rt.length;Dn++)if(Ge=Rt[Dn],st=Ge.$nodeToRelocate$,Ge.$slotRefNode$){for(Dt=Ge.$slotRefNode$.parentNode,Bt=Ge.$slotRefNode$.nextSibling,Et=st["s-ol"];Et=Et.previousSibling;)if(rn=Et["s-nr"],rn&&rn["s-sn"]===st["s-sn"]&&Dt===rn.parentNode&&(rn=rn.nextSibling,!rn||!rn["s-nr"])){Bt=rn;break}(!Bt&&Dt!==st.parentNode||st.nextSibling!==Bt)&&st!==Bt&&(!st["s-hn"]&&st["s-ol"]&&(st["s-hn"]=st["s-ol"].parentNode.nodeName),Dt.insertBefore(st,Bt))}else 1===st.nodeType&&(st.hidden=!0)}ge&&Pr(te.$elm$),Ne.$flags$&=-2,Rt.length=0})(K,le)}catch(rt){Ln(rt,K.$hostElement$)}return null},Rn=K=>{const Ue=K.$hostElement$,It=K.$lazyInstance$,te=K.$ancestorComponent$;ye(It,"componentDidRender"),64&K.$flags$?ye(It,"componentDidUpdate"):(K.$flags$|=64,ne(Ue),ye(It,"componentDidLoad"),K.$onReadyResolve$(Ue),te||Ae()),K.$onInstanceResolve$(Ue),K.$onRenderResolve$&&(K.$onRenderResolve$(),K.$onRenderResolve$=void 0),512&K.$flags$&&On(()=>Ct(K,!1)),K.$flags$&=-517},or=K=>{{const le=ar(K),Ue=le.$hostElement$.isConnected;return Ue&&2==(18&le.$flags$)&&Ct(le,!1),Ue}},Ae=K=>{ne(me.documentElement),On(()=>Dr(he,"appload",{detail:{namespace:"ionic"}}))},ye=(K,le,Ue)=>{if(K&&K[le])try{return K[le](Ue)}catch(rt){Ln(rt)}},X=(K,le)=>K&&K.then?K.then(le):le(),ne=K=>K.classList.add("hydrated"),Qe=(K,le,Ue,rt,It,te,Ge)=>{let st,Et,Dt,Bt;if(1===te.nodeType){for(st=te.getAttribute("c-id"),st&&(Et=st.split("."),(Et[0]===Ge||"0"===Et[0])&&(Dt={$flags$:0,$hostId$:Et[0],$nodeId$:Et[1],$depth$:Et[2],$index$:Et[3],$tag$:te.tagName.toLowerCase(),$elm$:te,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},le.push(Dt),te.removeAttribute("c-id"),K.$children$||(K.$children$=[]),K.$children$[Dt.$index$]=Dt,K=Dt,rt&&"0"===Dt.$depth$&&(rt[Dt.$index$]=Dt.$elm$))),Bt=te.childNodes.length-1;Bt>=0;Bt--)Qe(K,le,Ue,rt,It,te.childNodes[Bt],Ge);if(te.shadowRoot)for(Bt=te.shadowRoot.childNodes.length-1;Bt>=0;Bt--)Qe(K,le,Ue,rt,It,te.shadowRoot.childNodes[Bt],Ge)}else if(8===te.nodeType)Et=te.nodeValue.split("."),(Et[1]===Ge||"0"===Et[1])&&(st=Et[0],Dt={$flags$:0,$hostId$:Et[1],$nodeId$:Et[2],$depth$:Et[3],$index$:Et[4],$elm$:te,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===st?(Dt.$elm$=te.nextSibling,Dt.$elm$&&3===Dt.$elm$.nodeType&&(Dt.$text$=Dt.$elm$.textContent,le.push(Dt),te.remove(),K.$children$||(K.$children$=[]),K.$children$[Dt.$index$]=Dt,rt&&"0"===Dt.$depth$&&(rt[Dt.$index$]=Dt.$elm$))):Dt.$hostId$===Ge&&("s"===st?(Dt.$tag$="slot",te["s-sn"]=Et[5]?Dt.$name$=Et[5]:"",te["s-sr"]=!0,rt&&(Dt.$elm$=me.createElement(Dt.$tag$),Dt.$name$&&Dt.$elm$.setAttribute("name",Dt.$name$),te.parentNode.insertBefore(Dt.$elm$,te),te.remove(),"0"===Dt.$depth$&&(rt[Dt.$index$]=Dt.$elm$)),Ue.push(Dt),K.$children$||(K.$children$=[]),K.$children$[Dt.$index$]=Dt):"r"===st&&(rt?te.remove():(It["s-cr"]=te,te["s-cn"]=!0))));else if(K&&"style"===K.$tag$){const rn=En(null,te.textContent);rn.$elm$=te,rn.$index$="0",K.$children$=[rn]}},se=(K,le)=>{if(1===K.nodeType){let Ue=0;for(;Ue<K.childNodes.length;Ue++)se(K.childNodes[Ue],le);if(K.shadowRoot)for(Ue=0;Ue<K.shadowRoot.childNodes.length;Ue++)se(K.shadowRoot.childNodes[Ue],le)}else if(8===K.nodeType){const Ue=K.nodeValue.split(".");"o"===Ue[0]&&(le.set(Ue[1]+"."+Ue[2],K),K.nodeValue="",K["s-en"]=Ue[3])}},ht=(K,le,Ue)=>{if(le.$members$){K.watchers&&(le.$watchers$=K.watchers);const rt=Object.entries(le.$members$),It=K.prototype;if(rt.map(([te,[Ge]])=>{31&Ge||2&Ue&&32&Ge?Object.defineProperty(It,te,{get(){return((K,le)=>ar(this).$instanceValues$.get(le))(0,te)},set(st){((K,le,Ue,rt)=>{const It=ar(K),te=It.$hostElement$,Ge=It.$instanceValues$.get(le),st=It.$flags$,Et=It.$lazyInstance$;Ue=((K,le)=>null==K||vt(K)?K:4&le?"false"!==K&&(""===K||!!K):2&le?parseFloat(K):1&le?String(K):K)(Ue,rt.$members$[le][0]);const Dt=Number.isNaN(Ge)&&Number.isNaN(Ue);if((!(8&st)||void 0===Ge)&&Ue!==Ge&&!Dt&&(It.$instanceValues$.set(le,Ue),Et)){if(rt.$watchers$&&128&st){const rn=rt.$watchers$[le];rn&&rn.map(Dn=>{try{Et[Dn](Ue,Ge,le)}catch(Gn){Ln(Gn,te)}})}2==(18&st)&&Ct(It,!1)}})(this,te,st,le)},configurable:!0,enumerable:!0}):1&Ue&&64&Ge&&Object.defineProperty(It,te,{value(...st){const Et=ar(this);return Et.$onInstancePromise$.then(()=>Et.$lazyInstance$[te](...st))}})}),1&Ue){const te=new Map;It.attributeChangedCallback=function(Ge,st,Et){Ne.jmp(()=>{const Dt=te.get(Ge);if(this.hasOwnProperty(Dt))Et=this[Dt],delete this[Dt];else if(It.hasOwnProperty(Dt)&&"number"==typeof this[Dt]&&this[Dt]==Et)return;this[Dt]=(null!==Et||"boolean"!=typeof this[Dt])&&Et})},K.observedAttributes=rt.filter(([Ge,st])=>15&st[0]).map(([Ge,st])=>{const Et=st[1]||Ge;return te.set(Et,Ge),512&st[0]&&le.$attrsToReflect$.push([Ge,Et]),Et})}}return K},St=function(){var K=(0,l.Z)(function*(le,Ue,rt,It,te){if(!(32&Ue.$flags$)){{if(Ue.$flags$|=32,(te=Tr(rt)).then){const Dt=()=>{};te=yield te,Dt()}te.isProxied||(rt.$watchers$=te.watchers,ht(te,rt,2),te.isProxied=!0);const Et=()=>{};Ue.$flags$|=8;try{new te(Ue)}catch(Dt){Ln(Dt)}Ue.$flags$&=-9,Ue.$flags$|=128,Et(),nn(Ue.$lazyInstance$)}if(te.style){let Et=te.style;"string"!=typeof Et&&(Et=Et[Ue.$modeName$=(K=>jr.map(le=>le(K)).find(le=>!!le))(le)]);const Dt=Pe(rt,Ue.$modeName$);if(!xr.has(Dt)){const Bt=()=>{};ut(Dt,Et,!!(1&rt.$flags$)),Bt()}}}const Ge=Ue.$ancestorComponent$,st=()=>Ct(Ue,!0);Ge&&Ge["s-rc"]?Ge["s-rc"].push(st):st()});return function(Ue,rt,It,te,Ge){return K.apply(this,arguments)}}(),nn=K=>{ye(K,"connectedCallback")},vr=K=>{const le=K["s-cr"]=me.createComment("");le["s-cn"]=!0,K.insertBefore(le,K.firstChild)},bi=(K,le={})=>{const rt=[],It=le.exclude||[],te=he.customElements,Ge=me.head,st=Ge.querySelector("meta[charset]"),Et=me.createElement("style"),Dt=[],Bt=me.querySelectorAll(`[${ze}]`);let rn,Dn=!0,Gn=0;for(Object.assign(Ne,le),Ne.$resourcesUrl$=new URL(le.resourcesUrl||"./",me.baseURI).href,Ne.$flags$|=2;Gn<Bt.length;Gn++)ut(Bt[Gn].getAttribute(ze),tt(Bt[Gn].innerHTML),!0);K.map(fi=>{fi[1].map(Ri=>{const wn={$flags$:Ri[0],$tagName$:Ri[1],$members$:Ri[2],$listeners$:Ri[3]};wn.$members$=Ri[2],wn.$listeners$=Ri[3],wn.$attrsToReflect$=[],wn.$watchers$={};const ws=wn.$tagName$,hs=class extends HTMLElement{constructor(ns){super(ns),ds(ns=this,wn),1&wn.$flags$&&ns.attachShadow({mode:"open",delegatesFocus:!!(16&wn.$flags$)})}connectedCallback(){rn&&(clearTimeout(rn),rn=null),Dn?Dt.push(this):Ne.jmp(()=>(K=>{if(!(1&Ne.$flags$)){const le=ar(K),Ue=le.$cmpMeta$,rt=()=>{};if(1&le.$flags$)ue(K,le,Ue.$listeners$),nn(le.$lazyInstance$);else{let It;if(le.$flags$|=1,It=K.getAttribute(_e),It){if(1&Ue.$flags$){const te=Me(K.shadowRoot,Ue,K.getAttribute("s-mode"));K.classList.remove(te+"-h",te+"-s")}((K,le,Ue,rt)=>{const te=K.shadowRoot,Ge=[],Et=te?[]:null,Dt=rt.$vnode$=En(le,null);Ne.$orgLocNodes$||se(me.body,Ne.$orgLocNodes$=new Map),K[_e]=Ue,K.removeAttribute(_e),Qe(Dt,Ge,[],Et,K,K,Ue),Ge.map(Bt=>{const rn=Bt.$hostId$+"."+Bt.$nodeId$,Dn=Ne.$orgLocNodes$.get(rn),Gn=Bt.$elm$;Dn&&""===Dn["s-en"]&&Dn.parentNode.insertBefore(Gn,Dn.nextSibling),te||(Gn["s-hn"]=le,Dn&&(Gn["s-ol"]=Dn,Gn["s-ol"]["s-nr"]=Gn)),Ne.$orgLocNodes$.delete(rn)}),te&&Et.map(Bt=>{Bt&&te.appendChild(Bt)})})(K,Ue.$tagName$,It,le)}It||12&Ue.$flags$&&vr(K);{let te=K;for(;te=te.parentNode||te.host;)if(1===te.nodeType&&te.hasAttribute("s-id")&&te["s-p"]||te["s-p"]){kt(le,le.$ancestorComponent$=te);break}}Ue.$members$&&Object.entries(Ue.$members$).map(([te,[Ge]])=>{if(31&Ge&&K.hasOwnProperty(te)){const st=K[te];delete K[te],K[te]=st}}),On(()=>St(K,le,Ue))}rt()}})(this))}disconnectedCallback(){Ne.jmp(()=>(K=>{if(!(1&Ne.$flags$)){const le=ar(this),Ue=le.$lazyInstance$;le.$rmListeners$&&(le.$rmListeners$.map(rt=>rt()),le.$rmListeners$=void 0),ye(Ue,"disconnectedCallback")}})())}componentOnReady(){return ar(this).$onReadyPromise$}};wn.$lazyBundleId$=fi[0],!It.includes(ws)&&!te.get(ws)&&(rt.push(ws),te.define(ws,ht(hs,wn,1)))})}),Et.innerHTML=rt+"{visibility:hidden}.hydrated{visibility:inherit}",Et.setAttribute("data-styles",""),Ge.insertBefore(Et,st?st.nextSibling:Ge.firstChild),Dn=!1,Dt.length?Dt.map(fi=>fi.connectedCallback()):Ne.jmp(()=>rn=setTimeout(Ae,30))},Vr=K=>{const le=new URL(K,Ne.$resourcesUrl$);return le.origin!==he.location.origin?le.href:le.pathname},Ur=new WeakMap,ar=K=>Ur.get(K),ei=(K,le)=>Ur.set(le.$lazyInstance$=K,le),ds=(K,le)=>{const Ue={$flags$:0,$hostElement$:K,$cmpMeta$:le,$instanceValues$:new Map};return Ue.$onInstancePromise$=new Promise(rt=>Ue.$onInstanceResolve$=rt),Ue.$onReadyPromise$=new Promise(rt=>Ue.$onReadyResolve$=rt),K["s-p"]=[],K["s-rc"]=[],ue(K,Ue,le.$listeners$),Ur.set(K,Ue)},Fi=(K,le)=>le in K,Ln=(K,le)=>(0,console.error)(K,le),Fr=new Map,Tr=(K,le,Ue)=>{const rt=K.$tagName$.replace(/-/g,"_"),It=K.$lazyBundleId$,te=Fr.get(It);return te?te[rt]:V(863)(`./${It}.entry.js`).then(Ge=>(Fr.set(It,Ge),Ge[rt]),Ln)},xr=new Map,jr=[],Rr=[],ts=[],gi=(K,le)=>Ue=>{K.push(Ue),fe||(fe=!0,le&&4&Ne.$flags$?On(zt):Ne.raf(zt))},ai=K=>{for(let le=0;le<K.length;le++)try{K[le](performance.now())}catch(Ue){Ln(Ue)}K.length=0},zt=()=>{ai(Rr),ai(ts),(fe=Rr.length>0)&&Ne.raf(zt)},On=K=>yt().then(K),Ar=gi(Rr,!1),Hr=gi(ts,!0),xi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(Ht,lt,V)=>{"use strict";V.d(lt,{a:()=>he,b:()=>at,c:()=>F,g:()=>fe,i:()=>ut});var l=V(1308);class v{constructor(){this.m=new Map}reset(Se){this.m=new Map(Object.entries(Se))}get(Se,Pe){const tt=this.m.get(Se);return void 0!==tt?tt:Pe}getBoolean(Se,Pe=!1){const tt=this.m.get(Se);return void 0===tt?Pe:"string"==typeof tt?"true"===tt:!!tt}getNumber(Se,Pe){const tt=parseFloat(this.m.get(Se));return isNaN(tt)?void 0!==Pe?Pe:NaN:tt}set(Se,Pe){this.m.set(Se,Pe)}}const F=new v,$e="ionic-persist-config",fe=Me=>me(Me),he=(Me,Se)=>("string"==typeof Me&&(Se=Me,Me=void 0),fe(Me).includes(Se)),me=(Me=window)=>{if(typeof Me>"u")return[];Me.Ionic=Me.Ionic||{};let Se=Me.Ionic.platforms;return null==Se&&(Se=Me.Ionic.platforms=Ne(Me),Se.forEach(Pe=>Me.document.documentElement.classList.add(`plt-${Pe}`))),Se},Ne=Me=>{const Se=F.get("platform");return Object.keys(Je).filter(Pe=>{const tt=null==Se?void 0:Se[Pe];return"function"==typeof tt?tt(Me):Je[Pe](Me)})},nt=Me=>!!(je(Me,/iPad/i)||je(Me,/Macintosh/i)&&Ee(Me)),ue=Me=>je(Me,/android|sink/i),Ee=Me=>Ke(Me,"(any-pointer:coarse)"),Ce=Me=>ie(Me)||_e(Me),ie=Me=>!!(Me.cordova||Me.phonegap||Me.PhoneGap),_e=Me=>{const Se=Me.Capacitor;return!(null==Se||!Se.isNative)},je=(Me,Se)=>Se.test(Me.navigator.userAgent),Ke=(Me,Se)=>{var Pe;return null===(Pe=Me.matchMedia)||void 0===Pe?void 0:Pe.call(Me,Se).matches},Je={ipad:nt,iphone:Me=>je(Me,/iPhone/i),ios:Me=>je(Me,/iPhone|iPod/i)||nt(Me),android:ue,phablet:Me=>{const Se=Me.innerWidth,Pe=Me.innerHeight,tt=Math.min(Se,Pe),ce=Math.max(Se,Pe);return tt>390&&tt<520&&ce>620&&ce<800},tablet:Me=>{const Se=Me.innerWidth,Pe=Me.innerHeight,tt=Math.min(Se,Pe),ce=Math.max(Se,Pe);return nt(Me)||(Me=>ue(Me)&&!je(Me,/mobile/i))(Me)||tt>460&&tt<820&&ce>780&&ce<1400},cordova:ie,capacitor:_e,electron:Me=>je(Me,/electron/i),pwa:Me=>{var Se;return!!(null!==(Se=Me.matchMedia)&&void 0!==Se&&Se.call(Me,"(display-mode: standalone)").matches||Me.navigator.standalone)},mobile:Ee,mobileweb:Me=>Ee(Me)&&!Ce(Me),desktop:Me=>!Ee(Me),hybrid:Ce};let Fe;const at=Me=>Me&&(0,l.g)(Me)||Fe,ut=(Me={})=>{if(typeof window>"u")return;const Se=window.document,Pe=window,tt=Pe.Ionic=Pe.Ionic||{},ce={};Me._ael&&(ce.ael=Me._ael),Me._rel&&(ce.rel=Me._rel),Me._ce&&(ce.ce=Me._ce),(0,l.s)(ce);const Re=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Me=>{try{const Se=Me.sessionStorage.getItem($e);return null!==Se?JSON.parse(Se):{}}catch(Se){return{}}})(Pe)),{persistConfig:!1}),tt.config),(Me=>{const Se={};return Me.location.search.slice(1).split("&").map(Pe=>Pe.split("=")).map(([Pe,tt])=>[decodeURIComponent(Pe),decodeURIComponent(tt)]).filter(([Pe])=>((Me,Se)=>Me.substr(0,Se.length)===Se)(Pe,"ionic:")).map(([Pe,tt])=>[Pe.slice("ionic:".length),tt]).forEach(([Pe,tt])=>{Se[Pe]=tt}),Se})(Pe)),Me);F.reset(Re),F.getBoolean("persistConfig")&&((Me,Se)=>{try{Me.sessionStorage.setItem($e,JSON.stringify(Se))}catch(Pe){return}})(Pe,Re),me(Pe),tt.config=F,tt.mode=Fe=F.get("mode",Se.documentElement.getAttribute("mode")||(he(Pe,"ios")?"ios":"md")),F.set("mode",Fe),Se.documentElement.setAttribute("mode",Fe),Se.documentElement.classList.add(Fe),F.getBoolean("_testing")&&F.set("animated",!1);const ee=et=>{var gt;return null===(gt=et.tagName)||void 0===gt?void 0:gt.startsWith("ION-")},be=et=>["ios","md"].includes(et);(0,l.a)(et=>{for(;et;){const gt=et.mode||et.getAttribute("mode");if(gt){if(be(gt))return gt;ee(et)&&console.warn('Invalid ionic mode: "'+gt+'", expected: "ios" or "md"')}et=et.parentElement}return Fe})}},6439:(Ht,lt,V)=>{"use strict";V.r(lt),V.d(lt,{iosTransitionAnimation:()=>Ne,shadow:()=>ge});var l=V(181),v=V(1843);V(3457),V(1308);const Oe=ke=>document.querySelector(`${ke}.ion-cloned-element`),ge=ke=>ke.shadowRoot||ke,Te=ke=>{const nt="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs"),yt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=nt){const De=nt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=De?De.querySelector(yt):null}return ke.querySelector(yt)},$e=(ke,nt)=>{const yt="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs");let De=[];if(null!=yt){const ue=yt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ue&&(De=ue.querySelectorAll("ion-buttons"))}else De=ke.querySelectorAll("ion-buttons");for(const ue of De){const Be=ue.closest("ion-header"),Ze=Be&&!Be.classList.contains("header-collapse-condense-inactive"),Ve=ue.querySelector("ion-back-button"),Ee=ue.classList.contains("buttons-collapse");if(null!==Ve&&("start"===ue.slot||""===ue.slot)&&(Ee&&Ze&&nt||!Ee))return Ve}return null},he=(ke,nt,yt,De,ue,Be)=>{const Ze=nt?`calc(100% - ${Be.right+4}px)`:Be.left-4+"px",Ve=nt?"7px":"-7px",Ee=nt?"-4px":"4px",We=nt?"-4px":"4px",Ce=nt?"right":"left",ie=nt?"left":"right",Xe=yt?[{offset:0,opacity:1,transform:`translate3d(${Ee}, ${Be.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${ue.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${ue.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ee}, ${Be.top-46}px, 0) scale(1)`}],Je=yt?[{offset:0,opacity:1,transform:`translate3d(${We}, ${Be.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${We}, ${Be.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${We}, ${Be.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${We}, ${Be.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${We}, ${Be.top-46}px, 0) scale(1)`}],Fe=(0,l.c)(),at=(0,l.c)(),ut=Oe("ion-back-button"),Me=ge(ut).querySelector(".button-text"),Se=ge(ut).querySelector("ion-icon");ut.text=De.text,ut.mode=De.mode,ut.icon=De.icon,ut.color=De.color,ut.disabled=De.disabled,ut.style.setProperty("display","block"),ut.style.setProperty("position","fixed"),at.addElement(Se),Fe.addElement(Me),Fe.beforeStyles({"transform-origin":`${Ce} center`}).beforeAddWrite(()=>{De.style.setProperty("display","none"),ut.style.setProperty(Ce,Ze)}).afterAddWrite(()=>{De.style.setProperty("display",""),ut.style.setProperty("display","none"),ut.style.removeProperty(Ce)}).keyframes(Xe),at.beforeStyles({"transform-origin":`${ie} center`}).keyframes(Je),ke.addAnimation([Fe,at])},me=(ke,nt,yt,De,ue,Be)=>{const Ze=nt?`calc(100% - ${ue.right}px)`:`${ue.left}px`,Ve=nt?"-18px":"18px",Ee=nt?"right":"left",ie=yt?[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${Be.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ue.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ue.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${Be.top-4}px, 0) scale(0.5)`}],_e=Oe("ion-title"),ze=(0,l.c)();_e.innerText=De.innerText,_e.size=De.size,_e.color=De.color,ze.addElement(_e),ze.beforeStyles({"transform-origin":`${Ee} center`,height:"46px",display:"",position:"relative",[Ee]:Ze}).beforeAddWrite(()=>{De.style.setProperty("display","none")}).afterAddWrite(()=>{De.style.setProperty("display",""),_e.style.setProperty("display","none")}).keyframes(ie),ke.addAnimation(ze)},Ne=(ke,nt)=>{var yt;try{const De="cubic-bezier(0.32,0.72,0,1)",ue="opacity",Be="transform",Ze="0%",Ee="rtl"===ke.ownerDocument.dir,We=Ee?"-99.5%":"99.5%",Ce=Ee?"33%":"-33%",ie=nt.enteringEl,_e=nt.leavingEl,ze="back"===nt.direction,Xe=ie.querySelector(":scope > ion-content"),je=ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ke=ie.querySelectorAll(":scope > ion-header > ion-toolbar"),Je=(0,l.c)(),Fe=(0,l.c)();if(Je.addElement(ie).duration((null!==(yt=nt.duration)&&void 0!==yt?yt:0)||540).easing(nt.easing||De).fill("both").beforeRemoveClass("ion-page-invisible"),_e&&null!=ke){const Se=(0,l.c)();Se.addElement(ke),Je.addAnimation(Se)}if(Xe||0!==Ke.length||0!==je.length?(Fe.addElement(Xe),Fe.addElement(je)):Fe.addElement(ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Je.addAnimation(Fe),ze?Fe.beforeClearStyles([ue]).fromTo("transform",`translateX(${Ce})`,`translateX(${Ze})`).fromTo(ue,.8,1):Fe.beforeClearStyles([ue]).fromTo("transform",`translateX(${We})`,`translateX(${Ze})`),Xe){const Se=ge(Xe).querySelector(".transition-effect");if(Se){const Pe=Se.querySelector(".transition-cover"),tt=Se.querySelector(".transition-shadow"),ce=(0,l.c)(),Re=(0,l.c)(),ee=(0,l.c)();ce.addElement(Se).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Re.addElement(Pe).beforeClearStyles([ue]).fromTo(ue,0,.1),ee.addElement(tt).beforeClearStyles([ue]).fromTo(ue,.03,.7),ce.addAnimation([Re,ee]),Fe.addAnimation([ce])}}const at=ie.querySelector("ion-header.header-collapse-condense"),{forward:ut,backward:Me}=((ke,nt,yt,De,ue)=>{const Be=$e(De,yt),Ze=Te(ue),Ve=Te(De),Ee=$e(ue,yt),We=null!==Be&&null!==Ze&&!yt,Ce=null!==Ve&&null!==Ee&&yt;if(We){const ie=Ze.getBoundingClientRect(),_e=Be.getBoundingClientRect();me(ke,nt,yt,Ze,ie,_e),he(ke,nt,yt,Be,ie,_e)}else if(Ce){const ie=Ve.getBoundingClientRect(),_e=Ee.getBoundingClientRect();me(ke,nt,yt,Ve,ie,_e),he(ke,nt,yt,Ee,ie,_e)}return{forward:We,backward:Ce}})(Je,Ee,ze,ie,_e);if(Ke.forEach(Se=>{const Pe=(0,l.c)();Pe.addElement(Se),Je.addAnimation(Pe);const tt=(0,l.c)();tt.addElement(Se.querySelector("ion-title"));const ce=(0,l.c)(),Re=Array.from(Se.querySelectorAll("ion-buttons,[menuToggle]")),ee=Se.closest("ion-header"),be=null==ee?void 0:ee.classList.contains("header-collapse-condense-inactive");let et;et=Re.filter(ze?En=>{const sn=En.classList.contains("buttons-collapse");return sn&&!be||!sn}:En=>!En.classList.contains("buttons-collapse")),ce.addElement(et);const gt=(0,l.c)();gt.addElement(Se.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Xt=(0,l.c)();Xt.addElement(ge(Se).querySelector(".toolbar-background"));const vt=(0,l.c)(),en=Se.querySelector("ion-back-button");if(en&&vt.addElement(en),Pe.addAnimation([tt,ce,gt,Xt,vt]),ce.fromTo(ue,.01,1),gt.fromTo(ue,.01,1),ze)be||tt.fromTo("transform",`translateX(${Ce})`,`translateX(${Ze})`).fromTo(ue,.01,1),gt.fromTo("transform",`translateX(${Ce})`,`translateX(${Ze})`),vt.fromTo(ue,.01,1);else if(at||tt.fromTo("transform",`translateX(${We})`,`translateX(${Ze})`).fromTo(ue,.01,1),gt.fromTo("transform",`translateX(${We})`,`translateX(${Ze})`),Xt.beforeClearStyles([ue,"transform"]),(null==ee?void 0:ee.translucent)?Xt.fromTo("transform",Ee?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Xt.fromTo(ue,.01,"var(--opacity)"),ut||vt.fromTo(ue,.01,1),en&&!ut){const sn=(0,l.c)();sn.addElement(ge(en).querySelector(".button-text")).fromTo("transform",Ee?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Pe.addAnimation(sn)}}),_e){const Se=(0,l.c)(),Pe=_e.querySelector(":scope > ion-content"),tt=_e.querySelectorAll(":scope > ion-header > ion-toolbar"),ce=_e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Pe||0!==tt.length||0!==ce.length?(Se.addElement(Pe),Se.addElement(ce)):Se.addElement(_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Je.addAnimation(Se),ze){Se.beforeClearStyles([ue]).fromTo("transform",`translateX(${Ze})`,Ee?"translateX(-100%)":"translateX(100%)");const Re=(0,v.g)(_e);Je.afterAddWrite(()=>{"normal"===Je.getDirection()&&Re.style.setProperty("display","none")})}else Se.fromTo("transform",`translateX(${Ze})`,`translateX(${Ce})`).fromTo(ue,1,.8);if(Pe){const Re=ge(Pe).querySelector(".transition-effect");if(Re){const ee=Re.querySelector(".transition-cover"),be=Re.querySelector(".transition-shadow"),et=(0,l.c)(),gt=(0,l.c)(),Xt=(0,l.c)();et.addElement(Re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),gt.addElement(ee).beforeClearStyles([ue]).fromTo(ue,.1,0),Xt.addElement(be).beforeClearStyles([ue]).fromTo(ue,.7,.03),et.addAnimation([gt,Xt]),Se.addAnimation([et])}}tt.forEach(Re=>{const ee=(0,l.c)();ee.addElement(Re);const be=(0,l.c)();be.addElement(Re.querySelector("ion-title"));const et=(0,l.c)(),gt=Re.querySelectorAll("ion-buttons,[menuToggle]"),Xt=Re.closest("ion-header"),vt=null==Xt?void 0:Xt.classList.contains("header-collapse-condense-inactive"),en=Array.from(gt).filter(wr=>{const xn=wr.classList.contains("buttons-collapse");return xn&&!vt||!xn});et.addElement(en);const En=(0,l.c)(),sn=Re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");sn.length>0&&En.addElement(sn);const Kt=(0,l.c)();Kt.addElement(ge(Re).querySelector(".toolbar-background"));const zn=(0,l.c)(),yr=Re.querySelector("ion-back-button");if(yr&&zn.addElement(yr),ee.addAnimation([be,et,En,zn,Kt]),Je.addAnimation(ee),zn.fromTo(ue,.99,0),et.fromTo(ue,.99,0),En.fromTo(ue,.99,0),ze){if(vt||be.fromTo("transform",`translateX(${Ze})`,Ee?"translateX(-100%)":"translateX(100%)").fromTo(ue,.99,0),En.fromTo("transform",`translateX(${Ze})`,Ee?"translateX(-100%)":"translateX(100%)"),Kt.beforeClearStyles([ue,"transform"]),(null==Xt?void 0:Xt.translucent)?Kt.fromTo("transform","translateX(0px)",Ee?"translateX(-100%)":"translateX(100%)"):Kt.fromTo(ue,"var(--opacity)",0),yr&&!Me){const xn=(0,l.c)();xn.addElement(ge(yr).querySelector(".button-text")).fromTo("transform",`translateX(${Ze})`,`translateX(${(Ee?-124:124)+"px"})`),ee.addAnimation(xn)}}else vt||be.fromTo("transform",`translateX(${Ze})`,`translateX(${Ce})`).fromTo(ue,.99,0).afterClearStyles([Be,ue]),En.fromTo("transform",`translateX(${Ze})`,`translateX(${Ce})`).afterClearStyles([Be,ue]),zn.afterClearStyles([ue]),be.afterClearStyles([ue]),et.afterClearStyles([ue])})}return Je}catch(De){throw De}}},7838:(Ht,lt,V)=>{"use strict";V.r(lt),V.d(lt,{mdTransitionAnimation:()=>xe});var l=V(181),v=V(1843);V(3457),V(1308);const xe=(Oe,ge)=>{var Te,$e,fe;const Ne="back"===ge.direction,nt=ge.leavingEl,yt=(0,v.g)(ge.enteringEl),De=yt.querySelector("ion-toolbar"),ue=(0,l.c)();if(ue.addElement(yt).fill("both").beforeRemoveClass("ion-page-invisible"),Ne?ue.duration((null!==(Te=ge.duration)&&void 0!==Te?Te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ue.duration((null!==($e=ge.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),De){const Be=(0,l.c)();Be.addElement(De),ue.addAnimation(Be)}if(nt&&Ne){ue.duration((null!==(fe=ge.duration)&&void 0!==fe?fe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Be=(0,l.c)();Be.addElement((0,v.g)(nt)).onFinish(Ze=>{1===Ze&&Be.elements.length>0&&Be.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ue.addAnimation(Be)}return ue}},3539:(Ht,lt,V)=>{"use strict";V.d(lt,{B:()=>Pe,G:()=>tt,a:()=>Te,b:()=>$e,c:()=>Ne,d:()=>ze,e:()=>nt,f:()=>je,g:()=>Fe,h:()=>Oe,i:()=>ut,j:()=>ue,k:()=>ie,m:()=>he,s:()=>Se});var l=V(5861),v=V(5179),F=V(7593),Ie=V(5730);let xe=0;const Oe=new WeakMap,ge=ce=>({create:Re=>yt(ce,Re),dismiss:(Re,ee,be)=>We(document,Re,ee,ce,be),getTop:()=>(0,l.Z)(function*(){return ie(document,ce)})()}),Te=ge("ion-alert"),$e=ge("ion-action-sheet"),he=ge("ion-modal"),Ne=ge("ion-popover"),nt=ce=>{typeof document<"u"&&Ee(document);const Re=xe++;ce.overlayIndex=Re,ce.hasAttribute("id")||(ce.id=`ion-overlay-${Re}`)},yt=(ce,Re)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ce).then(()=>{const ee=document.createElement(ce);return ee.classList.add("overlay-hidden"),Object.assign(ee,Object.assign(Object.assign({},Re),{hasController:!0})),Ke(document).appendChild(ee),new Promise(be=>(0,Ie.c)(ee,be))}):Promise.resolve(),De='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ue=(ce,Re)=>{let ee=ce.querySelector(De);const be=null==ee?void 0:ee.shadowRoot;be&&(ee=be.querySelector(De)||ee),ee?(0,Ie.f)(ee):Re.focus()},Ze=(ce,Re)=>{const ee=Array.from(ce.querySelectorAll(De));let be=ee.length>0?ee[ee.length-1]:null;const et=null==be?void 0:be.shadowRoot;et&&(be=et.querySelector(De)||be),be?be.focus():Re.focus()},Ee=ce=>{0===xe&&(xe=1,ce.addEventListener("focus",Re=>{((ce,Re)=>{const ee=ie(Re,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),be=ce.target;ee&&be&&!ee.classList.contains("ion-disable-focus-trap")&&(ee.shadowRoot?(()=>{if(ee.contains(be))ee.lastFocus=be;else{const Xt=ee.lastFocus;ue(ee,ee),Xt===Re.activeElement&&Ze(ee,ee),ee.lastFocus=Re.activeElement}})():(()=>{if(ee===be)ee.lastFocus=void 0;else{const Xt=(0,Ie.g)(ee);if(!Xt.contains(be))return;const vt=Xt.querySelector(".ion-overlay-wrapper");if(!vt)return;if(vt.contains(be))ee.lastFocus=be;else{const en=ee.lastFocus;ue(vt,ee),en===Re.activeElement&&Ze(vt,ee),ee.lastFocus=Re.activeElement}}})())})(Re,ce)},!0),ce.addEventListener("ionBackButton",Re=>{const ee=ie(ce);null!=ee&&ee.backdropDismiss&&Re.detail.register(F.OVERLAY_BACK_BUTTON_PRIORITY,()=>ee.dismiss(void 0,Pe))}),ce.addEventListener("keyup",Re=>{if("Escape"===Re.key){const ee=ie(ce);null!=ee&&ee.backdropDismiss&&ee.dismiss(void 0,Pe)}}))},We=(ce,Re,ee,be,et)=>{const gt=ie(ce,be,et);return gt?gt.dismiss(Re,ee):Promise.reject("overlay does not exist")},ie=(ce,Re,ee)=>{const be=((ce,Re)=>(void 0===Re&&(Re="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ce.querySelectorAll(Re)).filter(ee=>ee.overlayIndex>0)))(ce,Re).filter(et=>!(ce=>ce.classList.contains("overlay-hidden"))(et));return void 0===ee?be[be.length-1]:be.find(et=>et.id===ee)},_e=(ce=!1)=>{const ee=Ke(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ee&&(ce?ee.setAttribute("aria-hidden","true"):ee.removeAttribute("aria-hidden"))},ze=function(){var ce=(0,l.Z)(function*(Re,ee,be,et,gt){var Xt,vt;if(Re.presented)return;_e(!0),Re.presented=!0,Re.willPresent.emit(),null===(Xt=Re.willPresentShorthand)||void 0===Xt||Xt.emit();const en=(0,v.b)(Re),En=Re.enterAnimation?Re.enterAnimation:v.c.get(ee,"ios"===en?be:et);(yield Je(Re,En,Re.el,gt))&&(Re.didPresent.emit(),null===(vt=Re.didPresentShorthand)||void 0===vt||vt.emit()),"ION-TOAST"!==Re.el.tagName&&Xe(Re.el),Re.keyboardClose&&(null===document.activeElement||!Re.el.contains(document.activeElement))&&Re.el.focus()});return function(ee,be,et,gt,Xt){return ce.apply(this,arguments)}}(),Xe=function(){var ce=(0,l.Z)(function*(Re){let ee=document.activeElement;if(!ee)return;const be=null==ee?void 0:ee.shadowRoot;be&&(ee=be.querySelector(De)||ee),yield Re.onDidDismiss(),ee.focus()});return function(ee){return ce.apply(this,arguments)}}(),je=function(){var ce=(0,l.Z)(function*(Re,ee,be,et,gt,Xt,vt){var en,En;if(!Re.presented)return!1;_e(!1),Re.presented=!1;try{Re.el.style.setProperty("pointer-events","none"),Re.willDismiss.emit({data:ee,role:be}),null===(en=Re.willDismissShorthand)||void 0===en||en.emit({data:ee,role:be});const sn=(0,v.b)(Re),Kt=Re.leaveAnimation?Re.leaveAnimation:v.c.get(et,"ios"===sn?gt:Xt);be!==tt&&(yield Je(Re,Kt,Re.el,vt)),Re.didDismiss.emit({data:ee,role:be}),null===(En=Re.didDismissShorthand)||void 0===En||En.emit({data:ee,role:be}),Oe.delete(Re),Re.el.classList.add("overlay-hidden"),Re.el.style.removeProperty("pointer-events"),void 0!==Re.el.lastFocus&&(Re.el.lastFocus=void 0)}catch(sn){console.error(sn)}return Re.el.remove(),!0});return function(ee,be,et,gt,Xt,vt,en){return ce.apply(this,arguments)}}(),Ke=ce=>ce.querySelector("ion-app")||ce.body,Je=function(){var ce=(0,l.Z)(function*(Re,ee,be,et){be.classList.remove("overlay-hidden");const Xt=ee(Re.el,et);(!Re.animated||!v.c.getBoolean("animated",!0))&&Xt.duration(0),Re.keyboardClose&&Xt.beforeAddWrite(()=>{const en=be.ownerDocument.activeElement;null!=en&&en.matches("input,ion-input, ion-textarea")&&en.blur()});const vt=Oe.get(Re)||[];return Oe.set(Re,[...vt,Xt]),yield Xt.play(),!0});return function(ee,be,et,gt){return ce.apply(this,arguments)}}(),Fe=(ce,Re)=>{let ee;const be=new Promise(et=>ee=et);return at(ce,Re,et=>{ee(et.detail)}),be},at=(ce,Re,ee)=>{const be=et=>{(0,Ie.b)(ce,Re,be),ee(et)};(0,Ie.a)(ce,Re,be)},ut=ce=>"cancel"===ce||ce===Pe,Me=ce=>ce(),Se=(ce,Re)=>{if("function"==typeof ce)return v.c.get("_zoneGate",Me)(()=>{try{return ce(Re)}catch(be){throw be}})},Pe="backdrop",tt="gesture"},6095:(Ht,lt,V)=>{"use strict";var l=V(1481),v=V(4650),F=V(7340);function xe(n){return new v.vHH(3e3,!1)}function be(){return typeof window<"u"&&typeof window.document<"u"}function et(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gt(n){switch(n.length){case 0:return new F.ZN;case 1:return n[0];default:return new F.ZE(n)}}function Xt(n,e,t,r,a=new Map,c=new Map){const p=[],b=[];let S=-1,k=null;if(r.forEach(z=>{const ae=z.get("offset"),Ye=ae==S,pt=Ye&&k||new Map;z.forEach((_t,Mt)=>{let Yt=Mt,Nn=_t;if("offset"!==Mt)switch(Yt=e.normalizePropertyName(Yt,p),Nn){case F.k1:Nn=a.get(Mt);break;case F.l3:Nn=c.get(Mt);break;default:Nn=e.normalizeStyleValue(Mt,Yt,Nn,p)}pt.set(Yt,Nn)}),Ye||b.push(pt),k=pt,S=ae}),p.length)throw function je(n){return new v.vHH(3502,!1)}();return b}function vt(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&en(t,"start",n)));break;case"done":n.onDone(()=>r(t&&en(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&en(t,"destroy",n)))}}function en(n,e,t){const r=t.totalTime,c=En(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),p=n._data;return null!=p&&(c._data=p),c}function En(n,e,t,r,a="",c=0,p){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:a,totalTime:c,disabled:!!p}}function sn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Kt(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let zn=(n,e)=>!1,yr=(n,e,t)=>[],wr=null;function xn(n){const e=n.parentNode||n.host;return e===wr?null:e}(et()||typeof Element<"u")&&(be()?(wr=(()=>document.documentElement)(),zn=(n,e)=>{for(;e;){if(e===n)return!0;e=xn(e)}return!1}):zn=(n,e)=>n.contains(e),yr=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yn=null,tr=!1;const yn=zn,Jt=yr;let sr=(()=>{class n{validateStyleProperty(t){return function Sr(n){Yn||(Yn=function nr(){return typeof document<"u"?document.body:null}()||{},tr=!!Yn.style&&"WebkitAppearance"in Yn.style);let e=!0;return Yn.style&&!function Nt(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yn.style,!e&&tr&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yn.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return yn(t,r)}getParentElement(t){return xn(t)}query(t,r,a){return Jt(t,r,a)}computeStyle(t,r,a){return a||""}animate(t,r,a,c,p,b=[],S){return new F.ZN(a,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),cn=(()=>{class n{}return n.NOOP=new sr,n})();const Pr=1e3,oi="ng-enter",An="ng-leave",Zr="ng-trigger",In=".ng-trigger",bn="ng-animating",Dr=".ng-animating";function kt(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ct(parseFloat(e[1]),e[2])}function Ct(n,e){return"s"===e?n*Pr:n}function Qt(n,e,t){return n.hasOwnProperty("duration")?n:function fn(n,e,t){let a,c=0,p="";if("string"==typeof n){const b=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===b)return e.push(xe()),{duration:0,delay:0,easing:""};a=Ct(parseFloat(b[1]),b[2]);const S=b[3];null!=S&&(c=Ct(parseFloat(S),b[4]));const k=b[5];k&&(p=k)}else a=n;if(!t){let b=!1,S=e.length;a<0&&(e.push(function Oe(){return new v.vHH(3100,!1)}()),b=!0),c<0&&(e.push(function ge(){return new v.vHH(3101,!1)}()),b=!0),b&&e.splice(S,0,xe())}return{duration:a,delay:c,easing:p}}(n,e,t)}function vn(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Rn(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ye(n,e=new Map,t){if(t)for(let[r,a]of t)e.set(r,a);for(let[r,a]of n)e.set(r,a);return e}function X(n,e,t){return t?e+":"+t+";":""}function ne(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=X(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=X(0,vr(t),n.style[t]));n.setAttribute("style",e)}function Z(n,e,t){n.style&&(e.forEach((r,a)=>{const c=an(a);t&&!t.has(a)&&t.set(a,n.style[c]),n.style[c]=r}),et()&&ne(n))}function Qe(n,e){n.style&&(e.forEach((t,r)=>{const a=an(r);n.style[a]=""}),et()&&ne(n))}function se(n){return Array.isArray(n)?1==n.length?n[0]:(0,F.vP)(n):n}const re=new RegExp("{{\\s*(.+?)\\s*}}","g");function Le(n){let e=[];if("string"==typeof n){let t;for(;t=re.exec(n);)e.push(t[1]);re.lastIndex=0}return e}function ht(n,e,t){const r=n.toString(),a=r.replace(re,(c,p)=>{let b=e[p];return null==b&&(t.push(function $e(n){return new v.vHH(3003,!1)}()),b=""),b.toString()});return a==r?n:a}function St(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const nn=/-+([a-z0-9])/g;function an(n){return n.replace(nn,(...e)=>e[1].toUpperCase())}function vr(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function fe(n){return new v.vHH(3004,!1)}()}}function Ur(n,e){return window.getComputedStyle(n)[e]}const xr="*";function jr(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Rr(n,e,t){if(":"==n[0]){const S=function ts(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function ie(n){return new v.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof S)return void e.push(S);n=S}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ce(n){return new v.vHH(3015,!1)}()),e;const a=r[1],c=r[2],p=r[3];e.push(zt(a,p));"<"==c[0]&&!(a==xr&&p==xr)&&e.push(zt(p,a))}(r,t,e)):t.push(n),t}const gi=new Set(["true","1"]),ai=new Set(["false","0"]);function zt(n,e){const t=gi.has(n)||ai.has(n),r=gi.has(e)||ai.has(e);return(a,c)=>{let p=n==xr||n==a,b=e==xr||e==c;return!p&&t&&"boolean"==typeof a&&(p=a?gi.has(n):ai.has(n)),!b&&r&&"boolean"==typeof c&&(b=c?gi.has(e):ai.has(e)),p&&b}}const Ar=new RegExp("s*:selfs*,?","g");function Hr(n,e,t,r){return new K(n).build(e,t,r)}class K{constructor(e){this._driver=e}build(e,t,r){const a=new rt(t);return this._resetContextStyleTimingState(a),Vr(this,se(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,a=t.depCount=0;const c=[],p=[];return"@"==e.name.charAt(0)&&t.errors.push(function me(){return new v.vHH(3006,!1)}()),e.definitions.forEach(b=>{if(this._resetContextStyleTimingState(t),0==b.type){const S=b,k=S.name;k.toString().split(/\s*,\s*/).forEach(z=>{S.name=z,c.push(this.visitState(S,t))}),S.name=k}else if(1==b.type){const S=this.visitTransition(b,t);r+=S.queryCount,a+=S.depCount,p.push(S)}else t.errors.push(function Ne(){return new v.vHH(3007,!1)}())}),{type:7,name:e.name,states:c,transitions:p,queryCount:r,depCount:a,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,p=a||{};r.styles.forEach(b=>{b instanceof Map&&b.forEach(S=>{Le(S).forEach(k=>{p.hasOwnProperty(k)||c.add(k)})})}),c.size&&(St(c.values()),t.errors.push(function ke(n,e){return new v.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Vr(this,se(e.animation),t);return{type:1,matchers:jr(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ge(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Vr(this,r,t)),options:Ge(e.options)}}visitGroup(e,t){const r=t.currentTime;let a=0;const c=e.steps.map(p=>{t.currentTime=r;const b=Vr(this,p,t);return a=Math.max(a,t.currentTime),b});return t.currentTime=a,{type:3,steps:c,options:Ge(e.options)}}visitAnimate(e,t){const r=function te(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return st(Qt(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=st(0,0,"");return c.dynamic=!0,c.strValue=t,c}const a=Qt(t,e);return st(a.duration,a.delay,a.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let a,c=e.styles?e.styles:(0,F.oB)({});if(5==c.type)a=this.visitKeyframes(c,t);else{let p=e.styles,b=!1;if(!p){b=!0;const k={};r.easing&&(k.easing=r.easing),p=(0,F.oB)(k)}t.currentTime+=r.duration+r.delay;const S=this.visitStyle(p,t);S.isEmptyStep=b,a=S}return t.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let b of a)"string"==typeof b?b===F.l3?r.push(b):t.errors.push(new v.vHH(3002,!1)):r.push(Rn(b));let c=!1,p=null;return r.forEach(b=>{if(b instanceof Map&&(b.has("easing")&&(p=b.get("easing"),b.delete("easing")),!c))for(let S of b.values())if(S.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:p,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let a=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(p=>{"string"!=typeof p&&p.forEach((b,S)=>{const k=t.collectedStyles.get(t.currentQuerySelector),z=k.get(S);let ae=!0;z&&(c!=a&&c>=z.startTime&&a<=z.endTime&&(t.errors.push(function De(n,e,t,r,a){return new v.vHH(3010,!1)}()),ae=!1),c=z.startTime),ae&&k.set(S,{startTime:c,endTime:a}),t.options&&function ve(n,e,t){const r=e.params||{},a=Le(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||t.push(function Te(n){return new v.vHH(3001,!1)}())})}(b,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ue(){return new v.vHH(3011,!1)}()),r;let c=0;const p=[];let b=!1,S=!1,k=0;const z=e.steps.map(Nn=>{const Or=this._makeStyleAst(Nn,t);let jn=null!=Or.offset?Or.offset:function It(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Or.styles),Hn=0;return null!=jn&&(c++,Hn=Or.offset=jn),S=S||Hn<0||Hn>1,b=b||Hn<k,k=Hn,p.push(Hn),Or});S&&t.errors.push(function Be(){return new v.vHH(3012,!1)}()),b&&t.errors.push(function Ze(){return new v.vHH(3200,!1)}());const ae=e.steps.length;let Ye=0;c>0&&c<ae?t.errors.push(function Ve(){return new v.vHH(3202,!1)}()):0==c&&(Ye=1/(ae-1));const pt=ae-1,_t=t.currentTime,Mt=t.currentAnimateTimings,Yt=Mt.duration;return z.forEach((Nn,Or)=>{const jn=Ye>0?Or==pt?1:Ye*Or:p[Or],Hn=jn*Yt;t.currentTime=_t+Mt.delay+Hn,Mt.duration=Hn,this._validateStyleAst(Nn,t),Nn.offset=jn,r.styles.push(Nn)}),r}visitReference(e,t){return{type:8,animation:Vr(this,se(e.animation),t),options:Ge(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ge(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ge(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[c,p]=function le(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ar,"")),n=n.replace(/@\*/g,In).replace(/@\w+/g,t=>In+"-"+t.slice(1)).replace(/:animating/g,Dr),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,sn(t.collectedStyles,t.currentQuerySelector,new Map);const b=Vr(this,se(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:b,originalSelector:e.selector,options:Ge(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ee(){return new v.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Qt(e.timings,t.errors,!0);return{type:12,animation:Vr(this,se(e.animation),t),timings:r,options:null}}}class rt{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ge(n){return n?(n=vn(n)).params&&(n.params=function Ue(n){return n?vn(n):null}(n.params)):n={},n}function st(n,e,t){return{duration:n,delay:e,easing:t}}function Et(n,e,t,r,a,c,p=null,b=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:p,subTimeline:b}}class Dt{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dn=new RegExp(":enter","g"),fi=new RegExp(":leave","g");function Ri(n,e,t,r,a,c=new Map,p=new Map,b,S,k=[]){return(new wn).buildKeyframes(n,e,t,r,a,c,p,b,S,k)}class wn{buildKeyframes(e,t,r,a,c,p,b,S,k,z=[]){k=k||new Dt;const ae=new hs(e,t,k,a,c,z,[]);ae.options=S;const Ye=S.delay?kt(S.delay):0;ae.currentTimeline.delayNextStep(Ye),ae.currentTimeline.setStyles([p],null,ae.errors,S),Vr(this,r,ae);const pt=ae.timelines.filter(_t=>_t.containsAnimation());if(pt.length&&b.size){let _t;for(let Mt=pt.length-1;Mt>=0;Mt--){const Yt=pt[Mt];if(Yt.element===t){_t=Yt;break}}_t&&!_t.allowOnlyTimelineStyles()&&_t.setStyles([b],null,ae.errors,S)}return pt.length?pt.map(_t=>_t.buildKeyframes()):[Et(t,[],[],[],0,Ye,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const a=t.createSubContext(e.options),c=t.currentTimeline.currentTime,p=this._visitSubInstructions(r,a,a.options);c!=p&&t.transformIntoNewTimeline(p)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const c of e){const p=null==c?void 0:c.delay;if(p){var a;const b="number"==typeof p?p:kt(ht(p,null!==(a=null==c?void 0:c.params)&&void 0!==a?a:{},t.errors));r.delayNextStep(b)}}}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const p=null!=r.duration?kt(r.duration):null,b=null!=r.delay?kt(r.delay):null;return 0!==p&&e.forEach(S=>{const k=t.appendInstructionToTimeline(S,p,b);c=Math.max(c,k.duration+k.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Vr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let a=t;const c=e.options;if(c&&(c.params||c.delay)&&(a=t.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ws);const p=kt(c.delay);a.delayNextStep(p)}e.steps.length&&(e.steps.forEach(p=>Vr(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let a=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?kt(e.options.delay):0;e.steps.forEach(p=>{const b=t.createSubContext(e.options);c&&b.delayNextStep(c),Vr(this,p,b),a=Math.max(a,b.currentTimeline.currentTime),r.push(b.currentTimeline)}),r.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Qt(t.params?ht(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),a.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,a=t.currentAnimateTimings;!a&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,a=t.currentTimeline.duration,c=r.duration,b=t.createSubContext().currentTimeline;b.easing=r.easing,e.styles.forEach(S=>{b.forwardTime((S.offset||0)*c),b.setStyles(S.styles,S.easing,t.errors,t.options),b.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(b),t.transformIntoNewTimeline(a+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,a=e.options||{},c=a.delay?kt(a.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ws);let p=r;const b=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=b.length;let S=null;b.forEach((k,z)=>{t.currentQueryIndex=z;const ae=t.createSubContext(e.options,k);c&&ae.delayNextStep(c),k===t.element&&(S=ae.currentTimeline),Vr(this,e.animation,ae),ae.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,ae.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),S&&(t.currentTimeline.mergeTimelineCollectedStyles(S),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,a=t.currentTimeline,c=e.timings,p=Math.abs(c.duration),b=p*(t.currentQueryTotal-1);let S=p*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":S=b-S;break;case"full":S=r.currentStaggerTime}const z=t.currentTimeline;S&&z.delayNextStep(S);const ae=z.currentTime;Vr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=a.currentTime-ae+(a.startTime-r.currentTimeline.startTime)}}const ws={};class hs{constructor(e,t,r,a,c,p,b,S){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=p,this.timelines=b,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ws,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=S||new ns(this._driver,t,0),b.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=kt(r.duration)),null!=r.delay&&(a.delay=kt(r.delay));const c=r.params;if(c){let p=a.params;p||(p=this.options.params={}),Object.keys(c).forEach(b=>{(!t||!p.hasOwnProperty(b))&&(p[b]=ht(c[b],p,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(a=>{r[a]=t[a]})}}return e}createSubContext(e=null,t,r){const a=t||this.element,c=new hs(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=ws,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},c=new fs(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,a,c,p){let b=[];if(a&&b.push(this.element),e.length>0){e=(e=e.replace(Dn,"."+this._enterClassName)).replace(fi,"."+this._leaveClassName);let k=this._driver.query(this.element,e,1!=r);0!==r&&(k=r<0?k.slice(k.length+r,k.length):k.slice(0,r)),b.push(...k)}return!c&&0==b.length&&p.push(function We(n){return new v.vHH(3014,!1)}()),b}}class ns{constructor(e,t,r,a){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ns(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||F.l3),this._currentKeyframe.set(t,F.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,a){t&&this._previousKeyframe.set("easing",t);const c=a&&a.params||{},p=function ps(n,e){const t=new Map;let r;return n.forEach(a=>{if("*"===a){r=r||e.keys();for(let c of r)t.set(c,F.l3)}else ye(a,t)}),t}(e,this._globalTimelineStyles);for(let[S,k]of p){const z=ht(k,c,r);var b;this._pendingStyles.set(S,z),this._localTimelineStyles.has(S)||this._backFill.set(S,null!==(b=this._globalTimelineStyles.get(S))&&void 0!==b?b:F.l3),this._updateStyle(S,z)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const a=this._styleSummary.get(r);(!a||t.time>a.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((b,S)=>{const k=ye(b,new Map,this._backFill);k.forEach((z,ae)=>{z===F.k1?e.add(ae):z===F.l3&&t.add(ae)}),r||k.set("offset",S/this.duration),a.push(k)});const c=e.size?St(e.values()):[],p=t.size?St(t.values()):[];if(r){const b=a[0],S=new Map(b);b.set("offset",0),S.set("offset",1),a=[b,S]}return Et(this.element,a,c,p,this.duration,this.startTime,this.easing,!1)}}class fs extends ns{constructor(e,t,r,a,c,p,b=!1){super(e,t,p.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=b,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],p=r+t,b=t/p,S=ye(e[0]);S.set("offset",0),c.push(S);const k=ye(e[0]);k.set("offset",qi(b)),c.push(k);const z=e.length-1;for(let ae=1;ae<=z;ae++){let Ye=ye(e[ae]);const pt=Ye.get("offset");Ye.set("offset",qi((t+pt*r)/p)),c.push(Ye)}r=p,t=0,a="",e=c}return Et(this.element,e,this.preStyleProps,this.postStyleProps,r,t,a,!0)}}function qi(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Bo{}const li=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Vo extends Bo{normalizePropertyName(e,t){return an(e)}normalizeStyleValue(e,t,r,a){let c="";const p=r.toString().trim();if(li.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const b=r.match(/^[+-]?[\d\.]+([a-z]*)$/);b&&0==b[1].length&&a.push(function he(n,e){return new v.vHH(3005,!1)}())}return p+c}}function Do(n,e,t,r,a,c,p,b,S,k,z,ae,Ye){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:c,toState:r,toStyles:p,timelines:b,queriedElements:S,preStyleProps:k,postStyleProps:z,totalTime:ae,errors:Ye}}const Li={};class Ki{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,a){return function Yi(n,e,t,r,a){return n.some(c=>c(e,t,r,a))}(this.ast.matchers,e,t,r,a)}buildStyles(e,t,r){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(null==e?void 0:e.toString())||a),a?a.buildStyles(t,r):new Map}build(e,t,r,a,c,p,b,S,k,z){var ae;const Ye=[],pt=this.ast.options&&this.ast.options.params||Li,Mt=this.buildStyles(r,b&&b.params||Li,Ye),Yt=S&&S.params||Li,Nn=this.buildStyles(a,Yt,Ye),Or=new Set,jn=new Map,Hn=new Map,er="void"===a,cr={params:$s(Yt,pt),delay:null===(ae=this.ast.options)||void 0===ae?void 0:ae.delay},hi=z?[]:Ri(e,t,this.ast.animation,c,p,Mt,Nn,cr,k,Ye);let lo=0;if(hi.forEach(Pu=>{lo=Math.max(Pu.duration+Pu.delay,lo)}),Ye.length)return Do(t,this._triggerName,r,a,er,Mt,Nn,[],[],jn,Hn,lo,Ye);hi.forEach(Pu=>{const Qv=Pu.element,Xv=sn(jn,Qv,new Set);Pu.preStyleProps.forEach(Ug=>Xv.add(Ug));const Jv=sn(Hn,Qv,new Set);Pu.postStyleProps.forEach(Ug=>Jv.add(Ug)),Qv!==t&&Or.add(Qv)});const db=St(Or.values());return Do(t,this._triggerName,r,a,er,Mt,Nn,hi,db,jn,Hn,lo)}}function $s(n,e){const t=vn(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Ii{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,a=vn(this.defaultParams);return Object.keys(e).forEach(c=>{const p=e[c];null!==p&&(a[c]=p)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,b)=>{p&&(p=ht(p,a,t));const S=this.normalizer.normalizePropertyName(b,t);p=this.normalizer.normalizeStyleValue(b,S,p,t),r.set(b,p)})}),r}}class co{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new Ii(a.style,a.options&&a.options.params||{},r))}),Co(this.states,"true","1"),Co(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new Ki(e,a,this.states))}),this.fallbackTransition=function Ia(n,e,t){return new Ki(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,b)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,a){return this.transitionFactories.find(p=>p.match(e,t,r,a))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Co(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rs=new Dt;class Uo{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=[],c=Hr(this._driver,t,r,a);if(r.length)throw function Ke(n){return new v.vHH(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,r){const a=e.element,c=Xt(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(a,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const a=[],c=this._animations.get(e);let p;const b=new Map;if(c?(p=Ri(this._driver,t,c,oi,An,new Map,new Map,r,rs,a),p.forEach(z=>{const ae=sn(b,z.element,new Map);z.postStyleProps.forEach(Ye=>ae.set(Ye,null))})):(a.push(function Je(){return new v.vHH(3300,!1)}()),p=[]),a.length)throw function Fe(n){return new v.vHH(3504,!1)}();b.forEach((z,ae)=>{z.forEach((Ye,pt)=>{z.set(pt,this._driver.computeStyle(ae,pt,F.l3))})});const k=gt(p.map(z=>{const ae=b.get(z.element);return this._buildPlayer(z,new Map,ae)}));return this._playersById.set(e,k),k.onDestroy(()=>this.destroy(e)),this.players.push(k),k}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function at(n){return new v.vHH(3301,!1)}();return t}listen(e,t,r,a){const c=En(t,"","","");return vt(this._getPlayer(e),r,c,a),()=>{}}command(e,t,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,t,a[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const $i="ng-animate-queued",To="ng-animate-disabled",Qs=[],Ds={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bi="__ng_removed";class Xs{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Ss(n){return null!=n?n:null}(r?e.value:e),r){const c=vn(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(a=>{null==r[a]&&(r[a]=t[a])})}}}const ti="void",Cs=new Xs(ti);class Ts{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ui(t,this._hostClassName)}listen(e,t,r,a){if(!this._triggers.has(t))throw function ut(n,e){return new v.vHH(3302,!1)}();if(null==r||0==r.length)throw function Me(n){return new v.vHH(3303,!1)}();if(!function jo(n){return"start"==n||"done"==n}(r))throw function Se(n,e){return new v.vHH(3400,!1)}();const c=sn(this._elementListeners,e,[]),p={name:t,phase:r,callback:a};c.push(p);const b=sn(this._engine.statesByElement,e,new Map);return b.has(t)||(ui(e,Zr),ui(e,Zr+"-"+t),b.set(t,Cs)),()=>{this._engine.afterFlush(()=>{const S=c.indexOf(p);S>=0&&c.splice(S,1),this._triggers.has(t)||b.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Pe(n){return new v.vHH(3401,!1)}();return t}trigger(e,t,r,a=!0){const c=this._getTrigger(t),p=new Di(this.id,t,e);let b=this._engine.statesByElement.get(e);b||(ui(e,Zr),ui(e,Zr+"-"+t),this._engine.statesByElement.set(e,b=new Map));let S=b.get(t);const k=new Xs(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&S&&k.absorbOptions(S.options),b.set(t,k),S||(S=Cs),k.value!==ti&&S.value===k.value){if(!function ni(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let a=0;a<t.length;a++){const c=t[a];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(S.params,k.params)){const Mt=[],Yt=c.matchStyles(S.value,S.params,Mt),Nn=c.matchStyles(k.value,k.params,Mt);Mt.length?this._engine.reportError(Mt):this._engine.afterFlush(()=>{Qe(e,Yt),Z(e,Nn)})}return}const Ye=sn(this._engine.playersByElement,e,[]);Ye.forEach(Mt=>{Mt.namespaceId==this.id&&Mt.triggerName==t&&Mt.queued&&Mt.destroy()});let pt=c.matchTransition(S.value,k.value,e,k.params),_t=!1;if(!pt){if(!a)return;pt=c.fallbackTransition,_t=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:pt,fromState:S,toState:k,player:p,isFallbackTransition:_t}),_t||(ui(e,$i),p.onStart(()=>{Xi(e,$i)})),p.onDone(()=>{let Mt=this.players.indexOf(p);Mt>=0&&this.players.splice(Mt,1);const Yt=this._engine.playersByElement.get(e);if(Yt){let Nn=Yt.indexOf(p);Nn>=0&&Yt.splice(Nn,1)}}),this.players.push(p),Ye.push(p),p}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,In,!0);r.forEach(a=>{if(a[Bi])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(p=>p.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,a){const c=this._engine.statesByElement.get(e),p=new Map;if(c){const b=[];if(c.forEach((S,k)=>{if(p.set(k,S.value),this._triggers.has(k)){const z=this.trigger(e,k,ti,a);z&&b.push(z)}}),b.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,p),r&&gt(b).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const a=new Set;t.forEach(c=>{const p=c.name;if(a.has(p))return;a.add(p);const S=this._triggers.get(p).fallbackTransition,k=r.get(p)||Cs,z=new Xs(ti),ae=new Di(this.id,p,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:p,transition:S,fromState:k,toState:z,player:ae,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)a=!0;else{let p=e;for(;p=p.parentNode;)if(r.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[Bi];(!c||c===Ds)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ui(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,p=this._elementListeners.get(c);p&&p.forEach(b=>{if(b.name==r.triggerName){const S=En(c,r.triggerName,r.fromState.value,r.toState.value);S._data=e,vt(r.player,b.phase,S,b.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(r)}),this._queue=[],t.sort((r,a)=>{const c=r.transition.ast.depCount,p=a.transition.ast.depCount;return 0==c||0==p?c-p:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Bs{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Ts(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,a=this.namespacesByHostElement;if(r.length-1>=0){let p=!1,b=this.driver.getParentElement(t);for(;b;){const S=a.get(b);if(S){const k=r.indexOf(S);r.splice(k+1,0,e),p=!0;break}b=this.driver.getParentElement(b)}p||r.unshift(e)}else r.push(e);return a.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let a=this._namespaceLookup[e];a&&a.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let a of r.values())if(a.namespaceId){const c=this._fetchNamespace(a.namespaceId);c&&t.add(c)}return t}trigger(e,t,r,a){if(Zi(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,a),!0}return!1}insertNode(e,t,r,a){if(!Zi(t))return;const c=t[Bi];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(e){const p=this._fetchNamespace(e);p&&p.insertNode(t,r)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ui(e,To)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xi(e,To))}removeNode(e,t,r,a){if(Zi(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),r){const p=this.namespacesByHostElement.get(t);p&&p.id!==e&&p.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,r,a,c){this.collectedLeaveElements.push(t),t[Bi]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,r,a,c){return Zi(t)?this._fetchNamespace(e).listen(t,r,a,c):()=>{}}_buildInstruction(e,t,r,a,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,In,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Dr,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gt(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Bi];if(r&&r.setForRemoval){if(e[Bi]=Ds,r.namespaceId){this.destroyInnerAnimations(e);const a=this._fetchNamespace(r.namespaceId);a&&a.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}null!==(t=e.classList)&&void 0!==t&&t.contains(To)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ui(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?gt(t).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw function tt(n){return new v.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Dt,a=[],c=new Map,p=[],b=new Map,S=new Map,k=new Map,z=new Set;this.disabledNodes.forEach(Fn=>{z.add(Fn);const Kn=this.driver.query(Fn,".ng-animate-queued",!0);for(let ir=0;ir<Kn.length;ir++)z.add(Kn[ir])});const ae=this.bodyNode,Ye=Array.from(this.statesByElement.keys()),pt=fr(Ye,this.collectedEnterElements),_t=new Map;let Mt=0;pt.forEach((Fn,Kn)=>{const ir=oi+Mt++;_t.set(Kn,ir),Fn.forEach(Yr=>ui(Yr,ir))});const Yt=[],Nn=new Set,Or=new Set;for(let Fn=0;Fn<this.collectedLeaveElements.length;Fn++){const Kn=this.collectedLeaveElements[Fn],ir=Kn[Bi];ir&&ir.setForRemoval&&(Yt.push(Kn),Nn.add(Kn),ir.hasAnimation?this.driver.query(Kn,".ng-star-inserted",!0).forEach(Yr=>Nn.add(Yr)):Or.add(Kn))}const jn=new Map,Hn=fr(Ye,Array.from(Nn));Hn.forEach((Fn,Kn)=>{const ir=An+Mt++;jn.set(Kn,ir),Fn.forEach(Yr=>ui(Yr,ir))}),e.push(()=>{pt.forEach((Fn,Kn)=>{const ir=_t.get(Kn);Fn.forEach(Yr=>Xi(Yr,ir))}),Hn.forEach((Fn,Kn)=>{const ir=jn.get(Kn);Fn.forEach(Yr=>Xi(Yr,ir))}),Yt.forEach(Fn=>{this.processLeaveNode(Fn)})});const er=[],cr=[];for(let Fn=this._namespaceList.length-1;Fn>=0;Fn--)this._namespaceList[Fn].drainQueuedTransitions(t).forEach(ir=>{const Yr=ir.player,Ys=ir.element;if(er.push(Yr),this.collectedEnterElements.length){const ba=Ys[Bi];if(ba&&ba.setForMove){if(ba.previousTriggersValues&&ba.previousTriggersValues.has(ir.triggerName)){const Vf=ba.previousTriggersValues.get(ir.triggerName),tu=this.statesByElement.get(ir.element);if(tu&&tu.has(ir.triggerName)){const hb=tu.get(ir.triggerName);hb.value=Vf,tu.set(ir.triggerName,hb)}}return void Yr.destroy()}}const mc=!ae||!this.driver.containsElement(ae,Ys),Ol=jn.get(Ys),dh=_t.get(Ys),Ls=this._buildInstruction(ir,r,dh,Ol,mc);if(Ls.errors&&Ls.errors.length)return void cr.push(Ls);if(mc)return Yr.onStart(()=>Qe(Ys,Ls.fromStyles)),Yr.onDestroy(()=>Z(Ys,Ls.toStyles)),void a.push(Yr);if(ir.isFallbackTransition)return Yr.onStart(()=>Qe(Ys,Ls.fromStyles)),Yr.onDestroy(()=>Z(Ys,Ls.toStyles)),void a.push(Yr);const JD=[];Ls.timelines.forEach(ba=>{ba.stretchStartingKeyframe=!0,this.disabledNodes.has(ba.element)||JD.push(ba)}),Ls.timelines=JD,r.append(Ys,Ls.timelines),p.push({instruction:Ls,player:Yr,element:Ys}),Ls.queriedElements.forEach(ba=>sn(b,ba,[]).push(Yr)),Ls.preStyleProps.forEach((ba,Vf)=>{if(ba.size){let tu=S.get(Vf);tu||S.set(Vf,tu=new Set),ba.forEach((hb,jw)=>tu.add(jw))}}),Ls.postStyleProps.forEach((ba,Vf)=>{let tu=k.get(Vf);tu||k.set(Vf,tu=new Set),ba.forEach((hb,jw)=>tu.add(jw))})});if(cr.length){const Fn=[];cr.forEach(Kn=>{Fn.push(function Re(n,e){return new v.vHH(3505,!1)}())}),er.forEach(Kn=>Kn.destroy()),this.reportError(Fn)}const hi=new Map,lo=new Map;p.forEach(Fn=>{const Kn=Fn.element;r.has(Kn)&&(lo.set(Kn,Kn),this._beforeAnimationBuild(Fn.player.namespaceId,Fn.instruction,hi))}),a.forEach(Fn=>{const Kn=Fn.element;this._getPreviousPlayers(Kn,!1,Fn.namespaceId,Fn.triggerName,null).forEach(Yr=>{sn(hi,Kn,[]).push(Yr),Yr.destroy()})});const db=Yt.filter(Fn=>xo(Fn,S,k)),Pu=new Map;Ao(Pu,this.driver,Or,k,F.l3).forEach(Fn=>{xo(Fn,S,k)&&db.push(Fn)});const Xv=new Map;pt.forEach((Fn,Kn)=>{Ao(Xv,this.driver,new Set(Fn),S,F.k1)}),db.forEach(Fn=>{var Kn,ir;const Yr=Pu.get(Fn),Ys=Xv.get(Fn);Pu.set(Fn,new Map([...Array.from(null!==(Kn=null==Yr?void 0:Yr.entries())&&void 0!==Kn?Kn:[]),...Array.from(null!==(ir=null==Ys?void 0:Ys.entries())&&void 0!==ir?ir:[])]))});const Jv=[],Ug=[],XD={};p.forEach(Fn=>{const{element:Kn,player:ir,instruction:Yr}=Fn;if(r.has(Kn)){if(z.has(Kn))return ir.onDestroy(()=>Z(Kn,Yr.toStyles)),ir.disabled=!0,ir.overrideTotalTime(Yr.totalTime),void a.push(ir);let Ys=XD;if(lo.size>1){let Ol=Kn;const dh=[];for(;Ol=Ol.parentNode;){const Ls=lo.get(Ol);if(Ls){Ys=Ls;break}dh.push(Ol)}dh.forEach(Ls=>lo.set(Ls,Ys))}const mc=this._buildAnimation(ir.namespaceId,Yr,hi,c,Xv,Pu);if(ir.setRealPlayer(mc),Ys===XD)Jv.push(ir);else{const Ol=this.playersByElement.get(Ys);Ol&&Ol.length&&(ir.parentPlayer=gt(Ol)),a.push(ir)}}else Qe(Kn,Yr.fromStyles),ir.onDestroy(()=>Z(Kn,Yr.toStyles)),Ug.push(ir),z.has(Kn)&&a.push(ir)}),Ug.forEach(Fn=>{const Kn=c.get(Fn.element);if(Kn&&Kn.length){const ir=gt(Kn);Fn.setRealPlayer(ir)}}),a.forEach(Fn=>{Fn.parentPlayer?Fn.syncPlayerEvents(Fn.parentPlayer):Fn.destroy()});for(let Fn=0;Fn<Yt.length;Fn++){const Kn=Yt[Fn],ir=Kn[Bi];if(Xi(Kn,An),ir&&ir.hasAnimation)continue;let Yr=[];if(b.size){let mc=b.get(Kn);mc&&mc.length&&Yr.push(...mc);let Ol=this.driver.query(Kn,Dr,!0);for(let dh=0;dh<Ol.length;dh++){let Ls=b.get(Ol[dh]);Ls&&Ls.length&&Yr.push(...Ls)}}const Ys=Yr.filter(mc=>!mc.destroyed);Ys.length?ii(this,Kn,Ys):this.processLeaveNode(Kn)}return Yt.length=0,Jv.forEach(Fn=>{this.players.push(Fn),Fn.onDone(()=>{Fn.destroy();const Kn=this.players.indexOf(Fn);this.players.splice(Kn,1)}),Fn.play()}),Jv}elementContainsData(e,t){let r=!1;const a=t[Bi];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,a,c){let p=[];if(t){const b=this.playersByQueriedElement.get(e);b&&(p=b)}else{const b=this.playersByElement.get(e);if(b){const S=!c||c==ti;b.forEach(k=>{k.queued||!S&&k.triggerName!=a||p.push(k)})}}return(r||a)&&(p=p.filter(b=>!(r&&r!=b.namespaceId||a&&a!=b.triggerName))),p}_beforeAnimationBuild(e,t,r){const c=t.element,p=t.isRemovalTransition?void 0:e,b=t.isRemovalTransition?void 0:t.triggerName;for(const S of t.timelines){const k=S.element,z=k!==c,ae=sn(r,k,[]);this._getPreviousPlayers(k,z,p,b,t.toState).forEach(pt=>{const _t=pt.getRealPlayer();_t.beforeDestroy&&_t.beforeDestroy(),pt.destroy(),ae.push(pt)})}Qe(c,t.fromStyles)}_buildAnimation(e,t,r,a,c,p){const b=t.triggerName,S=t.element,k=[],z=new Set,ae=new Set,Ye=t.timelines.map(_t=>{const Mt=_t.element;z.add(Mt);const Yt=Mt[Bi];if(Yt&&Yt.removedBeforeQueried)return new F.ZN(_t.duration,_t.delay);const Nn=Mt!==S,Or=function Mo(n){const e=[];return Vs(n,e),e}((r.get(Mt)||Qs).map(hi=>hi.getRealPlayer())).filter(hi=>!!hi.element&&hi.element===Mt),jn=c.get(Mt),Hn=p.get(Mt),er=Xt(0,this._normalizer,0,_t.keyframes,jn,Hn),cr=this._buildPlayer(_t,er,Or);if(_t.subTimeline&&a&&ae.add(Mt),Nn){const hi=new Di(e,b,Mt);hi.setRealPlayer(cr),k.push(hi)}return cr});k.forEach(_t=>{sn(this.playersByQueriedElement,_t.element,[]).push(_t),_t.onDone(()=>function ss(n,e,t){let r=n.get(e);if(r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,_t.element,_t))}),z.forEach(_t=>ui(_t,bn));const pt=gt(Ye);return pt.onDestroy(()=>{z.forEach(_t=>Xi(_t,bn)),Z(S,t.toStyles)}),ae.forEach(_t=>{sn(a,_t,[]).push(pt)}),pt}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new F.ZN(e.duration,e.delay)}}class Di{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new F.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(a=>vt(e,r,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Zi(n){return n&&1===n.nodeType}function Qi(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Ao(n,e,t,r,a){const c=[];t.forEach(S=>c.push(Qi(S)));const p=[];r.forEach((S,k)=>{const z=new Map;S.forEach(ae=>{const Ye=e.computeStyle(k,ae,a);z.set(ae,Ye),(!Ye||0==Ye.length)&&(k[Bi]=fo,p.push(k))}),n.set(k,z)});let b=0;return t.forEach(S=>Qi(S,c[b++])),p}function fr(n,e){const t=new Map;if(n.forEach(b=>t.set(b,[])),0==e.length)return t;const r=1,a=new Set(e),c=new Map;function p(b){if(!b)return r;let S=c.get(b);if(S)return S;const k=b.parentNode;return S=t.has(k)?k:a.has(k)?r:p(k),c.set(b,S),S}return e.forEach(b=>{const S=p(b);S!==r&&t.get(S).push(b)}),t}function ui(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Xi(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function ii(n,e,t){gt(t).onDone(()=>n.processLeaveNode(e))}function Vs(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof F.ZE?Vs(r.players,e):e.push(r)}}function xo(n,e,t){const r=t.get(n);if(!r)return!1;let a=e.get(n);return a?r.forEach(c=>a.add(c)):e.set(n,r),t.delete(n),!0}class Us{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new Bs(e,t,r),this._timelineEngine=new Uo(e,t,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(e,t,r,a,c){const p=e+"-"+a;let b=this._triggerCache[p];if(!b){const S=[],k=[],z=Hr(this._driver,c,S,k);if(S.length)throw function Xe(n,e){return new v.vHH(3404,!1)}();b=function uo(n,e,t){return new co(n,e,t)}(a,z,this._normalizer),this._triggerCache[p]=b}this._transitionEngine.registerTrigger(t,a,b)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,a){this._transitionEngine.insertNode(e,t,r,a)}onRemove(e,t,r,a){this._transitionEngine.removeNode(e,t,a||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,a){if("@"==r.charAt(0)){const[c,p]=Kt(r);this._timelineEngine.command(c,t,p,a)}else this._transitionEngine.trigger(e,t,r,a)}listen(e,t,r,a,c){if("@"==r.charAt(0)){const[p,b]=Kt(r);return this._timelineEngine.listen(p,t,b,c)}return this._transitionEngine.listen(e,t,r,a,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pi=(()=>{class n{constructor(t,r,a){this._element=t,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Z(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Z(this._element,this._initialStyles),this._endStyles&&(Z(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),Z(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ei(n){let e=null;return n.forEach((t,r)=>{(function Qo(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class As{constructor(e,t,r,a){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,a)=>{"offset"!==a&&e.set(a,this._finished?r:Ur(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ms{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return yn(e,t)}getParentElement(e){return xn(e)}query(e,t,r){return Jt(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,a,c,p=[]){const S={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(S.easing=c);const k=new Map,z=p.filter(pt=>pt instanceof As);(function vi(n,e){return 0===n||0===e})(r,a)&&z.forEach(pt=>{pt.currentSnapshot.forEach((_t,Mt)=>k.set(Mt,_t))});let ae=function or(n){return n.length?n[0]instanceof Map?n:n.map(e=>Rn(e)):[]}(t).map(pt=>ye(pt));ae=function bi(n,e,t){if(t.size&&e.length){let r=e[0],a=[];if(t.forEach((c,p)=>{r.has(p)||a.push(p),r.set(p,c)}),a.length)for(let c=1;c<e.length;c++){let p=e[c];a.forEach(b=>p.set(b,Ur(n,b)))}}return e}(e,ae,k);const Ye=function gs(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Ei(e[0]),e.length>1&&(r=Ei(e[e.length-1]))):e instanceof Map&&(t=Ei(e)),t||r?new pi(n,t,r):null}(e,ae);return new As(e,ae,S,Ye)}}var Ci=V(6895);let ca=(()=>{class n extends F._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?(0,F.vP)(t):t;return Ho(this._renderer,null,r,"register",[a]),new Pn(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(Ci.K0))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class Pn extends F.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Xo(this._id,e,t||{},this._renderer)}}class Xo{constructor(e,t,r,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ho(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ho(n,e,t,r,a){return n.setProperty(e,`@@${t}:${r}`,a)}const Ms="@.disabled";let Va=(()=>{class n{constructor(t,r,a){this.delegate=t,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,p)=>{const b=null==p?void 0:p.parentNode(c);b&&p.removeChild(b,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let z=this._rendererCache.get(c);return z||(z=new zo("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,z)),z}const p=r.id,b=r.id+"-"+this._currentId;this._currentId++,this.engine.register(b,t);const S=z=>{Array.isArray(z)?z.forEach(S):this.engine.registerTrigger(p,b,t,z.name,z)};return r.data.animation.forEach(S),new Go(this,b,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,a){t>=0&&t<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[p,b]=c;p(b)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(Us),v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class zo{constructor(e,t,r,a){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=a,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,a=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,a){this.delegate.setAttribute(e,t,r,a)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,a){this.delegate.setStyle(e,t,r,a)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Ms?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Go extends zo{constructor(e,t,r,a,c){super(t,r,a,c),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Ms?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const a=function L(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),p="";return"@"!=c.charAt(0)&&([c,p]=function d(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,a,c,p,b=>{this.factory.scheduleListenerCallback(b._data||-1,r,b)})}return this.delegate.listen(e,t,r)}}let m=(()=>{class n extends Us{constructor(t,r,a,c){super(t.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Ci.K0),v.LFG(cn),v.LFG(Bo),v.LFG(v.z2F))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const H=[{provide:F._j,useClass:ca},{provide:Bo,useFactory:function f(){return new Vo}},{provide:Us,useClass:m},{provide:v.FYo,useFactory:function M(n,e,t){return new Va(n,e,t)},deps:[l.se,Us,v.R0b]}],ot=[{provide:cn,useFactory:()=>new ms},{provide:v.QbO,useValue:"BrowserAnimations"},...H],Ft=[{provide:cn,useClass:sr},{provide:v.QbO,useValue:"NoopAnimations"},...H];let Gt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Ft:ot}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:ot,imports:[l.b2]}),n})();var Vn=V(2435),jt=V(2078),lr=V(655),si=V(4986),js=V(9751),Vi=V(8996),os=V(9646),Cr=V(2122),da=V(8675),Pl=V(4482),ha=V(5403);function Ro(){return(0,Pl.e)((n,e)=>{let t,r=!1;n.subscribe((0,ha.x)(e,a=>{const c=t;t=a,r&&e.next([c,a]),r=!0}))})}var ln,as=V(4004),fa=V(5026),Jo=V(1884),Nl=V(9300),xs=V(2011),ku=(V(9568),V(3942)),At=V(5861),eo=V(9681),fl=V(4859),to=V(1877),_r=V(2090),nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lr={},Qr=Qr||{},Wn=nu||self;function Ti(){}function Ua(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ja(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ha="closure_uid_"+(1e9*Math.random()>>>0),wa=0;function pa(n,e,t){return n.call.apply(n.bind,arguments)}function R(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function U(n,e,t){return(U=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pa:R).apply(null,arguments)}function N(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function W(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,a,c){for(var p=Array(arguments.length-2),b=2;b<arguments.length;b++)p[b-2]=arguments[b];return e.prototype[a].apply(r,p)}}function pe(){this.s=this.s,this.o=this.o}pe.prototype.s=!1,pe.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function pl(n){Object.prototype.hasOwnProperty.call(n,Ha)&&n[Ha]||(n[Ha]=++wa)}(this)},pe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xt=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function pn(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Er(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ua(r)){const a=n.length||0,c=r.length||0;n.length=a+c;for(let p=0;p<c;p++)n[a+p]=r[p]}else n.push(r)}}function $n(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}$n.prototype.h=function(){this.defaultPrevented=!0};var pr=function(){if(!Wn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wn.addEventListener("test",Ti,e),Wn.removeEventListener("test",Ti,e)}catch(t){}return n}();function Jn(n){return/^[\s\xa0]*$/.test(n)}var rr=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Kr(n,e){return n<e?-1:n>e?1:0}function Xr(){var n=Wn.navigator;return n&&(n=n.userAgent)?n:""}function Pi(n){return-1!=Xr().indexOf(n)}function Ui(n){return Ui[" "](n),n}Ui[" "]=Ti;var za,n,no=Pi("Opera"),zs=Pi("Trident")||Pi("MSIE"),ys=Pi("Edge"),Oo=ys||zs,ga=Pi("Gecko")&&!(-1!=Xr().toLowerCase().indexOf("webkit")&&!Pi("Edge"))&&!(Pi("Trident")||Pi("MSIE"))&&!Pi("Edge"),ma=-1!=Xr().toLowerCase().indexOf("webkit")&&!Pi("Edge");function ro(){var n=Wn.document;return n?n.documentMode:void 0}e:{var ea="",Ga=(n=Xr(),ga?/rv:([^\);]+)(\)|;)/.exec(n):ys?/Edge\/([\d\.]+)/.exec(n):zs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ma?/WebKit\/(\S+)/.exec(n):no?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ga&&(ea=Ga?Ga[1]:""),zs){var Da=ro();if(null!=Da&&Da>parseFloat(ea)){za=String(Da);break e}}za=ea}var Po={};var Wa=Wn.document&&zs&&(ro()||parseInt(za,10))||void 0;function qa(n,e){if($n.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ga){e:{try{Ui(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ka[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qa.X.h.call(this)}}W(qa,$n);var Ka={2:"touch",3:"pen",4:"mouse"};qa.prototype.h=function(){qa.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ca="closure_listenable_"+(1e6*Math.random()|0),kl=0;function Fu(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=a,this.key=++kl,this.ba=this.ea=!1}function Rs(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function yl(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ls(n){const e={};for(const t in n)e[t]=n[t];return e}const na="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function po(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let c=0;c<na.length;c++)t=na[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ya(n){this.src=n,this.g={},this.h=0}function Os(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],a=xt(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(Rs(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ta(n,e,t,r){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==r)return a}return-1}Ya.prototype.add=function(n,e,t,r,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var p=Ta(n,e,r,a);return-1<p?(e=n[p],t||(e.ea=!1)):((e=new Fu(e,this.src,c,!!r,a)).ea=t,n.push(e)),e};var Sa="closure_lm_"+(1e6*Math.random()|0),Lu={};function vl(n,e,t,r,a){if(r&&r.once)return Ps(n,e,t,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)vl(n,e[c],t,r,a);return null}return t=qo(t),n&&n[Ca]?n.N(e,t,ja(r)?!!r.capture:!!r,a):_l(n,e,t,!1,r,a)}function _l(n,e,t,r,a,c){if(!e)throw Error("Invalid event type");var p=ja(a)?!!a.capture:!!a,b=Wo(n);if(b||(n[Sa]=b=new Ya(n)),(t=b.add(e,t,r,p,c)).proxy)return t;if(r=function $u(){const e=Xa;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pr||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(Qa(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ps(n,e,t,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ps(n,e[c],t,r,a);return null}return t=qo(t),n&&n[Ca]?n.O(e,t,ja(r)?!!r.capture:!!r,a):_l(n,e,t,!0,r,a)}function Za(n,e,t,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Za(n,e[c],t,r,a);else r=ja(r)?!!r.capture:!!r,t=qo(t),n&&n[Ca]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ta(c=n.g[e],t,r,a))&&(Rs(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Wo(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ta(e,t,r,a)),(t=-1<n?e[n]:null)&&go(t))}function go(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ca])Os(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Qa(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Wo(e))?(Os(t,n),0==t.h&&(t.src=null,e[Sa]=null)):Rs(n)}}}function Qa(n){return n in Lu?Lu[n]:Lu[n]="on"+n}function Xa(n,e){if(n.ba)n=!0;else{e=new qa(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&go(n),n=t.call(r,e)}return n}function Wo(n){return(n=n[Sa])instanceof Ya?n:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(n){return"function"==typeof n?n:(n[Ja]||(n[Ja]=function(e){return n.handleEvent(e)}),n[Ja])}function Ns(){pe.call(this),this.i=new Ya(this),this.P=this,this.I=null}function ji(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new $n(e,n);else if(e instanceof $n)e.target=e.target||n;else{var a=e;po(e=new $n(r,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=$r(p,r,!0,e)&&a}if(a=$r(p=e.g=n,r,!0,e)&&a,a=$r(p,r,!1,e)&&a,t)for(c=0;c<t.length;c++)a=$r(p=e.g=t[c],r,!1,e)&&a}function $r(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.ba&&p.capture==t){var b=p.listener,S=p.ha||p.src;p.ea&&Os(n.i,p),a=!1!==b.call(S,r)&&a}}return a&&!r.defaultPrevented}W(Ns,pe),Ns.prototype[Ca]=!0,Ns.prototype.removeEventListener=function(n,e,t,r){Za(this,n,e,t,r)},Ns.prototype.M=function(){if(Ns.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Rs(t[r]);delete n.g[e],n.h--}}this.I=null},Ns.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ns.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var El=Wn.JSON.stringify;function Bu(){var n=ci;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var el,Fl=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Uu,n=>n.reset());class Uu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yc(n){Wn.setTimeout(()=>{throw n},0)}function ju(n,e){el||function tl(){var n=Wn.Promise.resolve(void 0);el=function(){n.then(iu)}}(),ru||(el(),ru=!0),ci.add(n,e)}var ru=!1,ci=new class Vu{constructor(){this.h=this.g=null}add(e,t){const r=Fl.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function iu(){for(var n;n=Bu();){try{n.h.call(n.g)}catch(t){yc(t)}var e=Fl;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ru=!1}function ra(n,e){Ns.call(this),this.h=n||1,this.g=e||Wn,this.j=U(this.lb,this),this.l=Date.now()}function Aa(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function us(n,e,t){if("function"==typeof n)t&&(n=U(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=U(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wn.setTimeout(n,e||0)}function Ko(n){n.g=us(()=>{n.g=null,n.i&&(n.i=!1,Ko(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}W(ra,Ns),(ln=ra.prototype).ca=!1,ln.R=null,ln.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ji(this,"tick"),this.ca&&(Aa(this),this.start()))}},ln.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ln.M=function(){ra.X.M.call(this),Aa(this),delete this.g};class Ll extends pe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ko(this)}M(){super.M(),this.g&&(Wn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(n){pe.call(this),this.h=n,this.g={}}W(mo,pe);var ya=[];function nl(n,e,t,r){Array.isArray(t)||(t&&(ya[0]=t.toString()),t=ya);for(var a=0;a<t.length;a++){var c=vl(e,t[a],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function gd(n){yl(n.g,function(e,t){this.g.hasOwnProperty(t)&&go(e)},n),n.g={}}function rl(){this.g=!0}function w(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function E(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return El(t)}catch(b){return e}}(n,t)+(r?" "+r:"")})}mo.prototype.M=function(){mo.X.M.call(this),gd(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rl.prototype.Aa=function(){this.g=!1},rl.prototype.info=function(){};var T={},$=null;function G(){return $=$||new Ns}function J(n){$n.call(this,T.Pa,n)}function He(n){const e=G();ji(e,new J(e))}function bt(n,e){$n.call(this,T.STAT_EVENT,n),this.stat=e}function Lt(n){const e=G();ji(e,new bt(e,n))}function dn(n,e){$n.call(this,T.Qa,n),this.size=e}function tn(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wn.setTimeout(function(){n()},e)}T.Pa="serverreachability",W(J,$n),T.STAT_EVENT="statevent",W(bt,$n),T.Qa="timingevent",W(dn,$n);var Mr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},di={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function P(){}function Y(){}P.prototype.h=null;var Pt,we={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function it(){$n.call(this,"d")}function mt(){$n.call(this,"c")}function mn(){}function Cn(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new mo(this),this.O=gr,this.T=new ra(n=Oo?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Mn}function Mn(){this.i=null,this.g="",this.h=!1}W(it,$n),W(mt,$n),W(mn,P),mn.prototype.g=function(){return new XMLHttpRequest},mn.prototype.i=function(){return{}},Pt=new mn;var gr=45e3,Xn={},io={};function Hi(n,e,t){n.K=1,n.v=Ic(Ul(e)),n.s=t,n.P=!0,$l(n,null)}function $l(n,e){n.F=Date.now(),Yo(n),n.A=Ul(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Gu(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Mn,n.g=Yg(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Ll(U(n.La,n,n.g),n.N)),nl(n.S,n.g,"readystatechange",n.ib),e=n.H?ls(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),He(),function vc(n,e,t,r,a,c){n.info(function(){if(n.g)if(c)for(var p="",b=c.split("&"),S=0;S<b.length;S++){var k=b[S].split("=");if(1<k.length){var z=k[0];k=k[1];var ae=z.split("_");p=2<=ae.length&&"type"==ae[1]?p+(z+"=")+k+"&":p+(z+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.U,n.s)}function _c(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function bl(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=No(n,t),a==io){4==e&&(n.o=4,Lt(14),r=!1),w(n.j,n.m,null,"[Incomplete Response]");break}if(a==Xn){n.o=4,Lt(15),w(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}w(n.j,n.m,a,null),Uf(n,a)}_c(n)&&a!=io&&a!=Xn&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Lt(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zf(e),e.K=!0,Lt(11))):(w(n.j,n.m,t,"[Invalid Chunked Response]"),Vl(n),su(n))}function No(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?io:(t=Number(e.substring(t,r)),isNaN(t)?Xn:(r+=1)+t>e.length?io:(e=e.substr(r,t),n.C=r+t,e))}function Yo(n){n.V=Date.now()+n.O,Bl(n,n.O)}function Bl(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=tn(U(n.gb,n),e)}function Ec(n){n.B&&(Wn.clearTimeout(n.B),n.B=null)}function su(n){0==n.l.G||n.I||Kg(n.l,n)}function Vl(n){Ec(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Aa(n.T),gd(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Uf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Tc(t.h,n)))if(!n.J&&Tc(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(k){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ih(t),qu(t)}Yf(t),Lt(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=tn(U(t.cb,t),6e3));if(1>=vo(t.h)&&t.ja){try{t.ja()}catch(k){}t.ja=void 0}}else Dd(t,11)}else if((n.J||t.g==n)&&Ih(t),!Jn(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let k=a[e];if(t.T=k[0],k=k[1],2==t.G)if("c"==k[0]){t.I=k[1],t.ka=k[2];const z=k[3];null!=z&&(t.ma=z,t.j.info("VER="+t.ma));const ae=k[4];null!=ae&&(t.Ca=ae,t.j.info("SVER="+t.Ca));const Ye=k[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(t.J=r=1.5*Ye,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const pt=n.g;if(pt){const _t=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_t){var c=r.h;c.g||-1==_t.indexOf("spdy")&&-1==_t.indexOf("quic")&&-1==_t.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(_d(c,c.h),c.h=null))}if(r.D){const Mt=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mt&&(r.za=Mt,zi(r.F,r.D,Mt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var p=n;if((r=t).sa=i_(r,r.H?r.ka:null,r.V),p.J){Ed(r.h,p);var b=p,S=r.J;S&&b.setTimeout(S),b.B&&(Ec(b),Yo(b)),r.g=p}else n_(r);0<t.i.length&&bh(t)}else"stop"!=k[0]&&"close"!=k[0]||Dd(t,7);else 3==t.G&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?Dd(t,7):Eh(t):"noop"!=k[0]&&t.l&&t.l.wa(k),t.A=0)}He()}catch(k){}}function bc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ua(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function e_(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ua(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hh(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ua(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length,c=0;c<a;c++)e.call(void 0,r[c],t&&t[c],n)}(ln=Cn.prototype).setTimeout=function(n){this.O=n},ln.ib=function(n){n=n.target;const e=this.L;e&&3==Ra(n)?e.l():this.La(n)},ln.La=function(n){try{if(n==this.g)e:{const z=Ra(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>z)&&(3!=z||Oo||this.g&&(this.h.h||this.g.fa()||Id(this.g)))){this.I||4!=z||7==e||He(),Ec(this);var t=this.g.aa();this.Y=t;t:if(_c(this)){var r=Id(this.g);n="";var a=r.length,c=4==Ra(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vl(this),su(this);var p="";break t}this.h.i=new Wn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==t,function yo(n,e,t,r,a,c,p){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.U,z,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,S=this.g;if((b=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jn(b)){var k=b;break t}}k=null}if(!(t=k)){this.i=!1,this.o=3,Lt(12),Vl(this),su(this);break e}w(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uf(this,t)}this.P?(bl(this,z,p),Oo&&this.i&&3==z&&(nl(this.S,this.T,"tick",this.hb),this.T.start())):(w(this.j,this.m,p,null),Uf(this,p)),4==z&&Vl(this),this.i&&!this.I&&(4==z?Kg(this.l,this):(this.i=!1,Yo(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),Vl(this),su(this)}}}catch(z){}},ln.hb=function(){if(this.g){var n=Ra(this.g),e=this.g.fa();this.C<e.length&&(Ec(this),bl(this,n,e),this.i&&4!=n&&Yo(this))}},ln.cancel=function(){this.I=!0,Vl(this)},ln.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function D(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(He(),Lt(17)),Vl(this),this.o=2,su(this)):Bl(this,this.V-n)};var jf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Hu){this.h=void 0!==e?e:n.h,zu(this,n.j),this.s=n.s,this.g=n.g,ph(this,n.m),this.l=n.l,e=n.i;var t=new Dc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),jg(this,t),this.o=n.o}else n&&(t=String(n).match(jf))?(this.h=!!e,zu(this,t[1]||"",!0),this.s=md(t[2]||""),this.g=md(t[3]||"",!0),ph(this,t[4]),this.l=md(t[5]||"",!0),jg(this,t[6]||"",!0),this.o=md(t[7]||"")):(this.h=!!e,this.i=new Dc(null,this.h))}function Ul(n){return new Hu(n)}function zu(n,e,t){n.j=t?md(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ph(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jg(n,e,t){e instanceof Dc?(n.i=e,function Wf(n,e){e&&!n.j&&(jl(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(vd(this,r),Gu(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wc(e,Gf)),n.i=new Dc(e,n.h))}function zi(n,e,t){n.i.set(e,t)}function Ic(n){return zi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function md(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Hf),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Hf(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wc(e,yd,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wc(e,yd,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wc(t,"/"==t.charAt(0)?gh:zf,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wc(t,il)),n.join("")};var yd=/[#\/\?@]/g,zf=/[#\?:]/g,gh=/[#\?]/g,Gf=/[#\?@]/g,il=/#/g;function Dc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function jl(n){n.g||(n.g=new Map,n.h=0,n.i&&function fh(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var c=n[t].substring(0,r);a=n[t].substring(r+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vd(n,e){jl(n),e=Wu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function mh(n,e){return jl(n),e=Wu(n,e),n.g.has(e)}function Gu(n,e,t){vd(n,e),0<t.length&&(n.i=null,n.g.set(Wu(n,e),pn(t)),n.h+=t.length)}function Wu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Cc(n){this.l=n||zg,n=Wn.PerformanceNavigationTiming?0<(n=Wn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wn.g&&Wn.g.Ga&&Wn.g.Ga()&&Wn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ln=Dc.prototype).add=function(n,e){jl(this),this.i=null,n=Wu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ln.forEach=function(n,e){jl(this),this.g.forEach(function(t,r){t.forEach(function(a){n.call(e,a,r,this)},this)},this)},ln.oa=function(){jl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const a=n[r];for(let c=0;c<a.length;c++)t.push(e[r])}return t},ln.W=function(n){jl(this);let e=[];if("string"==typeof n)mh(this,n)&&(e=e.concat(this.g.get(Wu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ln.set=function(n,e){return jl(this),this.i=null,mh(this,n=Wu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ln.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ln.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),p=this.W(r);for(r=0;r<p.length;r++){var a=c;""!==p[r]&&(a+="="+encodeURIComponent(String(p[r]))),n.push(a)}}return this.i=n.join("&")};var zg=10;function yh(n){return!!n.h||!!n.g&&n.g.size>=n.j}function vo(n){return n.h?1:n.g?n.g.size:0}function Tc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _d(n,e){n.g?n.g.add(e):n.h=e}function Ed(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function so(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return pn(n.i)}function ou(){}function vh(){this.g=new ou}function qf(n,e,t){const r=t||"";try{bc(n,function(a,c){let p=a;ja(a)&&(p=El(a)),e.push(r+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function C(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(c){}}function y(n){this.l=n.ac||null,this.j=n.jb||!1}function _(n,e){Ns.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=x,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cc.prototype.cancel=function(){if(this.i=so(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ou.prototype.stringify=function(n){return Wn.JSON.stringify(n,void 0)},ou.prototype.parse=function(n){return Wn.JSON.parse(n,void 0)},W(y,P),y.prototype.g=function(){return new _(this.l,this.j)},y.prototype.i=function(n){return function(){return n}}({}),W(_,Ns);var x=0;function q(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function oe(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ft(n)}function ft(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ln=_.prototype).open=function(n,e){if(this.readyState!=x)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ft(this)},ln.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ln.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oe(this)),this.readyState=x},ln.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ft(this)),this.g&&(this.readyState=3,ft(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Wn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ln.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?oe(this):ft(this),3==this.readyState&&q(this)}},ln.Va=function(n){this.g&&(this.response=this.responseText=n,oe(this))},ln.Ua=function(n){this.g&&(this.response=n,oe(this))},ln.ga=function(){this.g&&oe(this)},ln.setRequestHeader=function(n,e){this.v.append(n,e)},ln.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ln.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $t=Wn.JSON.parse;function Zt(n){Ns.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bn,this.K=this.L=!1}W(Zt,Ns);var Bn="",mr=/^https?$/i,Ni=["POST","PUT"];function Ma(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,au(n),xa(n)}function au(n){n.D||(n.D=!0,ji(n,"complete"),ji(n,"error"))}function bd(n){if(n.h&&typeof Qr<"u"&&(!n.C[1]||4!=Ra(n)||2!=n.aa()))if(n.v&&4==Ra(n))us(n.Ha,0,n);else if(ji(n,"readystatechange"),4==Ra(n)){n.h=!1;try{const b=n.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===b){var a=String(n.H).match(jf)[1]||null;if(!a&&Wn.self&&Wn.self.location){var c=Wn.self.location.protocol;a=c.substr(0,c.length-1)}r=!mr.test(a?a.toLowerCase():"")}t=r}if(t)ji(n,"complete"),ji(n,"success");else{n.m=6;try{var p=2<Ra(n)?n.g.statusText:""}catch(S){p=""}n.j=p+" ["+n.aa()+"]",au(n)}}finally{xa(n)}}}function xa(n,e){if(n.g){Sc(n);const t=n.g,r=n.C[0]?Ti:null;n.g=null,n.C=null,e||ji(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function Sc(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wn.clearTimeout(n.A),n.A=null)}function Ra(n){return n.g?n.g.readyState:0}function Id(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Bn:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ac(n){let e="";return yl(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function wd(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Ac(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):zi(n,e,t))}function lu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _h(n){this.Ca=0,this.i=[],this.j=new rl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=lu("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=lu("baseRetryDelayMs",5e3,n),this.bb=lu("retryDelaySeedMs",1e4,n),this.$a=lu("forwardChannelMaxRetries",2,n),this.ta=lu("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Cc(n&&n.concurrentRequestLimit),this.Fa=new vh,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Eh(n){if(Kf(n),3==n.G){var e=n.U++,t=Ul(n.F);zi(t,"SID",n.I),zi(t,"RID",e),zi(t,"TYPE","terminate"),Mc(n,t),(e=new Cn(n,n.j,e,void 0)).K=2,e.v=Ic(Ul(t)),t=!1,Wn.navigator&&Wn.navigator.sendBeacon&&(t=Wn.navigator.sendBeacon(e.v.toString(),"")),!t&&Wn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Yg(e.l,null),e.g.da(e.v)),e.F=Date.now(),Yo(e)}wh(n)}function qu(n){n.g&&(Zf(n),n.g.cancel(),n.g=null)}function Kf(n){qu(n),n.u&&(Wn.clearTimeout(n.u),n.u=null),Ih(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Wn.clearTimeout(n.m),n.m=null)}function bh(n){yh(n.h)||n.m||(n.m=!0,ju(n.Ja,n),n.C=0)}function qg(n,e){var t;t=e?e.m:n.U++;const r=Ul(n.F);zi(r,"SID",n.I),zi(r,"RID",t),zi(r,"AID",n.T),Mc(n,r),n.o&&n.s&&wd(r,n.o,n.s),t=new Cn(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=t_(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),_d(n.h,t),Hi(t,r,e)}function Mc(n,e){n.ia&&yl(n.ia,function(t,r){zi(e,r,t)}),n.l&&bc({},function(t,r){zi(e,r,t)})}function t_(n,e,t){t=Math.min(n.i.length,t);var r=n.l?U(n.l.Ra,n.l,n):null;e:{var a=n.i;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let b=!0;for(let S=0;S<t;S++){let k=a[S].h;const z=a[S].g;if(k-=c,0>k)c=Math.max(0,a[S].h-100),b=!1;else try{qf(z,p,"req"+k+"_")}catch(ae){r&&r(z)}}if(b){r=p.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function n_(n){n.g||n.u||(n.Z=1,ju(n.Ia,n),n.A=0)}function Yf(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=tn(U(n.Ia,n),r_(n,n.A)),n.A++,0))}function Zf(n){null!=n.B&&(Wn.clearTimeout(n.B),n.B=null)}function Ku(n){n.g=new Cn(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ul(n.sa);zi(e,"RID","rpc"),zi(e,"SID",n.I),zi(e,"CI",n.L?"0":"1"),zi(e,"AID",n.T),zi(e,"TYPE","xmlhttp"),Mc(n,e),n.o&&n.s&&wd(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ic(Ul(e)),t.s=null,t.P=!0,$l(t,n)}function Ih(n){null!=n.v&&(Wn.clearTimeout(n.v),n.v=null)}function Kg(n,e){var t=null;if(n.g==e){Ih(n),Zf(n),n.g=null;var r=2}else{if(!Tc(n.h,e))return;t=e.D,Ed(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;ji(r=G(),new dn(r,t)),bh(n)}else n_(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==r&&function Wg(n,e){return!(vo(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=tn(U(n.Ja,n,e),r_(n,n.C)),n.C++,0)))}(n,e)||2==r&&Yf(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:Dd(n,5);break;case 4:Dd(n,10);break;case 3:Dd(n,6);break;default:Dd(n,2)}}function r_(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Dd(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=U(n.kb,n);t||(t=new Hu("//www.google.com/images/cleardot.gif"),Wn.location&&"http"==Wn.location.protocol||zu(t,"https"),Ic(t)),function Gg(n,e){const t=new rl;if(Wn.Image){const r=new Image;r.onload=N(C,t,r,"TestLoadImage: loaded",!0,e),r.onerror=N(C,t,r,"TestLoadImage: error",!1,e),r.onabort=N(C,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=N(C,t,r,"TestLoadImage: timeout",!1,e),Wn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Lt(2);n.G=0,n.l&&n.l.va(e),wh(n),Kf(n)}function wh(n){if(n.G=0,n.la=[],n.l){const e=so(n.h);(0!=e.length||0!=n.i.length)&&(Er(n.la,e),Er(n.la,n.i),n.h.i.length=0,pn(n.i),n.i.length=0),n.l.ua()}}function i_(n,e,t){var r=t instanceof Hu?Ul(t):new Hu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ph(r,r.m);else{var a=Wn.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Hu(null,void 0);r&&zu(c,r),e&&(c.g=e),a&&ph(c,a),t&&(c.l=t),r=c}return e=n.za,(t=n.D)&&e&&zi(r,t,e),zi(r,"VER",n.ma),Mc(n,r),r}function Yg(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zt(t&&n.Da&&!n.ra?new y({jb:!0}):n.ra)).Ka(n.H),e}function Zg(){}function Dh(){if(zs&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function ia(n,e){Ns.call(this),this.g=new _h(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Jn(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jn(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new uu(this)}function Qg(n){it.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ch(){mt.call(this),this.status=1}function uu(n){this.g=n}(ln=Zt.prototype).Ka=function(n){this.L=n},ln.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pt.g(),this.C=function B(n){return n.h||(n.h=n.i())}(this.u?this.u:Pt),this.g.onreadystatechange=U(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void Ma(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)t.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=Wn.FormData&&n instanceof Wn.FormData,!(0<=xt(Ni,e))||r||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sc(this),0<this.B&&((this.K=function sl(n){return zs&&function gl(){return function Hs(n){var e=Po;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=rr(String(za)).split("."),t=rr("9").split("."),r=Math.max(e.length,t.length);for(let p=0;0==n&&p<r;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=Kr(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Kr(0==a[2].length,0==c[2].length)||Kr(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=U(this.qa,this)):this.A=us(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Ma(this,c)}},ln.qa=function(){typeof Qr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ji(this,"timeout"),this.abort(8))},ln.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ji(this,"complete"),ji(this,"abort"),xa(this))},ln.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xa(this,!0)),Zt.X.M.call(this)},ln.Ha=function(){this.s||(this.F||this.v||this.l?bd(this):this.fb())},ln.fb=function(){bd(this)},ln.aa=function(){try{return 2<Ra(this)?this.g.status:-1}catch(n){return-1}},ln.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ln.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$t(e)}},ln.Ea=function(){return this.m},ln.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ln=_h.prototype).ma=8,ln.G=1,ln.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new Cn(this,this.j,n,void 0);let c=this.s;if(this.S&&(c?(c=ls(c),po(c,this.S)):c=this.S),null!==this.o||this.N||(a.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=t_(this,a,e),zi(t=Ul(this.F),"RID",n),zi(t,"CVER",22),this.D&&zi(t,"X-HTTP-Session-Id",this.D),Mc(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Ac(c)))+"&"+e:this.o&&wd(t,this.o,c)),_d(this.h,a),this.Ya&&zi(t,"TYPE","init"),this.O?(zi(t,"$req",e),zi(t,"SID","null"),a.Z=!0,Hi(a,t,null)):Hi(a,t,e),this.G=2}}else 3==this.G&&(n?qg(this,n):0==this.i.length||yh(this.h)||qg(this))},ln.Ia=function(){if(this.u=null,Ku(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=tn(U(this.eb,this),n)}},ln.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Lt(10),qu(this),Ku(this))},ln.cb=function(){null!=this.v&&(this.v=null,qu(this),Yf(this),Lt(19))},ln.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))},(ln=Zg.prototype).xa=function(){},ln.wa=function(){},ln.va=function(){},ln.ua=function(){},ln.Ra=function(){},Dh.prototype.g=function(n,e){return new ia(n,e)},W(ia,Ns),ia.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Lt(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=i_(n,null,n.V),bh(n)},ia.prototype.close=function(){Eh(this.g)},ia.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=El(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&bh(e)},ia.prototype.M=function(){this.g.l=null,delete this.j,Eh(this.g),delete this.g,ia.X.M.call(this)},W(Qg,it),W(Ch,mt),W(uu,Zg),uu.prototype.xa=function(){ji(this.g,"a")},uu.prototype.wa=function(n){ji(this.g,new Qg(n))},uu.prototype.va=function(n){ji(this.g,new Ch)},uu.prototype.ua=function(){ji(this.g,"b")},Dh.prototype.createWebChannel=Dh.prototype.g,ia.prototype.send=ia.prototype.u,ia.prototype.open=ia.prototype.m,ia.prototype.close=ia.prototype.close,Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,di.COMPLETE="complete",Y.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",Ns.prototype.listen=Ns.prototype.N,Zt.prototype.listenOnce=Zt.prototype.O,Zt.prototype.getLastError=Zt.prototype.Oa,Zt.prototype.getLastErrorCode=Zt.prototype.Ea,Zt.prototype.getStatus=Zt.prototype.aa,Zt.prototype.getResponseJson=Zt.prototype.Sa,Zt.prototype.getResponseText=Zt.prototype.fa,Zt.prototype.send=Zt.prototype.da,Zt.prototype.setWithCredentials=Zt.prototype.Ka;var s_=Lr.createWebChannelTransport=function(){return new Dh},Xg=Lr.getStatEventTarget=function(){return G()},Th=Lr.ErrorCode=Mr,Jg=Lr.EventType=di,Sh=Lr.Event=T,o_=Lr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},a_=Lr.FetchXmlHttpFactory=y,Qf=Lr.WebChannel=Y,fb=Lr.XhrIo=Zt;const l_="@firebase/firestore";class oo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oo.UNAUTHENTICATED=new oo(null),oo.GOOGLE_CREDENTIALS=new oo("google-credentials-uid"),oo.FIRST_PARTY=new oo("first-party-uid"),oo.MOCK_USER=new oo("mock-user");let xc="9.18.0";const Il=new to.Yd("@firebase/firestore");function Ah(){return Il.logLevel}function qt(n,...e){if(Il.logLevel<=to.in.DEBUG){const t=e.map(em);Il.debug(`Firestore (${xc}): ${n}`,...t)}}function ks(n,...e){if(Il.logLevel<=to.in.ERROR){const t=e.map(em);Il.error(`Firestore (${xc}): ${n}`,...t)}}function Td(n,...e){if(Il.logLevel<=to.in.WARN){const t=e.map(em);Il.warn(`Firestore (${xc}): ${n}`,...t)}}function em(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function _n(n="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+n;throw ks(e),new Error(e)}function kn(n,e){n||_n()}function un(n,e){return n}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends _r.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oo.UNAUTHENTICATED))}shutdown(){}}class pb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gb{constructor(e){this.t=e,this.currentUser=oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const c=k=>this.i!==a?(a=this.i,t(k)):Promise.resolve();let p=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Gs,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const k=p;e.enqueueRetryable((0,At.Z)(function*(){yield k.promise,yield c(r.currentUser)}))},S=k=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(k=>S(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?S(k):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Gs)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kn("string"==typeof r.accessToken),new tm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kn(null===e||"string"==typeof e),new oo(e)}}class mb{constructor(e,t,r,a){this.h=e,this.l=t,this.m=r,this.g=a,this.type="FirstParty",this.user=oo.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(kn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class yb{constructor(e,t,r,a){this.h=e,this.l=t,this.m=r,this.g=a}getToken(){return Promise.resolve(new mb(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(oo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cu{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=c=>{null!=c.error&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.A;return this.A=c.token,qt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const a=c=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?a(c):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kn("string"==typeof t.token),this.A=t.token,new c_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class d_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=vb(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<t&&(r+=e.charAt(a[c]%e.length))}return r}}function br(n,e){return n<e?-1:n>e?1:0}function Sd(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function h_(n){return n+"\0"}class Ji{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ji.fromMillis(Date.now())}static fromDate(e){return Ji.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ji(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?br(this.nanoseconds,e.nanoseconds):br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Un(e)}static min(){return new Un(new Ji(0,0))}static max(){return new Un(new Ji(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xh{constructor(e,t,r){void 0===t?t=0:t>e.length&&_n(),void 0===r?r=e.length-t:r>e.length-t&&_n(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===xh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jr extends xh{construct(e,t,r){return new Jr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Vt(Tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Jr(t)}static emptyPath(){return new Jr([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vs extends xh{construct(e,t,r){return new vs(e,t,r)}static isValidIdentifier(e){return _b.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vs(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const c=()=>{if(0===r.length)throw new Vt(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let p=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new Vt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[a+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new Vt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=S,a+=2}else"`"===b?(p=!p,a++):"."!==b||p?(r+=b,a++):(c(),a++)}if(c(),p)throw new Vt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vs(t)}static emptyPath(){return new vs([])}}class on{constructor(e){this.path=e}static fromPath(e){return new on(Jr.fromString(e))}static fromName(e){return new on(Jr.fromString(e).popFirst(5))}static empty(){return new on(Jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new Jr(e.slice()))}}class ol{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function Oc(n){return n.fields.find(e=>2===e.kind)}function Yu(n){return n.fields.filter(e=>2!==e.kind)}ol.UNKNOWN_ID=-1;class Rh{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xf(0,sa.min())}}function Eb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Un.fromTimestamp(1e9===r?new Ji(t+1,0):new Ji(t,r));return new sa(a,on.empty(),e)}function Jf(n){return new sa(n.readTime,n.key,-1)}class sa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new sa(Un.min(),on.empty(),-1)}static max(){return new sa(Un.max(),on.empty(),-1)}}function p_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=on.comparator(n.documentKey,e.documentKey),0!==t?t:br(n.largestBatchId,e.largestBatchId))}const bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zu(n){return rm.apply(this,arguments)}function rm(){return rm=(0,At.Z)(function*(n){if(n.code!==Tt.FAILED_PRECONDITION||n.message!==bb)throw n;qt("LocalStore","Unexpectedly lost primary lease")}),rm.apply(this,arguments)}class wt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new wt((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof wt?t:wt.resolve(t)}catch(t){return wt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):wt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):wt.reject(t)}static resolve(e){return new wt((t,r)=>{t(e)})}static reject(e){return new wt((t,r)=>{r(e)})}static waitFor(e){return new wt((t,r)=>{let a=0,c=0,p=!1;e.forEach(b=>{++a,b.next(()=>{++c,p&&c===a&&t()},S=>r(S))}),p=!0,c===a&&t()})}static or(e){let t=wt.resolve(!1);for(const r of e)t=t.next(a=>a?wt.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,c)=>{r.push(t.call(this,a,c))}),this.waitFor(r)}static mapArray(e,t){return new wt((r,a)=>{const c=e.length,p=new Array(c);let b=0;for(let S=0;S<c;S++){const k=S;t(e[k]).next(z=>{p[k]=z,++b,b===c&&r(p)},z=>a(z))}})}static doWhile(e,t){return new wt((r,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):r()};c()})}}class ep{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Gs,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ad(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const a=sm(r.target.error);this.P.reject(new Ad(e,a))}}static open(e,t,r,a){try{return new ep(t,e.transaction(a,r))}catch(c){throw new Ad(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ib(t)}}class al{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===al.D((0,_r.z$)())&&ks("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qt("SimpleDb","Removing database:",e),Si(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,_r.hl)())return!1;if(al.N())return!0;const e=(0,_r.z$)(),t=al.D(e),r=0<t&&t<10,a=al.k(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.$)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,At.Z)(function*(){return t.db||(qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{r(p.target.result)},c.onblocked=()=>{a(new Ad(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const b=p.target.error;a("VersionError"===b.name?new Vt(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Vt(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new Ad(e,b))},c.onupgradeneeded=p=>{qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.S.F(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var c=this;return(0,At.Z)(function*(){const p="readonly"===t;let b=0;for(;;){++b;try{c.db=yield c.O(e);const S=ep.open(c.db,e,p?"readonly":"readwrite",r),k=a(S).next(z=>(S.V(),z)).catch(z=>(S.abort(z),wt.reject(z))).toPromise();return k.catch(()=>{}),yield S.v,k}catch(S){const k=S,z="FirebaseError"!==k.name&&b<3;if(qt("SimpleDb","Transaction failed with error:",k.message,"Retrying:",z),c.close(),!z)return Promise.reject(k)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tp{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Si(this.q.delete())}}class Ad extends Vt{constructor(e,t){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Hl(n){return"IndexedDbTransactionError"===n.name}class Ib{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(qt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Si(r)}add(e){return qt("SimpleDb","ADD",this.store.name,e,e),Si(this.store.add(e))}get(e){return Si(this.store.get(e)).next(t=>(void 0===t&&(t=null),qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return qt("SimpleDb","DELETE",this.store.name,e),Si(this.store.delete(e))}count(){return qt("SimpleDb","COUNT",this.store.name),Si(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const a=this.cursor(r),c=[];return this.H(a,(p,b)=>{c.push(b)}).next(()=>c)}{const a=this.store.getAll(r.range);return new wt((c,p)=>{a.onerror=b=>{p(b.target.error)},a.onsuccess=b=>{c(b.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new wt((a,c)=>{r.onerror=p=>{c(p.target.error)},r.onsuccess=p=>{a(p.target.result)}})}Y(e,t){qt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Z=!1;const a=this.cursor(r);return this.H(a,(c,p,b)=>b.delete())}X(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.H(a,t)}tt(e){const t=this.cursor({});return new wt((r,a)=>{t.onerror=c=>{const p=sm(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(b=>{b?p.continue():r()}):r()}})}H(e,t){const r=[];return new wt((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const b=p.target.result;if(!b)return void a();const S=new tp(b),k=t(b.primaryKey,b.value,S);if(k instanceof wt){const z=k.catch(ae=>(S.done(),wt.reject(ae)));r.push(z)}S.isDone?a():null===S.G?b.continue():b.continue(S.G)}}).next(()=>wt.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Si(n){return new wt((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=sm(r.target.error);t(a)}})}let im=!1;function sm(n){const e=al.D((0,_r.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return im||(im=!0,setTimeout(()=>{throw r},0)),r}}return n}class om{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,At.Z)(function*(){t.task=null;try{qt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Hl(r)?qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Zu(r)}yield t.nt(6e4)}))}}class g_{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,At.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let a=t,c=!0;return wt.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!r.has(p))return qt("IndexBackiller",`Processing collection: ${p}`),this.rt(e,p,a).next(b=>{a-=b,r.add(p)});c=!1})).next(()=>t-a)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ot(a,c)).next(b=>(qt("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,t,b))).next(()=>p.size)}))}ot(e,t){let r=e;return t.changes.forEach((a,c)=>{const p=Jf(c);p_(p,r)>0&&(r=p)}),new sa(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Oa=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>r.writeSequenceNumber(a))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class m_{constructor(e,t,r,a,c,p,b,S){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.useFetchStreams=S}}class Pc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}function Cb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function np(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Md(n){return null==n}function xd(n){return 0===n&&1/n==-1/0}function lm(n){return"number"==typeof n&&Number.isInteger(n)&&!xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ws{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw a instanceof DOMException?new zw("Invalid base64 string: "+a):a}}(e);return new Ws(t)}static fromUint8Array(e){const t=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new Ws(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ws.EMPTY_BYTE_STRING=new Ws("");const y_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zl(n){if(kn(!!n),"string"==typeof n){let e=0;const t=y_.exec(n);if(kn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fs(n.seconds),nanos:Fs(n.nanos)}}function Fs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function du(n){return"string"==typeof n?Ws.fromBase64String(n):Ws.fromUint8Array(n)}function um(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rp(n){const e=n.mapValue.fields.__previous_value__;return um(e)?rp(e):e}function Rd(n){const e=zl(n.mapValue.fields.__local_write_time__.timestampValue);return new Ji(e.seconds,e.nanos)}const hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gl={nullValue:"NULL_VALUE"};function Nc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?um(n)?4:__(n)?9007199254740991:10:_n()}function ll(n,e){if(n===e)return!0;const t=Nc(n);if(t!==Nc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rd(n).isEqual(Rd(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=zl(r.timestampValue),p=zl(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,du(n.bytesValue).isEqual(du(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Fs(r.geoPointValue.latitude)===Fs(a.geoPointValue.latitude)&&Fs(r.geoPointValue.longitude)===Fs(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Fs(r.integerValue)===Fs(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=Fs(r.doubleValue),p=Fs(a.doubleValue);return c===p?xd(c)===xd(p):isNaN(c)&&isNaN(p)}return!1}(n,e);case 9:return Sd(n.arrayValue.values||[],e.arrayValue.values||[],ll);case 10:return function(r,a){const c=r.mapValue.fields||{},p=a.mapValue.fields||{};if(Cb(c)!==Cb(p))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===p[b]||!ll(c[b],p[b])))return!1;return!0}(n,e);default:return _n()}var a}function Qu(n,e){return void 0!==(n.values||[]).find(t=>ll(t,e))}function Xu(n,e){if(n===e)return 0;const t=Nc(n),r=Nc(e);if(t!==r)return br(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return br(n.booleanValue,e.booleanValue);case 2:return function(a,c){const p=Fs(a.integerValue||a.doubleValue),b=Fs(c.integerValue||c.doubleValue);return p<b?-1:p>b?1:p===b?0:isNaN(p)?isNaN(b)?0:-1:1}(n,e);case 3:return ip(n.timestampValue,e.timestampValue);case 4:return ip(Rd(n),Rd(e));case 5:return br(n.stringValue,e.stringValue);case 6:return function(a,c){const p=du(a),b=du(c);return p.compareTo(b)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),b=c.split("/");for(let S=0;S<p.length&&S<b.length;S++){const k=br(p[S],b[S]);if(0!==k)return k}return br(p.length,b.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const p=br(Fs(a.latitude),Fs(c.latitude));return 0!==p?p:br(Fs(a.longitude),Fs(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],b=c.values||[];for(let S=0;S<p.length&&S<b.length;++S){const k=Xu(p[S],b[S]);if(k)return k}return br(p.length,b.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===hu.mapValue&&c===hu.mapValue)return 0;if(a===hu.mapValue)return 1;if(c===hu.mapValue)return-1;const p=a.fields||{},b=Object.keys(p),S=c.fields||{},k=Object.keys(S);b.sort(),k.sort();for(let z=0;z<b.length&&z<k.length;++z){const ae=br(b[z],k[z]);if(0!==ae)return ae;const Ye=Xu(p[b[z]],S[k[z]]);if(0!==Ye)return Ye}return br(b.length,k.length)}(n.mapValue,e.mapValue);default:throw _n()}}function ip(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return br(n,e);const t=zl(n),r=zl(e),a=br(t.seconds,r.seconds);return 0!==a?a:br(t.nanos,r.nanos)}function fu(n){return pu(n)}function pu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=zl(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?du(n.bytesValue).toBase64():"referenceValue"in n?on.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",c=!0;for(const p of r.values||[])c?c=!1:a+=",",a+=pu(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",p=!0;for(const b of a)p?p=!1:c+=",",c+=`${b}:${pu(r.fields[b])}`;return c+"}"}(n.mapValue):_n();var e}function Ju(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Oh(n){return!!n&&"integerValue"in n}function Ph(n){return!!n&&"arrayValue"in n}function v_(n){return!!n&&"nullValue"in n}function cm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gu(n){return!!n&&"mapValue"in n}function Nh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function __(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sb(n){return"nullValue"in n?Gl:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ju(Pc.empty(),on.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_n()}function dm(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ju(Pc.empty(),on.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hu:_n()}function E_(n,e){const t=Xu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hm(n,e){const t=Xu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ec{constructor(e,t){this.position=e,this.inclusive=t}}function fm(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const c=e[a],p=n.position[a];if(r=c.field.isKeyField()?on.comparator(on.fromName(p.referenceValue),t.key):Xu(p,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function Ab(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ll(n.position[t],e.position[t]))return!1;return!0}class b_{}class Nr extends b_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new D_(e,t,r):"array-contains"===t?new Em(e,r):"in"===t?new Od(e,r):"not-in"===t?new Mb(e,r):"array-contains-any"===t?new xb(e,r):new Nr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new vm(e,r):new _m(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xu(t,this.value)):null!==t&&Nc(this.value)===Nc(t)&&this.matchesComparison(Xu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _n()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mi extends b_{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new mi(e,t)}matches(e){return Dl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dl(n){return"and"===n.op}function kc(n){return"or"===n.op}function pm(n){return gm(n)&&Dl(n)}function gm(n){for(const e of n.filters)if(e instanceof mi)return!1;return!0}function mm(n){if(n instanceof Nr)return n.field.canonicalString()+n.op.toString()+fu(n.value);if(pm(n))return n.filters.map(e=>mm(e)).join(",");{const e=n.filters.map(t=>mm(t)).join(",");return`${n.op}(${e})`}}function I_(n,e){return n instanceof Nr?(t=n,(r=e)instanceof Nr&&t.op===r.op&&t.field.isEqual(r.field)&&ll(t.value,r.value)):n instanceof mi?function(t,r){return r instanceof mi&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((a,c,p)=>a&&I_(c,r.filters[p]),!0)}(n,e):void _n();var t,r}function w_(n,e){const t=n.filters.concat(e);return mi.create(t,n.op)}function ym(n){return n instanceof Nr?`${(e=n).field.canonicalString()} ${e.op} ${fu(e.value)}`:n instanceof mi?function(e){return e.op.toString()+" {"+e.getFilters().map(ym).join(" ,")+"}"}(n):"Filter";var e}class D_ extends Nr{constructor(e,t,r){super(e,t,r),this.key=on.fromName(r.referenceValue)}matches(e){const t=on.comparator(e.key,this.key);return this.matchesComparison(t)}}class vm extends Nr{constructor(e,t){super(e,"in",t),this.keys=C_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _m extends Nr{constructor(e,t){super(e,"not-in",t),this.keys=C_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function C_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>on.fromName(r.referenceValue))}class Em extends Nr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ph(t)&&Qu(t.arrayValue,this.value)}}class Od extends Nr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qu(this.value.arrayValue,t)}}class Mb extends Nr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qu(this.value.arrayValue,t)}}class xb extends Nr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ph(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qu(this.value.arrayValue,r))}}class Pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class _s{constructor(e,t){this.comparator=e,this.root=t||ko.EMPTY}insert(e,t){return new _s(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ko.BLACK,null,null))}remove(e){return new _s(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ko.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ko{constructor(e,t,r,a,c){this.key=e,this.value=t,this.color=null!=r?r:ko.RED,this.left=null!=a?a:ko.EMPTY,this.right=null!=c?c:ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,c){return new ko(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ko.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ko.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();const e=this.left.check();if(e!==this.right.check())throw _n();return e+(this.isRed()?0:1)}}ko.EMPTY=null,ko.RED=!0,ko.BLACK=!1,ko.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(n,e,t,r,a){return this}insert(n,e,t){return new ko(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(e){this.comparator=e,this.data=new _s(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wl(this.data.getIterator())}getIteratorFrom(e){return new Wl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ri(this.comparator);return t.data=e,t}}class Wl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nd(n){return n.hasNext()?n.getNext():void 0}class va{constructor(e){this.fields=e,e.sort(vs.comparator)}static empty(){return new va([])}unionWith(e){let t=new ri(vs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(t)}setAll(e){let t=vs.emptyPath(),r={},a=[];e.forEach((p,b)=>{if(!t.isImmediateParentOf(b)){const S=this.getFieldsMap(t);this.applyChanges(S,r,a),r={},a=[],t=b.popLast()}p?r[b.lastSegment()]=Nh(p):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,a)}delete(e){const t=this.field(e.popLast());gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];gu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){wl(t,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new Fo(Nh(this.value))}}function Ob(n){const e=[];return wl(n.fields,(t,r)=>{const a=new vs([t]);if(gu(r)){const c=Ob(r.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new va(e)}class ki{constructor(e,t,r,a,c,p,b){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new ki(e,0,Un.min(),Un.min(),Un.min(),Fo.empty(),0)}static newFoundDocument(e,t,r,a){return new ki(e,1,t,Un.min(),r,a,0)}static newNoDocument(e,t){return new ki(e,2,t,Un.min(),Un.min(),Fo.empty(),0)}static newUnknownDocument(e,t){return new ki(e,3,t,Un.min(),Un.min(),Fo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Un.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gw{constructor(e,t=null,r=[],a=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=p,this.endAt=b,this._t=null}}function op(n,e=null,t=[],r=[],a=null,c=null,p=null){return new Gw(n,e,t,r,a,c,p)}function tc(n){const e=un(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Md(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fu(r)).join(",")),e._t=t}return e._t}function kh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Rb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!I_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ab(n.startAt,e.startAt)&&Ab(n.endAt,e.endAt)}function Fh(n){return on.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ap(n,e){return n.filters.filter(t=>t instanceof Nr&&t.field.isEqual(e))}function T_(n,e,t){let r=Gl,a=!0;for(const c of ap(n,e)){let p=Gl,b=!0;switch(c.op){case"<":case"<=":p=Sb(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,b=!1;break;case"!=":case"not-in":p=Gl}E_({value:r,inclusive:a},{value:p,inclusive:b})<0&&(r=p,a=b)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const p=t.position[c];E_({value:r,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(r=p,a=t.inclusive);break}return{value:r,inclusive:a}}function ul(n,e,t){let r=hu,a=!0;for(const c of ap(n,e)){let p=hu,b=!0;switch(c.op){case">=":case">":p=dm(c.value),b=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,b=!1;break;case"!=":case"not-in":p=hu}hm({value:r,inclusive:a},{value:p,inclusive:b})>0&&(r=p,a=b)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const p=t.position[c];hm({value:r,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(r=p,a=t.inclusive);break}return{value:r,inclusive:a}}class mu{constructor(e,t=null,r=[],a=[],c=null,p="F",b=null,S=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=S,this.wt=null,this.gt=null}}function bm(n,e,t,r,a,c,p,b){return new mu(n,e,t,r,a,c,p,b)}function kd(n){return new mu(n)}function S_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Im(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function up(n){return null!==n.collectionGroup}function Fc(n){const e=un(n);if(null===e.wt){e.wt=[];const t=lp(e),r=Im(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Pd(t)),e.wt.push(new Pd(vs.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Pd(vs.keyField(),c))}}}return e.wt}function oa(n){const e=un(n);if(!e.gt)if("F"===e.limitType)e.gt=op(e.path,e.collectionGroup,Fc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Fc(e))t.push(new Pd(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new ec(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ec(e.startAt.position,e.startAt.inclusive):null;e.gt=op(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.gt}function wm(n,e){e.getFirstInequalityField(),lp(n);const t=n.filters.concat([e]);return new mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function dr(n,e,t){return new mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fd(n,e){return kh(oa(n),oa(e))&&n.limitType===e.limitType}function Dm(n){return`${tc(oa(n))}|lt:${n.limitType}`}function cp(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>ym(r)).join(", ")}]`),Md(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fu(r)).join(",")),`Target(${t})`}(oa(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):on.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of Fc(t))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(a,c,p){const b=fm(a,c,p);return a.inclusive?b<=0:b<0}(t.startAt,Fc(t),r)||t.endAt&&!function(a,c,p){const b=fm(a,c,p);return a.inclusive?b>=0:b>0}(t.endAt,Fc(t),r)));var t,r}function A_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Cm(n){return(e,t)=>{let r=!1;for(const a of Fc(n)){const c=Pb(a,e,t);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function Pb(n,e,t){const r=n.field.isKeyField()?on.comparator(e.key,t.key):function(a,c,p){const b=c.data.field(a),S=p.data.field(a);return null!==b&&null!==S?Xu(b,S):_n()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _n()}}function Tm(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function M_(n){return{integerValue:""+n}}function x_(n,e){return lm(e)?M_(e):Tm(n,e)}class Sm{constructor(){this._=void 0}}function R_(n,e,t){return n instanceof Ld?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof yu?dp(n,e):n instanceof Lc?Nb(n,e):function(r,a){const c=nc(r,a),p=kb(c)+kb(r.It);return Oh(c)&&Oh(r.It)?M_(p):Tm(r.Tt,p)}(n,e)}function O_(n,e,t){return n instanceof yu?dp(n,e):n instanceof Lc?Nb(n,e):t}function nc(n,e){return n instanceof $h?Oh(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ld extends Sm{}class yu extends Sm{constructor(e){super(),this.elements=e}}function dp(n,e){const t=P_(e);for(const r of n.elements)t.some(a=>ll(a,r))||t.push(r);return{arrayValue:{values:t}}}class Lc extends Sm{constructor(e){super(),this.elements=e}}function Nb(n,e){let t=P_(e);for(const r of n.elements)t=t.filter(a=>!ll(a,r));return{arrayValue:{values:t}}}class $h extends Sm{constructor(e,t){super(),this.Tt=e,this.It=t}}function kb(n){return Fs(n.integerValue||n.doubleValue)}function P_(n){return Ph(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $d{constructor(e,t){this.field=e,this.transform=t}}class Fb{constructor(e,t){this.version=e,this.transformResults=t}}class yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Bh{}function Vh(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $c(n.key,yi.none()):new Vd(n.key,n.data,yi.none());{const t=n.data,r=Fo.empty();let a=new ri(vs.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?r.delete(c):r.set(c,p),a=a.add(c)}return new vu(n.key,r,new va(a.toArray()),yi.none())}}function Lb(n,e,t){n instanceof Vd?function(r,a,c){const p=r.value.clone(),b=Am(r.fieldTransforms,a,c.transformResults);p.setAll(b),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):n instanceof vu?function(r,a,c){if(!hp(r.precondition,a))return void a.convertToUnknownDocument(c.version);const p=Am(r.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(k_(r)),b.setAll(p),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bd(n,e,t,r){return n instanceof Vd?function(a,c,p,b){if(!hp(a.precondition,c))return p;const S=a.value.clone(),k=F_(a.fieldTransforms,b,c);return S.setAll(k),c.convertToFoundDocument(c.version,S).setHasLocalMutations(),null}(n,e,t,r):n instanceof vu?function(a,c,p,b){if(!hp(a.precondition,c))return p;const S=F_(a.fieldTransforms,b,c),k=c.data;return k.setAll(k_(a)),k.setAll(S),c.convertToFoundDocument(c.version,k).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(z=>z.field))}(n,e,t,r):(p=t,hp(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function $b(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),c=nc(r.transform,a||null);null!=c&&(null===t&&(t=Fo.empty()),t.set(r.field,c))}return t||null}function N_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Sd(t,r,(a,c)=>function Ww(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yu&&r instanceof yu||t instanceof Lc&&r instanceof Lc?Sd(t.elements,r.elements,ll):t instanceof $h&&r instanceof $h?ll(t.It,r.It):t instanceof Ld&&r instanceof Ld);var t,r}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Vd extends Bh{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class vu extends Bh{constructor(e,t,r,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function k_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Am(n,e,t){const r=new Map;kn(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],p=c.transform,b=e.data.field(c.field);r.set(c.field,O_(p,b,t[a]))}return r}function F_(n,e,t){const r=new Map;for(const a of n){const c=a.transform,p=t.data.field(a.field);r.set(a.field,R_(c,p,e))}return r}class $c extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fp extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mm{constructor(e){this.count=e}}var ao,zr;function L_(n){switch(n){default:return _n();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function Bb(n){if(void 0===n)return ks("GRPC error has no .code"),Tt.UNKNOWN;switch(n){case ao.OK:return Tt.OK;case ao.CANCELLED:return Tt.CANCELLED;case ao.UNKNOWN:return Tt.UNKNOWN;case ao.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case ao.INTERNAL:return Tt.INTERNAL;case ao.UNAVAILABLE:return Tt.UNAVAILABLE;case ao.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case ao.NOT_FOUND:return Tt.NOT_FOUND;case ao.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case ao.ABORTED:return Tt.ABORTED;case ao.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case ao.DATA_LOSS:return Tt.DATA_LOSS;default:return _n()}}(zr=ao||(ao={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";class Pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){wl(this.inner,(t,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return np(this.inner)}size(){return this.innerSize}}const $_=new _s(on.comparator);function _a(){return $_}const xm=new _s(on.comparator);function Uh(...n){let e=xm;for(const t of n)e=e.insert(t.key,t);return e}function B_(n){let e=xm;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Na(){return Vc()}function Bc(){return Vc()}function Vc(){return new Pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const jh=new _s(on.comparator),Rm=new ri(on.comparator);function Ir(...n){let e=Rm;for(const t of n)e=e.add(t);return e}const V_=new ri(br);function Ud(){return V_}class Uc{constructor(e,t,r,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Uc(Un.min(),a,Ud(),_a(),Ir())}}class jc{constructor(e,t,r,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new jc(r,t,Ir(),Ir(),Ir())}}class Hh{constructor(e,t,r,a){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=a}}class pp{constructor(e,t){this.targetId=e,this.Rt=t}}class U_{constructor(e,t,r=Ws.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class j_{constructor(){this.Pt=0,this.vt=Om(),this.bt=Ws.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Ir(),t=Ir(),r=Ir();return this.vt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:_n()}}),new jc(this.bt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=Om()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class H_{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=_a(),this.Kt=z_(),this.Gt=new ri(br)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:_n()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,a)=>{this.Jt(a)&&t(a)})}Zt(e){const t=e.targetId,r=e.Rt.count,a=this.Xt(t);if(a){const c=a.target;if(Fh(c))if(0===r){const p=new on(c.path);this.zt(t,p,ki.newNoDocument(p,Un.min()))}else kn(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((c,p)=>{const b=this.Xt(p);if(b){if(c.current&&Fh(b.target)){const S=new on(b.target.path);null!==this.Ut.get(S)||this.ne(p,S)||this.zt(p,S,ki.newNoDocument(S,e))}c.Ct&&(t.set(p,c.Nt()),c.kt())}});let r=Ir();this.Kt.forEach((c,p)=>{let b=!0;p.forEachWhile(S=>{const k=this.Xt(S);return!k||2===k.purpose||(b=!1,!1)}),b&&(r=r.add(c))}),this.Ut.forEach((c,p)=>p.setReadTime(e));const a=new Uc(e,t,this.Gt,this.Ut,r);return this.Ut=_a(),this.Kt=z_(),this.Gt=new ri(br),a}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const a=this.Ht(e);this.ne(e,t)?a.$t(t,1):a.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new j_,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new ri(br),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||qt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new j_),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function z_(){return new _s(on.comparator)}function Om(){return new _s(on.comparator)}const G_={asc:"ASCENDING",desc:"DESCENDING"},Vb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ub={and:"AND",or:"OR"};class ka{constructor(e,t){this.databaseId=e,this.yt=t}}function Hc(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W_(n,e){return n.yt?e.toBase64():e.toUint8Array()}function qw(n,e){return Hc(n,e.toTimestamp())}function cs(n){return kn(!!n),Un.fromTimestamp(function(e){const t=zl(e);return new Ji(t.seconds,t.nanos)}(n))}function gp(n,e){return(t=n,new Jr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function q_(n){const e=Jr.fromString(n);return kn(qb(e)),e}function zh(n,e){return gp(n.databaseId,e.path)}function ql(n,e){const t=q_(e);if(t.get(1)!==n.databaseId.projectId)throw new Vt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Vt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new on(yp(t))}function mp(n,e){return gp(n.databaseId,e)}function K_(n){const e=q_(n);return 4===e.length?Jr.emptyPath():yp(e)}function Gh(n){return new Jr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yp(n){return kn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Y_(n,e,t){return{name:zh(n,e),fields:t.value.mapValue.fields}}function Z_(n,e,t){const r=ql(n,e.name),a=cs(e.updateTime),c=e.createTime?cs(e.createTime):Un.min(),p=new Fo({mapValue:{fields:e.fields}}),b=ki.newFoundDocument(r,a,c,p);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function Wh(n,e){let t;if(e instanceof Vd)t={update:Y_(n,e.key,e.value)};else if(e instanceof $c)t={delete:zh(n,e.key)};else if(e instanceof vu)t={update:Y_(n,e.key,e.data),updateMask:_p(e.fieldMask)};else{if(!(e instanceof fp))return _n();t={verify:zh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const p=c.transform;if(p instanceof Ld)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $h)return{fieldPath:c.field.canonicalString(),increment:p.It};throw _n()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:qw(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:_n()),t;var a}function cl(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?yi.updateTime(cs(a.updateTime)):void 0!==a.exists?yi.exists(a.exists):yi.none():yi.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let b=null;"setToServerValue"in p?(kn("REQUEST_TIME"===p.setToServerValue),b=new Ld):"appendMissingElements"in p?b=new yu(p.appendMissingElements.values||[]):"removeAllFromArray"in p?b=new Lc(p.removeAllFromArray.values||[]):"increment"in p?b=new $h(c,p.increment):_n();const S=vs.fromServerFormat(p.fieldPath);return new $d(S,b)}(n,a)):[];var a;if(e.update){const a=ql(n,e.update.name),c=new Fo({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new va((e.updateMask.fieldPaths||[]).map(k=>vs.fromServerFormat(k)));return new vu(a,c,p,t,r)}return new Vd(a,c,t,r)}if(e.delete){const a=ql(n,e.delete);return new $c(a,t)}if(e.verify){const a=ql(n,e.verify);return new fp(a,t)}return _n()}function Q_(n,e){return{documents:[mp(n,e.path)]}}function Nm(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=mp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(S){if(0!==S.length)return vp(mi.create(S,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(S){if(0!==S.length)return S.map(k=>{return{field:rc((z=k).field),direction:Gb(z.dir)};var z})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=(k=e.limit,n.yt||Md(k)?k:{value:k});var k,b,S;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(S=e.endAt).inclusive,values:S.position}),t}function km(n){let e=K_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){kn(1===r);const z=t.from[0];z.allDescendants?a=z.collectionId:e=e.child(z.collectionId)}let c=[];t.where&&(c=function(z){const ae=X_(z);return ae instanceof mi&&pm(ae)?ae.getFilters():[ae]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(z=>{return new Pd(_u((ae=z).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ae.direction));var ae}));let b=null;t.limit&&(b=function(z){let ae;return ae="object"==typeof z?z.value:z,Md(ae)?null:ae}(t.limit));let S=null;var z;t.startAt&&(S=new ec((z=t.startAt).values||[],!!z.before));let k=null;return t.endAt&&(k=function(z){return new ec(z.values||[],!z.before)}(t.endAt)),bm(e,a,p,c,b,"F",S,k)}function X_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_u(e.unaryFilter.field);return Nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=_u(e.unaryFilter.field);return Nr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_u(e.unaryFilter.field);return Nr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_u(e.unaryFilter.field);return Nr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return _n()}}(n):void 0!==n.fieldFilter?Nr.create(_u((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _n()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return mi.create(e.compositeFilter.filters.map(t=>X_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return _n()}}(e.compositeFilter.op))}(n):_n();var e}function Gb(n){return G_[n]}function Fm(n){return Vb[n]}function Wb(n){return Ub[n]}function rc(n){return{fieldPath:n.canonicalString()}}function _u(n){return vs.fromServerFormat(n.fieldPath)}function vp(n){return n instanceof Nr?function(e){if("=="===e.op){if(cm(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NAN"}};if(v_(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cm(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NAN"}};if(v_(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(e.field),op:Fm(e.op),value:e.value}}}(n):n instanceof mi?function(e){const t=e.getFilters().map(r=>vp(r));return 1===t.length?t[0]:{compositeFilter:{op:Wb(e.op),filters:t}}}(n):_n()}function _p(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Lo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Lm(e)),e=Kw(n.get(t),e);return Lm(e)}function Kw(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Lm(n){return n+"\x01\x01"}function Cl(n){const e=n.length;if(kn(e>=2),2===e)return kn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jr.emptyPath();const t=e-2,r=[];let a="";for(let c=0;c<e;){const p=n.indexOf("\x01",c);switch((p<0||p>t)&&_n(),n.charAt(p+1)){case"\x01":const b=n.substring(c,p);let S;0===a.length?S=b:(a+=b,S=a,a=""),r.push(S);break;case"\x10":a+=n.substring(c,p),a+="\0";break;case"\x11":a+=n.substring(c,p+1);break;default:_n()}c=p+2}return new Jr(r)}const $m=["userId","batchId"];function qh(n,e){return[n,Lo(e)]}function Ep(n,e,t){return[n,Lo(e),t]}const Eu={},bp=["prefixPath","collectionGroup","readTime","documentId"],Ip=["prefixPath","collectionGroup","documentId"],Kh=["collectionGroup","readTime","prefixPath","documentId"],Kb=["canonicalId","targetId"],J_=["targetId","path"],e0=["path","targetId"],Yb=["collectionId","parent"],Zb=["indexId","uid"],Yh=["uid","sequenceNumber"],Qb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yw=["indexId","uid","orderedDocumentKey"],Xb=["userId","collectionPath","documentId"],Jb=["userId","collectionPath","largestBatchId"],eI=["userId","collectionGroup","largestBatchId"],t0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tI=[...t0,"documentOverlays"],n0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],r0=n0,s0=[...r0,"indexConfiguration","indexState","indexEntries"];class Zh extends nm{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function _o(n,e){const t=un(n);return al.M(t.re,e)}class Qh{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Lb(c,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Bc();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=t.has(a.key)?null:b;const S=Vh(p,b);null!==S&&r.set(a.key,S),p.isValidDocument()||p.convertToNoDocument(Un.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ir())}isEqual(e){return this.batchId===e.batchId&&Sd(this.mutations,e.mutations,(t,r)=>N_(t,r))&&Sd(this.baseMutations,e.baseMutations,(t,r)=>N_(t,r))}}class Bm{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){kn(e.mutations.length===r.length);let a=jh;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,r[p].version);return new Bm(e,t,r,a)}}class Vm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ic{constructor(e,t,r,a,c=Un.min(),p=Un.min(),b=Ws.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b}withSequenceNumber(e){return new ic(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class o0{constructor(e){this.oe=e}}function a0(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:zh(a=n.oe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Hc(a,c.version.toTimestamp()),createTime:Hc(a,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:sc(e.version)};else{if(!e.isUnknownDocument())return _n();r.unknownDocument={path:t.path.toArray(),version:sc(e.version)}}var a,c;return r}function wp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function oc(n){const e=new Ji(n.seconds,n.nanoseconds);return Un.fromTimestamp(e)}function zc(n,e){const t=(e.baseMutations||[]).map(c=>cl(n.oe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>cl(n.oe,c)),a=Ji.fromMillis(e.localWriteTimeMs);return new Qh(e.batchId,a,t,r)}function Dp(n){const e=oc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?oc(n.lastLimboFreeSnapshotVersion):Un.min();let r;var a;return void 0!==n.query.documents?(kn(1===(a=n.query).documents.length),r=oa(kd(K_(a.documents[0])))):r=oa(km(n.query)),new ic(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ws.fromBase64String(n.resumeToken))}function Um(n,e){const t=sc(e.snapshotVersion),r=sc(e.lastLimboFreeSnapshotVersion);let a;a=Fh(e.target)?Q_(n.oe,e.target):Nm(n.oe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tc(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function l0(n){const e=km({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dr(e,e.limit,"L"):e}function jd(n,e){return new Vm(e.largestBatchId,cl(n.oe,e.overlayMutation))}function u0(n,e){const t=e.path.lastSegment();return[n,Lo(e.path.popLast()),t]}function c0(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:sc(r.readTime),documentKey:Lo(r.documentKey.path),largestBatchId:r.largestBatchId}}class jm{getBundleMetadata(e,t){return d0(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:oc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return d0(e).put({bundleId:(r=t).id,createTime:sc(cs(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Tl(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:l0(a.bundledQuery),readTime:oc(a.readTime)};var a})}saveNamedQuery(e,t){return Tl(e).put({name:(r=t).name,readTime:sc(cs(r.readTime)),bundledQuery:r.bundledQuery});var r}}function d0(n){return _o(n,"bundles")}function Tl(n){return _o(n,"namedQueries")}class ac{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new ac(e,t.uid||"")}getOverlay(e,t){return qs(e).get(u0(this.userId,t)).next(r=>r?jd(this.Tt,r):null)}getOverlays(e,t){const r=Na();return wt.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,t,r){const a=[];return r.forEach((c,p)=>{const b=new Vm(t,p);a.push(this.ce(e,b))}),wt.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach(p=>a.add(Lo(p.getCollectionPath())));const c=[];return a.forEach(p=>{const b=IDBKeyRange.bound([this.userId,p,r],[this.userId,p,r+1],!1,!0);c.push(qs(e).Y("collectionPathOverlayIndex",b))}),wt.waitFor(c)}getOverlaysForCollection(e,t,r){const a=Na(),c=Lo(t),p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return qs(e).W("collectionPathOverlayIndex",p).next(b=>{for(const S of b){const k=jd(this.Tt,S);a.set(k.getKey(),k)}return a})}getOverlaysForCollectionGroup(e,t,r,a){const c=Na();let p;const b=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qs(e).X({index:"collectionGroupOverlayIndex",range:b},(S,k,z)=>{const ae=jd(this.Tt,k);c.size()<a||ae.largestBatchId===p?(c.set(ae.getKey(),ae),p=ae.largestBatchId):z.done()}).next(()=>c)}ce(e,t){return qs(e).put(function(r,a,c){const[p,b,S]=u0(a,c.mutation.key);return{userId:a,collectionPath:b,documentId:S,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Wh(r.oe,c.mutation)}}(this.Tt,this.userId,t))}}function qs(n){return _o(n,"documentOverlays")}class Fa{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Fs(e.integerValue));else if("doubleValue"in e){const r=Fs(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),xd(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(du(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?__(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):_n()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const a of Object.keys(r))this.we(a,t),this.he(r[a],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const a of r)this.he(a,t)}ye(e,t){this.fe(t,37),on.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function Cp(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function La(n){const e=64-function(t){let r=0;for(let a=0;a<8;++a){const c=Cp(255&t[a]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}Fa.Ee=new Fa;class Hm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.Pe()}ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Ve()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const a=t.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}this.Pe()}De(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const a=t.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}this.Ve()}Ce(e){const t=this.xe(e),r=La(t);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}ke(e){const t=this.xe(e),r=La(t);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}be(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class Hd{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}}class zd{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}}class Kl{constructor(){this.Le=new Hm,this.qe=new Hd(this.Le),this.Ue=new zd(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class dl{constructor(e,t,r,a){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=a}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new dl(this.indexId,this.documentKey,this.arrayValue,r)}}function $a(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Gc(n.arrayValue,e.arrayValue),0!==t?t:(t=Gc(n.directionalValue,e.directionalValue),0!==t?t:on.comparator(n.documentKey,e.documentKey)))}function Gc(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Gd{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const r=t;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){kn(e.collectionGroup===this.collectionId);const t=Oc(e);if(void 0!==t&&!this.He(t))return!1;const r=Yu(e);let a=0,c=0;for(;a<r.length&&this.He(r[a]);++a);if(a===r.length)return!0;if(void 0!==this.ze){const p=r[a];if(!this.Je(this.ze,p)||!this.Ye(this.Qe[c++],p))return!1;++a}for(;a<r.length;++a)if(c>=this.Qe.length||!this.Ye(this.Qe[c++],r[a]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Wc(n){var e,t;if(kn(n instanceof Nr||n instanceof mi),n instanceof Nr){if(n instanceof Od){const a=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Nr.create(n.field,"==",c)))||[];return mi.create(a,"or")}return n}const r=n.filters.map(a=>Wc(a));return mi.create(r,n.op)}function Wd(n){if(0===n.getFilters().length)return[];const e=Ap(Wc(n));return kn(zm(e)),Tp(e)||Sp(e)?[e]:e.getFilters()}function Tp(n){return n instanceof Nr}function Sp(n){return n instanceof mi&&pm(n)}function zm(n){return Tp(n)||Sp(n)||function(e){if(e instanceof mi&&kc(e)){for(const t of e.getFilters())if(!Tp(t)&&!Sp(t))return!1;return!0}return!1}(n)}function Ap(n){if(kn(n instanceof Nr||n instanceof mi),n instanceof Nr)return n;if(1===n.filters.length)return Ap(n.filters[0]);const e=n.filters.map(r=>Ap(r));let t=mi.create(e,n.op);return t=Xh(t),zm(t)?t:(kn(t instanceof mi),kn(Dl(t)),kn(t.filters.length>1),t.filters.reduce((r,a)=>Mp(r,a)))}function Mp(n,e){let t;return kn(n instanceof Nr||n instanceof mi),kn(e instanceof Nr||e instanceof mi),t=n instanceof Nr?e instanceof Nr?mi.create([n,e],"and"):Gm(n,e):e instanceof Nr?Gm(e,n):function(r,a){if(kn(r.filters.length>0&&a.filters.length>0),Dl(r)&&Dl(a))return w_(r,a.getFilters());const c=kc(r)?r:a,p=kc(r)?a:r,b=c.filters.map(S=>Mp(S,p));return mi.create(b,"or")}(n,e),Xh(t)}function Gm(n,e){if(Dl(e))return w_(e,n.getFilters());{const t=e.filters.map(r=>Mp(n,r));return mi.create(t,"or")}}function Xh(n){if(kn(n instanceof Nr||n instanceof mi),n instanceof Nr)return n;const e=n.getFilters();if(1===e.length)return Xh(e[0]);if(gm(n))return n;const t=e.map(a=>Xh(a)),r=[];return t.forEach(a=>{a instanceof Nr?r.push(a):a instanceof mi&&(a.op===n.op?r.push(...a.filters):r.push(a))}),1===r.length?r[0]:mi.create(r,n.op)}class h0{constructor(){this.Ze=new xp}addToCollectionParentIndex(e,t){return this.Ze.add(t),wt.resolve()}getCollectionParents(e,t){return wt.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return wt.resolve()}deleteFieldIndex(e,t){return wt.resolve()}getDocumentsMatchingTarget(e,t){return wt.resolve(null)}getIndexType(e,t){return wt.resolve(0)}getFieldIndexes(e,t){return wt.resolve([])}getNextCollectionGroupToUpdate(e){return wt.resolve(null)}getMinOffset(e,t){return wt.resolve(sa.min())}getMinOffsetFromCollectionGroup(e,t){return wt.resolve(sa.min())}updateCollectionGroup(e,t,r){return wt.resolve()}updateIndexEntries(e,t){return wt.resolve()}}class xp{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new ri(Jr.comparator),c=!a.has(r);return this.index[t]=a.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ri(Jr.comparator)).toArray()}}const Rp=new Uint8Array(0);class rI{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new xp,this.tn=new Pa(r=>tc(r),(r,a)=>kh(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const c={collectionId:r,parent:Lo(a)};return Wm(e).put(c)}return wt.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[h_(t),""],!1,!0);return Wm(e).W(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;r.push(Cl(p.parent))}return r})}addFieldIndex(e,t){const r=Op(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var p;delete a.indexId;const c=r.add(a);if(t.indexState){const p=qc(e);return c.next(b=>{p.put(c0(b,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=Op(e),a=qc(e),c=Jh(e);return r.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Jh(e);let a=!0;const c=new Map;return wt.forEach(this.en(t),p=>this.nn(e,p).next(b=>{a&&(a=!!b),c.set(p,b)})).next(()=>{if(a){let p=Ir();const b=[];return wt.forEach(c,(S,k)=>{var z;qt("IndexedDbIndexManager",`Using index ${z=S,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(jn=>`${jn.fieldPath}:${jn.kind}`).join(",")}`} to execute ${tc(t)}`);const ae=function(jn,Hn){const er=Oc(Hn);if(void 0===er)return null;for(const cr of ap(jn,er.fieldPath))switch(cr.op){case"array-contains-any":return cr.value.arrayValue.values||[];case"array-contains":return[cr.value]}return null}(k,S),Ye=function(jn,Hn){const er=new Map;for(const cr of Yu(Hn))for(const hi of ap(jn,cr.fieldPath))switch(hi.op){case"==":case"in":er.set(cr.fieldPath.canonicalString(),hi.value);break;case"not-in":case"!=":return er.set(cr.fieldPath.canonicalString(),hi.value),Array.from(er.values())}return null}(k,S),pt=function(jn,Hn){const er=[];let cr=!0;for(const hi of Yu(Hn)){const lo=0===hi.kind?T_(jn,hi.fieldPath,jn.startAt):ul(jn,hi.fieldPath,jn.startAt);er.push(lo.value),cr&&(cr=lo.inclusive)}return new ec(er,cr)}(k,S),_t=function(jn,Hn){const er=[];let cr=!0;for(const hi of Yu(Hn)){const lo=0===hi.kind?ul(jn,hi.fieldPath,jn.endAt):T_(jn,hi.fieldPath,jn.endAt);er.push(lo.value),cr&&(cr=lo.inclusive)}return new ec(er,cr)}(k,S),Mt=this.sn(S,k,pt),Yt=this.sn(S,k,_t),Nn=this.rn(S,k,Ye),Or=this.on(S.indexId,ae,Mt,pt.inclusive,Yt,_t.inclusive,Nn);return wt.forEach(Or,jn=>r.J(jn,t.limit).next(Hn=>{Hn.forEach(er=>{const cr=on.fromSegments(er.documentKey);p.has(cr)||(p=p.add(cr),b.push(cr))})}))}).next(()=>b)}return wt.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:Wd(mi.create(e.filters,"and")).map(r=>op(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,r,a,c,p,b){const S=(null!=t?t.length:1)*Math.max(r.length,c.length),k=S/(null!=t?t.length:1),z=[];for(let ae=0;ae<S;++ae){const Ye=t?this.un(t[ae/k]):Rp,pt=this.cn(e,Ye,r[ae%k],a),_t=this.an(e,Ye,c[ae%k],p),Mt=b.map(Yt=>this.cn(e,Ye,Yt,!0));z.push(...this.createRange(pt,_t,Mt))}return z}cn(e,t,r,a){const c=new dl(e,on.empty(),t,r);return a?c:c.Ge()}an(e,t,r,a){const c=new dl(e,on.empty(),t,r);return a?c.Ge():c}nn(e,t){const r=new Gd(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const b of c)r.We(b)&&(!p||b.fields.length>p.fields.length)&&(p=b);return p})}getIndexType(e,t){let r=2;const a=this.en(t);return wt.forEach(a,c=>this.nn(e,c).next(p=>{p?0!==r&&p.fields.length<function(b){let S=new ri(vs.comparator),k=!1;for(const z of b.filters)for(const ae of z.getFlattenedFilters())ae.field.isKeyField()||("array-contains"===ae.op||"array-contains-any"===ae.op?k=!0:S=S.add(ae.field));for(const z of b.orderBy)z.field.isKeyField()||(S=S.add(z.field));return S.size+(k?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&a.length>1&&2===r?1:r)}hn(e,t){const r=new Kl;for(const a of Yu(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=r.Ke(a.kind);Fa.Ee.ae(c,p)}return r.Be()}un(e){const t=new Kl;return Fa.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const r=new Kl;return Fa.Ee.ae(Ju(this.databaseId,t),r.Ke(function(a){const c=Yu(a);return 0===c.length?0:c[c.length-1].kind}(e))),r.Be()}rn(e,t,r){if(null===r)return[];let a=[];a.push(new Kl);let c=0;for(const p of Yu(e)){const b=r[c++];for(const S of a)if(this.fn(t,p.fieldPath)&&Ph(b))a=this.dn(a,p,b);else{const k=S.Ke(p.kind);Fa.Ee.ae(b,k)}}return this._n(a)}sn(e,t,r){return this.rn(e,t,r.position)}_n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Be();return t}dn(e,t,r){const a=[...e],c=[];for(const p of r.arrayValue.values||[])for(const b of a){const S=new Kl;S.seed(b.Be()),Fa.Ee.ae(p,S.Ke(t.kind)),c.push(S)}return c}fn(e,t){return!!e.filters.find(r=>r instanceof Nr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Op(e),a=qc(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const p=[];return wt.forEach(c,b=>a.get([b.indexId,this.uid]).next(S=>{p.push(function(k,z){const ae=z?new Xf(z.sequenceNumber,new sa(oc(z.readTime),new on(Cl(z.documentKey)),z.largestBatchId)):Xf.empty(),Ye=k.fields.map(([pt,_t])=>new Rh(vs.fromServerFormat(pt),_t));return new ol(k.indexId,k.collectionGroup,Ye,ae)}(b,S))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,a)=>{const c=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:br(r.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const a=Op(e),c=qc(e);return this.wn(e).next(p=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(b=>wt.forEach(b,S=>c.put(c0(S.indexId,this.user,p,r)))))}updateIndexEntries(e,t){const r=new Map;return wt.forEach(t,(a,c)=>{const p=r.get(a.collectionGroup);return(p?wt.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(b=>(r.set(a.collectionGroup,b),wt.forEach(b,S=>this.mn(e,a,S).next(k=>{const z=this.gn(c,S);return k.isEqual(z)?wt.resolve():this.yn(e,c,S,k,z)}))))})}pn(e,t,r,a){return Jh(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.ln(r,t.key),documentKey:t.key.path.toArray()})}In(e,t,r,a){return Jh(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.ln(r,t.key),t.key.path.toArray()])}mn(e,t,r){const a=Jh(e);let c=new ri($a);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,t)])},(p,b)=>{c=c.add(new dl(r.indexId,t,b.arrayValue,b.directionalValue))}).next(()=>c)}gn(e,t){let r=new ri($a);const a=this.hn(t,e);if(null==a)return r;const c=Oc(t);if(null!=c){const p=e.data.field(c.fieldPath);if(Ph(p))for(const b of p.arrayValue.values||[])r=r.add(new dl(t.indexId,e.key,this.un(b),a))}else r=r.add(new dl(t.indexId,e.key,Rp,a));return r}yn(e,t,r,a,c){qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(b,S,k,z,ae){const Ye=b.getIterator(),pt=S.getIterator();let _t=Nd(Ye),Mt=Nd(pt);for(;_t||Mt;){let Yt=!1,Nn=!1;if(_t&&Mt){const Or=k(_t,Mt);Or<0?Nn=!0:Or>0&&(Yt=!0)}else null!=_t?Nn=!0:Yt=!0;Yt?(z(Mt),Mt=Nd(pt)):Nn?(ae(_t),_t=Nd(Ye)):(_t=Nd(Ye),Mt=Nd(pt))}}(a,c,$a,b=>{p.push(this.pn(e,t,r,b))},b=>{p.push(this.In(e,t,r,b))}),wt.waitFor(p)}wn(e){let t=1;return qc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((p,b)=>$a(p,b)).filter((p,b,S)=>!b||0!==$a(p,S[b-1]));const a=[];a.push(e);for(const p of r){const b=$a(p,e),S=$a(p,t);if(0===b)a[0]=e.Ge();else if(b>0&&S<0)a.push(p),a.push(p.Ge());else if(S>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2){if(this.Tn(a[p],a[p+1]))return[];c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Rp,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Rp,[]]))}return c}Tn(e,t){return $a(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Pp)}getMinOffset(e,t){return wt.mapArray(this.en(t),r=>this.nn(e,r).next(a=>a||_n())).next(Pp)}}function Wm(n){return _o(n,"collectionParents")}function Jh(n){return _o(n,"indexEntries")}function Op(n){return _o(n,"indexConfiguration")}function qc(n){return _o(n,"indexState")}function Pp(n){kn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;p_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new sa(e.readTime,e.documentKey,t)}const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $o{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $o(e,$o.DEFAULT_COLLECTION_PERCENTILE,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ef(n,e,t){const r=n.store("mutations"),a=n.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let b=0;const S=r.X({range:p},(z,ae,Ye)=>(b++,Ye.delete()));c.push(S.next(()=>{kn(1===b)}));const k=[];for(const z of t.mutations){const ae=Ep(e,z.key.path,t.batchId);c.push(a.delete(ae)),k.push(z.key)}return wt.waitFor(c).next(()=>k)}function qd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _n();e=n.noDocument}return JSON.stringify(e).length}$o.DEFAULT_COLLECTION_PERCENTILE=10,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$o.DEFAULT=new $o(41943040,$o.DEFAULT_COLLECTION_PERCENTILE,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$o.DISABLED=new $o(-1,0,0);class Np{constructor(e,t,r,a){this.userId=e,this.Tt=t,this.indexManager=r,this.referenceDelegate=a,this.En={}}static ue(e,t,r,a){kn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Np(c,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).X({index:"userMutationsIndex",range:r},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const c=lc(e),p=Sl(e);return p.add({}).next(b=>{kn("number"==typeof b);const S=new Qh(b,t,r,a),k=function(Ye,pt,_t){const Mt=_t.baseMutations.map(Nn=>Wh(Ye.oe,Nn)),Yt=_t.mutations.map(Nn=>Wh(Ye.oe,Nn));return{userId:pt,batchId:_t.batchId,localWriteTimeMs:_t.localWriteTime.toMillis(),baseMutations:Mt,mutations:Yt}}(this.Tt,this.userId,S),z=[];let ae=new ri((Ye,pt)=>br(Ye.canonicalString(),pt.canonicalString()));for(const Ye of a){const pt=Ep(this.userId,Ye.key.path,b);ae=ae.add(Ye.key.path.popLast()),z.push(p.put(k)),z.push(c.put(pt,Eu))}return ae.forEach(Ye=>{z.push(this.indexManager.addToCollectionParentIndex(e,Ye))}),e.addOnCommittedListener(()=>{this.En[b]=S.keys()}),wt.waitFor(z).next(()=>S)})}lookupMutationBatch(e,t){return Sl(e).get(t).next(r=>r?(kn(r.userId===this.userId),zc(this.Tt,r)):null)}An(e,t){return this.En[t]?wt.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.En[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Sl(e).X({index:"userMutationsIndex",range:a},(p,b,S)=>{b.userId===this.userId&&(kn(b.batchId>=r),c=zc(this.Tt,b)),S.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Sl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{r=c.batchId,p.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).W("userMutationsIndex",t).next(r=>r.map(a=>zc(this.Tt,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=qh(this.userId,t.path),a=IDBKeyRange.lowerBound(r),c=[];return lc(e).X({range:a},(p,b,S)=>{const[k,z,ae]=p,Ye=Cl(z);if(k===this.userId&&t.path.isEqual(Ye))return Sl(e).get(ae).next(pt=>{if(!pt)throw _n();kn(pt.userId===this.userId),c.push(zc(this.Tt,pt))});S.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ri(br);const a=[];return t.forEach(c=>{const p=qh(this.userId,c.path),b=IDBKeyRange.lowerBound(p),S=lc(e).X({range:b},(k,z,ae)=>{const[Ye,pt,_t]=k,Mt=Cl(pt);Ye===this.userId&&c.path.isEqual(Mt)?r=r.add(_t):ae.done()});a.push(S)}),wt.waitFor(a).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,c=qh(this.userId,r),p=IDBKeyRange.lowerBound(c);let b=new ri(br);return lc(e).X({range:p},(S,k,z)=>{const[ae,Ye,pt]=S,_t=Cl(Ye);ae===this.userId&&r.isPrefixOf(_t)?_t.length===a&&(b=b.add(pt)):z.done()}).next(()=>this.Rn(e,b))}Rn(e,t){const r=[],a=[];return t.forEach(c=>{a.push(Sl(e).get(c).next(p=>{if(null===p)throw _n();kn(p.userId===this.userId),r.push(zc(this.Tt,p))}))}),wt.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return ef(e.re,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Pn(t.batchId)}),wt.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return wt.resolve();const r=IDBKeyRange.lowerBound([this.userId]),a=[];return lc(e).X({range:r},(c,p,b)=>{if(c[0]===this.userId){const S=Cl(c[1]);a.push(S)}else b.done()}).next(()=>{kn(0===a.length)})})}containsKey(e,t){return tf(e,this.userId,t)}vn(e){return qm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tf(n,e,t){const r=qh(e,t.path),a=r[1],c=IDBKeyRange.lowerBound(r);let p=!1;return lc(n).X({range:c,Z:!0},(b,S,k)=>{const[z,ae,Ye]=b;z===e&&ae===a&&(p=!0),k.done()}).next(()=>p)}function Sl(n){return _o(n,"mutations")}function lc(n){return _o(n,"documentMutations")}function qm(n){return _o(n,"mutationQueues")}class bu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new bu(0)}static Sn(){return new bu(-1)}}class p0{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const r=new bu(t.highestTargetId);return t.highestTargetId=r.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Un.fromTimestamp(new Ji(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Dn(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Cn(e,a)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(t,r),this.Cn(e,r))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Kc(e).delete(t.targetId)).next(()=>this.Dn(e)).next(r=>(kn(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,t,r){let a=0;const c=[];return Kc(e).X((p,b)=>{const S=Dp(b);S.sequenceNumber<=t&&null===r.get(S.targetId)&&(a++,c.push(this.removeTargetData(e,S)))}).next(()=>wt.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Kc(e).X((r,a)=>{const c=Dp(a);t(c)})}Dn(e){return kp(e).get("targetGlobalKey").next(t=>(kn(null!==t),t))}Cn(e,t){return kp(e).put("targetGlobalKey",t)}xn(e,t){return Kc(e).put(Um(this.Tt,t))}Nn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=tc(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Kc(e).X({range:a,index:"queryTargetsIndex"},(p,b,S)=>{const k=Dp(b);kh(t,k.target)&&(c=k,S.done())}).next(()=>c)}addMatchingKeys(e,t,r){const a=[],c=Iu(e);return t.forEach(p=>{const b=Lo(p.path);a.push(c.put({targetId:r,path:b})),a.push(this.referenceDelegate.addReference(e,r,p))}),wt.waitFor(a)}removeMatchingKeys(e,t,r){const a=Iu(e);return wt.forEach(t,c=>{const p=Lo(c.path);return wt.waitFor([a.delete([r,p]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Iu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Iu(e);let c=Ir();return a.X({range:r,Z:!0},(p,b,S)=>{const k=Cl(p[1]),z=new on(k);c=c.add(z)}).next(()=>c)}containsKey(e,t){const r=Lo(t.path),a=IDBKeyRange.bound([r],[h_(r)],!1,!0);let c=0;return Iu(e).X({index:"documentTargetsIndex",Z:!0,range:a},([p,b],S,k)=>{0!==p&&(c++,k.done())}).next(()=>c>0)}ie(e,t){return Kc(e).get(t).next(r=>r?Dp(r):null)}}function Kc(n){return _o(n,"targets")}function kp(n){return _o(n,"targetGlobal")}function Iu(n){return _o(n,"targetDocuments")}function g0([n,e],[t,r]){const a=br(n,t);return 0===a?br(e,r):a}class m0{constructor(e){this.kn=e,this.buffer=new ri(g0),this.$n=0}Mn(){return++this.$n}On(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();g0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class y0{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(e){var t=this;qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,At.Z)(function*(){t.Fn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Hl(r)?qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Zu(r)}yield t.Bn(3e5)}))}}class v0{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return wt.resolve(Oa.at);const r=new m0(t);return this.Ln.forEachTarget(e,a=>r.On(a.sequenceNumber)).next(()=>this.Ln.Un(e,a=>r.On(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Ln.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),wt.resolve(f0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let r,a,c,p,b,S,k;const z=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ae=>(ae>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ae}`),a=this.params.maximumSequenceNumbersToCollect):a=ae,p=Date.now(),this.nthSequenceNumber(e,a))).next(ae=>(r=ae,b=Date.now(),this.removeTargets(e,r,t))).next(ae=>(c=ae,S=Date.now(),this.removeOrphanedDocuments(e,r))).next(ae=>(k=Date.now(),Ah()<=to.in.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-z}ms\n\tDetermined least recently used ${a} in `+(b-p)+`ms\n\tRemoved ${c} targets in `+(S-b)+`ms\n\tRemoved ${ae} documents in `+(k-S)+`ms\nTotal Duration: ${k-z}ms`),wt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:ae})))}}class _0{constructor(e,t){this.db=e,this.garbageCollector=new v0(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Gn(e){let t=0;return this.Un(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(r,a)=>t(a))}addReference(e,t,r){return Fp(e,r)}removeReference(e,t,r){return Fp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Fp(e,t)}jn(e,t){return function(r,a){let c=!1;return qm(r).tt(p=>tf(r,p,a).next(b=>(b&&(c=!0),wt.resolve(!b)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Qn(e,(p,b)=>{if(b<=t){const S=this.jn(e,p).next(k=>{if(!k)return c++,r.getEntry(e,p).next(()=>(r.removeEntry(p,Un.min()),Iu(e).delete([0,Lo(p.path)])))});a.push(S)}}).next(()=>wt.waitFor(a)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Fp(e,t)}Qn(e,t){const r=Iu(e);let a,c=Oa.at;return r.X({index:"documentTargetsIndex"},([p,b],{path:S,sequenceNumber:k})=>{0===p?(c!==Oa.at&&t(new on(Cl(a)),c),c=k,a=S):c=Oa.at}).next(()=>{c!==Oa.at&&t(new on(Cl(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fp(n,e){return Iu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Lo(e.path),sequenceNumber:r}));var r}class Km{constructor(){this.changes=new Pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?wt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E0{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return uc(e).put(r)}removeEntry(e,t,r){return uc(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],wp(c),p[p.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.zn(e,r)))}getEntry(e,t){let r=ki.newInvalidDocument(t);return uc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kd(t))},(a,c)=>{r=this.Wn(t,c)}).next(()=>r)}Hn(e,t){let r={size:0,document:ki.newInvalidDocument(t)};return uc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kd(t))},(a,c)=>{r={document:this.Wn(t,c),size:qd(c)}}).next(()=>r)}getEntries(e,t){let r=_a();return this.Jn(e,t,(a,c)=>{const p=this.Wn(a,c);r=r.insert(a,p)}).next(()=>r)}Yn(e,t){let r=_a(),a=new _s(on.comparator);return this.Jn(e,t,(c,p)=>{const b=this.Wn(c,p);r=r.insert(c,b),a=a.insert(c,qd(p))}).next(()=>({documents:r,Zn:a}))}Jn(e,t,r){if(t.isEmpty())return wt.resolve();let a=new ri(Xm);t.forEach(S=>a=a.add(S));const c=IDBKeyRange.bound(Kd(a.first()),Kd(a.last())),p=a.getIterator();let b=p.getNext();return uc(e).X({index:"documentKeyIndex",range:c},(S,k,z)=>{const ae=on.fromSegments([...k.prefixPath,k.collectionGroup,k.documentId]);for(;b&&Xm(b,ae)<0;)r(b,null),b=p.getNext();b&&b.isEqual(ae)&&(r(b,k),b=p.hasNext()?p.getNext():null),b?z.j(Kd(b)):z.done()}).next(()=>{for(;b;)r(b,null),b=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,r,a){const c=t.path,p=[c.popLast().toArray(),c.lastSegment(),wp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],b=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uc(e).W(IDBKeyRange.bound(p,b,!0)).next(S=>{let k=_a();for(const z of S){const ae=this.Wn(on.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);ae.isFoundDocument()&&(Lh(t,ae)||a.has(ae.key))&&(k=k.insert(ae.key,ae))}return k})}getAllFromCollectionGroup(e,t,r,a){let c=_a();const p=Qm(t,r),b=Qm(t,sa.max());return uc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,b,!0)},(S,k,z)=>{const ae=this.Wn(on.fromSegments(k.prefixPath.concat(k.collectionGroup,k.documentId)),k);c=c.insert(ae.key,ae),c.size===a&&z.done()}).next(()=>c)}newChangeBuffer(e){return new Ym(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Zm(e).get("remoteDocumentGlobalKey").next(t=>(kn(!!t),t))}zn(e,t){return Zm(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const r=function nI(n,e){let t;if(e.document)t=Z_(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=on.fromSegments(e.noDocument.path),a=oc(e.noDocument.readTime);t=ki.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _n();{const r=on.fromSegments(e.unknownDocument.path),a=oc(e.unknownDocument.version);t=ki.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime(function(r){const a=new Ji(r[0],r[1]);return Un.fromTimestamp(a)}(e.readTime)),t}(this.Tt,t);if(!r.isNoDocument()||!r.version.isEqual(Un.min()))return r}return ki.newInvalidDocument(e)}}function Lp(n){return new E0(n)}class Ym extends Km{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new Pa(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new ri((c,p)=>br(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const b=this.ts.get(c);if(t.push(this.Xn.removeEntry(e,c,b.readTime)),p.isValidDocument()){const S=a0(this.Xn.Tt,p);a=a.add(c.path.popLast());const k=qd(S);r+=k-b.size,t.push(this.Xn.addEntry(e,c,S))}else if(r-=b.size,this.trackRemovals){const S=a0(this.Xn.Tt,p.convertToNoDocument(Un.min()));t.push(this.Xn.addEntry(e,c,S))}}),a.forEach(c=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Xn.updateMetadata(e,r)),wt.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(r=>(this.ts.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:r,Zn:a})=>(a.forEach((c,p)=>{this.ts.set(c,{size:p,readTime:r.get(c).readTime})}),r))}}function Zm(n){return _o(n,"remoteDocumentGlobal")}function uc(n){return _o(n,"remoteDocumentsV14")}function Kd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qm(n,e){const t=e.documentKey.path.toArray();return[n,wp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Xm(n,e){const t=n.path.toArray(),r=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(a=br(t[c],r[c]),a)return a;return a=br(t.length,r.length),a||(a=br(t[t.length-2],r[r.length-2]),a||br(t[t.length-1],r[r.length-1]))}class b0{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jm{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==r&&Bd(r.mutation,a,va.empty(),Ji.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ir()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ir()){const a=Na();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(c=>{let p=Uh();return c.forEach((b,S)=>{p=p.insert(b,S.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const r=Na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ir()))}populateOverlays(e,t,r){const a=[];return r.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,b)=>{t.set(p,b)})})}computeViews(e,t,r,a){let c=_a();const p=Vc(),b=Vc();return t.forEach((S,k)=>{const z=r.get(k.key);a.has(k.key)&&(void 0===z||z.mutation instanceof vu)?c=c.insert(k.key,k):void 0!==z?(p.set(k.key,z.mutation.getFieldMask()),Bd(z.mutation,k,z.mutation.getFieldMask(),Ji.now())):p.set(k.key,va.empty())}),this.recalculateAndSaveOverlays(e,c).next(S=>(S.forEach((k,z)=>p.set(k,z)),t.forEach((k,z)=>{var ae;return b.set(k,new b0(z,null!==(ae=p.get(k))&&void 0!==ae?ae:null))}),b))}recalculateAndSaveOverlays(e,t){const r=Vc();let a=new _s((p,b)=>p-b),c=Ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const b of p)b.keys().forEach(S=>{const k=t.get(S);if(null===k)return;let z=r.get(S)||va.empty();z=b.applyToLocalView(k,z),r.set(S,z);const ae=(a.get(b.batchId)||Ir()).add(S);a=a.insert(b.batchId,ae)})}).next(()=>{const p=[],b=a.getReverseIterator();for(;b.hasNext();){const S=b.getNext(),k=S.key,z=S.value,ae=Bc();z.forEach(Ye=>{if(!c.has(Ye)){const pt=Vh(t.get(Ye),r.get(Ye));null!==pt&&ae.set(Ye,pt),c=c.add(Ye)}}),p.push(this.documentOverlayCache.saveOverlays(e,k,ae))}return wt.waitFor(p)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return on.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):up(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var a}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-c.size):wt.resolve(Na());let b=-1,S=c;return p.next(k=>wt.forEach(k,(z,ae)=>(b<ae.largestBatchId&&(b=ae.largestBatchId),c.get(z)?wt.resolve():this.remoteDocumentCache.getEntry(e,z).next(Ye=>{S=S.insert(z,Ye)}))).next(()=>this.populateOverlays(e,k,c)).next(()=>this.computeViews(e,S,k,Ir())).next(z=>({batchId:b,changes:B_(z)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new on(t)).next(r=>{let a=Uh();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const a=t.collectionGroup;let c=Uh();return this.indexManager.getCollectionParents(e,a).next(p=>wt.forEach(p,b=>{const S=(k=t,z=b.child(a),new mu(z,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt));var k,z;return this.getDocumentsMatchingCollectionQuery(e,S,r).next(k=>{k.forEach((z,ae)=>{c=c.insert(z,ae)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a))).next(c=>{a.forEach((b,S)=>{const k=S.getKey();null===c.get(k)&&(c=c.insert(k,ki.newInvalidDocument(k)))});let p=Uh();return c.forEach((b,S)=>{const k=a.get(b);void 0!==k&&Bd(k.mutation,S,va.empty(),Ji.now()),Lh(t,S)&&(p=p.insert(b,S))}),p})}}class I0{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return wt.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:cs(r.createTime)}),wt.resolve()}getNamedQuery(e,t){return wt.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:l0(r.bundledQuery),readTime:cs(r.readTime)}),wt.resolve();var r}}class $p{constructor(){this.overlays=new _s(on.comparator),this.ss=new Map}getOverlay(e,t){return wt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Na();return wt.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,c)=>{this.ce(e,t,c)}),wt.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.ss.get(r);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ss.delete(r)),wt.resolve()}getOverlaysForCollection(e,t,r){const a=Na(),c=t.length+1,p=new on(t.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const S=b.getNext().value,k=S.getKey();if(!t.isPrefixOf(k.path))break;k.path.length===c&&S.largestBatchId>r&&a.set(S.getKey(),S)}return wt.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let c=new _s((k,z)=>k-z);const p=this.overlays.getIterator();for(;p.hasNext();){const k=p.getNext().value;if(k.getKey().getCollectionGroup()===t&&k.largestBatchId>r){let z=c.get(k.largestBatchId);null===z&&(z=Na(),c=c.insert(k.largestBatchId,z)),z.set(k.getKey(),k)}}const b=Na(),S=c.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((k,z)=>b.set(k,z)),!(b.size()>=a)););return wt.resolve(b)}ce(e,t,r){const a=this.overlays.get(r.key);if(null!==a){const p=this.ss.get(a.largestBatchId).delete(r.key);this.ss.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(r.key,new Vm(t,r));let c=this.ss.get(t);void 0===c&&(c=Ir(),this.ss.set(t,c)),this.ss.set(t,c.add(r.key))}}class Yl{constructor(){this.rs=new ri(Eo.os),this.us=new ri(Eo.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new Eo(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new Eo(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new on(new Jr([])),r=new Eo(t,e),a=new Eo(t,e+1),c=[];return this.us.forEachInRange([r,a],p=>{this.ls(p),c.push(p.key)}),c}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new on(new Jr([])),r=new Eo(t,e),a=new Eo(t,e+1);let c=Ir();return this.us.forEachInRange([r,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new Eo(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Eo{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return on.comparator(e.key,t.key)||br(e.gs,t.gs)}static cs(e,t){return br(e.gs,t.gs)||on.comparator(e.key,t.key)}}class iI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new ri(Eo.os)}checkEmpty(e){return wt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,a){const c=this.ys;this.ys++;const p=new Qh(c,t,r,a);this.mutationQueue.push(p);for(const b of a)this.ps=this.ps.add(new Eo(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return wt.resolve(p)}lookupMutationBatch(e,t){return wt.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ts(t+1),c=a<0?0:a;return wt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return wt.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Eo(t,0),a=new Eo(t,Number.POSITIVE_INFINITY),c=[];return this.ps.forEachInRange([r,a],p=>{const b=this.Is(p.gs);c.push(b)}),wt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ri(br);return t.forEach(a=>{const c=new Eo(a,0),p=new Eo(a,Number.POSITIVE_INFINITY);this.ps.forEachInRange([c,p],b=>{r=r.add(b.gs)})}),wt.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let c=r;on.isDocumentKey(c)||(c=c.child(""));const p=new Eo(new on(c),0);let b=new ri(br);return this.ps.forEachWhile(S=>{const k=S.key.path;return!!r.isPrefixOf(k)&&(k.length===a&&(b=b.add(S.gs)),!0)},p),wt.resolve(this.Es(b))}Es(e){const t=[];return e.forEach(r=>{const a=this.Is(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){kn(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return wt.forEach(t.mutations,a=>{const c=new Eo(a.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,t){const r=new Eo(t,0),a=this.ps.firstAfterOrEqual(r);return wt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return wt.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ey{constructor(e){this.Rs=e,this.docs=new _s(on.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),c=a?a.size:0,p=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return wt.resolve(r?r.document.mutableCopy():ki.newInvalidDocument(t))}getEntries(e,t){let r=_a();return t.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.mutableCopy():ki.newInvalidDocument(a))}),wt.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let c=_a();const p=t.path,b=new on(p.child("")),S=this.docs.getIteratorFrom(b);for(;S.hasNext();){const{key:k,value:{document:z}}=S.getNext();if(!p.isPrefixOf(k.path))break;k.path.length>p.length+1||p_(Jf(z),r)<=0||(a.has(z.key)||Lh(t,z))&&(c=c.insert(z.key,z.mutableCopy()))}return wt.resolve(c)}getAllFromCollectionGroup(e,t,r,a){_n()}Ps(e,t){return wt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Yc(this)}getSize(e){return wt.resolve(this.size)}}class Yc extends Km{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Xn.addEntry(e,a)):this.Xn.removeEntry(r)}),wt.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class ty{constructor(e){this.persistence=e,this.vs=new Pa(t=>tc(t),kh),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Yl,this.targetCount=0,this.Ss=bu.Vn()}forEachTarget(e,t){return this.vs.forEach((r,a)=>t(a)),wt.resolve()}getLastRemoteSnapshotVersion(e){return wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),wt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),wt.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new bu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,wt.resolve()}updateTargetData(e,t){return this.xn(t),wt.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,wt.resolve()}removeTargets(e,t,r){let a=0;const c=[];return this.vs.forEach((p,b)=>{b.sequenceNumber<=t&&null===r.get(b.targetId)&&(this.vs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),wt.waitFor(c).next(()=>a)}getTargetCount(e){return wt.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return wt.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),wt.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),wt.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),wt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return wt.resolve(r)}containsKey(e,t){return wt.resolve(this.Vs.containsKey(t))}}class w0{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Oa(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new ty(this),this.indexManager=new h0,this.remoteDocumentCache=new ey(r=>this.referenceDelegate.ks(r)),this.Tt=new o0(t),this.$s=new I0(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $p,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new iI(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,r){qt("MemoryPersistence","Starting transaction:",e);const a=new ny(this.Cs.next());return this.referenceDelegate.Ms(),r(a).next(c=>this.referenceDelegate.Os(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Fs(e,t){return wt.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class ny extends nm{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Bs=new Yl,this.Ls=null}static qs(e){return new ry(e)}get Us(){if(this.Ls)return this.Ls;throw _n()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),wt.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),wt.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),wt.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(a=>this.Us.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Us.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wt.forEach(this.Us,r=>{const a=on.fromPath(r);return this.Ks(e,a).next(c=>{c||t.removeEntry(a,Un.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return wt.or([()=>wt.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class Zw{constructor(e){this.Tt=e}F(e,t,r,a){const c=new ep("createOrUpgrade",t);var b;r<1&&a>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$m,{unique:!0}),b.createObjectStore("documentMutations"),D0(e),function(b){b.createObjectStore("remoteDocuments")}(e));let p=wt.resolve();return r<3&&a>=3&&(0!==r&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),D0(e)),p=p.next(()=>function(b){const S=b.store("targetGlobal"),k={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Un.min().toTimestamp(),targetCount:0};return S.put("targetGlobalKey",k)}(c))),r<4&&a>=4&&(0!==r&&(p=p.next(()=>function(b,S){return S.store("mutations").W().next(k=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$m,{unique:!0});const z=S.store("mutations"),ae=k.map(Ye=>z.put(Ye));return wt.waitFor(ae)})}(e,c))),p=p.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&a>=5&&(p=p.next(()=>this.Gs(c))),r<6&&a>=6&&(p=p.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(c)))),r<7&&a>=7&&(p=p.next(()=>this.js(c))),r<8&&a>=8&&(p=p.next(()=>this.zs(e,c))),r<9&&a>=9&&(p=p.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&a>=10&&(p=p.next(()=>this.Ws(c))),r<11&&a>=11&&(p=p.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&a>=12&&(p=p.next(()=>{!function(b){const S=b.createObjectStore("documentOverlays",{keyPath:Xb});S.createIndex("collectionPathOverlayIndex",Jb,{unique:!1}),S.createIndex("collectionGroupOverlayIndex",eI,{unique:!1})}(e)})),r<13&&a>=13&&(p=p.next(()=>function(b){const S=b.createObjectStore("remoteDocumentsV14",{keyPath:bp});S.createIndex("documentKeyIndex",Ip),S.createIndex("collectionGroupIndex",Kh)}(e)).next(()=>this.Hs(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(p=p.next(()=>this.Js(e,c))),r<15&&a>=15&&(p=p.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:Zb}).createIndex("sequenceNumberIndex",Yh,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:Qb}).createIndex("documentKeyIndex",Yw,{unique:!1})}(e))),p}Qs(e){let t=0;return e.store("remoteDocuments").X((r,a)=>{t+=qd(a)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(a=>wt.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",p).next(b=>wt.forEach(b,S=>{kn(S.userId===c.userId);const k=zc(this.Tt,S);return ef(e,c.userId,k).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return r.X((p,b)=>{const S=new Jr(p),k=[0,Lo(S)];c.push(t.get(k).next(z=>z?wt.resolve():t.put({targetId:0,path:Lo(S),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>wt.waitFor(c))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:Yb});const r=t.store("collectionParents"),a=new xp,c=p=>{if(a.add(p)){const b=p.lastSegment(),S=p.popLast();return r.put({collectionId:b,parent:Lo(S)})}};return t.store("remoteDocuments").X({Z:!0},(p,b)=>{const S=new Jr(p);return c(S.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([p,b,S],k)=>{const z=Cl(b);return c(z.popLast())}))}Ws(e){const t=e.store("targets");return t.X((r,a)=>{const c=Dp(a),p=Um(this.Tt,c);return t.put(p)})}Hs(e,t){const r=t.store("remoteDocuments"),a=[];return r.X((c,p)=>{const b=t.store("remoteDocumentsV14"),S=(k=p,k.document?new on(Jr.fromString(k.document.name).popFirst(5)):k.noDocument?on.fromSegments(k.noDocument.path):k.unknownDocument?on.fromSegments(k.unknownDocument.path):_n()).path.toArray();var k;const z={prefixPath:S.slice(0,S.length-2),collectionGroup:S[S.length-2],documentId:S[S.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(b.put(z))}).next(()=>wt.waitFor(a))}Js(e,t){const r=t.store("mutations"),a=Lp(this.Tt),c=new w0(ry.qs,this.Tt.oe);return r.W().next(p=>{const b=new Map;return p.forEach(S=>{var k;let z=null!==(k=b.get(S.userId))&&void 0!==k?k:Ir();zc(this.Tt,S).keys().forEach(ae=>z=z.add(ae)),b.set(S.userId,z)}),wt.forEach(b,(S,k)=>{const z=new oo(k),ae=ac.ue(this.Tt,z),Ye=c.getIndexManager(z),pt=Np.ue(z,this.Tt,Ye,c.referenceDelegate);return new Jm(a,pt,ae,Ye).recalculateAndSaveOverlaysForDocumentKeys(new Zh(t,Oa.at),S).next()})})}}function D0(n){n.createObjectStore("targetDocuments",{keyPath:J_}).createIndex("documentTargetsIndex",e0,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Kb,{unique:!0}),n.createObjectStore("targetGlobal")}const iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bp{constructor(e,t,r,a,c,p,b,S,k,z,ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ys=c,this.window=p,this.document=b,this.Zs=k,this.Xs=z,this.ti=ae,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=Ye=>Promise.resolve(),!Bp.C())throw new Vt(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _0(this,a),this.oi=t+"main",this.Tt=new o0(S),this.ui=new al(this.oi,this.ti,new Zw(this.Tt)),this.Ns=new p0(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Lp(this.Tt),this.$s=new jm,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===z&&ks("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vt(Tt.FAILED_PRECONDITION,iy);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Oa(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var r=(0,At.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,At.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,At.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Es(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(Hl(e))return qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return nf(e).get("owner").next(t=>wt.resolve(this.yi(t)))}pi(e){return Es(e).delete(this.clientId)}Ii(){var e=this;return(0,At.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=_o(r,"clientMetadata");return a.W().next(c=>{const p=e.Ei(c,18e5),b=c.filter(S=>-1===p.indexOf(S));return wt.forEach(b,S=>a.delete(S.clientId)).next(()=>b)})}).catch(()=>[]);if(e.ci)for(const r of t)e.ci.removeItem(e.Ai(r.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?wt.resolve(!0):nf(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new Vt(Tt.FAILED_PRECONDITION,iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Es(e).W().next(r=>void 0===this.Ei(r,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,At.Z)(function*(){e.xs=!1,e.Pi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.bi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Zh(t,Oa.at);return e.mi(r).next(()=>e.pi(r))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(r=>this.Ti(r.updateTimeMs,t)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>Es(e).W().next(t=>this.Ei(t,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return Np.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rI(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return ac.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,t,r){qt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.ti)?s0:14===p?r0:13===p?n0:12===p?tI:11===p?t0:void _n();var p;let b;return this.ui.runTransaction(e,a,c,S=>(b=new Zh(S,this.Cs?this.Cs.next():Oa.at),"readwrite-primary"===t?this._i(b).next(k=>!!k||this.wi(b)).next(k=>{if(!k)throw ks(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Vt(Tt.FAILED_PRECONDITION,bb);return r(b)}).next(k=>this.gi(b).next(()=>k)):this.Di(b).next(()=>r(b)))).then(S=>(b.raiseOnCommittedEvent(),S))}Di(e){return nf(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Vt(Tt.FAILED_PRECONDITION,iy)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nf(e).put("owner",t)}static C(){return al.C()}mi(e){const t=nf(e);return t.get("owner").next(r=>this.yi(r)?(qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):wt.resolve())}Ti(e,t){const r=Date.now();return!(e<r-t||e>r&&(ks(`Detected an update time that is in the future: ${e} > ${r}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.Pi();const t=/(?:Version|Mobile)\/1[456]/;(0,_r.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const r=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return qt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ks("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){ks("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(e){}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nf(n){return _o(n,"owner")}function Es(n){return _o(n,"clientMetadata")}function Vp(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class sy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=a}static Ni(e,t){let r=Ir(),a=Ir();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new sy(e,t.fromCache,r,a)}}class C0{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,a){return this.Mi(e,t).next(c=>c||this.Oi(e,t,a,r)).next(c=>c||this.Fi(e,t))}Mi(e,t){if(S_(t))return wt.resolve(null);let r=oa(t);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=dr(t,null,"F"),r=oa(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const p=Ir(...c);return this.$i.getDocuments(e,p).next(b=>this.indexManager.getMinOffset(e,r).next(S=>{const k=this.Bi(t,b);return this.Li(t,k,p,S.readTime)?this.Mi(e,dr(t,null,"F")):this.qi(e,k,t,S)}))})))}Oi(e,t,r,a){return S_(t)||a.isEqual(Un.min())?this.Fi(e,t):this.$i.getDocuments(e,r).next(c=>{const p=this.Bi(t,c);return this.Li(t,p,r,a)?this.Fi(e,t):(Ah()<=to.in.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cp(t)),this.qi(e,p,t,Eb(a,-1)))})}Bi(e,t){let r=new ri(Cm(e));return t.forEach((a,c)=>{Lh(e,c)&&(r=r.add(c))}),r}Li(e,t,r,a){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fi(e,t){return Ah()<=to.in.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",cp(t)),this.$i.getDocumentsMatchingQuery(e,t,sa.min())}qi(e,t,r,a){return this.$i.getDocumentsMatchingQuery(e,r,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class T0{constructor(e,t,r,a){this.persistence=e,this.Ui=t,this.Tt=a,this.Ki=new _s(br),this.Gi=new Pa(c=>tc(c),kh),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jm(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function S0(n,e,t,r){return new T0(n,e,t,r)}function oy(n,e){return Up.apply(this,arguments)}function Up(){return Up=(0,At.Z)(function*(n,e){const t=un(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(c=>(a=c,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const p=[],b=[];let S=Ir();for(const k of a){p.push(k.batchId);for(const z of k.mutations)S=S.add(z.key)}for(const k of c){b.push(k.batchId);for(const z of k.mutations)S=S.add(z.key)}return t.localDocuments.getDocuments(r,S).next(k=>({Wi:k,removedBatchIds:p,addedBatchIds:b}))})})}),Up.apply(this,arguments)}function A0(n){const e=un(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function ay(n,e,t){let r=Ir(),a=Ir();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let p=_a();return t.forEach((b,S)=>{const k=c.get(b);S.isFoundDocument()!==k.isFoundDocument()&&(a=a.add(b)),S.isNoDocument()&&S.version.isEqual(Un.min())?(e.removeEntry(b,S.readTime),p=p.insert(b,S)):!k.isValidDocument()||S.version.compareTo(k.version)>0||0===S.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(S),p=p.insert(b,S)):qt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",k.version," Watch version:",S.version)}),{Hi:p,Ji:a}})}function oI(n,e){const t=un(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zc(n,e){const t=un(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Ns.getTargetData(r,e).next(c=>c?(a=c,wt.resolve(a)):t.Ns.allocateTargetId(r).next(p=>(a=new ic(e,p,0,r.currentSequenceNumber),t.Ns.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ki.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}function rf(n,e,t){return sf.apply(this,arguments)}function sf(){return sf=(0,At.Z)(function*(n,e,t){const r=un(n),a=r.Ki.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,p=>r.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Hl(p))throw p;qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(a.target)}),sf.apply(this,arguments)}function Zd(n,e,t){const r=un(n);let a=Un.min(),c=Ir();return r.persistence.runTransaction("Execute query","readonly",p=>function(b,S,k){const z=un(b),ae=z.Gi.get(k);return void 0!==ae?wt.resolve(z.Ki.get(ae)):z.Ns.getTargetData(S,k)}(r,p,oa(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(p,b.targetId).next(S=>{c=S})}).next(()=>r.Ui.getDocumentsMatchingQuery(p,e,t?a:Un.min(),t?c:Ir())).next(b=>(ly(r,A_(e),b),{documents:b,Yi:c})))}function Al(n,e){const t=un(n),r=un(t.Ns),a=t.Ki.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>r.ie(c,e).next(p=>p?p.target:null))}function M0(n,e){const t=un(n),r=t.Qi.get(e)||Un.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.ji.getAllFromCollectionGroup(a,e,Eb(r,-1),Number.MAX_SAFE_INTEGER)).then(a=>(ly(t,e,a),a))}function ly(n,e,t){let r=n.Qi.get(e)||Un.min();t.forEach((a,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Qi.set(e,r)}function Ba(){return Ba=(0,At.Z)(function*(n,e,t,r){const a=un(n);let c=Ir(),p=_a();for(const k of t){const z=e.Zi(k.metadata.name);k.document&&(c=c.add(z));const ae=e.Xi(k);ae.setReadTime(e.tr(k.metadata.readTime)),p=p.insert(z,ae)}const b=a.ji.newChangeBuffer({trackRemovals:!0}),S=yield Zc(a,(k=r,oa(kd(Jr.fromString(`__bundle__/docs/${k}`)))));var k;return a.persistence.runTransaction("Apply bundle documents","readwrite",k=>ay(k,b,p).next(z=>(b.apply(k),z)).next(z=>a.Ns.removeMatchingKeysForTargetId(k,S.targetId).next(()=>a.Ns.addMatchingKeys(k,c,S.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(k,z.Hi,z.Ji)).next(()=>z.Hi)))}),Ba.apply(this,arguments)}function Ml(n,e){return jp.apply(this,arguments)}function jp(){return jp=(0,At.Z)(function*(n,e,t=Ir()){const r=yield Zc(n,oa(l0(e.bundledQuery))),a=un(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=cs(e.readTime);if(r.snapshotVersion.compareTo(p)>=0)return a.$s.saveNamedQuery(c,e);const b=r.withResumeToken(Ws.EMPTY_BYTE_STRING,p);return a.Ki=a.Ki.insert(b.targetId,b),a.Ns.updateTargetData(c,b).next(()=>a.Ns.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>a.Ns.addMatchingKeys(c,t,r.targetId)).next(()=>a.$s.saveNamedQuery(c,e))})}),jp.apply(this,arguments)}function uy(n,e){return`firestore_clients_${n}_${e}`}function x0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function cy(n,e){return`firestore_targets_${n}_${e}`}class Hp{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static er(e,t,r){const a=JSON.parse(r);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new Vt(a.error.code,a.error.message))),p?new Hp(e,t,a.state,c):(ks("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class af{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static er(e,t){const r=JSON.parse(t);let a,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Vt(r.error.code,r.error.message))),c?new af(e,r.state,a):(ks("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,c=Ud();for(let p=0;a&&p<r.activeTargetIds.length;++p)a=lm(r.activeTargetIds[p]),c=c.add(r.activeTargetIds[p]);return a?new Qd(e,c):(ks("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qc{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qc(t.clientId,t.onlineState):(ks("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dy{constructor(){this.activeTargetIds=Ud()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zp{constructor(e,t,r,a,c){this.window=e,this.Ys=t,this.persistenceKey=r,this.rr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new _s(br),this.started=!1,this.hr=[];const p=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.lr=uy(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new dy),this._r=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,At.Z)(function*(){const t=yield e.syncEngine.Si();for(const a of t){if(a===e.rr)continue;const c=e.getItem(uy(e.persistenceKey,a));if(c){const p=Qd.er(a,c);p&&(e.ar=e.ar.insert(p.clientId,p))}}e.pr();const r=e.storage.getItem(e.gr);if(r){const a=e.Ir(r);a&&e.Tr(a)}for(const a of e.hr)e.cr(a);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,r){this.Ar(e,t,r),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(cy(this.persistenceKey,e));if(r){const a=af.er(e,r);a&&(t=a.state)}}return this.Pr.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cy(this.persistenceKey,e))}updateQueryState(e,t,r){this.vr(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.Rr(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return qt("SharedClientState","READ",e,t),t}setItem(e,t){qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(qt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.lr)return void ks("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,At.Z)(function*(){if(t.started){if(null!==r.key)if(t._r.test(r.key)){if(null==r.newValue){const a=t.Sr(r.key);return t.Dr(a,null)}{const a=t.Cr(r.key,r.newValue);if(a)return t.Dr(a.clientId,a)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const a=t.Nr(r.key,r.newValue);if(a)return t.kr(a)}}else if(t.mr.test(r.key)){if(null!==r.newValue){const a=t.$r(r.key,r.newValue);if(a)return t.Mr(a)}}else if(r.key===t.gr){if(null!==r.newValue){const a=t.Ir(r.newValue);if(a)return t.Tr(a)}}else if(r.key===t.dr){const a=function(c){let p=Oa.at;if(null!=c)try{const b=JSON.parse(c);kn("number"==typeof b),p=b}catch(b){ks("SharedClientState","Failed to read sequence number from WebStorage",b)}return p}(r.newValue);a!==Oa.at&&t.sequenceNumberHandler(a)}else if(r.key===t.yr){const a=t.Or(r.newValue);yield Promise.all(a.map(c=>t.syncEngine.Fr(c)))}}else t.hr.push(r)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,t,r){const a=new Hp(this.currentUser,e,t,r),c=x0(this.persistenceKey,this.currentUser,e);this.setItem(c,a.nr())}Rr(e){const t=x0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,r){const a=cy(this.persistenceKey,e),c=new af(e,t,r);this.setItem(a,c.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const r=this.Sr(e);return Qd.er(r,t)}Nr(e,t){const r=this.wr.exec(e),a=Number(r[1]);return Hp.er(new oo(void 0!==r[2]?r[2]:null),a,t)}$r(e,t){const r=this.mr.exec(e),a=Number(r[1]);return af.er(a,t)}Ir(e){return Qc.er(e)}Or(e){return JSON.parse(e)}kr(e){var t=this;return(0,At.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),a=this.Er(this.ar),c=this.Er(r),p=[],b=[];return c.forEach(S=>{a.has(S)||p.push(S)}),a.forEach(S=>{c.has(S)||b.push(S)}),this.syncEngine.qr(p,b).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=Ud();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class R0{constructor(){this.Ur=new dy,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new dy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class O0{Gr(e){}shutdown(){}}class hy{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xc=null;function fy(){return null===Xc?Xc=268435456+Math.round(2147483648*Math.random()):Xc++,"0x"+Xc.toString(16)}const P0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N0{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const bo="WebChannelConnection";class Gp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,a,c){const p=fy(),b=this.fo(e,t);qt("RestConnection",`Sending RPC '${e}' ${p}:`,b,r);const S={};return this._o(S,a,c),this.wo(e,b,S,r).then(k=>(qt("RestConnection",`Received RPC '${e}' ${p}: `,k),k),k=>{throw Td("RestConnection",`RPC '${e}' ${p} failed with error: `,k,"url: ",b,"request:",r),k})}mo(e,t,r,a,c,p){return this.lo(e,t,r,a,c)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),r&&r.headers.forEach((a,c)=>e[c]=a)}fo(e,t){return`${this.co}/v1/${t}:${P0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,a){const c=fy();return new Promise((p,b)=>{const S=new fb;S.setWithCredentials(!0),S.listenOnce(Jg.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case Th.NO_ERROR:const z=S.getResponseJson();qt(bo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(z)),p(z);break;case Th.TIMEOUT:qt(bo,`RPC '${e}' ${c} timed out`),b(new Vt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const ae=S.getStatus();if(qt(bo,`RPC '${e}' ${c} failed with status:`,ae,"response text:",S.getResponseText()),ae>0){let Ye=S.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const pt=null==Ye?void 0:Ye.error;if(pt&&pt.status&&pt.message){const _t=function(Mt){const Yt=Mt.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(Yt)>=0?Yt:Tt.UNKNOWN}(pt.status);b(new Vt(_t,pt.message))}else b(new Vt(Tt.UNKNOWN,"Server responded with status "+S.getStatus()))}else b(new Vt(Tt.UNAVAILABLE,"Connection failed."));break;default:_n()}}finally{qt(bo,`RPC '${e}' ${c} completed.`)}});const k=JSON.stringify(a);qt(bo,`RPC '${e}' ${c} sending request:`,a),S.send(t,"POST",k,r,15)})}yo(e,t,r){const a=fy(),c=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=s_(),b=Xg(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new a_({})),this._o(S.initMessageHeaders,t,r),S.encodeInitMessageHeaders=!0;const k=c.join("");qt(bo,`Creating RPC '${e}' stream ${a}: ${k}`,S);const z=p.createWebChannel(k,S);let ae=!1,Ye=!1;const pt=new N0({Yr:Mt=>{Ye?qt(bo,`Not sending because RPC '${e}' stream ${a} is closed:`,Mt):(ae||(qt(bo,`Opening RPC '${e}' stream ${a} transport.`),z.open(),ae=!0),qt(bo,`RPC '${e}' stream ${a} sending:`,Mt),z.send(Mt))},Zr:()=>z.close()}),_t=(Mt,Yt,Nn)=>{Mt.listen(Yt,Or=>{try{Nn(Or)}catch(jn){setTimeout(()=>{throw jn},0)}})};return _t(z,Qf.EventType.OPEN,()=>{Ye||qt(bo,`RPC '${e}' stream ${a} transport opened.`)}),_t(z,Qf.EventType.CLOSE,()=>{Ye||(Ye=!0,qt(bo,`RPC '${e}' stream ${a} transport closed`),pt.oo())}),_t(z,Qf.EventType.ERROR,Mt=>{Ye||(Ye=!0,Td(bo,`RPC '${e}' stream ${a} transport errored:`,Mt),pt.oo(new Vt(Tt.UNAVAILABLE,"The operation could not be completed")))}),_t(z,Qf.EventType.MESSAGE,Mt=>{var Yt;if(!Ye){const Nn=Mt.data[0];kn(!!Nn);const jn=Nn.error||(null===(Yt=Nn[0])||void 0===Yt?void 0:Yt.error);if(jn){qt(bo,`RPC '${e}' stream ${a} received error:`,jn);const Hn=jn.status;let er=function(hi){const lo=ao[hi];if(void 0!==lo)return Bb(lo)}(Hn),cr=jn.message;void 0===er&&(er=Tt.INTERNAL,cr="Unknown error status: "+Hn+" with message "+jn.message),Ye=!0,pt.oo(new Vt(er,cr)),z.close()}else qt(bo,`RPC '${e}' stream ${a} received:`,Nn),pt.uo(Nn)}}),_t(b,Sh.STAT_EVENT,Mt=>{Mt.stat===o_.PROXY?qt(bo,`RPC '${e}' stream ${a} detected buffering proxy`):Mt.stat===o_.NOPROXY&&qt(bo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{pt.ro()},0),pt}}function py(){return typeof window<"u"?window:null}function lf(){return typeof document<"u"?document:null}function Xd(n){return new ka(n,!0)}class Wp{constructor(e,t,r=1e3,a=1.5,c=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=a,this.To=c,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),a=Math.max(0,t-r);a>0&&qt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,a,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class gy{constructor(e,t,r,a,c,p,b,S){this.Ys=e,this.So=r,this.Do=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=S,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Wp(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,At.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,At.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,At.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(ks(t.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):t&&t.code===Tt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Co===t&&this.jo(r,a)},r=>{e(()=>{const a=new Vt(Tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(a)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(a=>{r(()=>this.zo(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.ko.vo((0,At.Z)(function*(){e.state=0,e.start()}))}zo(e){return qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k0 extends gy{constructor(e,t,r,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,p),this.Tt=c}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function Hb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(S=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:_n(),a=e.targetChange.targetIds||[],c=function(S,k){return S.yt?(kn(void 0===k||"string"==typeof k),Ws.fromBase64String(k||"")):(kn(void 0===k||k instanceof Uint8Array),Ws.fromUint8Array(k||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&function(S){const k=void 0===S.code?Tt.UNKNOWN:Bb(S.code);return new Vt(k,S.message||"")}(p);t=new U_(r,a,c,b||null)}else if("documentChange"in e){const r=e.documentChange,a=ql(n,r.document.name),c=cs(r.document.updateTime),p=r.document.createTime?cs(r.document.createTime):Un.min(),b=new Fo({mapValue:{fields:r.document.fields}}),S=ki.newFoundDocument(a,c,p,b);t=new Hh(r.targetIds||[],r.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const r=e.documentDelete,a=ql(n,r.document),c=r.readTime?cs(r.readTime):Un.min(),p=ki.newNoDocument(a,c);t=new Hh([],r.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const r=e.documentRemove,a=ql(n,r.document);t=new Hh([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return _n();{const r=e.filter,c=new Mm(r.count||0);t=new pp(r.targetId,c)}}var S;return t}(this.Tt,e),r=function(a){if(!("targetChange"in a))return Un.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Un.min():c.readTime?cs(c.readTime):Un.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=Gh(this.Tt),t.addTarget=function(a,c){let p;const b=c.target;return p=Fh(b)?{documents:Q_(a,b)}:{query:Nm(a,b)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?p.resumeToken=W_(a,c.resumeToken):c.snapshotVersion.compareTo(Un.min())>0&&(p.readTime=Hc(a,c.snapshotVersion.toTimestamp())),p}(this.Tt,e);const r=function zb(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _n()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=Gh(this.Tt),t.removeTarget=e,this.qo(t)}}class F0 extends gy{constructor(e,t,r,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,p),this.Tt=c,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(kn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function Pm(n,e){return n&&n.length>0?(kn(void 0!==e),n.map(t=>function(r,a){let c=cs(r.updateTime?r.updateTime:a);return c.isEqual(Un.min())&&(c=cs(a)),new Fb(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=cs(e.commitTime);return this.listener.eu(r,t)}return kn(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Gh(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Wh(this.Tt,r))};this.qo(t)}}class L0 extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=a,this.iu=!1}ru(){if(this.iu)throw new Vt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.lo(e,t,r,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Vt(Tt.UNKNOWN,a.toString())})}mo(e,t,r,a){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.mo(e,t,r,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Vt(Tt.UNKNOWN,c.toString())})}terminate(){this.iu=!0}}class lI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(ks(t),this.cu=!1):qt("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class uI{constructor(e,t,r,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=c,this.yu.Gr(b=>{r.enqueueAndForget((0,At.Z)(function*(){var S;wu(p)&&(qt("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,At.Z)(function*(k){const z=un(k);z.mu.add(4),yield Jd(z),z.pu.set("Unknown"),z.mu.delete(4),yield uf(z)}),function(k){return S.apply(this,arguments)})(p))}))}),this.pu=new lI(r,a)}}function uf(n){return yy.apply(this,arguments)}function yy(){return yy=(0,At.Z)(function*(n){if(wu(n))for(const e of n.gu)yield e(!0)}),yy.apply(this,arguments)}function Jd(n){return vy.apply(this,arguments)}function vy(){return vy=(0,At.Z)(function*(n){for(const e of n.gu)yield e(!1)}),vy.apply(this,arguments)}function qp(n,e){const t=un(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),by(t)?Ey(t):xl(t).Mo()&&_y(t,e))}function cf(n,e){const t=un(n),r=xl(t);t.wu.delete(e),r.Mo()&&$0(t,e),0===t.wu.size&&(r.Mo()?r.Bo():wu(t)&&t.pu.set("Unknown"))}function _y(n,e){n.Iu.Ot(e.targetId),xl(n).Jo(e)}function $0(n,e){n.Iu.Ot(e),xl(n).Yo(e)}function Ey(n){n.Iu=new H_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),xl(n).start(),n.pu.au()}function by(n){return wu(n)&&!xl(n).$o()&&n.wu.size>0}function wu(n){return 0===un(n).mu.size}function B0(n){n.Iu=void 0}function cI(n){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,At.Z)(function*(n){n.wu.forEach((e,t)=>{_y(n,e)})}),Iy.apply(this,arguments)}function V0(n,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,At.Z)(function*(n,e){B0(n),by(n)?(n.pu.fu(e),Ey(n)):n.pu.set("Unknown")}),Kp.apply(this,arguments)}function U0(n,e,t){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,At.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof U_&&2===e.state&&e.cause)try{yield(r=(0,At.Z)(function*(a,c){const p=c.cause;for(const b of c.targetIds)a.wu.has(b)&&(yield a.remoteSyncer.rejectListen(b,p),a.wu.delete(b),a.Iu.removeTarget(b))}),function(a,c){return r.apply(this,arguments)})(n,e)}catch(r){qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield df(n,r)}else if(e instanceof Hh?n.Iu.Qt(e):e instanceof pp?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(Un.min()))try{const r=yield A0(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const p=a.Iu.ee(c);return p.targetChanges.forEach((b,S)=>{if(b.resumeToken.approximateByteSize()>0){const k=a.wu.get(S);k&&a.wu.set(S,k.withResumeToken(b.resumeToken,c))}}),p.targetMismatches.forEach(b=>{const S=a.wu.get(b);if(!S)return;a.wu.set(b,S.withResumeToken(Ws.EMPTY_BYTE_STRING,S.snapshotVersion)),$0(a,b);const k=new ic(S.target,b,1,S.sequenceNumber);_y(a,k)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(r){qt("RemoteStore","Failed to raise snapshot:",r),yield df(n,r)}var r}),Yp.apply(this,arguments)}function df(n,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,At.Z)(function*(n,e,t){if(!Hl(e))throw e;n.mu.add(1),yield Jd(n),n.pu.set("Offline"),t||(t=()=>A0(n.localStore)),n.asyncQueue.enqueueRetryable((0,At.Z)(function*(){qt("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield uf(n)}))}),Zp.apply(this,arguments)}function wy(n,e){return e().catch(t=>df(n,t,e))}function Jc(n){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,At.Z)(function*(n){const e=un(n),t=hc(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;j0(e);)try{const a=yield oI(e.localStore,r);if(null===a){0===e._u.length&&t.Bo();break}r=a.batchId,Dy(e,a)}catch(a){yield df(e,a)}cc(e)&&H0(e)}),Qp.apply(this,arguments)}function j0(n){return wu(n)&&n._u.length<10}function Dy(n,e){n._u.push(e);const t=hc(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function cc(n){return wu(n)&&!hc(n).$o()&&n._u.length>0}function H0(n){hc(n).start()}function dI(n){return dc.apply(this,arguments)}function dc(){return dc=(0,At.Z)(function*(n){hc(n).su()}),dc.apply(this,arguments)}function Qw(n){return hf.apply(this,arguments)}function hf(){return hf=(0,At.Z)(function*(n){const e=hc(n);for(const t of n._u)e.tu(t.mutations)}),hf.apply(this,arguments)}function Xw(n,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,At.Z)(function*(n,e,t){const r=n._u.shift(),a=Bm.from(r,e,t);yield wy(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Jc(n)}),Xp.apply(this,arguments)}function z0(n,e){return G0.apply(this,arguments)}function G0(){return G0=(0,At.Z)(function*(n,e){var t;e&&hc(n).Xo&&(yield(t=(0,At.Z)(function*(r,a){if(L_(c=a.code)&&c!==Tt.ABORTED){const p=r._u.shift();hc(r).Fo(),yield wy(r,()=>r.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Jc(r)}var c}),function(r,a){return t.apply(this,arguments)})(n,e)),cc(n)&&H0(n)}),G0.apply(this,arguments)}function qn(n,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,At.Z)(function*(n,e){const t=un(n);t.asyncQueue.verifyOperationInProgress(),qt("RemoteStore","RemoteStore received new credentials");const r=wu(t);t.mu.add(3),yield Jd(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield uf(t)}),Cy.apply(this,arguments)}function Ty(n,e){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,At.Z)(function*(n,e){const t=un(n);e?(t.mu.delete(2),yield uf(t)):e||(t.mu.add(2),yield Jd(t),t.pu.set("Unknown"))}),Sy.apply(this,arguments)}function xl(n){return n.Tu||(n.Tu=function(e,t,r){const a=un(e);return a.ru(),new k0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.Tt,r)}(n.datastore,n.asyncQueue,{Xr:cI.bind(null,n),no:V0.bind(null,n),Ho:U0.bind(null,n)}),n.gu.push(function(){var e=(0,At.Z)(function*(t){t?(n.Tu.Fo(),by(n)?Ey(n):n.pu.set("Unknown")):(yield n.Tu.stop(),B0(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function hc(n){return n.Eu||(n.Eu=function(e,t,r){const a=un(e);return a.ru(),new F0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.Tt,r)}(n.datastore,n.asyncQueue,{Xr:dI.bind(null,n),no:z0.bind(null,n),nu:Qw.bind(null,n),eu:Xw.bind(null,n)}),n.gu.push(function(){var e=(0,At.Z)(function*(t){t?(n.Eu.Fo(),yield Jc(n)):(yield n.Eu.stop(),n._u.length>0&&(qt("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class eh{constructor(e,t,r,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,r,a,c){const p=Date.now()+r,b=new eh(e,t,p,a,c);return b.start(r),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vt(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Du(n,e){if(ks("AsyncQueue",`${e}: ${n}`),Hl(n))return new Vt(Tt.UNAVAILABLE,`${e}: ${n}`);throw n}class Ai{constructor(e){this.comparator=e?(t,r)=>e(t,r)||on.comparator(t.key,r.key):(t,r)=>on.comparator(t.key,r.key),this.keyedMap=Uh(),this.sortedSet=new _s(this.comparator)}static emptySet(e){return new Ai(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ai;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hI{constructor(){this.Au=new _s(on.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):_n():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class ed{constructor(e,t,r,a,c,p,b,S,k){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=S,this.hasCachedResults=k}static fromInitialDocuments(e,t,r,a,c){const p=[];return t.forEach(b=>{p.push({type:0,doc:b})}),new ed(e,t,Ai.emptySet(t),p,r,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class W0{constructor(){this.Pu=void 0,this.listeners=[]}}class fI{constructor(){this.queries=new Pa(e=>Dm(e),Fd),this.onlineState="Unknown",this.vu=new Set}}function Jp(n,e){return eg.apply(this,arguments)}function eg(){return eg=(0,At.Z)(function*(n,e){const t=un(n),r=e.query;let a=!1,c=t.queries.get(r);if(c||(a=!0,c=new W0),a)try{c.Pu=yield t.onListen(r)}catch(p){const b=Du(p,`Initialization of query '${cp(e.query)}' failed`);return void e.onError(b)}t.queries.set(r,c),c.listeners.push(e),e.bu(t.onlineState),c.Pu&&e.Vu(c.Pu)&&Ay(t)}),eg.apply(this,arguments)}function tg(n,e){return ng.apply(this,arguments)}function ng(){return ng=(0,At.Z)(function*(n,e){const t=un(n),r=e.query;let a=!1;const c=t.queries.get(r);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),ng.apply(this,arguments)}function pI(n,e){const t=un(n);let r=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const b of p.listeners)b.Vu(a)&&(r=!0);p.Pu=a}}r&&Ay(t)}function gI(n,e,t){const r=un(n),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);r.queries.delete(e)}function Ay(n){n.vu.forEach(e=>{e.next()})}class td{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new ed(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class mI{constructor(e,t){this.Mu=e,this.byteLength=t}Ou(){return"metadata"in this.Mu}}class q0{constructor(e){this.Tt=e}Zi(e){return ql(this.Tt,e)}Xi(e){return e.metadata.exists?Z_(this.Tt,e.document,!1):ki.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return cs(e)}}class yI{constructor(e,t,r){this.Fu=e,this.localStore=t,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ff(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const r=Jr.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,r=new q0(this.Tt);for(const a of e)if(a.metadata.queries){const c=r.Zi(a.metadata.name);for(const p of a.metadata.queries){const b=(t.get(p)||Ir()).add(c);t.set(p,b)}}return t}complete(){var e=this;return(0,At.Z)(function*(){const t=yield function Zl(n,e,t,r){return Ba.apply(this,arguments)}(e.localStore,new q0(e.Tt),e.documents,e.Fu.id),r=e.Lu(e.documents);for(const a of e.queries)yield Ml(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function ff(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class My{constructor(e){this.key=e}}class xy{constructor(e){this.key=e}}class Ry{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Ir(),this.mutatedKeys=Ir(),this.ju=Cm(e),this.zu=new Ai(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new hI,a=t?t.zu:this.zu;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,b=!1;const S="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,k="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((z,ae)=>{const Ye=a.get(z),pt=Lh(this.query,ae)?ae:null,_t=!!Ye&&this.mutatedKeys.has(Ye.key),Mt=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let Yt=!1;Ye&&pt?Ye.data.isEqual(pt.data)?_t!==Mt&&(r.track({type:3,doc:pt}),Yt=!0):this.Yu(Ye,pt)||(r.track({type:2,doc:pt}),Yt=!0,(S&&this.ju(pt,S)>0||k&&this.ju(pt,k)<0)&&(b=!0)):!Ye&&pt?(r.track({type:0,doc:pt}),Yt=!0):Ye&&!pt&&(r.track({type:1,doc:Ye}),Yt=!0,(S||k)&&(b=!0)),Yt&&(pt?(p=p.add(pt),c=Mt?c.add(z):c.delete(z)):(p=p.delete(z),c=c.delete(z)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const z="F"===this.query.limitType?p.last():p.first();p=p.delete(z.key),c=c.delete(z.key),r.track({type:1,doc:z})}return{zu:p,Ju:r,Li:b,mutatedKeys:c}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const c=e.Ju.Ru();c.sort((k,z)=>function(ae,Ye){const pt=_t=>{switch(_t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _n()}};return pt(ae)-pt(Ye)}(k.type,z.type)||this.ju(k.doc,z.doc)),this.Zu(r);const p=t?this.Xu():[],b=0===this.Qu.size&&this.current?1:0,S=b!==this.Gu;return this.Gu=b,0!==c.length||S?{snapshot:new ed(this.query,e.zu,a,c,e.mutatedKeys,0===b,S,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:p}:{tc:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new hI,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Ir(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new xy(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new My(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=Ir();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return ed.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class vI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pf{constructor(e){this.key=e,this.ic=!1}}class gf{constructor(e,t,r,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.rc={},this.oc=new Pa(b=>Dm(b),Fd),this.uc=new Map,this.cc=new Set,this.ac=new _s(on.comparator),this.hc=new Map,this.lc=new Yl,this.fc={},this.dc=new Map,this._c=bu.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function _I(n,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,At.Z)(function*(n,e){const t=Wy(n);let r,a;const c=t.oc.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),a=c.view.sc();else{const p=yield Zc(t.localStore,oa(e));t.isPrimaryClient&&qp(t.remoteStore,p);const b=t.sharedClientState.addLocalQueryTarget(p.targetId);r=p.targetId,a=yield Py(t,e,r,"current"===b,p.resumeToken)}return a}),Oy.apply(this,arguments)}function Py(n,e,t,r,a){return rg.apply(this,arguments)}function rg(){return rg=(0,At.Z)(function*(n,e,t,r,a){n.mc=(ae,Ye,pt)=>{return(_t=(0,At.Z)(function*(Mt,Yt,Nn,Or){let jn=Yt.view.Hu(Nn);jn.Li&&(jn=yield Zd(Mt.localStore,Yt.query,!1).then(({documents:cr})=>Yt.view.Hu(cr,jn)));const Hn=Or&&Or.targetChanges.get(Yt.targetId),er=Yt.view.applyChanges(jn,Mt.isPrimaryClient,Hn);return Ly(Mt,Yt.targetId,er.tc),er.snapshot}),function(Mt,Yt,Nn,Or){return _t.apply(this,arguments)})(n,ae,Ye,pt);var _t};const c=yield Zd(n.localStore,e,!0),p=new Ry(e,c.Yi),b=p.Hu(c.documents),S=jc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,a),k=p.applyChanges(b,n.isPrimaryClient,S);Ly(n,t,k.tc);const z=new vI(e,t,p);return n.oc.set(e,z),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),k.snapshot}),rg.apply(this,arguments)}function K0(n,e){return ig.apply(this,arguments)}function ig(){return ig=(0,At.Z)(function*(n,e){const t=un(n),r=t.oc.get(e),a=t.uc.get(r.targetId);if(a.length>1)return t.uc.set(r.targetId,a.filter(c=>!Fd(c,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield rf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),cf(t.remoteStore,r.targetId),th(t,r.targetId)}).catch(Zu))):(th(t,r.targetId),yield rf(t.localStore,r.targetId,!0))}),ig.apply(this,arguments)}function sg(){return sg=(0,At.Z)(function*(n,e,t){const r=qy(n);try{const a=yield function(c,p){const b=un(c),S=Ji.now(),k=p.reduce((Ye,pt)=>Ye.add(pt.key),Ir());let z,ae;return b.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let pt=_a(),_t=Ir();return b.ji.getEntries(Ye,k).next(Mt=>{pt=Mt,pt.forEach((Yt,Nn)=>{Nn.isValidDocument()||(_t=_t.add(Yt))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ye,pt)).next(Mt=>{z=Mt;const Yt=[];for(const Nn of p){const Or=$b(Nn,z.get(Nn.key).overlayedDocument);null!=Or&&Yt.push(new vu(Nn.key,Or,Ob(Or.value.mapValue),yi.exists(!0)))}return b.mutationQueue.addMutationBatch(Ye,S,Yt,p)}).next(Mt=>{ae=Mt;const Yt=Mt.applyToLocalDocumentSet(z,_t);return b.documentOverlayCache.saveOverlays(Ye,Mt.batchId,Yt)})}).then(()=>({batchId:ae.batchId,changes:B_(z)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,p,b){let S=c.fc[c.currentUser.toKey()];S||(S=new _s(br)),S=S.insert(p,b),c.fc[c.currentUser.toKey()]=S}(r,a.batchId,t),yield Ql(r,a.changes),yield Jc(r.remoteStore)}catch(a){const c=Du(a,"Failed to persist write");t.reject(c)}}),sg.apply(this,arguments)}function Y0(n,e){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,At.Z)(function*(n,e){const t=un(n);try{const r=yield function sI(n,e){const t=un(n),r=e.snapshotVersion;let a=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.ji.newChangeBuffer({trackRemovals:!0});a=t.Ki;const b=[];e.targetChanges.forEach((z,ae)=>{const Ye=a.get(ae);if(!Ye)return;b.push(t.Ns.removeMatchingKeys(c,z.removedDocuments,ae).next(()=>t.Ns.addMatchingKeys(c,z.addedDocuments,ae)));let pt=Ye.withSequenceNumber(c.currentSequenceNumber);var _t,Mt,Yt;e.targetMismatches.has(ae)?pt=pt.withResumeToken(Ws.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):z.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(z.resumeToken,r)),a=a.insert(ae,pt),Mt=pt,Yt=z,(0===(_t=Ye).resumeToken.approximateByteSize()||Mt.snapshotVersion.toMicroseconds()-_t.snapshotVersion.toMicroseconds()>=3e8||Yt.addedDocuments.size+Yt.modifiedDocuments.size+Yt.removedDocuments.size>0)&&b.push(t.Ns.updateTargetData(c,pt))});let S=_a(),k=Ir();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,z))}),b.push(ay(c,p,e.documentUpdates).next(z=>{S=z.Hi,k=z.Ji})),!r.isEqual(Un.min())){const z=t.Ns.getLastRemoteSnapshotVersion(c).next(ae=>t.Ns.setTargetsMetadata(c,c.currentSequenceNumber,r));b.push(z)}return wt.waitFor(b).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,S,k)).next(()=>S)}).then(c=>(t.Ki=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.hc.get(c);p&&(kn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.ic=!0:a.modifiedDocuments.size>0?kn(p.ic):a.removedDocuments.size>0&&(kn(p.ic),p.ic=!1))}),yield Ql(t,r,e)}catch(r){yield Zu(r)}}),Ny.apply(this,arguments)}function bI(n,e,t){const r=un(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.oc.forEach((c,p)=>{const b=p.view.bu(e);b.snapshot&&a.push(b.snapshot)}),function(c,p){const b=un(c);b.onlineState=p;let S=!1;b.queries.forEach((k,z)=>{for(const ae of z.listeners)ae.bu(p)&&(S=!0)}),S&&Ay(b)}(r.eventManager,e),a.length&&r.rc.Ho(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Jw(n,e,t){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,At.Z)(function*(n,e,t){const r=un(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.hc.get(e),c=a&&a.key;if(c){let p=new _s(on.comparator);p=p.insert(c,ki.newNoDocument(c,Un.min()));const b=Ir().add(c),S=new Uc(Un.min(),new Map,new ri(br),p,b);yield Y0(r,S),r.ac=r.ac.remove(c),r.hc.delete(e),$y(r)}else yield rf(r.localStore,e,!1).then(()=>th(r,e,t)).catch(Zu)}),Z0.apply(this,arguments)}function eD(n,e){return og.apply(this,arguments)}function og(){return og=(0,At.Z)(function*(n,e){const t=un(n),r=e.batch.batchId;try{const a=yield function Yd(n,e){const t=un(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=t.ji.newChangeBuffer({trackRemovals:!0});return function(p,b,S,k){const z=S.batch,ae=z.keys();let Ye=wt.resolve();return ae.forEach(pt=>{Ye=Ye.next(()=>k.getEntry(b,pt)).next(_t=>{const Mt=S.docVersions.get(pt);kn(null!==Mt),_t.version.compareTo(Mt)<0&&(z.applyToRemoteDocument(_t,S),_t.isValidDocument()&&(_t.setReadTime(S.commitVersion),k.addEntry(_t)))})}),Ye.next(()=>p.mutationQueue.removeMutationBatch(b,z))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let b=Ir();for(let S=0;S<p.mutationResults.length;++S)p.mutationResults[S].transformResults.length>0&&(b=b.add(p.batch.mutations[S].key));return b}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}(t.localStore,e);Fy(t,r,null),nd(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ql(t,a)}catch(a){yield Zu(a)}}),og.apply(this,arguments)}function ag(n,e,t){return ky.apply(this,arguments)}function ky(){return ky=(0,At.Z)(function*(n,e,t){const r=un(n);try{const a=yield function(c,p){const b=un(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let k;return b.mutationQueue.lookupMutationBatch(S,p).next(z=>(kn(null!==z),k=z.keys(),b.mutationQueue.removeMutationBatch(S,z))).next(()=>b.mutationQueue.performConsistencyCheck(S)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(S,k,p)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(S,k)).next(()=>b.localDocuments.getDocuments(S,k))})}(r.localStore,e);Fy(r,e,t),nd(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ql(r,a)}catch(a){yield Zu(a)}}),ky.apply(this,arguments)}function lg(){return lg=(0,At.Z)(function*(n,e){const t=un(n);wu(t.remoteStore)||qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const p=un(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>p.mutationQueue.getHighestUnacknowledgedBatchId(b))}(t.localStore);if(-1===r)return void e.resolve();const a=t.dc.get(r)||[];a.push(e),t.dc.set(r,a)}catch(r){const a=Du(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),lg.apply(this,arguments)}function nd(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function Fy(n,e,t){const r=un(n);let a=r.fc[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),r.fc[r.currentUser.toKey()]=a}}function th(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||Q0(n,r)})}function Q0(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(cf(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),$y(n))}function Ly(n,e,t){for(const r of t)r instanceof My?(n.lc.addReference(r.key,e),tD(n,r)):r instanceof xy?(qt("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||Q0(n,r.key)):_n()}function tD(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(qt("SyncEngine","New document in limbo: "+t),n.cc.add(r),$y(n))}function $y(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new on(Jr.fromString(e)),r=n._c.next();n.hc.set(r,new pf(t)),n.ac=n.ac.insert(t,r),qp(n.remoteStore,new ic(oa(kd(t.path)),r,2,Oa.at))}}function Ql(n,e,t){return By.apply(this,arguments)}function By(){return By=(0,At.Z)(function*(n,e,t){const r=un(n),a=[],c=[],p=[];var b;r.oc.isEmpty()||(r.oc.forEach((b,S)=>{p.push(r.mc(S,e,t).then(k=>{if((k||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(S.targetId,null!=k&&k.fromCache?"not-current":"current"),k){a.push(k);const z=sy.Ni(S.targetId,k);c.push(z)}}))}),yield Promise.all(p),r.rc.Ho(a),yield(b=(0,At.Z)(function*(S,k){const z=un(S);try{yield z.persistence.runTransaction("notifyLocalViewChanges","readwrite",ae=>wt.forEach(k,Ye=>wt.forEach(Ye.Ci,pt=>z.persistence.referenceDelegate.addReference(ae,Ye.targetId,pt)).next(()=>wt.forEach(Ye.xi,pt=>z.persistence.referenceDelegate.removeReference(ae,Ye.targetId,pt)))))}catch(ae){if(!Hl(ae))throw ae;qt("LocalStore","Failed to update sequence numbers: "+ae)}for(const ae of k){const Ye=ae.targetId;if(!ae.fromCache){const pt=z.Ki.get(Ye),Mt=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);z.Ki=z.Ki.insert(Ye,Mt)}}}),function(S,k){return b.apply(this,arguments)})(r.localStore,c))}),By.apply(this,arguments)}function wI(n,e){return rd.apply(this,arguments)}function rd(){return rd=(0,At.Z)(function*(n,e){const t=un(n);if(!t.currentUser.isEqual(e)){qt("SyncEngine","User change. New user:",e.toKey());const r=yield oy(t.localStore,e);t.currentUser=e,(a=t).dc.forEach(p=>{p.forEach(b=>{b.reject(new Vt(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ql(t,r.Wi)}var a}),rd.apply(this,arguments)}function DI(n,e){const t=un(n),r=t.hc.get(e);if(r&&r.ic)return Ir().add(r.key);{let a=Ir();const c=t.uc.get(e);if(!c)return a;for(const p of c){const b=t.oc.get(p);a=a.unionWith(b.view.Wu)}return a}}function X0(n,e){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,At.Z)(function*(n,e){const t=un(n),r=yield Zd(t.localStore,e.query,!0),a=e.view.nc(r);return t.isPrimaryClient&&Ly(t,e.targetId,a.tc),a}),Vy.apply(this,arguments)}function J0(n,e){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,At.Z)(function*(n,e){const t=un(n);return M0(t.localStore,e).then(r=>Ql(t,r))}),Uy.apply(this,arguments)}function eE(n,e,t,r){return jy.apply(this,arguments)}function jy(){return jy=(0,At.Z)(function*(n,e,t,r){const a=un(n),c=yield function(p,b){const S=un(p),k=un(S.mutationQueue);return S.persistence.runTransaction("Lookup mutation documents","readonly",z=>k.An(z,b).next(ae=>ae?S.localDocuments.getDocuments(z,ae):wt.resolve(null)))}(a.localStore,e);var b;null!==c?("pending"===t?yield Jc(a.remoteStore):"acknowledged"===t||"rejected"===t?(Fy(a,e,r||null),nd(a,e),b=e,un(un(a.localStore).mutationQueue).Pn(b)):_n(),yield Ql(a,c)):qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),jy.apply(this,arguments)}function zy(){return zy=(0,At.Z)(function*(n,e){const t=un(n);if(Wy(t),qy(t),!0===e&&!0!==t.wc){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield Gy(t,r.toArray());t.wc=!0,yield Ty(t.remoteStore,!0);for(const c of a)qp(t.remoteStore,c)}else if(!1===e&&!1!==t.wc){const r=[];let a=Promise.resolve();t.uc.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?r.push(p):a=a.then(()=>(th(t,p),rf(t.localStore,p,!0))),cf(t.remoteStore,p)}),yield a,yield Gy(t,r),function(c){const p=un(c);p.hc.forEach((b,S)=>{cf(p.remoteStore,S)}),p.lc._s(),p.hc=new Map,p.ac=new _s(on.comparator)}(t),t.wc=!1,yield Ty(t.remoteStore,!1)}}),zy.apply(this,arguments)}function Gy(n,e,t){return ug.apply(this,arguments)}function ug(){return ug=(0,At.Z)(function*(n,e,t){const r=un(n),a=[],c=[];for(const p of e){let b;const S=r.uc.get(p);if(S&&0!==S.length){b=yield Zc(r.localStore,oa(S[0]));for(const k of S){const z=r.oc.get(k),ae=yield X0(r,z);ae.snapshot&&c.push(ae.snapshot)}}else{const k=yield Al(r.localStore,p);b=yield Zc(r.localStore,k),yield Py(r,tE(k),p,!1,b.resumeToken)}a.push(b)}return r.rc.Ho(c),a}),ug.apply(this,arguments)}function tE(n){return bm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function CI(n){const e=un(n);return un(un(e.localStore).persistence).Si()}function TI(n,e,t,r){return mf.apply(this,arguments)}function mf(){return mf=(0,At.Z)(function*(n,e,t,r){const a=un(n);if(a.wc)return void qt("SyncEngine","Ignoring unexpected query state notification.");const c=a.uc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield M0(a.localStore,A_(c[0])),b=Uc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ws.EMPTY_BYTE_STRING);yield Ql(a,p,b);break}case"rejected":yield rf(a.localStore,e,!0),th(a,e,r);break;default:_n()}}),mf.apply(this,arguments)}function SI(n,e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,At.Z)(function*(n,e,t){const r=Wy(n);if(r.wc){for(const a of e){if(r.uc.has(a)){qt("SyncEngine","Adding an already active target "+a);continue}const c=yield Al(r.localStore,a),p=yield Zc(r.localStore,c);yield Py(r,tE(c),p.targetId,!1,p.resumeToken),qp(r.remoteStore,p)}for(const a of t)r.uc.has(a)&&(yield rf(r.localStore,a,!1).then(()=>{cf(r.remoteStore,a),th(r,a)}).catch(Zu))}}),cg.apply(this,arguments)}function Wy(n){const e=un(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jw.bind(null,e),e.rc.Ho=pI.bind(null,e.eventManager),e.rc.gc=gI.bind(null,e.eventManager),e}function qy(n){const e=un(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ag.bind(null,e),e}class nE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,At.Z)(function*(){t.Tt=Xd(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return S0(this.persistence,new C0,e.initialUser,this.Tt)}Tc(e){return new w0(ry.qs,this.Tt)}Ic(e){return new R0}terminate(){var e=this;return(0,At.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rE extends nE{constructor(e,t,r){super(),this.Pc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,At.Z)(function*(){yield t().call(r,e),yield r.Pc.initialize(r,e),yield qy(r.Pc.syncEngine),yield Jc(r.Pc.remoteStore),yield r.persistence.di(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return S0(this.persistence,new C0,e.initialUser,this.Tt)}Ac(e,t){return new y0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const r=new g_(t,this.persistence);return new om(e.asyncQueue,r)}Tc(e){const t=Vp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?$o.withCacheSize(this.cacheSizeBytes):$o.DEFAULT;return new Bp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,py(),lf(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new R0}}class MI extends rE{constructor(e,t){super(e,t,!1),this.Pc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,At.Z)(function*(){yield t().call(r,e);const a=r.Pc.syncEngine;r.sharedClientState instanceof zp&&(r.sharedClientState.syncEngine={Br:eE.bind(null,a),Lr:TI.bind(null,a),qr:SI.bind(null,a),Si:CI.bind(null,a),Fr:J0.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.di(function(){var c=(0,At.Z)(function*(p){yield function Hy(n,e){return zy.apply(this,arguments)}(r.Pc.syncEngine,p),r.gcScheduler&&(p&&!r.gcScheduler.started?r.gcScheduler.start():p||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(p&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():p||r.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}Ic(e){const t=py();if(!zp.C(t))throw new Vt(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Vp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zp(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ky{initialize(e,t){var r=this;return(0,At.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>bI(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=wI.bind(null,r.syncEngine),yield Ty(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fI}createDatastore(e){const t=Xd(e.databaseInfo.databaseId),r=new Gp(e.databaseInfo);return new L0(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,c=b=>bI(this.syncEngine,b,0),p=hy.C()?new hy:new O0,new uI(t,r,a,c,p);var t,r,a,c,p}createSyncEngine(e,t){return function(r,a,c,p,b,S,k){const z=new gf(r,a,c,p,b,S);return k&&(z.wc=!0),z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,At.Z)(function*(t){const r=un(t);qt("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Jd(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function iE(n,e=10240){let t=0;return{read:()=>(0,At.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,At.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sE{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new Gs,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,At.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,At.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,At.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const r=e.Sc.decode(t),a=Number(r);isNaN(a)&&e.xc(`length string (${r}) is not valid number`);const c=yield e.Nc(a);return new mI(JSON.parse(c),t.length+a)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,At.Z)(function*(){for(;e.kc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Nc(e){var t=this;return(0,At.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.xc("Reached the end of bundle when more is expected.");const r=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,At.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class xI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,At.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Vt(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,At.Z)(function*(c,p){const b=un(c),S=Gh(b.Tt)+"/documents",k={documents:p.map(pt=>zh(b.Tt,pt))},z=yield b.mo("BatchGetDocuments",S,k,p.length),ae=new Map;z.forEach(pt=>{const _t=function jb(n,e){return"found"in e?function(t,r){kn(!!r.found);const a=ql(t,r.found.name),c=cs(r.found.updateTime),p=r.found.createTime?cs(r.found.createTime):Un.min(),b=new Fo({mapValue:{fields:r.found.fields}});return ki.newFoundDocument(a,c,p,b)}(n,e):"missing"in e?function(t,r){kn(!!r.missing),kn(!!r.readTime);const a=ql(t,r.missing),c=cs(r.readTime);return ki.newNoDocument(a,c)}(n,e):_n()}(b.Tt,pt);ae.set(_t.key.toString(),_t)});const Ye=[];return p.forEach(pt=>{const _t=ae.get(pt.toString());kn(!!_t),Ye.push(_t)}),Ye}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $c(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,At.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const c=on.fromPath(a);e.mutations.push(new fp(c,e.precondition(c)))}),yield(r=(0,At.Z)(function*(a,c){const p=un(a),b=Gh(p.Tt)+"/documents",S={writes:c.map(k=>Wh(p.Tt,k))};yield p.lo("Commit",b,S)}),function(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _n();t=Un.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Vt(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Un.min())?yi.exists(!1):yi.updateTime(t):yi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Un.min()))throw new Vt(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yi.updateTime(t)}return yi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class RI{constructor(e,t,r,a,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=c,this.Mc=r.maxAttempts,this.ko=new Wp(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var e=this;this.ko.vo((0,At.Z)(function*(){const t=new xI(e.datastore),r=e.Fc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Bc(c)}))}).catch(a=>{e.Bc(a)})}))}Fc(e){try{const t=this.updateFunction(e);return!Md(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!L_(t)}return!1}}class oE{constructor(e,t,r,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=oo.UNAUTHENTICATED,this.clientId=d_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var p=(0,At.Z)(function*(b){qt("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(r,p=>(qt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,At.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,At.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=Du(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function aE(n,e){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,At.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,At.Z)(function*(c){r.isEqual(c)||(yield oy(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Yy.apply(this,arguments)}function lE(n,e){return vf.apply(this,arguments)}function vf(){return vf=(0,At.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _f(n);qt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>qn(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,c)=>qn(e.remoteStore,c)),n.onlineComponents=e}),vf.apply(this,arguments)}function _f(n){return dg.apply(this,arguments)}function dg(){return dg=(0,At.Z)(function*(n){return n.offlineComponents||(qt("FirestoreClient","Using default OfflineComponentProvider"),yield aE(n,new nE)),n.offlineComponents}),dg.apply(this,arguments)}function nh(n){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,At.Z)(function*(n){return n.onlineComponents||(qt("FirestoreClient","Using default OnlineComponentProvider"),yield lE(n,new Ky)),n.onlineComponents}),Zy.apply(this,arguments)}function uE(n){return _f(n).then(e=>e.persistence)}function rh(n){return _f(n).then(e=>e.localStore)}function Qy(n){return nh(n).then(e=>e.remoteStore)}function hg(n){return nh(n).then(e=>e.syncEngine)}function sd(n){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,At.Z)(function*(n){const e=yield nh(n),t=e.eventManager;return t.onListen=_I.bind(null,e.syncEngine),t.onUnlisten=K0.bind(null,e.syncEngine),t}),Xy.apply(this,arguments)}function dE(n,e,t={}){const r=new Gs;return n.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return function(a,c,p,b,S){const k=new yf({next:ae=>{c.enqueueAndForget(()=>tg(a,z));const Ye=ae.docs.has(p);!Ye&&ae.fromCache?S.reject(new Vt(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ye&&ae.fromCache&&b&&"server"===b.source?S.reject(new Vt(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(ae)},error:ae=>S.reject(ae)}),z=new td(kd(p.path),k,{includeMetadataChanges:!0,$u:!0});return Jp(a,z)}(yield sd(n),n.asyncQueue,e,t,r)})),r.promise}function hE(n,e,t={}){const r=new Gs;return n.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return function(a,c,p,b,S){const k=new yf({next:ae=>{c.enqueueAndForget(()=>tg(a,z)),ae.fromCache&&"server"===b.source?S.reject(new Vt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(ae)},error:ae=>S.reject(ae)}),z=new td(p,k,{includeMetadataChanges:!0,$u:!0});return Jp(a,z)}(yield sd(n),n.asyncQueue,e,t,r)})),r.promise}const nv=new Map;function fg(n,e,t){if(!t)throw new Vt(Tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rv(n,e,t,r){if(!0===e&&!0===r)throw new Vt(Tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gE(n){if(!on.isDocumentKey(n))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mE(n){if(on.isDocumentKey(n))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_n()}function Gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Vt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pg(n);throw new Vt(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iv(n,e){if(e<=0)throw new Vt(Tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class OI{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Vt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ih{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Rc;switch(t.type){case"gapi":return new yb(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Vt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nv.get(e);t&&(qt("ComponentProvider","Removing Datastore"),nv.delete(e),t.terminate())}(this),Promise.resolve()}}function yE(n,e,t,r={}){var a;const c=(n=Gr(n,ih))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Td("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let p,b;if("string"==typeof r.mockUserToken)p=r.mockUserToken,b=oo.MOCK_USER;else{p=(0,_r.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new Vt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new oo(S)}n._authCredentials=new pb(new tm(p,b))}}class Gi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class Zo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class Xl extends Zo{constructor(e,t,r){super(e,t,kd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new on(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function vE(n,e,...t){if(n=(0,_r.m9)(n),fg("collection","path",e),n instanceof ih){const r=Jr.fromString(e,...t);return mE(r),new Xl(n,null,r)}{if(!(n instanceof Gi||n instanceof Xl))throw new Vt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jr.fromString(e,...t));return mE(r),new Xl(n.firestore,null,r)}}function Ef(n,e,...t){if(n=(0,_r.m9)(n),1===arguments.length&&(e=d_.R()),fg("doc","path",e),n instanceof ih){const r=Jr.fromString(e,...t);return gE(r),new Gi(n,null,new on(r))}{if(!(n instanceof Gi||n instanceof Xl))throw new Vt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jr.fromString(e,...t));return gE(r),new Gi(n.firestore,n instanceof Xl?n.converter:null,new on(r))}}function EE(n,e){return n=(0,_r.m9)(n),e=(0,_r.m9)(e),(n instanceof Gi||n instanceof Xl)&&(e instanceof Gi||e instanceof Xl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function sv(n,e){return n=(0,_r.m9)(n),e=(0,_r.m9)(e),n instanceof Zo&&e instanceof Zo&&n.firestore===e.firestore&&Fd(n._query,e._query)&&n.converter===e.converter}class PI{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Wp(this,"async_queue_retry"),this.Hc=()=>{const t=lf();t&&qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=lf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=lf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new Gs;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,At.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Hl(t))throw t;qt("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,ks("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const a=eh.createAndSchedule(this,e,t,r,c=>this.Xc(c));return this.Gc.push(a),a}Jc(){this.Qc&&_n()}verifyOperationInProgress(){}ta(){var e=this;return(0,At.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function ov(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class NI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wi extends ih{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new PI,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||av(this),this._firestoreClient.terminate()}}function bf(n,e){const t="object"==typeof n?n:(0,eo.getApp)(),r="string"==typeof n?n:e||"(default)",a=(0,eo._getProvider)(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const c=(0,_r.P0)("firestore");c&&yE(a,...c)}return a}function bs(n){return n._firestoreClient||av(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function av(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new m_(n._databaseId,c,n._persistenceKey,(b=t).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var c,b;n._firestoreClient=new oE(n._authCredentials,n._appCheckCredentials,n._queue,r)}function lv(n,e,t){const r=new Gs;return n.asyncQueue.enqueue((0,At.Z)(function*(){try{yield aE(n,t),yield lE(n,e),r.resolve()}catch(a){const c=a;if(!("FirebaseError"===(p=c).name?p.code===Tt.FAILED_PRECONDITION||p.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw c;Td("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var p})).then(()=>r.promise)}function wE(n){if(n._initialized||n._terminated)throw new Vt(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(Ws.fromBase64String(e))}catch(t){throw new Vt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hl(Ws.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Io{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Vt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tu{constructor(e){this._methodName=e}}class fc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return br(this._lat,e._lat)||br(this._long,e._long)}}const jI=/^__.*__$/;class HI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vd(e,this.data,t,this.fieldTransforms)}}class DE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function If(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _n()}}class od{constructor(e,t,r,a,c,p){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=a,void 0===c&&this.ia(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new od(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.oa({path:r,ca:!1});return a.aa(e),a}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.oa({path:r,ca:!1});return a.ia(),a}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Sf(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(If(this.ra)&&jI.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class zI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||Xd(e)}wa(e,t,r,a=!1){return new od({ra:e,methodName:t,_a:r,path:vs.emptyPath(),ca:!1,da:a},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function ad(n){const e=n._freezeSettings(),t=Xd(n._databaseId);return new zI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wf(n,e,t,r,a,c={}){const p=n.wa(c.merge||c.mergeFields?2:0,e,t,a);yg("Data must be an object, but it was:",p,r);const b=SE(r,p);let S,k;if(c.merge)S=new va(p.fieldMask),k=p.fieldTransforms;else if(c.mergeFields){const z=[];for(const ae of c.mergeFields){const Ye=ud(e,ae,t);if(!p.contains(Ye))throw new Vt(Tt.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);dv(z,Ye)||z.push(Ye)}S=new va(z),k=p.fieldTransforms.filter(ae=>S.covers(ae.field))}else S=null,k=p.fieldTransforms;return new HI(new Fo(b),S,k)}class sh extends Tu{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sh}}function gg(n,e,t){return new od({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class mg extends Tu{_toFieldTransform(e){return new $d(e.path,new Ld)}isEqual(e){return e instanceof mg}}class uv extends Tu{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=gg(this,e,!0),r=this.ma.map(c=>ld(c,t)),a=new yu(r);return new $d(e.path,a)}isEqual(e){return this===e}}class cv extends Tu{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=gg(this,e,!0),r=this.ma.map(c=>ld(c,t)),a=new Lc(r);return new $d(e.path,a)}isEqual(e){return this===e}}class CE extends Tu{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new $h(e.Tt,x_(e.Tt,this.ga));return new $d(e.path,t)}isEqual(e){return this===e}}function Df(n,e,t,r){const a=n.wa(1,e,t);yg("Data must be an object, but it was:",a,r);const c=[],p=Fo.empty();wl(r,(S,k)=>{const z=Tf(e,S,t);k=(0,_r.m9)(k);const ae=a.ha(z);if(k instanceof sh)c.push(z);else{const Ye=ld(k,ae);null!=Ye&&(c.push(z),p.set(z,Ye))}});const b=new va(c);return new DE(p,b,a.fieldTransforms)}function Cf(n,e,t,r,a,c){const p=n.wa(1,e,t),b=[ud(e,r,t)],S=[a];if(c.length%2!=0)throw new Vt(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<c.length;Ye+=2)b.push(ud(e,c[Ye])),S.push(c[Ye+1]);const k=[],z=Fo.empty();for(let Ye=b.length-1;Ye>=0;--Ye)if(!dv(k,b[Ye])){const pt=b[Ye];let _t=S[Ye];_t=(0,_r.m9)(_t);const Mt=p.ha(pt);if(_t instanceof sh)k.push(pt);else{const Yt=ld(_t,Mt);null!=Yt&&(k.push(pt),z.set(pt,Yt))}}const ae=new va(k);return new DE(z,ae,p.fieldTransforms)}function TE(n,e,t,r=!1){return ld(t,n.wa(r?4:3,e))}function ld(n,e){if(AE(n=(0,_r.m9)(n)))return yg("Unsupported field value:",e,n),SE(n,e);if(n instanceof Tu)return function(t,r){if(!If(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,r){const a=[];let c=0;for(const p of t){let b=ld(p,r.la(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,_r.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return x_(r.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Ji.fromDate(t);return{timestampValue:Hc(r.Tt,a)}}if(t instanceof Ji){const a=new Ji(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hc(r.Tt,a)}}if(t instanceof fc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hl)return{bytesValue:W_(r.Tt,t._byteString)};if(t instanceof Gi){const a=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw r.fa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${pg(t)}`)}(n,e)}function SE(n,e){const t={};return np(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wl(n,(r,a)=>{const c=ld(a,e.ua(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function AE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ji||n instanceof fc||n instanceof hl||n instanceof Gi||n instanceof Tu)}function yg(n,e,t){if(!AE(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=pg(t);throw e.fa("an object"===r?n+" a custom object":n+" "+r)}var r}function ud(n,e,t){if((e=(0,_r.m9)(e))instanceof Io)return e._internalPath;if("string"==typeof e)return Tf(n,e);throw Sf("Field path arguments must be of type string or ",n,!1,void 0,t)}const ME=new RegExp("[~\\*/\\[\\]]");function Tf(n,e,t){if(e.search(ME)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Io(...e.split("."))._internalPath}catch(r){throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sf(n,e,t,r,a){const c=r&&!r.isEmpty(),p=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let S="";return(c||p)&&(S+=" (found",c&&(S+=` in field ${r}`),p&&(S+=` in document ${a}`),S+=")"),new Vt(Tt.INVALID_ARGUMENT,b+n+S)}function dv(n,e){return n.some(t=>t.isEqual(e))}class Af{constructor(e,t,r,a,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xE extends Af{data(){return super.data()}}function Mf(n,e){return"string"==typeof e?Tf(n,e):e instanceof Io?e._internalPath:e._delegate._internalPath}function RE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Vt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class xf extends vg{}function Is(n,e,...t){let r=[];e instanceof vg&&r.push(e),r=r.concat(t),function(a){const c=a.filter(b=>b instanceof oh).length,p=a.filter(b=>b instanceof Jl).length;if(c>1||c>0&&p>0)throw new Vt(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Jl extends xf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Jl(e,t,r)}_apply(e){const t=this._parse(e);return Ig(e._query,t),new Zo(e.firestore,e.converter,wm(e._query,t))}_parse(e){const t=ad(e.firestore);return function(a,c,p,b,S,k,z){let ae;if(S.isKeyField()){if("array-contains"===k||"array-contains-any"===k)throw new Vt(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if("in"===k||"not-in"===k){Rf(z,k);const Ye=[];for(const pt of z)Ye.push(mv(b,a,pt));ae={arrayValue:{values:Ye}}}else ae=mv(b,a,z)}else"in"!==k&&"not-in"!==k&&"array-contains-any"!==k||Rf(z,k),ae=TE(p,"where",z,"in"===k||"not-in"===k);return Nr.create(S,k,ae)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class oh extends vg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new oh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,a){let c=r;const p=a.getFlattenedFilters();for(const b of p)Ig(c,b),c=wm(c,b)}(e._query,t),new Zo(e.firestore,e.converter,wm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _g extends xf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _g(e,t)}_apply(e){const t=function(r,a,c){if(null!==r.startAt)throw new Vt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Vt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Pd(a,c);return function(b,S){if(null===Im(b)){const k=lp(b);null!==k&&YI(0,k,S.field)}}(r,p),p}(e._query,this._field,this._direction);return new Zo(e.firestore,e.converter,function(r,a){const c=r.explicitOrderBy.concat([a]);return new mu(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class pc extends xf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new pc(e,t,r)}_apply(e){return new Zo(e.firestore,e.converter,dr(e._query,this._limit,this._limitType))}}class Eg extends xf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Eg(e,t,r)}_apply(e){const t=gv(e,this.type,this._docOrFields,this._inclusive);return new Zo(e.firestore,e.converter,(a=t,new mu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class bg extends xf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bg(e,t,r)}_apply(e){const t=gv(e,this.type,this._docOrFields,this._inclusive);return new Zo(e.firestore,e.converter,(a=t,new mu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function gv(n,e,t,r){if(t[0]=(0,_r.m9)(t[0]),t[0]instanceof Af)return function(a,c,p,b,S){if(!b)throw new Vt(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const k=[];for(const z of Fc(a))if(z.field.isKeyField())k.push(Ju(c,b.key));else{const ae=b.data.field(z.field);if(um(ae))throw new Vt(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+z.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ae){const Ye=z.field.canonicalString();throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ye}' (used as the orderBy) does not exist.`)}k.push(ae)}return new ec(k,S)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=ad(n.firestore);return function(c,p,b,S,k,z){const ae=c.explicitOrderBy;if(k.length>ae.length)throw new Vt(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${S}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ye=[];for(let pt=0;pt<k.length;pt++){const _t=k[pt];if(ae[pt].field.isKeyField()){if("string"!=typeof _t)throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${S}(), but got a ${typeof _t}`);if(!up(c)&&-1!==_t.indexOf("/"))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${S}() must be a plain document ID, but '${_t}' contains a slash.`);const Mt=c.path.child(Jr.fromString(_t));if(!on.isDocumentKey(Mt))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${S}() must result in a valid document path, but '${Mt}' is not because it contains an odd number of segments.`);const Yt=new on(Mt);Ye.push(Ju(p,Yt))}else{const Mt=TE(b,S,_t);Ye.push(Mt)}}return new ec(Ye,z)}(n._query,n.firestore._databaseId,a,e,t,r)}}function mv(n,e,t){if("string"==typeof(t=(0,_r.m9)(t))){if(""===t)throw new Vt(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!up(e)&&-1!==t.indexOf("/"))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jr.fromString(t));if(!on.isDocumentKey(r))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ju(n,new on(r))}if(t instanceof Gi)return Ju(n,t._key);throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pg(t)}.`)}function Rf(n,e){if(!Array.isArray(n)||0===n.length)throw new Vt(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ig(n,e){if(e.isInequality()){const r=lp(n),a=e.field;if(null!==r&&!r.isEqual(a))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${a.toString()}'`);const c=Im(n);null!==c&&YI(0,a,c)}const t=function(r,a){for(const c of r)for(const p of c.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Vt(Tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function YI(n,e,t){if(!t.isEqual(e))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vv{convertValue(e,t="none"){switch(Nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(du(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _n()}}convertObject(e,t){const r={};return wl(e.fields,(a,c)=>{r[a]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new fc(Fs(e.latitude),Fs(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){const t=zl(e);return new Ji(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jr.fromString(e);kn(qb(r));const a=new Pc(r.get(1),r.get(3)),c=new on(r.popFirst(5));return a.isEqual(t)||ks(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Of(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ah extends vv{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}class lh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends Af{constructor(e,t,r,a,c,p){super(e,t,r,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Mf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Pf extends Su{data(e={}){return super.data(e)}}class gc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new lh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Pf(this._firestore,this._userDataWriter,r.key,r,new lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(p=>({type:"added",doc:new Pf(r._firestore,r._userDataWriter,p.doc.key,p.doc,new lh(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const b=new Pf(r._firestore,r._userDataWriter,p.doc.key,p.doc,new lh(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter);let S=-1,k=-1;return 0!==p.type&&(S=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),k=c.indexOf(p.doc.key)),{type:PE(p.type),doc:b,oldIndex:S,newIndex:k}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _n()}}function Ev(n,e){return n instanceof Su&&e instanceof Su?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gc&&e instanceof gc&&n._firestore===e._firestore&&sv(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Au extends vv{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}function bv(n,e,t){n=Gr(n,Gi);const r=Gr(n.firestore,Wi),a=Of(n.converter,e,t);return Nf(r,[wf(ad(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,yi.none())])}function Iv(n,e,t,...r){n=Gr(n,Gi);const a=Gr(n.firestore,Wi),c=ad(a);let p;return p="string"==typeof(e=(0,_r.m9)(e))||e instanceof Io?Cf(c,"updateDoc",n._key,e,t,r):Df(c,"updateDoc",n._key,e),Nf(a,[p.toMutation(n._key,yi.exists(!0))])}function $E(n,...e){var t,r,a;n=(0,_r.m9)(n);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||ov(e[p])||(c=e[p],p++);const b={includeMetadataChanges:c.includeMetadataChanges};if(ov(e[p])){const ae=e[p];e[p]=null===(t=ae.next)||void 0===t?void 0:t.bind(ae),e[p+1]=null===(r=ae.error)||void 0===r?void 0:r.bind(ae),e[p+2]=null===(a=ae.complete)||void 0===a?void 0:a.bind(ae)}let S,k,z;if(n instanceof Gi)k=Gr(n.firestore,Wi),z=kd(n._key.path),S={next:ae=>{e[p]&&e[p](wg(k,n,ae))},error:e[p+1],complete:e[p+2]};else{const ae=Gr(n,Zo);k=Gr(ae.firestore,Wi),z=ae._query;const Ye=new Au(k);S={next:pt=>{e[p]&&e[p](new gc(k,Ye,ae,pt))},error:e[p+1],complete:e[p+2]},RE(n._query)}return function(ae,Ye,pt,_t){const Mt=new yf(_t),Yt=new td(Ye,Mt,pt);return ae.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return Jp(yield sd(ae),Yt)})),()=>{Mt.bc(),ae.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return tg(yield sd(ae),Yt)}))}}(bs(k),z,b,S)}function Nf(n,e){return function(t,r){const a=new Gs;return t.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return function EI(n,e,t){return sg.apply(this,arguments)}(yield hg(t),r,a)})),a.promise}(bs(n),e)}function wg(n,e,t){const r=t.docs.get(e._key),a=new Au(n);return new Su(n,a,e._key,r,new lh(t.hasPendingWrites,t.fromCache),e.converter)}const cD={maxAttempts:5};class nw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ad(e)}set(e,t,r){this._verifyNotCommitted();const a=cd(e,this._firestore),c=Of(a.converter,t,r),p=wf(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,r);return this._mutations.push(p.toMutation(a._key,yi.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const c=cd(e,this._firestore);let p;return p="string"==typeof(t=(0,_r.m9)(t))||t instanceof Io?Cf(this._dataReader,"WriteBatch.update",c._key,t,r,a):Df(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cd(e,this._firestore);return this._mutations=this._mutations.concat(new $c(t._key,yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cd(n,e){if((n=(0,_r.m9)(n)).firestore!==e)throw new Vt(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dD extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ad(e)}get(e){const t=cd(e,this._firestore),r=new ah(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return _n();const c=a[0];if(c.isFoundDocument())return new Af(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Af(this._firestore,r,t._key,null,t.converter);throw _n()})}set(e,t,r){const a=cd(e,this._firestore),c=Of(a.converter,t,r),p=wf(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,r);return this._transaction.set(a._key,p),this}update(e,t,r,...a){const c=cd(e,this._firestore);let p;return p="string"==typeof(t=(0,_r.m9)(t))||t instanceof Io?Cf(this._dataReader,"Transaction.update",c._key,t,r,a):Df(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=cd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cd(e,this._firestore),r=new Au(this._firestore);return super.get(e).then(a=>new Su(this._firestore,r,t._key,a._document,new lh(!1,!1),t.converter))}}!function(n,e=!0){xc=eo.SDK_VERSION,(0,eo._registerComponent)(new fl.wA("firestore",(t,{instanceIdentifier:r,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new Wi(new gb(t.getProvider("auth-internal")),new cu(t.getProvider("app-check-internal")),function(b,S){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Vt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(b.options.projectId,S)}(c,r),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,eo.registerVersion)(l_,"3.9.0",n),(0,eo.registerVersion)(l_,"3.9.0","esm2017")}();function Dv(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ow(){if(typeof Uint8Array>"u")throw new Vt("unimplemented","Uint8Arrays are not available in this environment.")}function UE(){if(!function Tb(){return typeof atob<"u"}())throw new Vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class kf{constructor(e){this._delegate=e}static fromBase64String(e){return UE(),new kf(hl.fromBase64String(e))}static fromUint8Array(e){return ow(),new kf(hl.fromUint8Array(e))}toBase64(){return UE(),this._delegate.toBase64()}toUint8Array(){return ow(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Cv(n){return function Tg(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class aw{enableIndexedDbPersistence(e,t){return function bE(n,e){wE(n=Gr(n,Wi));const t=bs(n),r=n._freezeSettings(),a=new Ky;return lv(t,a,new rE(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function IE(n){wE(n=Gr(n,Wi));const e=bs(n),t=n._freezeSettings(),r=new Ky;return lv(e,r,new MI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function FI(n){if(n._initialized&&!n._terminated)throw new Vt(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,At.Z)(function*(){try{yield(t=(0,At.Z)(function*(r){if(!al.C())return Promise.resolve();const a=r+"main";yield al.delete(a)}),function(r){return t.apply(this,arguments)})(Vp(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lw{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Pc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Td("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){yE(this._delegate,e,t,r)}enableNetwork(){return function iD(n){return function nD(n){return n.asyncQueue.enqueue((0,At.Z)(function*(){const e=yield uE(n),t=yield Qy(n);return e.setNetworkEnabled(!0),function(r){const a=un(r);return a.mu.delete(0),uf(a)}(t)}))}(bs(n=Gr(n,Wi)))}(this._delegate)}disableNetwork(){return function $I(n){return function cE(n){return n.asyncQueue.enqueue((0,At.Z)(function*(){const e=yield uE(n),t=yield Qy(n);return e.setNetworkEnabled(!1),(r=(0,At.Z)(function*(a){const c=un(a);c.mu.add(0),yield Jd(c),c.pu.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(bs(n=Gr(n,Wi)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rv("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function LI(n){return function(e){const t=new Gs;return e.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return function II(n,e){return lg.apply(this,arguments)}(yield hg(e),t)})),t.promise}(bs(n=Gr(n,Wi)))}(this._delegate)}onSnapshotsInSync(e){return function tw(n,e){return function fE(n,e){const t=new yf(e);return n.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return r=yield sd(n),a=t,un(r).vu.add(a),void a.next();var r,a})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return r=yield sd(n),a=t,void un(r).vu.delete(a);var r,a}))}}(bs(n=Gr(n,Wi)),ov(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ff(this,vE(this._delegate,e))}catch(t){throw aa(t,"collection()","Firestore.collection()")}}doc(e){try{return new Rl(this,Ef(this._delegate,e))}catch(t){throw aa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ua(this,function _E(n,e){if(n=Gr(n,ih),fg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Vt(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zo(n,null,(t=e,new mu(Jr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw aa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hD(n,e,t){n=Gr(n,Wi);const r=Object.assign(Object.assign({},cD),t);return function(a){if(a.maxAttempts<1)throw new Vt(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,c,p){const b=new Gs;return a.asyncQueue.enqueueAndForget((0,At.Z)(function*(){const S=yield function id(n){return nh(n).then(e=>e.datastore)}(a);new RI(a.asyncQueue,S,p,c,b).run()})),b.promise}(bs(n),a=>e(new dD(n,a)),r)}(this._delegate,t=>e(new jE(this,t)))}batch(){return bs(this._delegate),new HE(new nw(this._delegate,e=>Nf(this._delegate,e)))}loadBundle(e){return function BI(n,e){const t=bs(n=Gr(n,Wi)),r=new NI;return function tv(n,e,t,r){const a=function(c,p){let b;return b="string"==typeof c?(new TextEncoder).encode(c):c,S=function(S,k){if(S instanceof Uint8Array)return iE(S,k);if(S instanceof ArrayBuffer)return iE(new Uint8Array(S),k);if(S instanceof ReadableStream)return S.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new sE(S,p);var S}(t,Xd(e));n.asyncQueue.enqueueAndForget((0,At.Z)(function*(){!function AI(n,e,t){const r=un(n);var a;(a=(0,At.Z)(function*(c,p,b){try{const S=yield p.getMetadata();if(yield function(Ye,pt){const _t=un(Ye),Mt=cs(pt.createTime);return _t.persistence.runTransaction("hasNewerBundle","readonly",Yt=>_t.$s.getBundleMetadata(Yt,pt.id)).then(Yt=>!!Yt&&Yt.createTime.compareTo(Mt)>=0)}(c.localStore,S))return yield p.close(),b._completeWith({taskState:"Success",documentsLoaded:(Ye=S).totalDocuments,bytesLoaded:Ye.totalBytes,totalDocuments:Ye.totalDocuments,totalBytes:Ye.totalBytes}),Promise.resolve(new Set);b._updateProgress(ff(S));const k=new yI(S,c.localStore,p.Tt);let z=yield p.yc();for(;z;){const Ye=yield k.Bu(z);Ye&&b._updateProgress(Ye),z=yield p.yc()}const ae=yield k.complete();return yield Ql(c,ae.Uu,void 0),yield function(Ye,pt){const _t=un(Ye);return _t.persistence.runTransaction("Save bundle","readwrite",Mt=>_t.$s.saveBundleMetadata(Mt,pt))}(c.localStore,S),b._completeWith(ae.progress),Promise.resolve(ae.qu)}catch(S){return Td("SyncEngine",`Loading bundle failed with ${S}`),b._failWith(S),Promise.resolve(new Set)}var Ye}),function(c,p,b){return a.apply(this,arguments)})(r,e,t).then(a=>{r.sharedClientState.notifyBundleLoaded(a)})}(yield hg(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function VI(n,e){return function pE(n,e){return n.asyncQueue.enqueue((0,At.Z)(function*(){return function(t,r){const a=un(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.$s.getNamedQuery(c,r))}(yield rh(n),e)}))}(bs(n=Gr(n,Wi)),e).then(t=>t?new Zo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ua(this,t):null)}}class Tv extends vv{constructor(e){super(),this.firestore=e}convertBytes(e){return new kf(new hl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Rl.forKey(t,this.firestore,null)}}class jE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tv(e)}get(e){const t=wo(e);return this._delegate.get(t).then(r=>new Sg(this._firestore,new Su(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=wo(e);return r?(Dv("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=wo(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=wo(e);return this._delegate.delete(t),this}}class HE{constructor(e){this._delegate=e}set(e,t,r){const a=wo(e);return r?(Dv("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=wo(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=wo(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Pf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new la(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=dd.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let c=a.get(t);return c||(c=new dd(e,new Tv(e),t),a.set(t,c)),c}}dd.INSTANCES=new WeakMap;class Rl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tv(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Rl(t,new Gi(t._delegate,r,new on(e)))}static forKey(e,t,r){return new Rl(t,new Gi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ff(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ff(this.firestore,vE(this._delegate,e))}catch(t){throw aa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_r.m9)(e))instanceof Gi&&EE(this._delegate,e)}set(e,t){t=Dv("DocumentReference.set",t);try{return t?bv(this._delegate,e,t):bv(this._delegate,e)}catch(r){throw aa(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Iv(this._delegate,e):Iv(this._delegate,e,t,...r)}catch(a){throw aa(a,"updateDoc()","DocumentReference.update()")}}delete(){return function FE(n){return Nf(Gr(n.firestore,Wi),[new $c(n._key,yi.none())])}(this._delegate)}onSnapshot(...e){const t=Sv(e),r=Av(e,a=>new Sg(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return $E(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function NE(n){n=Gr(n,Gi);const e=Gr(n.firestore,Wi),t=bs(e),r=new Au(e);return function Jy(n,e){const t=new Gs;return n.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return(r=(0,At.Z)(function*(a,c,p){try{const b=yield function(S,k){const z=un(S);return z.persistence.runTransaction("read document","readonly",ae=>z.localDocuments.getDocument(ae,k))}(a,c);b.isFoundDocument()?p.resolve(b):b.isNoDocument()?p.resolve(null):p.reject(new Vt(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const S=Du(b,`Failed to get document '${c} from cache`);p.reject(S)}}),function(a,c,p){return r.apply(this,arguments)})(yield rh(n),e,t);var r})),t.promise}(t,n._key).then(a=>new Su(e,r,n._key,a,new lh(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function XI(n){n=Gr(n,Gi);const e=Gr(n.firestore,Wi);return dE(bs(e),n._key,{source:"server"}).then(t=>wg(e,n,t))}(this._delegate):function QI(n){n=Gr(n,Gi);const e=Gr(n.firestore,Wi);return dE(bs(e),n._key).then(t=>wg(e,n,t))}(this._delegate),t.then(r=>new Sg(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Rl(this.firestore,this._delegate.withConverter(e?dd.getInstance(this.firestore,e):null))}}function aa(n,e,t){return n.message=n.message.replace(e,t),n}function Sv(n){for(const e of n)if("object"==typeof e&&!Cv(e))return e;return{}}function Av(n,e){var t,r;let a;return a=Cv(n[0])?n[0]:Cv(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class Sg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Rl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ev(this._delegate,e._delegate)}}class la extends Sg{data(e){const t=this._delegate.data(e);return function u_(n,e){n||_n()}(void 0!==t),t}}class ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tv(e)}where(e,t,r){try{return new ua(this.firestore,Is(this._delegate,function GI(n,e,t){const r=e,a=Mf("where",n);return Jl._create(a,r,t)}(e,t,r)))}catch(a){throw aa(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ua(this.firestore,Is(this._delegate,function hv(n,e="asc"){const t=e,r=Mf("orderBy",n);return _g._create(r,t)}(e,t)))}catch(r){throw aa(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ua(this.firestore,Is(this._delegate,function WI(n){return iv("limit",n),pc._create("limit",n,"F")}(e)))}catch(t){throw aa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ua(this.firestore,Is(this._delegate,function fv(n){return iv("limitToLast",n),pc._create("limitToLast",n,"L")}(e)))}catch(t){throw aa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ua(this.firestore,Is(this._delegate,function OE(...n){return Eg._create("startAt",n,!0)}(...e)))}catch(t){throw aa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ua(this.firestore,Is(this._delegate,function qI(...n){return Eg._create("startAfter",n,!1)}(...e)))}catch(t){throw aa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ua(this.firestore,Is(this._delegate,function KI(...n){return bg._create("endBefore",n,!1)}(...e)))}catch(t){throw aa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ua(this.firestore,Is(this._delegate,function pv(...n){return bg._create("endAt",n,!0)}(...e)))}catch(t){throw aa(t,"endAt()","Query.endAt()")}}isEqual(e){return sv(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function kE(n){n=Gr(n,Zo);const e=Gr(n.firestore,Wi),t=bs(e),r=new Au(e);return function ev(n,e){const t=new Gs;return n.asyncQueue.enqueueAndForget((0,At.Z)(function*(){return(r=(0,At.Z)(function*(a,c,p){try{const b=yield Zd(a,c,!0),S=new Ry(c,b.Yi),k=S.Hu(b.documents),z=S.applyChanges(k,!1);p.resolve(z.snapshot)}catch(b){const S=Du(b,`Failed to execute query '${c} against cache`);p.reject(S)}}),function(a,c,p){return r.apply(this,arguments)})(yield rh(n),e,t);var r})),t.promise}(t,n._query).then(a=>new gc(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function ew(n){n=Gr(n,Zo);const e=Gr(n.firestore,Wi),t=bs(e),r=new Au(e);return hE(t,n._query,{source:"server"}).then(a=>new gc(e,r,n,a))}(this._delegate):function JI(n){n=Gr(n,Zo);const e=Gr(n.firestore,Wi),t=bs(e),r=new Au(e);return RE(n._query),hE(t,n._query).then(a=>new gc(e,r,n,a))}(this._delegate),t.then(r=>new xv(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Sv(e),r=Av(e,a=>new xv(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return $E(this._delegate,t,r)}withConverter(e){return new ua(this.firestore,this._delegate.withConverter(e?dd.getInstance(this.firestore,e):null))}}class Mv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new la(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ua(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new la(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Mv(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new la(this._firestore,r))})}isEqual(e){return Ev(this._delegate,e._delegate)}}class Ff extends ua{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Rl(this.firestore,e):null}doc(e){try{return new Rl(this.firestore,void 0===e?Ef(this._delegate):Ef(this._delegate,e))}catch(t){throw aa(t,"doc()","CollectionReference.doc()")}}add(e){return function LE(n,e){const t=Gr(n.firestore,Wi),r=Ef(n),a=Of(n.converter,e);return Nf(t,[wf(ad(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,yi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Rl(this.firestore,t))}isEqual(e){return EE(this._delegate,e._delegate)}withConverter(e){return new Ff(this.firestore,this._delegate.withConverter(e?dd.getInstance(this.firestore,e):null))}}function wo(n){return Gr(n,Gi)}class Rv{constructor(...e){this._delegate=new Io(...e)}static documentId(){return new Rv(vs.keyField().canonicalString())}isEqual(e){return(e=(0,_r.m9)(e))instanceof Io&&this._delegate._internalPath.isEqual(e._internalPath)}}class Mu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Dg(){return new mg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Mu(e)}static delete(){const e=function fD(){return new sh("deleteField")}();return e._methodName="FieldValue.delete",new Mu(e)}static arrayUnion(...e){const t=function pD(...n){return new uv("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Mu(t)}static arrayRemove(...e){const t=function BE(...n){return new cv("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Mu(t)}static increment(e){const t=function Cg(n){return new CE("increment",n)}(e);return t._methodName="FieldValue.increment",new Mu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uw={Firestore:lw,GeoPoint:fc,Timestamp:Ji,Blob:kf,Transaction:jE,WriteBatch:HE,DocumentReference:Rl,DocumentSnapshot:Sg,Query:ua,QueryDocumentSnapshot:la,QuerySnapshot:xv,CollectionReference:Ff,FieldPath:Rv,FieldValue:Mu,setLogLevel:function gD(n){!function Cd(n){Il.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Ov(n){(function cw(n,e){n.INTERNAL.registerComponent(new fl.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps(Object.assign({},uw)))})(n,(e,t)=>new lw(e,t,new aw)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(ku.Z);var Pv=V(7579),zE=V(6451),Ag=V(5363),xu=V(3900),GE=V(6063);class dw extends Pv.x{constructor(e=1/0,t=1/0,r=GE.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:p}=this;t||(r.push(e),!a&&r.push(c.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let p=0;p<c.length&&!e.closed;p+=r?1:2)e.next(c[p]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const p=t.now();let b=0;for(let S=1;S<r.length&&r[S]<=p;S+=2)b=S;b&&r.splice(0,b+1)}}}var WE=V(3099);function qE(n,e,t){let r,a=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,WE.B)({connector:()=>new dw(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Nv=V(590),Ru=V(576);function Ou(n,e){return(0,Ru.m)(e)?(0,xu.w)(()=>n,e):(0,xu.w)(()=>n)}var Mg=V(9468),eu=V(259);class hd{constructor(e){return e}}class kv{constructor(){return(0,eu.C6)()}}const Fv=new v.OlP("angularfire2._apps"),fw={provide:hd,useFactory:function hw(n){return n&&1===n.length?n[0]:new hd((0,eu.Mq)())},deps:[[new v.FiY,Fv]]},pw={provide:kv,deps:[[new v.FiY,Fv]]};function KE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hd(r)}}let mD=(()=>{class n{constructor(t){(0,eu.KN)("angularfire",Cr.q4.full,"core"),(0,eu.KN)("angularfire",Cr.q4.full,"app"),(0,eu.KN)("angular",v.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.Lbi))},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[fw,pw]}),n})();function YE(n,...e){return{ngModule:mD,providers:[{provide:Fv,useFactory:KE(n),multi:!0,deps:[v.R0b,v.zs3,Cr.HU,...e]}]}}const Lv=(0,Cr.u3)(eu.ZF,!0),xg=new Map,$v={activated:!1,tokenObservers:[]},Rg={initialized:!1,enabled:!1};function Ks(n){return xg.get(n)||Object.assign({},$v)}function Og(){return Rg}const Bv="https://content-firebaseappcheck.googleapis.com/v1",_D="exchangeDebugToken",Vv={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class bw{constructor(e,t,r,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,At.Z)(function*(){t.stop();try{t.pending=new _r.BH,yield function Iw(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _r.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ea=new _r.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jv(){return jv=(0,At.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const ae=yield a.getHeartbeatsHeader();ae&&(r["X-Firebase-Client"]=ae)}const c={method:"POST",body:JSON.stringify(e),headers:r};let p,b;try{p=yield fetch(n,c)}catch(ae){throw Ea.create("fetch-network-error",{originalErrorMessage:null==ae?void 0:ae.message})}if(200!==p.status)throw Ea.create("fetch-status-error",{httpStatus:p.status});try{b=yield p.json()}catch(ae){throw Ea.create("fetch-parse-error",{originalErrorMessage:null==ae?void 0:ae.message})}const S=b.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Ea.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const k=1e3*Number(S[1]),z=Date.now();return{token:b.token,expireTimeMillis:z+k,issuedAtTimeMillis:z}}),jv.apply(this,arguments)}const JE="firebase-app-check-database",Hv=1,pd="firebase-app-check-store";let ch=null;function Fg(){return Fg=(0,At.Z)(function*(n,e){const r=(yield function Ng(){return ch||(ch=new Promise((n,e)=>{try{const t=indexedDB.open(JE,Hv);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(Ea.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pd,{keyPath:"compositeKey"})}}catch(t){e(Ea.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),ch)}()).transaction(pd,"readwrite"),c=r.objectStore(pd).put({compositeKey:n,value:e});return new Promise((p,b)=>{c.onsuccess=S=>{p()},r.onerror=S=>{var k;b(Ea.create("storage-set",{originalErrorMessage:null===(k=S.target.error)||void 0===k?void 0:k.message}))}})}),Fg.apply(this,arguments)}const Lf=new to.Yd("@firebase/app-check");function $g(n,e){return(0,_r.hl)()?function bD(n,e){return function Cw(n,e){return Fg.apply(this,arguments)}(function nb(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Lf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ib(){return ib=(0,At.Z)(function*(){const n=Og();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ib.apply(this,arguments)}const qv={error:"UNKNOWN_ERROR"};function Sw(n){return _r.US.encodeString(JSON.stringify(n),!1)}function Vg(n){return ob.apply(this,arguments)}function ob(){return ob=(0,At.Z)(function*(n,e=!1){const t=n.app;!function ww(n){if(!Ks(n).activated)throw Ea.create("use-before-activation",{appName:n.name})}(t);const r=Ks(t);let c,a=r.token;if(a&&!$f(a)&&(r.token=void 0,a=void 0),!a){const S=yield r.cachedTokenPromise;S&&($f(S)?a=S:yield $g(t,void 0))}if(!e&&a&&$f(a))return{token:a.token};let b,p=!1;if(function Wv(){return Og().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function uh(n,e){return jv.apply(this,arguments)}(function fd(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`${Bv}/projects/${t}/apps/${r}:${_D}?key=${a}`,body:{debug_token:e}}}(t,yield function Bg(){return ib.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),p=!0);const S=yield r.exchangeTokenPromise;return yield $g(t,S),r.token=S,{token:S.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),p=!0),a=yield Ks(t).exchangeTokenPromise}catch(S){"appCheck/throttled"===S.code?Lf.warn(S.message):Lf.error(S),c=S}return a?c?b=$f(a)?{token:a.token,internalError:c}:xw(c):(b={token:a.token},r.token=a,yield $g(t,a)):b=xw(c),p&&function Mw(n,e){const t=Ks(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}(t,b),b}),ob.apply(this,arguments)}function Kv(n,e){const t=Ks(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function lb(n){const{app:e}=n,t=Ks(e);let r=t.tokenRefresher;r||(r=function Aw(n){const{app:e}=n;return new bw((0,At.Z)(function*(){let r;if(r=Ks(e).token?yield Vg(n,!0):yield Vg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ks(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Vv.RETRIAL_MIN_WAIT,Vv.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function $f(n){return n.expireTimeMillis-Date.now()>0}function xw(n){return{token:Sw(qv),error:n}}class DD{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ks(this.app);for(const t of e)Kv(this.app,t.next);return Promise.resolve()}}const ur="app-check-internal";!function Mi(){(0,eo._registerComponent)(new fl.wA("app-check",n=>function Rw(n,e){return new DD(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ur).initialize()})),(0,eo._registerComponent)(new fl.wA(ur,n=>function CD(n){return{getToken:e=>Vg(n,e),addTokenListener:e=>function ab(n,e,t,r){const{app:a}=n,c=Ks(a);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&$f(c.token)){const b=c.token;Promise.resolve().then(()=>{t({token:b.token}),lb(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>lb(n))}(n,"INTERNAL",e),removeTokenListener:e=>Kv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,eo.registerVersion)("@firebase/app-check","0.6.4")}();class Yv{constructor(){return(0,Cr.vb)("app-check")}}typeof window<"u"&&window;var RD=V(9260);const OD=new v.OlP("angularfire2.auth.use-emulator"),PD=new v.OlP("angularfire2.auth.settings"),ND=new v.OlP("angularfire2.auth.tenant-id"),kD=new v.OlP("angularfire2.auth.langugage-code"),FD=new v.OlP("angularfire2.auth.use-device-language"),LD=new v.OlP("angularfire.auth.persistence"),$D=(n,e,t,r,a,c,p,b)=>(0,xs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const S=e.runOutsideAngular(()=>n.auth());if(t&&S.useEmulator(...t),r&&(S.tenantId=r),S.languageCode=a,c&&S.useDeviceLanguage(),p)for(const[k,z]of Object.entries(p))S.settings[k]=z;return b&&S.setPersistence(b),S},[t,r,a,c,p,b]);let Bf=(()=>{class n{constructor(t,r,a,c,p,b,S,k,z,ae,Ye,pt){const _t=new Pv.x,Mt=(0,os.of)(void 0).pipe((0,Ag.Q)(p.outsideAngular),(0,xu.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,as.U)(()=>(0,xs.on)(t,c,r)),(0,as.U)(Yt=>$D(Yt,c,b,k,z,ae,S,Ye)),qE({bufferSize:1,refCount:!1}));if((0,Ci.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,os.of)(null);else{Mt.pipe((0,Nv.P)()).subscribe();const Nn=Mt.pipe((0,xu.w)(Hn=>Hn.getRedirectResult().then(er=>er,()=>null)),Cr.iC,qE({bufferSize:1,refCount:!1})),Or=Mt.pipe((0,xu.w)(Hn=>new js.y(er=>({unsubscribe:c.runOutsideAngular(()=>Hn.onAuthStateChanged(cr=>er.next(cr),cr=>er.error(cr),()=>er.complete()))})))),jn=Mt.pipe((0,xu.w)(Hn=>new js.y(er=>({unsubscribe:c.runOutsideAngular(()=>Hn.onIdTokenChanged(cr=>er.next(cr),cr=>er.error(cr),()=>er.complete()))}))));this.authState=Nn.pipe(Ou(Or),(0,Mg.R)(p.outsideAngular),(0,Ag.Q)(p.insideAngular)),this.user=Nn.pipe(Ou(jn),(0,Mg.R)(p.outsideAngular),(0,Ag.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,xu.w)(Hn=>Hn?(0,Vi.D)(Hn.getIdToken()):(0,os.of)(null))),this.idTokenResult=this.user.pipe((0,xu.w)(Hn=>Hn?(0,Vi.D)(Hn.getIdTokenResult()):(0,os.of)(null))),this.credential=(0,zE.T)(Nn,_t,this.authState.pipe((0,Nl.h)(Hn=>!Hn))).pipe((0,as.U)(Hn=>null!=Hn&&Hn.user?Hn:null),(0,Mg.R)(p.outsideAngular),(0,Ag.Q)(p.insideAngular))}return(0,xs.pX)(this,Mt,c,{spy:{apply:(Yt,Nn,Or)=>{(Yt.startsWith("signIn")||Yt.startsWith("createUser"))&&Or.then(jn=>_t.next(jn))}}})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(xs.Dh),v.LFG(xs.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Cr.HU),v.LFG(OD,8),v.LFG(PD,8),v.LFG(ND,8),v.LFG(kD,8),v.LFG(FD,8),v.LFG(LD,8),v.LFG(Yv,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dC=(()=>{class n{constructor(){RD.Z.registerVersion("angularfire",Cr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[Bf]}),n})();function BD(n,e){return function hC(n,e=si.z){return new js.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Pw(n,e){return BD(n,e).pipe((0,as.U)(t=>({payload:t,type:"query"})))}function cb(n,e){return Pw(n,e).pipe((0,da.O)(void 0),Ro(),(0,as.U)(([t,r])=>{const a=r.payload.docChanges(),c=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((p,b)=>{const S=a.find(z=>z.doc.ref.isEqual(p.ref)),k=null==t?void 0:t.payload.docs.find(z=>z.ref.isEqual(p.ref));S&&JSON.stringify(S.doc.metadata)===JSON.stringify(p.metadata)||!S&&k&&JSON.stringify(k.metadata)===JSON.stringify(p.metadata)||c.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:p}})}),c}))}function VD(n,e,t){return cb(n,t).pipe((0,fa.R)((r,a)=>function pC(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function gC(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Nw(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Nw(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Nw(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(c=>c.payload),e),[]),(0,Jo.x)(),(0,as.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function Nw(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function UD(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jD{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=cb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,as.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,da.O)(void 0),Ro(),(0,Nl.h)(([r,a])=>a.length>0||!r),(0,as.U)(([r,a])=>a),Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fa.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=UD(e);return VD(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return Pw(this.query,this.afs.schedulers.outsideAngular).pipe((0,as.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Cr.iC)}get(e){return(0,Vi.D)(this.query.get(e)).pipe(Cr.iC)}add(e){return this.ref.add(e)}doc(e){return new HD(this.ref.doc(e),this.afs)}}class HD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:c}=WD(r,t);return new jD(a,c,this.afs)}snapshotChanges(){return function fC(n,e){return BD(n,e).pipe((0,da.O)(void 0),Ro(),(0,as.U)(([t,r])=>r.exists?null!=t&&t.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,as.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Vi.D)(this.ref.get(e)).pipe(Cr.iC)}}class mC{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?cb(this.query,this.afs.schedulers.outsideAngular).pipe((0,as.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,Nl.h)(t=>t.length>0),Cr.iC):cb(this.query,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,fa.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=UD(e);return VD(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return Pw(this.query,this.afs.schedulers.outsideAngular).pipe((0,as.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Cr.iC)}get(e){return(0,Vi.D)(this.query.get(e)).pipe(Cr.iC)}}const zD=new v.OlP("angularfire2.enableFirestorePersistence"),GD=new v.OlP("angularfire2.firestore.persistenceSettings"),yC=new v.OlP("angularfire2.firestore.settings"),vC=new v.OlP("angularfire2.firestore.use-emulator");function WD(n,e=(t=>t)){return{query:e(n),ref:n}}let qD=(()=>{class n{constructor(t,r,a,c,p,b,S,k,z,ae,Ye,pt,_t,Mt,Yt,Nn,Or){this.schedulers=S;const jn=(0,xs.on)(t,b,r),Hn=z;ae&&$D(jn,b,Ye,_t,Mt,Yt,pt,Nn),[this.firestore,this.persistenceEnabled$]=(0,xs.cc)(`${jn.name}.firestore`,"AngularFirestore",jn.name,()=>{const er=b.runOutsideAngular(()=>jn.firestore());if(c&&er.settings(c),Hn&&er.useEmulator(...Hn),a&&!(0,Ci.PM)(p)){const cr=()=>{try{return(0,Vi.D)(er.enablePersistence(k||void 0).then(()=>!0,()=>!1))}catch(hi){return typeof console<"u"&&console.warn(hi),(0,os.of)(!1)}};return[er,b.runOutsideAngular(cr)]}return[er,(0,os.of)(!1)]},[c,Hn,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:p}=WD(a,r),b=this.schedulers.ngZone.run(()=>c);return new jD(b,p,this)}collectionGroup(t,r){const a=r||(p=>p),c=this.firestore.collectionGroup(t);return new mC(a(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new HD(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(xs.Dh),v.LFG(xs.xv,8),v.LFG(zD,8),v.LFG(yC,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Cr.HU),v.LFG(GD,8),v.LFG(vC,8),v.LFG(Bf,8),v.LFG(OD,8),v.LFG(PD,8),v.LFG(ND,8),v.LFG(kD,8),v.LFG(FD,8),v.LFG(LD,8),v.LFG(Yv,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_C=(()=>{class n{constructor(){RD.Z.registerVersion("angularfire",Cr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:zD,useValue:!0},{provide:GD,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[qD]}),n})(),kw=(()=>{class n{constructor(t){this.firestore=t}createDoc(t,r,a){return this.firestore.collection(r).doc(a).set(t)}getId(){return this.firestore.createId()}getCollection(t){return this.firestore.collection(t).valueChanges()}getDoc(t,r){return this.firestore.collection(t).doc(r).valueChanges()}getUsers(){return this.firestore.collection("Users").snapshotChanges()}getUserById(t){return this.firestore.collection("Users").doc(t).valueChanges()}createUser(t){return new Promise((r,a)=>{this.firestore.collection("Users").add(t).then(c=>{console.log(c)},c=>{a(c)})})}updateUser(t,r){return this.firestore.collection("Users").doc(r).update({email:t.email,phone:t.phone,fName:t.fName,sName:t.sName})}delUser(t){return this.firestore.collection("Users").doc(t.uid).delete()}getService(){return this.firestore.collection("Services").snapshotChanges()}getServiceById(t){return this.firestore.collection("Services").doc(t).valueChanges()}createService(t){return new Promise((r,a)=>{this.firestore.collection("Services").add(t).then(c=>{this.firestore.collection("Services").doc(c.id).update({uid:c.id})},c=>{a(c)})})}updateService(t,r){return this.firestore.collection("Services").doc(r).update({sName:t.sName,description:t.description,cost:t.cost})}delService(t){return this.firestore.collection("Services").doc(t.uid).delete()}getMedics(){return this.firestore.collection("Medicos").snapshotChanges()}getMedicById(t){return this.firestore.collection("Medicos").doc(t).valueChanges()}createMedic(t){return new Promise((r,a)=>{this.firestore.collection("Medicos").add(t).then(c=>{this.firestore.collection("Medicos").doc(c.id).update({uid:c.id})},c=>{a(c)})})}updateMedic(t,r){return this.firestore.collection("Medicos").doc(r).update({uid:t.uid,sName:t.sName,description:t.description,cost:t.cost})}delMedic(t){return this.firestore.collection("Medicos").doc(t.uid).delete()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(qD))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Zv=V(7185);function EC(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",5)(1,"div",6),v._UZ(2,"img",7),v.qZA(),v.TgZ(3,"div",8)(4,"h5",9),v._uU(5),v.qZA(),v.TgZ(6,"div",10)(7,"button",11),v.NdJ("click",function(){const c=v.CHM(t).$implicit,p=v.oxw();return v.KtG(p.copyDeck(c.code))}),v._uU(8,"Copy Deck"),v.qZA()()()()}if(2&n){const t=e.$implicit;v.xp6(2),v.s9C("src",t.image,v.LSH),v.xp6(3),v.Oqu(t.name)}}let bC=(()=>{class n{constructor(t,r,a){this.activatedRoute=t,this.firestore=r,this.toastr=a}ngOnInit(){this.hero=this.activatedRoute.snapshot.paramMap.get("id"),this.firestore.getCollection(this.hero).subscribe(t=>{try{console.log(t),this.decks=t}catch(r){console.log(r)}})}copyDeck(t){return(0,lr.mG)(this,void 0,void 0,function*(){if(navigator.clipboard)try{yield navigator.clipboard.writeText(t),this.toastr.show("Deck Copied!")}catch(r){}})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Vn.gz),v.Y36(kw),v.Y36(Zv._W))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-hs-heroes"]],decls:8,vars:4,consts:[[3,"translucent"],["slot","start"],["menu","main"],[3,"fullscreen"],["class","card m-5 bg-dark","style","width: 80vw;",4,"ngFor","ngForOf"],[1,"card","m-5","bg-dark",2,"width","80vw"],[2,"overflow","hidden"],["alt","Deck Image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-center","fs-1"],[1,"d-grid","gap-2","col-6","mx-auto"],["type","button",1,"btn","btn-secondary","btn-lg","rounded-pill","mb-5","mt-5",3,"click"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-menu-button",2),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5),v.qZA()()(),v.TgZ(6,"ion-content",3),v.YNc(7,EC,9,2,"div",4),v.qZA()),2&t&&(v.Q6J("translucent",!0),v.xp6(5),v.Oqu(r.hero),v.xp6(1),v.Q6J("fullscreen",!0),v.xp6(1),v.Q6J("ngForOf",r.decks))},dependencies:[Ci.sg,jt.Sm,jt.W2,jt.Gu,jt.fG,jt.wd,jt.sr],styles:["img[_ngcontent-%COMP%]{overflow:hidden;transform:scale(1.55);translate:20px 4rem 150px}"]}),n})();var Wr=V(433);const IC=function(){return["/Reset-Password"]},wC=function(){return["/SignIn"]};let DC=(()=>{class n{constructor(t,r,a,c,p){this.fb=t,this.afAuth=r,this.toastr=a,this.router=c,this.menu=p,this.loading=!1,this.loginUser=this.fb.group({email:["",[Wr.kI.required,Wr.kI.email]],password:["",Wr.kI.required]}),this.menu.enable(!1)}ngOnInit(){}login(){const t=this.loginUser.value.email,r=this.loginUser.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(t,r).then(a=>{var c;null!==(c=a.user)&&void 0!==c&&c.emailVerified?(this.menu.enable(!0),this.router.navigate(["/folder/Home"])):this.router.navigate(["/Verify-Email"])}).catch(a=>{this.loading=!1,this.toastr.error(a.code,"Error")})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Wr.qu),v.Y36(Bf),v.Y36(Zv._W),v.Y36(Vn.F0),v.Y36(jt._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:7,consts:[[3,"translucent"],["slot","start"],[3,"formGroup","ngSubmit"],[1,"m-5"],["position","floating"],["color","danger"],["required","","formControlName","email","formControlName","email","formControlName","email","type","email"],[1,"mt-5","ms-5","mx-5","mb-3"],["required","","formControlName","password","type","password"],[1,"text-center","fs-3"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"d-grid","gap-2","col-6","mx-auto","mt-4"],["type","submit","block","","color","primary",1,"fs-2","btn","btn-dark",3,"disabled"],[1,"text-center","fs-2","d-flex","justify-content-center","align-items-center","m-5"],[1,"d-grid","gap-2","col-6","mx-auto"],["type","button","routerLinkActive","router-link-active",1,"fs-2","btn","btn-dark",3,"routerLink"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-back-button"),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5,"Login"),v.qZA()()(),v.TgZ(6,"ion-content")(7,"form",2),v.NdJ("ngSubmit",function(){return r.login()}),v.TgZ(8,"ion-item",3)(9,"ion-label",4),v._uU(10,"E-Mail "),v.TgZ(11,"ion-text",5),v._uU(12,"*"),v.qZA()(),v._UZ(13,"ion-input",6),v.qZA(),v.TgZ(14,"ion-item",7)(15,"ion-label",4),v._uU(16,"Password "),v.TgZ(17,"ion-text",5),v._uU(18,"*"),v.qZA()(),v._UZ(19,"ion-input",8),v.qZA(),v.TgZ(20,"div",9)(21,"a",10),v._uU(22,"Forgot your password?"),v.qZA()(),v.TgZ(23,"div",11)(24,"button",12),v._uU(25," Login "),v.qZA()()(),v.TgZ(26,"div",13)(27,"ion-label"),v._uU(28,"Dont have an account?"),v.qZA()(),v.TgZ(29,"div",14)(30,"button",15),v._uU(31,"Sign In"),v.qZA()()()),2&t&&(v.Q6J("translucent",!0),v.xp6(7),v.Q6J("formGroup",r.loginUser),v.xp6(14),v.Q6J("routerLink",v.DdM(5,IC)),v.xp6(3),v.Q6J("disabled",r.loginUser.invalid),v.xp6(6),v.Q6J("routerLink",v.DdM(6,wC)))},dependencies:[jt.oU,jt.Sm,jt.W2,jt.Gu,jt.pK,jt.Ie,jt.Q$,jt.yW,jt.wd,jt.sr,jt.j9,jt.cs,jt.YI,jt.Fo,Vn.rH,Vn.Od,Wr._Y,Wr.JJ,Wr.JL,Wr.Q7,Wr.sg,Wr.u]}),n})(),Fw=(()=>{class n{constructor(t){this.afAuth=t}login(t,r){return(0,lr.mG)(this,void 0,void 0,function*(){try{return yield this.afAuth.signInWithEmailAndPassword(t,r)}catch(a){return console.log(a),null}})}register(t,r){return(0,lr.mG)(this,void 0,void 0,function*(){try{return yield this.afAuth.createUserWithEmailAndPassword(t,r)}catch(a){return console.log(a),null}})}logout(){return(0,lr.mG)(this,void 0,void 0,function*(){try{yield this.afAuth.signOut()}catch(t){console.log(t)}})}getCurrentUser(){return this.afAuth.authState}getUid(){return(0,lr.mG)(this,void 0,void 0,function*(){yield this.afAuth.currentUser})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Bf))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-spinner"]],decls:5,vars:0,consts:[["id","map",1,"d-flex","flex-column","align-items-center","justify-content-center","p-5"],[1,"ripple-loader"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),v._UZ(3,"div")(4,"div"),v.qZA()()())},dependencies:[jt.W2],styles:[".ripple-loader[_ngcontent-%COMP%]{position:relative;width:400px;height:400px}.ripple-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #00c9fc;border-radius:50%;animation:_ngcontent-%COMP%_ripple-loader 1.5s ease-out infinite}.ripple-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_ripple-loader{0%{top:200px;left:200px;width:0;height:0;opacity:1}to{top:0;left:0;width:400px;height:400px;opacity:0}}ion-content[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),n})();function TC(n,e){1&n&&(v.TgZ(0,"div",25)(1,"h1"),v._uU(2,"Privacy Notice"),v.qZA(),v.TgZ(3,"p"),v._uU(4,"In Meta-Top, we recognize the importance of our users' privacy and are committed to protecting the personal information we collect. This privacy notice describes how we collect, use, and protect the personal information we collect from users of our application."),v.qZA(),v.TgZ(5,"h2"),v._uU(6,"Information we collect"),v.qZA(),v.TgZ(7,"p"),v._uU(8,"The application collects personal information from the user such as their username, password, and email address. This information is collected for the sole purpose of allowing users to log in to the application and save their favorite items. "),v.qZA(),v.TgZ(9,"h2"),v._uU(10,"How we use the information"),v.qZA(),v.TgZ(11,"p"),v._uU(12,"The collected information is used solely to allow users to log in to the application and save their favorite items. We do not share or sell users' personal information to third parties."),v.qZA(),v.TgZ(13,"h2"),v._uU(14,"How we protect the information"),v.qZA(),v.TgZ(15,"p"),v._uU(16,"We are committed to protecting our users' personal information and use reasonable security measures to protect the information against unauthorized access, disclosure, or alteration. However, we cannot guarantee the security of the information collected, as no method of transmission over the internet or electronic storage is 100% secure."),v.qZA(),v.TgZ(17,"h2"),v._uU(18,"User's rights"),v.qZA(),v.TgZ(19,"p"),v._uU(20,"Users have the right to access, modify, and delete their personal information at any time. If a user wishes to delete their account and associated personal information, they may do so through the application's settings."),v.qZA(),v.TgZ(21,"h2"),v._uU(22,"Changes to this privacy notice"),v.qZA(),v.TgZ(23,"p"),v._uU(24,"We reserve the right to change this privacy notice at any time and without prior notice. Changes will be effective immediately upon posting. By continuing to use the application after the changes have been posted, users accept the terms of the latest version of the privacy notice."),v.qZA(),v.TgZ(25,"h2"),v._uU(26,"Contact"),v.qZA(),v.TgZ(27,"p"),v._uU(28,"If you have any questions or concerns about this privacy notice or our privacy practices, please contact us through the application's support email."),v.qZA(),v.TgZ(29,"h2"),v._uU(30,"Effective Date: [March 16, 2023]"),v.qZA(),v.TgZ(31,"div",26)(32,"button",27),v._uU(33,"Close"),v.qZA()()())}function SC(n,e){1&n&&(v.TgZ(0,"div",28)(1,"h1"),v._uU(2,"Letter of Informed Consent"),v.qZA(),v.TgZ(3,"h2"),v._uU(4,"Dear user, "),v.qZA(),v.TgZ(5,"p"),v._uU(6," Thank you for using Meta-Top app. In order to provide you with the services offered by our application, we need to collect and process some of your personal data. In this regard, we would like to inform you about the data we collect, how we use it, and how we protect it. "),v.qZA(),v.TgZ(7,"p"),v._uU(8," The personal data we collect is your username, password, and email address. This data is used solely to allow you to log in to the application and save your favorite items. We do not share or sell your personal data to third parties. "),v.qZA(),v.TgZ(9,"p"),v._uU(10," We inform you that, by using our application, you accept and give your consent for us to process your personal data as described in this personal data consent letter. "),v.qZA(),v.TgZ(11,"p"),v._uU(12," We also remind you that you have the right to access, modify, and delete your personal data at any time. If you wish to delete your account and associated personal data, you can do so through the application's settings. "),v.qZA(),v.TgZ(13,"p"),v._uU(14," If you have any questions or concerns about the privacy of your personal data or about this personal data consent letter, please do not hesitate to contact us through the application's support email. "),v.qZA(),v._uU(15," Thank you for using our application. Sincerely, Omar Alejandro S\xe1nchez Cuevas "),v.TgZ(16,"div",26)(17,"button",27),v._uU(18,"Close"),v.qZA()()())}const AC=function(){return["/Login"]};function MC(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div")(1,"form",3),v.NdJ("ngSubmit",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.register())}),v.TgZ(2,"ion-item",4)(3,"ion-label",5),v._uU(4,"E-Mail "),v.TgZ(5,"ion-text",6),v._uU(6,"*"),v.qZA()(),v.TgZ(7,"ion-input",7),v.NdJ("ngModelChange",function(a){v.CHM(t);const c=v.oxw();return v.KtG(c.userData.email=a)}),v.qZA()(),v.TgZ(8,"ion-item",4)(9,"ion-label",5),v._uU(10,"Password "),v.TgZ(11,"ion-text",6),v._uU(12,"*"),v.qZA()(),v.TgZ(13,"ion-input",8),v.NdJ("ngModelChange",function(a){v.CHM(t);const c=v.oxw();return v.KtG(c.userData.password=a)}),v.qZA()(),v.TgZ(14,"ion-item",9)(15,"ion-label",5),v._uU(16,"Confirm Password "),v.TgZ(17,"ion-text",6),v._uU(18,"*"),v.qZA()(),v._UZ(19,"ion-input",10),v.qZA(),v.TgZ(20,"div",11)(21,"button",12),v.NdJ("click",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.openPrivacy())}),v._uU(22," Privacy Notice "),v.qZA(),v.TgZ(23,"ion-popover",13),v.YNc(24,TC,34,0,"ng-template"),v.qZA()(),v.TgZ(25,"div",14)(26,"button",15),v.NdJ("click",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.openConsent())}),v._uU(27," Letter of Informed Consent "),v.qZA(),v.TgZ(28,"ion-popover",16),v.YNc(29,SC,19,0,"ng-template"),v.qZA()(),v.TgZ(30,"ion-item",17),v._UZ(31,"ion-checkbox",18),v.TgZ(32,"ion-label"),v._uU(33,"I accept the privacy Notice"),v.qZA()(),v.TgZ(34,"ion-item",17),v._UZ(35,"ion-checkbox",19),v.TgZ(36,"ion-label"),v._uU(37,"I accept the Letter of Informed Consent"),v.qZA()(),v.TgZ(38,"div",20)(39,"button",21),v._uU(40," Sign In "),v.qZA()()(),v.TgZ(41,"div",22)(42,"ion-label"),v._uU(43,"Already have an account?"),v.qZA()(),v.TgZ(44,"div",23)(45,"button",24),v._uU(46,"Login"),v.qZA()()()}if(2&n){const t=v.oxw();v.xp6(1),v.Q6J("formGroup",t.userRegister),v.xp6(6),v.Q6J("ngModel",t.userData.email),v.xp6(6),v.Q6J("ngModel",t.userData.password),v.xp6(10),v.Q6J("dismissOnSelect",!0),v.xp6(5),v.Q6J("dismissOnSelect",!0),v.xp6(2),v.s9C("disabled",t.checked),v.xp6(1),v.Q6J("indeterminate",!0),v.xp6(3),v.s9C("disabled",t.checked2),v.xp6(1),v.Q6J("indeterminate",!0),v.xp6(4),v.Q6J("disabled",t.userRegister.invalid),v.xp6(6),v.Q6J("routerLink",v.DdM(11,AC))}}function xC(n,e){1&n&&v._UZ(0,"app-spinner")}let RC=(()=>{class n{constructor(t,r,a,c,p,b,S){this.fb=t,this.afAuth=r,this.toastr=a,this.router=c,this.authSvc=p,this.frservice=b,this.menu=S,this.checked=!0,this.checked2=!0,this.userData={uid:null,email:null,password:null,role:"user"},this.loading=!1,this.passwordPatern=/(?=(.*[0-9]))(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?])(?=.*[a-z])(?=(.*[A-Z]))(?=(.*))(?=(?!.*(.)\1)).{8,}/,this.userRegister=this.fb.group({email:["",[Wr.kI.required,Wr.kI.email]],password:["",[Wr.kI.required,Wr.kI.pattern(this.passwordPatern)]],confirmPassword:["",[Wr.kI.required,Wr.kI.pattern(this.passwordPatern)]],privacy:["",[Wr.kI.required,Wr.kI.requiredTrue]],consent:["",[Wr.kI.required,Wr.kI.requiredTrue]]}),this.menu.enable(!1)}ngOnInit(){}openPrivacy(){this.checked=!1}openConsent(){this.checked2=!1}register(){return(0,lr.mG)(this,void 0,void 0,function*(){const t=this.userRegister.value.email,r=this.userRegister.value.password;r===this.userRegister.value.confirmPassword?(this.loading=!0,this.authSvc.register(t,r).then(c=>(0,lr.mG)(this,void 0,void 0,function*(){this.res=null==c?void 0:c.user,this.userRegister.reset(),yield this.registerDB(),yield this.verifyEmail()})).catch(c=>{this.toastr.error(c,"Error"),this.loading=!1})):this.toastr.error("Passwords do not match","Error")})}verifyEmail(){this.afAuth.currentUser.then(t=>null==t?void 0:t.sendEmailVerification()).then(()=>{this.authSvc.logout(),this.toastr.info("Verification link has been sent","Verify Email"),this.router.navigate(["/Verify-Email"])})}registerDB(){return(0,lr.mG)(this,void 0,void 0,function*(){const r=this.res.uid;this.userData.uid=r,this.userData.password=null,yield this.frservice.createDoc(this.userData,"Users",r)})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Wr.qu),v.Y36(Bf),v.Y36(Zv._W),v.Y36(Vn.F0),v.Y36(Fw),v.Y36(kw),v.Y36(jt._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-register"]],decls:9,vars:3,consts:[[3,"translucent"],["slot","start"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"m-5"],["position","floating"],["color","danger"],["required","","formControlName","email","type","email",3,"ngModel","ngModelChange"],["required","","formControlName","password","type","password",3,"ngModel","ngModelChange"],[1,"mt-5","ms-5","mx-5"],["required","","formControlName","confirmPassword","type","password"],[1,"d-grid","gap-2","col-8","mx-auto","mt-5"],["type","button","id","privacy-trigger","block","","color","primary","routerLinkActive","router-link-active",1,"fs-4","btn","btn-dark",3,"click"],["trigger","privacy-trigger","triggerAction","click","side","right","alignment","center",3,"dismissOnSelect"],[1,"d-grid","gap-2","col-8","mx-auto","mt-4","mb-5"],["type","button","id","consent-trigger","block","","color","primary","routerLinkActive","router-link-active",1,"fs-4","btn","btn-dark",3,"click"],["trigger","consent-trigger","triggerAction","click","side","right","alignment","center",3,"dismissOnSelect"],[1,"rounded-pill","m-3",3,"disabled"],["required","","formControlName","privacy","slot","start",3,"indeterminate"],["required","","formControlName","consent","slot","start",3,"indeterminate"],[1,"d-grid","gap-2","col-6","mx-auto","mt-5"],["type","submit","block","","color","primary",1,"fs-2","btn","btn-dark",3,"disabled"],[1,"text-center","fs-2","d-flex","justify-content-center","align-items-center","mt-4"],[1,"d-grid","gap-2","col-6","mx-auto","mt-3","mb-5"],["type","button","routerLinkActive","router-link-active",1,"fs-2","btn","btn-dark",3,"routerLink"],[1,"p-5"],[1,"d-grid","gap-2","col-8","mx-auto","mt-4","mt-5"],["type","button",1,"fs-4","btn","btn-dark"],[1,"p-5","mb-5"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-back-button"),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5,"Sign In"),v.qZA()()(),v.TgZ(6,"ion-content"),v.YNc(7,MC,47,12,"div",2),v.YNc(8,xC,1,0,"app-spinner",2),v.qZA()),2&t&&(v.Q6J("translucent",!0),v.xp6(7),v.Q6J("ngIf",!r.loading),v.xp6(1),v.Q6J("ngIf",r.loading))},dependencies:[Ci.O5,jt.oU,jt.Sm,jt.nz,jt.W2,jt.Gu,jt.pK,jt.Ie,jt.Q$,jt.yW,jt.wd,jt.sr,jt.d8,jt.w,jt.j9,jt.cs,jt.YI,Vn.rH,Vn.Od,Wr._Y,Wr.JJ,Wr.JL,Wr.Q7,Wr.sg,Wr.u,CC],styles:["ion-popover[_ngcontent-%COMP%]{--width: 100%}.ripple-loader[_ngcontent-%COMP%]{position:relative;width:400px;height:400px}.ripple-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #00c9fc;border-radius:50%;animation:_ngcontent-%COMP%_ripple-loader 1.5s ease-out infinite}.ripple-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_ripple-loader{0%{top:200px;left:200px;width:0;height:0;opacity:1}to{top:0;left:0;width:400px;height:400px;opacity:0}}"]}),n})();function OC(n,e){1&n&&(v.TgZ(0,"span",12),v._uU(1," The "),v.TgZ(2,"strong"),v._uU(3,"email"),v.qZA(),v._uU(4," is invalid! "),v.qZA())}let PC=(()=>{class n{constructor(t,r,a,c){this.fb=t,this.afAuth=r,this.toastr=a,this.router=c,this.loading=!1,this.recoverUser=this.fb.group({email:["",[Wr.kI.required,Wr.kI.email]]})}ngOnInit(){}recover(){const t=this.recoverUser.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(t).then(()=>{this.toastr.info("The reset link has been sended","Reset Password"),this.router.navigate(["/login"])}).catch(r=>{this.loading=!1,this.toastr.error(r.code,"Error")})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Wr.qu),v.Y36(Bf),v.Y36(Zv._W),v.Y36(Vn.F0))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-reset-pass"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","start"],[1,"d-flex","justify-content-center","flex-column","align-items-center","p-5"],[1,"mt-5","text-center"],[3,"formGroup","ngSubmit"],[1,"m-5"],["position","floating"],["color","danger"],["required","","formControlName","email","formControlName","email","formControlName","email","type","email"],["class","text-light",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","submit","block","","color","primary",1,"fs-1","btn","btn-dark",3,"disabled"],[1,"text-light"]],template:function(t,r){if(1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-back-button"),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5,"Reset Password"),v.qZA()()(),v.TgZ(6,"ion-content")(7,"div",2)(8,"h2",3),v._uU(9,"Email"),v.qZA(),v.TgZ(10,"form",4),v.NdJ("ngSubmit",function(){return r.recover()}),v.TgZ(11,"ion-item",5)(12,"ion-label",6),v._uU(13,"E-Mail "),v.TgZ(14,"ion-text",7),v._uU(15,"*"),v.qZA()(),v._UZ(16,"ion-input",8),v.YNc(17,OC,5,0,"span",9),v.qZA(),v.TgZ(18,"div",10)(19,"button",11),v._uU(20," Send "),v.qZA()()()()()),2&t){let a;v.Q6J("translucent",!0),v.xp6(10),v.Q6J("formGroup",r.recoverUser),v.xp6(7),v.Q6J("ngIf",(null==(a=r.recoverUser.get("email"))?null:a.hasError("email"))&&(null==(a=r.recoverUser.get("email"))?null:a.touched)),v.xp6(2),v.Q6J("disabled",r.recoverUser.invalid)}},dependencies:[Ci.O5,jt.oU,jt.Sm,jt.W2,jt.Gu,jt.pK,jt.Ie,jt.Q$,jt.yW,jt.wd,jt.sr,jt.j9,jt.cs,Wr._Y,Wr.JJ,Wr.JL,Wr.Q7,Wr.sg,Wr.u]}),n})();const NC=function(){return["/Login"]},kC=function(){return["/SignIn"]};let FC=(()=>{class n{constructor(t){this.menu=t,this.menu.enable(!1)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(jt._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-start"]],decls:14,vars:4,consts:[[1,"d-flex","flex-column","align-items-center","p-3","fs-1","fw-bold"],[1,"d-flex","justify-content-center","mb-3"],["src"," ../../../assets/img/icon.png ","alt","logo ",2,"height","300px"],[1,"d-grid","gap-2","col-6","mx-auto"],["type","button ","routerLinkActive","router-link-active ",1,"fs-2","btn","btn-dark","btn-lg","m-3","p-3",3,"routerLink"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-content")(1,"div")(2,"div",0)(3,"ion-label"),v._uU(4,"Welcome to"),v.qZA(),v.TgZ(5,"ion-label"),v._uU(6,"META TOP"),v.qZA()(),v.TgZ(7,"div",1),v._UZ(8,"img",2),v.qZA(),v.TgZ(9,"div",3)(10,"button",4),v._uU(11," Login "),v.qZA(),v.TgZ(12,"button",4),v._uU(13," Signin "),v.qZA()()()()),2&t&&(v.xp6(10),v.Q6J("routerLink",v.DdM(2,NC)),v.xp6(2),v.Q6J("routerLink",v.DdM(3,kC)))},dependencies:[jt.W2,jt.Q$,jt.YI,Vn.rH,Vn.Od]}),n})();const LC=function(){return["/Start"]},$C=[{path:"",redirectTo:"Start",pathMatch:"full"},{path:"Login",component:DC},{path:"SignIn",component:RC},{path:"Start",component:FC},{path:"HS-Hero/:id",component:bC},{path:"Verify-Email",component:(()=>{class n{constructor(t){this.menu=t,this.menu.enable(!1)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(jt._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-verify-email"]],decls:17,vars:3,consts:[[3,"translucent"],["slot","start"],["id","map",1,"d-flex","flex-column","align-items-center","justify-content-center","p-5"],[1,"mt-5","fs-1","mb-5"],[1,"mt-5"],[1,"mt-5","mb-5"],[1,"d-grid","gap-2","col-6","mx-auto","mt-5","mb-5"],["type","button","routerLinkActive","router-link-active",1,"fs-2","btn","btn-dark",3,"routerLink"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-back-button"),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5,"Verify Email"),v.qZA()()(),v.TgZ(6,"ion-content")(7,"div",2)(8,"h1",3),v._uU(9,"Account Not Verified"),v.qZA(),v.TgZ(10,"h4",4),v._uU(11,"Se ha enviado un correo de verificaci\xf3n a su email"),v.qZA(),v.TgZ(12,"h5",5),v._uU(13,"Por favor revisa tu bandeja de entrada o la carpeta de spam"),v.qZA(),v.TgZ(14,"div",6)(15,"button",7),v._uU(16,"Regresar"),v.qZA()()()()),2&t&&(v.Q6J("translucent",!0),v.xp6(15),v.Q6J("routerLink",v.DdM(2,LC)))},dependencies:[jt.oU,jt.Sm,jt.W2,jt.Gu,jt.wd,jt.sr,jt.cs,jt.YI,Vn.rH,Vn.Od],styles:["ion-content[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),n})()},{path:"Reset-Password",component:PC},{path:"folder/:id",loadChildren:()=>V.e(1910).then(V.bind(V,1910)).then(n=>n.FolderPageModule)},{path:"**",redirectTo:"Start",pathMatch:"full"}];let KD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[Vn.Bz.forRoot($C,{preloadingStrategy:Vn.wm}),Vn.Bz]}),n})();const Lw_firebaseConfig={apiKey:"AIzaSyDqPeVZmFzsZG5H02n7EYDX94bsCkaWeSY",authDomain:"meta-top.firebaseapp.com",databaseURL:"https://meta-top-default-rtdb.firebaseio.com",projectId:"meta-top",storageBucket:"meta-top.appspot.com",messagingSenderId:"780938226341",appId:"1:780938226341:web:6ca6f7bcd46ae21c7bfb4c"};var BC=V(5114);class $w{constructor(e){return e}}class ZD{constructor(){return(0,Cr.vb)("auth")}}const Bw=new v.OlP("angularfire2.auth-instances");function UC(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $w(r)}}const jC={provide:ZD,deps:[[new v.FiY,Bw]]},HC={provide:$w,useFactory:function VC(n,e){const t=(0,Cr.JM)("auth",n,e);return t&&new $w(t)},deps:[[new v.FiY,Bw],hd]};let zC=(()=>{class n{constructor(){(0,eu.KN)("angularfire",Cr.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[HC,jC]}),n})();function GC(n,...e){return{ngModule:zC,providers:[{provide:Bw,useFactory:UC(n),multi:!0,deps:[v.R0b,v.zs3,Cr.HU,kv,[new v.FiY,Yv],...e]}]}}const WC=(0,Cr.u3)(BC.n,!0);class Vw{constructor(e){return e}}const QD="firestore",Uw=new v.OlP("angularfire2.firestore-instances");function YC(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Vw(r)}}const ZC={provide:class qC{constructor(){return(0,Cr.vb)(QD)}},deps:[[new v.FiY,Uw]]},QC={provide:Vw,useFactory:function KC(n,e){const t=(0,Cr.JM)(QD,n,e);return t&&new Vw(t)},deps:[[new v.FiY,Uw],hd]};let XC=(()=>{class n{constructor(){(0,eu.KN)("angularfire",Cr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[QC,ZC]}),n})();function JC(n,...e){return{ngModule:XC,providers:[{provide:Uw,useFactory:YC(n),multi:!0,deps:[v.R0b,v.zs3,Cr.HU,kv,[new v.FiY,ZD],[new v.FiY,Yv],...e]}]}}const eT=(0,Cr.u3)(bf,!0),tT=function(n){return[n]};function nT(n,e){if(1&n&&(v.TgZ(0,"ion-menu-toggle",5)(1,"ion-item",6),v._UZ(2,"i",7),v.TgZ(3,"ion-label"),v._uU(4),v.qZA()()()),2&n){const t=e.$implicit;v.xp6(1),v.Q6J("routerLink",v.VKq(5,tT,t.url)),v.xp6(1),v.Tol(t.icon),v.xp6(2),v.Oqu(t.title)}}function rT(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"ion-menu-toggle",5)(1,"ion-item",8),v.NdJ("click",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.logout())}),v._UZ(2,"i",7),v.TgZ(3,"ion-label"),v._uU(4),v.qZA()()()}if(2&n){const t=e.$implicit;v.xp6(2),v.Tol(t.icon),v.xp6(2),v.Oqu(t.title)}}let iT=(()=>{class n{constructor(t,r,a,c,p){this.activatedRoute=t,this.router=r,this.authSvc=a,this.firestore=c,this.menu=p,this.appPages=[{title:"Home",url:"/folder/Home",icon:"fa-solid fa-house"},{title:"Hearthstone",url:"/folder/Hearthstone",icon:"fa-solid fa-hat-wizard"},{title:"MarvelSnap",url:"/folder/MarvelSnap",icon:"fa-solid fa-cube"},{title:"Location",url:"/folder/Location",icon:"fa-solid fa-location-crosshairs"}],this.logAction=[{title:"Logout",icon:"fa-solid fa-right-from-bracket"}],this.logged=!1,this.userInfo={uid:null,email:null,password:null,role:null},this.authSvc.getCurrentUser().subscribe(b=>{b&&1==b.emailVerified?(this.logged=!0,this.getDatosUser(b.uid)):this.logged=!1})}ngOnInit(){this.route=this.activatedRoute.snapshot.paramMap.get("id")}logout(){return(0,lr.mG)(this,void 0,void 0,function*(){try{this.router.navigate(["/Start"]),yield this.authSvc.logout(),this.menu.enable(!1)}catch(t){console.log(t)}})}getDatosUser(t){this.firestore.getDoc("Users",t).subscribe(c=>{c&&(this.userInfo=c)})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Vn.gz),v.Y36(Vn.F0),v.Y36(Fw),v.Y36(kw),v.Y36(jt._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-root"]],decls:12,vars:3,consts:[["contentId","main-content"],["side","start","menuId","main","contentId","main-content","type","overlay"],["id","home-list"],["auto-hide","false",4,"ngFor","ngForOf"],["id","main-content"],["auto-hide","false"],["button","","routerDirection","root","lines","none","detail","false","routerLinkActive","selected",1,"mt-3",3,"routerLink"],["aria-hidden","true","slot","start"],["button","","routerDirection","root","lines","none","detail","false","routerLinkActive","selected",1,"mt-3",3,"click"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2)(5,"ion-list-header"),v._uU(6,"Meta-Top"),v.qZA(),v.TgZ(7,"ion-note"),v._uU(8),v.qZA(),v.YNc(9,nT,5,7,"ion-menu-toggle",3),v.YNc(10,rT,5,4,"ion-menu-toggle",3),v.qZA()()(),v._UZ(11,"ion-router-outlet",4),v.qZA()()),2&t&&(v.xp6(8),v.Oqu(r.userInfo.email),v.xp6(1),v.Q6J("ngForOf",r.appPages),v.xp6(1),v.Q6J("ngForOf",r.logAction))},dependencies:[Ci.sg,jt.dr,jt.W2,jt.Ie,jt.Q$,jt.q_,jt.yh,jt.z0,jt.zc,jt.uN,jt.jI,jt.jP,jt.YI,Vn.rH,Vn.Od],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#home-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#home-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),n})(),sT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n,bootstrap:[iT]}),n.\u0275inj=v.cJS({providers:[{provide:Vn.wN,useClass:jt.r4},Fw],imports:[Ci.ez,l.b2,Gt,jt.Pc.forRoot(),KD,Wr.u5,Zv.Rh.forRoot(),Wr.UX,xs.hO.initializeApp(Lw_firebaseConfig),dC,_C,KD,GC(()=>WC()),YE(()=>Lv(Lw_firebaseConfig)),JC(()=>eT())]}),n})();(0,v.G48)(),l.q6().bootstrapModule(sT).catch(n=>console.log(n))},1135:(Ht,lt,V)=>{"use strict";V.d(lt,{X:()=>v});var l=V(7579);class v extends l.x{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const xe=super._subscribe(Ie);return!xe.closed&&Ie.next(this._value),xe}getValue(){const{hasError:Ie,thrownError:xe,_value:Oe}=this;if(Ie)throw xe;return this._throwIfClosed(),Oe}next(Ie){super.next(this._value=Ie)}}},9751:(Ht,lt,V)=>{"use strict";V.d(lt,{y:()=>Te});var l=V(2961),v=V(727),F=V(8822),Ie=V(9635),xe=V(2416),Oe=V(576),ge=V(2806);let Te=(()=>{class me{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const nt=new me;return nt.source=this,nt.operator=ke,nt}subscribe(ke,nt,yt){const De=function he(me){return me&&me instanceof l.Lv||function fe(me){return me&&(0,Oe.m)(me.next)&&(0,Oe.m)(me.error)&&(0,Oe.m)(me.complete)}(me)&&(0,v.Nn)(me)}(ke)?ke:new l.Hp(ke,nt,yt);return(0,ge.x)(()=>{const{operator:ue,source:Be}=this;De.add(ue?ue.call(De,Be):Be?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(ke){try{return this._subscribe(ke)}catch(nt){ke.error(nt)}}forEach(ke,nt){return new(nt=$e(nt))((yt,De)=>{const ue=new l.Hp({next:Be=>{try{ke(Be)}catch(Ze){De(Ze),ue.unsubscribe()}},error:De,complete:yt});this.subscribe(ue)})}_subscribe(ke){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(ke)}[F.L](){return this}pipe(...ke){return(0,Ie.U)(ke)(this)}toPromise(ke){return new(ke=$e(ke))((nt,yt)=>{let De;this.subscribe(ue=>De=ue,ue=>yt(ue),()=>nt(De))})}}return me.create=Ne=>new me(Ne),me})();function $e(me){var Ne;return null!==(Ne=null!=me?me:xe.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Ht,lt,V)=>{"use strict";V.d(lt,{x:()=>ge});var l=V(9751),v=V(727);const Ie=(0,V(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=V(8737),Oe=V(2806);let ge=(()=>{class $e extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const me=new Te(this,this);return me.operator=he,me}_throwIfClosed(){if(this.closed)throw new Ie}next(he){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(he)}})}error(he){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:me}=this;for(;me.length;)me.shift().error(he)}})}complete(){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:me,isStopped:Ne,observers:ke}=this;return me||Ne?v.Lc:(this.currentObservers=null,ke.push(he),new v.w0(()=>{this.currentObservers=null,(0,xe.P)(ke,he)}))}_checkFinalizedStatuses(he){const{hasError:me,thrownError:Ne,isStopped:ke}=this;me?he.error(Ne):ke&&he.complete()}asObservable(){const he=new l.y;return he.source=this,he}}return $e.create=(fe,he)=>new Te(fe,he),$e})();class Te extends ge{constructor(fe,he){super(),this.destination=fe,this.source=he}next(fe){var he,me;null===(me=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===me||me.call(he,fe)}error(fe){var he,me;null===(me=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===me||me.call(he,fe)}complete(){var fe,he;null===(he=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===he||he.call(fe)}_subscribe(fe){var he,me;return null!==(me=null===(he=this.source)||void 0===he?void 0:he.subscribe(fe))&&void 0!==me?me:v.Lc}}},2961:(Ht,lt,V)=>{"use strict";V.d(lt,{Hp:()=>yt,Lv:()=>me});var l=V(576),v=V(727),F=V(2416),Ie=V(7849);function xe(){}const Oe=$e("C",void 0,void 0);function $e(Ve,Ee,We){return{kind:Ve,value:Ee,error:We}}var fe=V(3410),he=V(2806);class me extends v.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,v.Nn)(Ee)&&Ee.add(this)):this.destination=Ze}static create(Ee,We,Ce){return new yt(Ee,We,Ce)}next(Ee){this.isStopped?Be(function Te(Ve){return $e("N",Ve,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Be(function ge(Ve){return $e("E",void 0,Ve)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Be(Oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function ke(Ve,Ee){return Ne.call(Ve,Ee)}class nt{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:We}=this;if(We.next)try{We.next(Ee)}catch(Ce){De(Ce)}}error(Ee){const{partialObserver:We}=this;if(We.error)try{We.error(Ee)}catch(Ce){De(Ce)}else De(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(We){De(We)}}}class yt extends me{constructor(Ee,We,Ce){let ie;if(super(),(0,l.m)(Ee)||!Ee)ie={next:null!=Ee?Ee:void 0,error:null!=We?We:void 0,complete:null!=Ce?Ce:void 0};else{let _e;this&&F.v.useDeprecatedNextContext?(_e=Object.create(Ee),_e.unsubscribe=()=>this.unsubscribe(),ie={next:Ee.next&&ke(Ee.next,_e),error:Ee.error&&ke(Ee.error,_e),complete:Ee.complete&&ke(Ee.complete,_e)}):ie=Ee}this.destination=new nt(ie)}}function De(Ve){F.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Ve):(0,Ie.h)(Ve)}function Be(Ve,Ee){const{onStoppedNotification:We}=F.v;We&&fe.z.setTimeout(()=>We(Ve,Ee))}const Ze={closed:!0,next:xe,error:function ue(Ve){throw Ve},complete:xe}},727:(Ht,lt,V)=>{"use strict";V.d(lt,{Lc:()=>Oe,w0:()=>xe,Nn:()=>ge});var l=V(576);const F=(0,V(3888).d)($e=>function(he){$e(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((me,Ne)=>`${Ne+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Ie=V(8737);class xe{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const ke of he)ke.remove(this);else he.remove(this);const{initialTeardown:me}=this;if((0,l.m)(me))try{me()}catch(ke){fe=ke instanceof F?ke.errors:[ke]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const ke of Ne)try{Te(ke)}catch(nt){fe=null!=fe?fe:[],nt instanceof F?fe=[...fe,...nt.errors]:fe.push(nt)}}if(fe)throw new F(fe)}}add(fe){var he;if(fe&&fe!==this)if(this.closed)Te(fe);else{if(fe instanceof xe){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(fe)}}_hasParent(fe){const{_parentage:he}=this;return he===fe||Array.isArray(he)&&he.includes(fe)}_addParent(fe){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(fe),he):he?[he,fe]:fe}_removeParent(fe){const{_parentage:he}=this;he===fe?this._parentage=null:Array.isArray(he)&&(0,Ie.P)(he,fe)}remove(fe){const{_finalizers:he}=this;he&&(0,Ie.P)(he,fe),fe instanceof xe&&fe._removeParent(this)}}xe.EMPTY=(()=>{const $e=new xe;return $e.closed=!0,$e})();const Oe=xe.EMPTY;function ge($e){return $e instanceof xe||$e&&"closed"in $e&&(0,l.m)($e.remove)&&(0,l.m)($e.add)&&(0,l.m)($e.unsubscribe)}function Te($e){(0,l.m)($e)?$e():$e.unsubscribe()}},2416:(Ht,lt,V)=>{"use strict";V.d(lt,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ht,lt,V)=>{"use strict";V.d(lt,{z:()=>xe});var l=V(8189),F=V(7669),Ie=V(8996);function xe(...Oe){return function v(){return(0,l.J)(1)}()((0,Ie.D)(Oe,(0,F.yG)(Oe)))}},515:(Ht,lt,V)=>{"use strict";V.d(lt,{E:()=>v});const v=new(V(9751).y)(xe=>xe.complete())},8996:(Ht,lt,V)=>{"use strict";V.d(lt,{D:()=>Ee});var l=V(8421),v=V(5363),F=V(9468),Oe=V(9751),Te=V(2202),$e=V(576),fe=V(9672);function me(We,Ce){if(!We)throw new Error("Iterable cannot be null");return new Oe.y(ie=>{(0,fe.f)(ie,Ce,()=>{const _e=We[Symbol.asyncIterator]();(0,fe.f)(ie,Ce,()=>{_e.next().then(ze=>{ze.done?ie.complete():ie.next(ze.value)})},0,!0)})})}var Ne=V(3670),ke=V(8239),nt=V(1144),yt=V(6495),De=V(2206),ue=V(4532),Be=V(3260);function Ee(We,Ce){return Ce?function Ve(We,Ce){if(null!=We){if((0,Ne.c)(We))return function Ie(We,Ce){return(0,l.Xf)(We).pipe((0,F.R)(Ce),(0,v.Q)(Ce))}(We,Ce);if((0,nt.z)(We))return function ge(We,Ce){return new Oe.y(ie=>{let _e=0;return Ce.schedule(function(){_e===We.length?ie.complete():(ie.next(We[_e++]),ie.closed||this.schedule())})})}(We,Ce);if((0,ke.t)(We))return function xe(We,Ce){return(0,l.Xf)(We).pipe((0,F.R)(Ce),(0,v.Q)(Ce))}(We,Ce);if((0,De.D)(We))return me(We,Ce);if((0,yt.T)(We))return function he(We,Ce){return new Oe.y(ie=>{let _e;return(0,fe.f)(ie,Ce,()=>{_e=We[Te.h](),(0,fe.f)(ie,Ce,()=>{let ze,Xe;try{({value:ze,done:Xe}=_e.next())}catch(je){return void ie.error(je)}Xe?ie.complete():ie.next(ze)},0,!0)}),()=>(0,$e.m)(null==_e?void 0:_e.return)&&_e.return()})}(We,Ce);if((0,Be.L)(We))return function Ze(We,Ce){return me((0,Be.Q)(We),Ce)}(We,Ce)}throw(0,ue.z)(We)}(We,Ce):(0,l.Xf)(We)}},8421:(Ht,lt,V)=>{"use strict";V.d(lt,{Xf:()=>Ne});var l=V(655),v=V(1144),F=V(8239),Ie=V(9751),xe=V(3670),Oe=V(2206),ge=V(4532),Te=V(6495),$e=V(3260),fe=V(576),he=V(7849),me=V(8822);function Ne(Ve){if(Ve instanceof Ie.y)return Ve;if(null!=Ve){if((0,xe.c)(Ve))return function ke(Ve){return new Ie.y(Ee=>{const We=Ve[me.L]();if((0,fe.m)(We.subscribe))return We.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,v.z)(Ve))return function nt(Ve){return new Ie.y(Ee=>{for(let We=0;We<Ve.length&&!Ee.closed;We++)Ee.next(Ve[We]);Ee.complete()})}(Ve);if((0,F.t)(Ve))return function yt(Ve){return new Ie.y(Ee=>{Ve.then(We=>{Ee.closed||(Ee.next(We),Ee.complete())},We=>Ee.error(We)).then(null,he.h)})}(Ve);if((0,Oe.D)(Ve))return ue(Ve);if((0,Te.T)(Ve))return function De(Ve){return new Ie.y(Ee=>{for(const We of Ve)if(Ee.next(We),Ee.closed)return;Ee.complete()})}(Ve);if((0,$e.L)(Ve))return function Be(Ve){return ue((0,$e.Q)(Ve))}(Ve)}throw(0,ge.z)(Ve)}function ue(Ve){return new Ie.y(Ee=>{(function Ze(Ve,Ee){var We,Ce,ie,_e;return(0,l.mG)(this,void 0,void 0,function*(){try{for(We=(0,l.KL)(Ve);!(Ce=yield We.next()).done;)if(Ee.next(Ce.value),Ee.closed)return}catch(ze){ie={error:ze}}finally{try{Ce&&!Ce.done&&(_e=We.return)&&(yield _e.call(We))}finally{if(ie)throw ie.error}}Ee.complete()})})(Ve,Ee).catch(We=>Ee.error(We))})}},6451:(Ht,lt,V)=>{"use strict";V.d(lt,{T:()=>Oe});var l=V(8189),v=V(8421),F=V(515),Ie=V(7669),xe=V(8996);function Oe(...ge){const Te=(0,Ie.yG)(ge),$e=(0,Ie._6)(ge,1/0),fe=ge;return fe.length?1===fe.length?(0,v.Xf)(fe[0]):(0,l.J)($e)((0,xe.D)(fe,Te)):F.E}},9646:(Ht,lt,V)=>{"use strict";V.d(lt,{of:()=>F});var l=V(7669),v=V(8996);function F(...Ie){const xe=(0,l.yG)(Ie);return(0,v.D)(Ie,xe)}},5403:(Ht,lt,V)=>{"use strict";V.d(lt,{x:()=>v});var l=V(2961);function v(Ie,xe,Oe,ge,Te){return new F(Ie,xe,Oe,ge,Te)}class F extends l.Lv{constructor(xe,Oe,ge,Te,$e,fe){super(xe),this.onFinalize=$e,this.shouldUnsubscribe=fe,this._next=Oe?function(he){try{Oe(he)}catch(me){xe.error(me)}}:super._next,this._error=Te?function(he){try{Te(he)}catch(me){xe.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(he){xe.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Oe}=this;super.unsubscribe(),!Oe&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},6590:(Ht,lt,V)=>{"use strict";V.d(lt,{d:()=>F});var l=V(4482),v=V(5403);function F(Ie){return(0,l.e)((xe,Oe)=>{let ge=!1;xe.subscribe((0,v.x)(Oe,Te=>{ge=!0,Oe.next(Te)},()=>{ge||Oe.next(Ie),Oe.complete()}))})}},1884:(Ht,lt,V)=>{"use strict";V.d(lt,{x:()=>Ie});var l=V(4671),v=V(4482),F=V(5403);function Ie(Oe,ge=l.y){return Oe=null!=Oe?Oe:xe,(0,v.e)((Te,$e)=>{let fe,he=!0;Te.subscribe((0,F.x)($e,me=>{const Ne=ge(me);(he||!Oe(fe,Ne))&&(he=!1,fe=Ne,$e.next(me))}))})}function xe(Oe,ge){return Oe===ge}},9300:(Ht,lt,V)=>{"use strict";V.d(lt,{h:()=>F});var l=V(4482),v=V(5403);function F(Ie,xe){return(0,l.e)((Oe,ge)=>{let Te=0;Oe.subscribe((0,v.x)(ge,$e=>Ie.call(xe,$e,Te++)&&ge.next($e)))})}},590:(Ht,lt,V)=>{"use strict";V.d(lt,{P:()=>ge});var l=V(6805),v=V(9300),F=V(5698),Ie=V(6590),xe=V(8068),Oe=V(4671);function ge(Te,$e){const fe=arguments.length>=2;return he=>he.pipe(Te?(0,v.h)((me,Ne)=>Te(me,Ne,he)):Oe.y,(0,F.q)(1),fe?(0,Ie.d)($e):(0,xe.T)(()=>new l.K))}},4004:(Ht,lt,V)=>{"use strict";V.d(lt,{U:()=>F});var l=V(4482),v=V(5403);function F(Ie,xe){return(0,l.e)((Oe,ge)=>{let Te=0;Oe.subscribe((0,v.x)(ge,$e=>{ge.next(Ie.call(xe,$e,Te++))}))})}},8189:(Ht,lt,V)=>{"use strict";V.d(lt,{J:()=>F});var l=V(5577),v=V(4671);function F(Ie=1/0){return(0,l.z)(v.y,Ie)}},5577:(Ht,lt,V)=>{"use strict";V.d(lt,{z:()=>Te});var l=V(4004),v=V(8421),F=V(4482),Ie=V(9672),xe=V(5403),ge=V(576);function Te($e,fe,he=1/0){return(0,ge.m)(fe)?Te((me,Ne)=>(0,l.U)((ke,nt)=>fe(me,ke,Ne,nt))((0,v.Xf)($e(me,Ne))),he):("number"==typeof fe&&(he=fe),(0,F.e)((me,Ne)=>function Oe($e,fe,he,me,Ne,ke,nt,yt){const De=[];let ue=0,Be=0,Ze=!1;const Ve=()=>{Ze&&!De.length&&!ue&&fe.complete()},Ee=Ce=>ue<me?We(Ce):De.push(Ce),We=Ce=>{ke&&fe.next(Ce),ue++;let ie=!1;(0,v.Xf)(he(Ce,Be++)).subscribe((0,xe.x)(fe,_e=>{null==Ne||Ne(_e),ke?Ee(_e):fe.next(_e)},()=>{ie=!0},void 0,()=>{if(ie)try{for(ue--;De.length&&ue<me;){const _e=De.shift();nt?(0,Ie.f)(fe,nt,()=>We(_e)):We(_e)}Ve()}catch(_e){fe.error(_e)}}))};return $e.subscribe((0,xe.x)(fe,Ee,()=>{Ze=!0,Ve()})),()=>{null==yt||yt()}}(me,Ne,$e,he)))}},5363:(Ht,lt,V)=>{"use strict";V.d(lt,{Q:()=>Ie});var l=V(9672),v=V(4482),F=V(5403);function Ie(xe,Oe=0){return(0,v.e)((ge,Te)=>{ge.subscribe((0,F.x)(Te,$e=>(0,l.f)(Te,xe,()=>Te.next($e),Oe),()=>(0,l.f)(Te,xe,()=>Te.complete(),Oe),$e=>(0,l.f)(Te,xe,()=>Te.error($e),Oe)))})}},5026:(Ht,lt,V)=>{"use strict";V.d(lt,{R:()=>Ie});var l=V(4482),v=V(5403);function Ie(xe,Oe){return(0,l.e)(function F(xe,Oe,ge,Te,$e){return(fe,he)=>{let me=ge,Ne=Oe,ke=0;fe.subscribe((0,v.x)(he,nt=>{const yt=ke++;Ne=me?xe(Ne,nt,yt):(me=!0,nt),Te&&he.next(Ne)},$e&&(()=>{me&&he.next(Ne),he.complete()})))}}(xe,Oe,arguments.length>=2,!0))}},3099:(Ht,lt,V)=>{"use strict";V.d(lt,{B:()=>xe});var l=V(8421),v=V(7579),F=V(2961),Ie=V(4482);function xe(ge={}){const{connector:Te=(()=>new v.x),resetOnError:$e=!0,resetOnComplete:fe=!0,resetOnRefCountZero:he=!0}=ge;return me=>{let Ne,ke,nt,yt=0,De=!1,ue=!1;const Be=()=>{null==ke||ke.unsubscribe(),ke=void 0},Ze=()=>{Be(),Ne=nt=void 0,De=ue=!1},Ve=()=>{const Ee=Ne;Ze(),null==Ee||Ee.unsubscribe()};return(0,Ie.e)((Ee,We)=>{yt++,!ue&&!De&&Be();const Ce=nt=null!=nt?nt:Te();We.add(()=>{yt--,0===yt&&!ue&&!De&&(ke=Oe(Ve,he))}),Ce.subscribe(We),!Ne&&yt>0&&(Ne=new F.Hp({next:ie=>Ce.next(ie),error:ie=>{ue=!0,Be(),ke=Oe(Ze,$e,ie),Ce.error(ie)},complete:()=>{De=!0,Be(),ke=Oe(Ze,fe),Ce.complete()}}),(0,l.Xf)(Ee).subscribe(Ne))})(me)}}function Oe(ge,Te,...$e){if(!0===Te)return void ge();if(!1===Te)return;const fe=new F.Hp({next:()=>{fe.unsubscribe(),ge()}});return Te(...$e).subscribe(fe)}},8675:(Ht,lt,V)=>{"use strict";V.d(lt,{O:()=>Ie});var l=V(7272),v=V(7669),F=V(4482);function Ie(...xe){const Oe=(0,v.yG)(xe);return(0,F.e)((ge,Te)=>{(Oe?(0,l.z)(xe,ge,Oe):(0,l.z)(xe,ge)).subscribe(Te)})}},9468:(Ht,lt,V)=>{"use strict";V.d(lt,{R:()=>v});var l=V(4482);function v(F,Ie=0){return(0,l.e)((xe,Oe)=>{Oe.add(F.schedule(()=>xe.subscribe(Oe),Ie))})}},3900:(Ht,lt,V)=>{"use strict";V.d(lt,{w:()=>Ie});var l=V(8421),v=V(4482),F=V(5403);function Ie(xe,Oe){return(0,v.e)((ge,Te)=>{let $e=null,fe=0,he=!1;const me=()=>he&&!$e&&Te.complete();ge.subscribe((0,F.x)(Te,Ne=>{null==$e||$e.unsubscribe();let ke=0;const nt=fe++;(0,l.Xf)(xe(Ne,nt)).subscribe($e=(0,F.x)(Te,yt=>Te.next(Oe?Oe(Ne,yt,nt,ke++):yt),()=>{$e=null,me()}))},()=>{he=!0,me()}))})}},5698:(Ht,lt,V)=>{"use strict";V.d(lt,{q:()=>Ie});var l=V(515),v=V(4482),F=V(5403);function Ie(xe){return xe<=0?()=>l.E:(0,v.e)((Oe,ge)=>{let Te=0;Oe.subscribe((0,F.x)(ge,$e=>{++Te<=xe&&(ge.next($e),xe<=Te&&ge.complete())}))})}},8505:(Ht,lt,V)=>{"use strict";V.d(lt,{b:()=>xe});var l=V(576),v=V(4482),F=V(5403),Ie=V(4671);function xe(Oe,ge,Te){const $e=(0,l.m)(Oe)||ge||Te?{next:Oe,error:ge,complete:Te}:Oe;return $e?(0,v.e)((fe,he)=>{var me;null===(me=$e.subscribe)||void 0===me||me.call($e);let Ne=!0;fe.subscribe((0,F.x)(he,ke=>{var nt;null===(nt=$e.next)||void 0===nt||nt.call($e,ke),he.next(ke)},()=>{var ke;Ne=!1,null===(ke=$e.complete)||void 0===ke||ke.call($e),he.complete()},ke=>{var nt;Ne=!1,null===(nt=$e.error)||void 0===nt||nt.call($e,ke),he.error(ke)},()=>{var ke,nt;Ne&&(null===(ke=$e.unsubscribe)||void 0===ke||ke.call($e)),null===(nt=$e.finalize)||void 0===nt||nt.call($e)}))}):Ie.y}},8068:(Ht,lt,V)=>{"use strict";V.d(lt,{T:()=>Ie});var l=V(6805),v=V(4482),F=V(5403);function Ie(Oe=xe){return(0,v.e)((ge,Te)=>{let $e=!1;ge.subscribe((0,F.x)(Te,fe=>{$e=!0,Te.next(fe)},()=>$e?Te.complete():Te.error(Oe())))})}function xe(){return new l.K}},4408:(Ht,lt,V)=>{"use strict";V.d(lt,{o:()=>xe});var l=V(727);class v extends l.w0{constructor(ge,Te){super()}schedule(ge,Te=0){return this}}const F={setInterval(Oe,ge,...Te){const{delegate:$e}=F;return null!=$e&&$e.setInterval?$e.setInterval(Oe,ge,...Te):setInterval(Oe,ge,...Te)},clearInterval(Oe){const{delegate:ge}=F;return((null==ge?void 0:ge.clearInterval)||clearInterval)(Oe)},delegate:void 0};var Ie=V(8737);class xe extends v{constructor(ge,Te){super(ge,Te),this.scheduler=ge,this.work=Te,this.pending=!1}schedule(ge,Te=0){var $e;if(this.closed)return this;this.state=ge;const fe=this.id,he=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(he,fe,Te)),this.pending=!0,this.delay=Te,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(he,this.id,Te),this}requestAsyncId(ge,Te,$e=0){return F.setInterval(ge.flush.bind(ge,this),$e)}recycleAsyncId(ge,Te,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return Te;null!=Te&&F.clearInterval(Te)}execute(ge,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(ge,Te);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Te){let fe,$e=!1;try{this.work(ge)}catch(he){$e=!0,fe=he||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Te}=this,{actions:$e}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)($e,this),null!=ge&&(this.id=this.recycleAsyncId(Te,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ht,lt,V)=>{"use strict";V.d(lt,{v:()=>F});var l=V(6063);class v{constructor(xe,Oe=v.now){this.schedulerActionCtor=xe,this.now=Oe}schedule(xe,Oe=0,ge){return new this.schedulerActionCtor(this,xe).schedule(ge,Oe)}}v.now=l.l.now;class F extends v{constructor(xe,Oe=v.now){super(xe,Oe),this.actions=[],this._active=!1}flush(xe){const{actions:Oe}=this;if(this._active)return void Oe.push(xe);let ge;this._active=!0;do{if(ge=xe.execute(xe.state,xe.delay))break}while(xe=Oe.shift());if(this._active=!1,ge){for(;xe=Oe.shift();)xe.unsubscribe();throw ge}}}},4986:(Ht,lt,V)=>{"use strict";V.d(lt,{z:()=>F});var l=V(4408);const F=new(V(7565).v)(l.o)},6063:(Ht,lt,V)=>{"use strict";V.d(lt,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Ht,lt,V)=>{"use strict";V.d(lt,{z:()=>l});const l={setTimeout(v,F,...Ie){const{delegate:xe}=l;return null!=xe&&xe.setTimeout?xe.setTimeout(v,F,...Ie):setTimeout(v,F,...Ie)},clearTimeout(v){const{delegate:F}=l;return((null==F?void 0:F.clearTimeout)||clearTimeout)(v)},delegate:void 0}},2202:(Ht,lt,V)=>{"use strict";V.d(lt,{h:()=>v});const v=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ht,lt,V)=>{"use strict";V.d(lt,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ht,lt,V)=>{"use strict";V.d(lt,{K:()=>v});const v=(0,V(3888).d)(F=>function(){F(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Ht,lt,V)=>{"use strict";V.d(lt,{_6:()=>Oe,jO:()=>Ie,yG:()=>xe});var l=V(576);function F(ge){return ge[ge.length-1]}function Ie(ge){return(0,l.m)(F(ge))?ge.pop():void 0}function xe(ge){return function v(ge){return ge&&(0,l.m)(ge.schedule)}(F(ge))?ge.pop():void 0}function Oe(ge,Te){return"number"==typeof F(ge)?ge.pop():Te}},4742:(Ht,lt,V)=>{"use strict";V.d(lt,{D:()=>xe});const{isArray:l}=Array,{getPrototypeOf:v,prototype:F,keys:Ie}=Object;function xe(ge){if(1===ge.length){const Te=ge[0];if(l(Te))return{args:Te,keys:null};if(function Oe(ge){return ge&&"object"==typeof ge&&v(ge)===F}(Te)){const $e=Ie(Te);return{args:$e.map(fe=>Te[fe]),keys:$e}}}return{args:ge,keys:null}}},8737:(Ht,lt,V)=>{"use strict";function l(v,F){if(v){const Ie=v.indexOf(F);0<=Ie&&v.splice(Ie,1)}}V.d(lt,{P:()=>l})},3888:(Ht,lt,V)=>{"use strict";function l(v){const Ie=v(xe=>{Error.call(xe),xe.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}V.d(lt,{d:()=>l})},1810:(Ht,lt,V)=>{"use strict";function l(v,F){return v.reduce((Ie,xe,Oe)=>(Ie[xe]=F[Oe],Ie),{})}V.d(lt,{n:()=>l})},2806:(Ht,lt,V)=>{"use strict";V.d(lt,{O:()=>Ie,x:()=>F});var l=V(2416);let v=null;function F(xe){if(l.v.useDeprecatedSynchronousErrorHandling){const Oe=!v;if(Oe&&(v={errorThrown:!1,error:null}),xe(),Oe){const{errorThrown:ge,error:Te}=v;if(v=null,ge)throw Te}}else xe()}function Ie(xe){l.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=xe)}},9672:(Ht,lt,V)=>{"use strict";function l(v,F,Ie,xe=0,Oe=!1){const ge=F.schedule(function(){Ie(),Oe?v.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(v.add(ge),!Oe)return ge}V.d(lt,{f:()=>l})},4671:(Ht,lt,V)=>{"use strict";function l(v){return v}V.d(lt,{y:()=>l})},1144:(Ht,lt,V)=>{"use strict";V.d(lt,{z:()=>l});const l=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(Ht,lt,V)=>{"use strict";V.d(lt,{D:()=>v});var l=V(576);function v(F){return Symbol.asyncIterator&&(0,l.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(Ht,lt,V)=>{"use strict";function l(v){return"function"==typeof v}V.d(lt,{m:()=>l})},3670:(Ht,lt,V)=>{"use strict";V.d(lt,{c:()=>F});var l=V(8822),v=V(576);function F(Ie){return(0,v.m)(Ie[l.L])}},6495:(Ht,lt,V)=>{"use strict";V.d(lt,{T:()=>F});var l=V(2202),v=V(576);function F(Ie){return(0,v.m)(null==Ie?void 0:Ie[l.h])}},8239:(Ht,lt,V)=>{"use strict";V.d(lt,{t:()=>v});var l=V(576);function v(F){return(0,l.m)(null==F?void 0:F.then)}},3260:(Ht,lt,V)=>{"use strict";V.d(lt,{L:()=>Ie,Q:()=>F});var l=V(655),v=V(576);function F(xe){return(0,l.FC)(this,arguments,function*(){const ge=xe.getReader();try{for(;;){const{value:Te,done:$e}=yield(0,l.qq)(ge.read());if($e)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Te)}}finally{ge.releaseLock()}})}function Ie(xe){return(0,v.m)(null==xe?void 0:xe.getReader)}},4482:(Ht,lt,V)=>{"use strict";V.d(lt,{A:()=>v,e:()=>F});var l=V(576);function v(Ie){return(0,l.m)(null==Ie?void 0:Ie.lift)}function F(Ie){return xe=>{if(v(xe))return xe.lift(function(Oe){try{return Ie(Oe,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ht,lt,V)=>{"use strict";V.d(lt,{Z:()=>Ie});var l=V(4004);const{isArray:v}=Array;function Ie(xe){return(0,l.U)(Oe=>function F(xe,Oe){return v(Oe)?xe(...Oe):xe(Oe)}(xe,Oe))}},9635:(Ht,lt,V)=>{"use strict";V.d(lt,{U:()=>F,z:()=>v});var l=V(4671);function v(...Ie){return F(Ie)}function F(Ie){return 0===Ie.length?l.y:1===Ie.length?Ie[0]:function(Oe){return Ie.reduce((ge,Te)=>Te(ge),Oe)}}},7849:(Ht,lt,V)=>{"use strict";V.d(lt,{h:()=>F});var l=V(2416),v=V(3410);function F(Ie){v.z.setTimeout(()=>{const{onUnhandledError:xe}=l.v;if(!xe)throw Ie;xe(Ie)})}},4532:(Ht,lt,V)=>{"use strict";function l(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(lt,{z:()=>l})},863:(Ht,lt,V)=>{var l={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function v(F){if(!V.o(l,F))return Promise.resolve().then(()=>{var Oe=new Error("Cannot find module '"+F+"'");throw Oe.code="MODULE_NOT_FOUND",Oe});var Ie=l[F],xe=Ie[0];return Promise.all(Ie.slice(1).map(V.e)).then(()=>V(xe))}v.keys=()=>Object.keys(l),v.id=863,Ht.exports=v},655:(Ht,lt,V)=>{"use strict";function Ie(Fe,at){var ut={};for(var Me in Fe)Object.prototype.hasOwnProperty.call(Fe,Me)&&at.indexOf(Me)<0&&(ut[Me]=Fe[Me]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(Me=Object.getOwnPropertySymbols(Fe);Se<Me.length;Se++)at.indexOf(Me[Se])<0&&Object.prototype.propertyIsEnumerable.call(Fe,Me[Se])&&(ut[Me[Se]]=Fe[Me[Se]])}return ut}function xe(Fe,at,ut,Me){var tt,Se=arguments.length,Pe=Se<3?at:null===Me?Me=Object.getOwnPropertyDescriptor(at,ut):Me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(Fe,at,ut,Me);else for(var ce=Fe.length-1;ce>=0;ce--)(tt=Fe[ce])&&(Pe=(Se<3?tt(Pe):Se>3?tt(at,ut,Pe):tt(at,ut))||Pe);return Se>3&&Pe&&Object.defineProperty(at,ut,Pe),Pe}function me(Fe,at,ut,Me){return new(ut||(ut=Promise))(function(Pe,tt){function ce(be){try{ee(Me.next(be))}catch(et){tt(et)}}function Re(be){try{ee(Me.throw(be))}catch(et){tt(et)}}function ee(be){be.done?Pe(be.value):function Se(Pe){return Pe instanceof ut?Pe:new ut(function(tt){tt(Pe)})}(be.value).then(ce,Re)}ee((Me=Me.apply(Fe,at||[])).next())})}function Ve(Fe){return this instanceof Ve?(this.v=Fe,this):new Ve(Fe)}function Ee(Fe,at,ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,Me=ut.apply(Fe,at||[]),Pe=[];return Se={},tt("next"),tt("throw"),tt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function tt(gt){Me[gt]&&(Se[gt]=function(Xt){return new Promise(function(vt,en){Pe.push([gt,Xt,vt,en])>1||ce(gt,Xt)})})}function ce(gt,Xt){try{!function Re(gt){gt.value instanceof Ve?Promise.resolve(gt.value.v).then(ee,be):et(Pe[0][2],gt)}(Me[gt](Xt))}catch(vt){et(Pe[0][3],vt)}}function ee(gt){ce("next",gt)}function be(gt){ce("throw",gt)}function et(gt,Xt){gt(Xt),Pe.shift(),Pe.length&&ce(Pe[0][0],Pe[0][1])}}function Ce(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,at=Fe[Symbol.asyncIterator];return at?at.call(Fe):(Fe=function yt(Fe){var at="function"==typeof Symbol&&Symbol.iterator,ut=at&&Fe[at],Me=0;if(ut)return ut.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&Me>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Me++],done:!Fe}}};throw new TypeError(at?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),ut={},Me("next"),Me("throw"),Me("return"),ut[Symbol.asyncIterator]=function(){return this},ut);function Me(Pe){ut[Pe]=Fe[Pe]&&function(tt){return new Promise(function(ce,Re){!function Se(Pe,tt,ce,Re){Promise.resolve(Re).then(function(ee){Pe({value:ee,done:ce})},tt)}(ce,Re,(tt=Fe[Pe](tt)).done,tt.value)})}}}V.d(lt,{FC:()=>Ee,KL:()=>Ce,_T:()=>Ie,gn:()=>xe,mG:()=>me,qq:()=>Ve})},7340:(Ht,lt,V)=>{"use strict";V.d(lt,{LC:()=>v,SB:()=>$e,X$:()=>Ie,ZE:()=>Be,ZN:()=>ue,_j:()=>l,eR:()=>he,jt:()=>xe,k1:()=>Ze,l3:()=>F,oB:()=>Te,vP:()=>ge});class l{}class v{}const F="*";function Ie(Ve,Ee){return{type:7,name:Ve,definitions:Ee,options:{}}}function xe(Ve,Ee=null){return{type:4,styles:Ee,timings:Ve}}function ge(Ve,Ee=null){return{type:2,steps:Ve,options:Ee}}function Te(Ve){return{type:6,styles:Ve,offset:null}}function $e(Ve,Ee,We){return{type:0,name:Ve,styles:Ee,options:We}}function he(Ve,Ee,We=null){return{type:1,expr:Ve,animation:Ee,options:We}}function De(Ve){Promise.resolve().then(Ve)}class ue{constructor(Ee=0,We=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ee+We}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}onStart(Ee){this._originalOnStartFns.push(Ee),this._onStartFns.push(Ee)}onDone(Ee){this._originalOnDoneFns.push(Ee),this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){De(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ee){this._position=this.totalTime?Ee*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ee){const We="start"==Ee?this._onStartFns:this._onDoneFns;We.forEach(Ce=>Ce()),We.length=0}}class Be{constructor(Ee){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ee;let We=0,Ce=0,ie=0;const _e=this.players.length;0==_e?De(()=>this._onFinish()):this.players.forEach(ze=>{ze.onDone(()=>{++We==_e&&this._onFinish()}),ze.onDestroy(()=>{++Ce==_e&&this._onDestroy()}),ze.onStart(()=>{++ie==_e&&this._onStart()})}),this.totalTime=this.players.reduce((ze,Xe)=>Math.max(ze,Xe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ee=>Ee()),this._onDoneFns=[])}init(){this.players.forEach(Ee=>Ee.init())}onStart(Ee){this._onStartFns.push(Ee)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ee=>Ee()),this._onStartFns=[])}onDone(Ee){this._onDoneFns.push(Ee)}onDestroy(Ee){this._onDestroyFns.push(Ee)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ee=>Ee.play())}pause(){this.players.forEach(Ee=>Ee.pause())}restart(){this.players.forEach(Ee=>Ee.restart())}finish(){this._onFinish(),this.players.forEach(Ee=>Ee.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ee=>Ee.destroy()),this._onDestroyFns.forEach(Ee=>Ee()),this._onDestroyFns=[])}reset(){this.players.forEach(Ee=>Ee.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ee){const We=Ee*this.totalTime;this.players.forEach(Ce=>{const ie=Ce.totalTime?Math.min(1,We/Ce.totalTime):1;Ce.setPosition(ie)})}getPosition(){const Ee=this.players.reduce((We,Ce)=>null===We||Ce.totalTime>We.totalTime?Ce:We,null);return null!=Ee?Ee.getPosition():0}beforeDestroy(){this.players.forEach(Ee=>{Ee.beforeDestroy&&Ee.beforeDestroy()})}triggerCallback(Ee){const We="start"==Ee?this._onStartFns:this._onDoneFns;We.forEach(Ce=>Ce()),We.length=0}}const Ze="!"},6895:(Ht,lt,V)=>{"use strict";V.d(lt,{Do:()=>Be,EM:()=>Ts,HT:()=>Ie,JF:()=>Zi,K0:()=>Oe,Mx:()=>ts,O5:()=>rt,PM:()=>Bi,S$:()=>yt,V_:()=>$e,Ye:()=>Ze,b0:()=>ue,bD:()=>wi,ez:()=>ho,q:()=>F,sg:()=>K,tP:()=>fi,w_:()=>xe});var l=V(4650);let v=null;function F(){return v}function Ie(R){v||(v=R)}class xe{}const Oe=new l.OlP("DocumentToken");let ge=(()=>{class R{historyGo(N){throw new Error("Not implemented")}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275prov=l.Yz7({token:R,factory:function(){return function Te(){return(0,l.LFG)(fe)}()},providedIn:"platform"}),R})();const $e=new l.OlP("Location Initialized");let fe=(()=>{class R extends ge{constructor(N){super(),this._doc=N,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(N){const W=F().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",N,!1),()=>W.removeEventListener("popstate",N)}onHashChange(N){const W=F().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",N,!1),()=>W.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,W,pe){he()?this._history.pushState(N,W,pe):this._location.hash=pe}replaceState(N,W,pe){he()?this._history.replaceState(N,W,pe):this._location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return R.\u0275fac=function(N){return new(N||R)(l.LFG(Oe))},R.\u0275prov=l.Yz7({token:R,factory:function(){return function me(){return new fe((0,l.LFG)(Oe))}()},providedIn:"platform"}),R})();function he(){return!!window.history.pushState}function Ne(R,U){if(0==R.length)return U;if(0==U.length)return R;let N=0;return R.endsWith("/")&&N++,U.startsWith("/")&&N++,2==N?R+U.substring(1):1==N?R+U:R+"/"+U}function ke(R){const U=R.match(/#|\?|$/),N=U&&U.index||R.length;return R.slice(0,N-("/"===R[N-1]?1:0))+R.slice(N)}function nt(R){return R&&"?"!==R[0]?"?"+R:R}let yt=(()=>{class R{historyGo(N){throw new Error("Not implemented")}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275prov=l.Yz7({token:R,factory:function(){return(0,l.f3M)(ue)},providedIn:"root"}),R})();const De=new l.OlP("appBaseHref");let ue=(()=>{class R extends yt{constructor(N,W){var pe,ct,xt;super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=null!==(pe=null!==(ct=null!=W?W:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ct?ct:null===(xt=(0,l.f3M)(Oe).location)||void 0===xt?void 0:xt.origin)&&void 0!==pe?pe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Ne(this._baseHref,N)}path(N=!1){const W=this._platformLocation.pathname+nt(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&N?`${W}${pe}`:W}pushState(N,W,pe,ct){const xt=this.prepareExternalUrl(pe+nt(ct));this._platformLocation.pushState(N,W,xt)}replaceState(N,W,pe,ct){const xt=this.prepareExternalUrl(pe+nt(ct));this._platformLocation.replaceState(N,W,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){var W,pe;null===(W=(pe=this._platformLocation).historyGo)||void 0===W||W.call(pe,N)}}return R.\u0275fac=function(N){return new(N||R)(l.LFG(ge),l.LFG(De,8))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Be=(()=>{class R extends yt{constructor(N,W){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(N){const W=Ne(this._baseHref,N);return W.length>0?"#"+W:W}pushState(N,W,pe,ct){let xt=this.prepareExternalUrl(pe+nt(ct));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.pushState(N,W,xt)}replaceState(N,W,pe,ct){let xt=this.prepareExternalUrl(pe+nt(ct));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.replaceState(N,W,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){var W,pe;null===(W=(pe=this._platformLocation).historyGo)||void 0===W||W.call(pe,N)}}return R.\u0275fac=function(N){return new(N||R)(l.LFG(ge),l.LFG(De,8))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac}),R})(),Ze=(()=>{class R{constructor(N){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const W=this._locationStrategy.getBaseHref();this._basePath=function Ce(R){if(new RegExp("^(https?:)?//").test(R)){const[,N]=R.split(/\/\/[^\/]+/);return N}return R}(ke(We(W))),this._locationStrategy.onPopState(pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:pe.state,type:pe.type})})}ngOnDestroy(){var N;null===(N=this._urlChangeSubscription)||void 0===N||N.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,W=""){return this.path()==this.normalize(N+nt(W))}normalize(N){return R.stripTrailingSlash(function Ee(R,U){if(!R||!U.startsWith(R))return U;const N=U.substring(R.length);return""===N||["/",";","?","#"].includes(N[0])?N:U}(this._basePath,We(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,W="",pe=null){this._locationStrategy.pushState(pe,"",N,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+nt(W)),pe)}replaceState(N,W="",pe=null){this._locationStrategy.replaceState(pe,"",N,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+nt(W)),pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){var W,pe;null===(W=(pe=this._locationStrategy).historyGo)||void 0===W||W.call(pe,N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(N);var pe;this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(null===(pe=this._urlChangeSubscription)||void 0===pe||pe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",W){this._urlChangeListeners.forEach(pe=>pe(N,W))}subscribe(N,W,pe){return this._subject.subscribe({next:N,error:W,complete:pe})}}return R.normalizeQueryParams=nt,R.joinWithSlash=Ne,R.stripTrailingSlash=ke,R.\u0275fac=function(N){return new(N||R)(l.LFG(yt))},R.\u0275prov=l.Yz7({token:R,factory:function(){return function Ve(){return new Ze((0,l.LFG)(yt))}()},providedIn:"root"}),R})();function We(R){return R.replace(/\/index.html$/,"")}function ts(R,U){U=encodeURIComponent(U);for(const N of R.split(";")){const W=N.indexOf("="),[pe,ct]=-1==W?[N,""]:[N.slice(0,W),N.slice(W+1)];if(pe.trim()===U)return decodeURIComponent(ct)}return null}class xi{constructor(U,N,W,pe){this.$implicit=U,this.ngForOf=N,this.index=W,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let K=(()=>{class R{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,W,pe){this._viewContainer=N,this._template=W,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const W=this._viewContainer;N.forEachOperation((pe,ct,xt)=>{if(null==pe.previousIndex)W.createEmbeddedView(this._template,new xi(pe.item,this._ngForOf,-1,-1),null===xt?void 0:xt);else if(null==xt)W.remove(null===ct?void 0:ct);else if(null!==ct){const pn=W.get(ct);W.move(pn,xt),le(pn,pe)}});for(let pe=0,ct=W.length;pe<ct;pe++){const pn=W.get(pe).context;pn.index=pe,pn.count=ct,pn.ngForOf=this._ngForOf}N.forEachIdentityChange(pe=>{le(W.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(N,W){return!0}}return R.\u0275fac=function(N){return new(N||R)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function le(R,U){R.context.$implicit=U.item}let rt=(()=>{class R{constructor(N,W){this._viewContainer=N,this._context=new It,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){te("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){te("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,W){return!0}}return R.\u0275fac=function(N){return new(N||R)(l.Y36(l.s_b),l.Y36(l.Rgc))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class It{constructor(){this.$implicit=null,this.ngIf=null}}function te(R,U){if(U&&!U.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,l.AaK)(U)}'.`)}let fi=(()=>{class R{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(N.ngTemplateOutlet||N.ngTemplateOutletInjector){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:pe,ngTemplateOutletContext:ct,ngTemplateOutletInjector:xt}=this;this._viewRef=W.createEmbeddedView(pe,ct,xt?{injector:xt}:void 0)}else this._viewRef=null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(N){return new(N||R)(l.Y36(l.s_b))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),R})(),ho=(()=>{class R{}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=l.oAB({type:R}),R.\u0275inj=l.cJS({}),R})();const wi="browser",So="server";function Bi(R){return R===So}let Ts=(()=>{class R{}return R.\u0275prov=(0,l.Yz7)({token:R,providedIn:"root",factory:()=>new Bs((0,l.LFG)(Oe),window)}),R})();class Bs{constructor(U,N){this.document=U,this.window=N,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const N=function ss(R,U){const N=R.getElementById(U)||R.getElementsByName(U)[0];if(N)return N;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const W=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let pe=W.currentNode;for(;pe;){const ct=pe.shadowRoot;if(ct){const xt=ct.getElementById(U)||ct.querySelector(`[name="${U}"]`);if(xt)return xt}pe=W.nextNode()}}return null}(this.document,U);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=U)}}scrollToElement(U){const N=U.getBoundingClientRect(),W=N.left+this.window.pageXOffset,pe=N.top+this.window.pageYOffset,ct=this.offset();this.window.scrollTo(W-ct[0],pe-ct[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=Di(this.window.history)||Di(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch(U){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(U){return!1}}}function Di(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Zi{}},4650:(Ht,lt,V)=>{"use strict";V.d(lt,{$8M:()=>Za,$WT:()=>xr,$Z:()=>$_,AFp:()=>rw,AaK:()=>Te,BQk:()=>Sl,CHM:()=>f,CRH:()=>dv,CZH:()=>Cg,CqO:()=>Kc,D6c:()=>Aw,DdM:()=>_E,EJc:()=>aw,EiD:()=>Ad,EpF:()=>qm,F$t:()=>Km,F4k:()=>p0,FYo:()=>gm,FiY:()=>di,G48:()=>_w,Gf:()=>Tf,GfV:()=>ym,GkF:()=>lc,Gpc:()=>he,Hsn:()=>E0,JOm:()=>il,JVY:()=>d_,JZr:()=>yt,KtG:()=>M,L6k:()=>br,LAX:()=>h_,LFG:()=>kt,LSH:()=>om,Lbi:()=>Dv,Lck:()=>Xy,MMx:()=>ev,NdJ:()=>kp,OlP:()=>$r,Oqu:()=>bo,P3R:()=>m_,PXZ:()=>Fv,Q6J:()=>qc,QGY:()=>bu,QbO:()=>UE,Qsj:()=>mm,R0b:()=>wo,RDi:()=>kn,Rgc:()=>fc,SBq:()=>kc,Sil:()=>HE,Suo:()=>Sf,TTD:()=>Ts,TgZ:()=>$o,Tol:()=>ly,Udp:()=>sf,VKq:()=>Ef,X6Q:()=>Bv,XFs:()=>Nt,Xpm:()=>vr,Xts:()=>np,Y36:()=>Pa,YKP:()=>sd,YNc:()=>Wm,Yjl:()=>Fi,Yz7:()=>et,Z0I:()=>en,ZZ4:()=>Bg,_Bn:()=>hg,_UZ:()=>qd,_Vd:()=>Nr,_c5:()=>Kv,_uU:()=>N0,aQg:()=>qv,c2e:()=>kf,cJS:()=>Xt,cg1:()=>hf,d8E:()=>Dy,dDg:()=>dw,dqk:()=>yn,eBb:()=>Sd,eFA:()=>YE,eJc:()=>hv,ekj:()=>Zd,eoX:()=>WE,f3M:()=>Qt,g9A:()=>VE,h0i:()=>id,hGG:()=>lb,hij:()=>Gp,iGM:()=>ME,ifc:()=>Z,ip1:()=>BE,jDz:()=>fE,kL8:()=>Xp,lG2:()=>ds,lqb:()=>pu,lri:()=>xu,mCW:()=>on,n5z:()=>vl,oAB:()=>Ur,oJD:()=>im,oxw:()=>_0,pB0:()=>Ji,q3G:()=>Si,q4F:()=>D_,qLn:()=>Od,qOj:()=>Zh,qZA:()=>ef,qzn:()=>Mh,rWj:()=>GE,s9C:()=>Lp,sBO:()=>Ew,s_b:()=>od,soG:()=>Tg,tb:()=>hd,tp0:()=>B,uIk:()=>Hm,vHH:()=>De,vpe:()=>Io,wAp:()=>qn,xp6:()=>Fd,ynx:()=>tf,z2F:()=>Rg,z3N:()=>cu,zSh:()=>ll,zs3:()=>nc});var l=V(7579),v=V(727),F=V(9751),Ie=V(6451),xe=V(3099);function Oe(i){for(let s in i)if(i[s]===Oe)return s;throw Error("Could not find renamed property on target object.")}function ge(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Te(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Te).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function $e(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const fe=Oe({__forward_ref__:Oe});function he(i){return i.__forward_ref__=he,i.toString=function(){return Te(this())},i}function me(i){return Ne(i)?i():i}function Ne(i){return"function"==typeof i&&i.hasOwnProperty(fe)&&i.__forward_ref__===he}function ke(i){return i&&!!i.\u0275providers}const yt="https://g.co/ng/security#xss";class De extends Error{constructor(s,o){super(ue(s,o)),this.code=s}}function ue(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function Be(i){return"string"==typeof i?i:null==i?"":String(i)}function Ce(i,s){throw new De(-201,!1)}function tt(i,s){null==i&&function ce(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function et(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xt(i){return{providers:i.providers||[],imports:i.imports||[]}}function vt(i){return En(i,yr)||En(i,xn)}function en(i){return null!==vt(i)}function En(i,s){return i.hasOwnProperty(s)?i[s]:null}function zn(i){return i&&(i.hasOwnProperty(wr)||i.hasOwnProperty(hr))?i[wr]:null}const yr=Oe({\u0275prov:Oe}),wr=Oe({\u0275inj:Oe}),xn=Oe({ngInjectableDef:Oe}),hr=Oe({ngInjectorDef:Oe});var Nt=(()=>((Nt=Nt||{})[Nt.Default=0]="Default",Nt[Nt.Host=1]="Host",Nt[Nt.Self=2]="Self",Nt[Nt.SkipSelf=4]="SkipSelf",Nt[Nt.Optional=8]="Optional",Nt))();let Yn;function Sr(i){const s=Yn;return Yn=i,s}function Br(i,s,o){const u=vt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Nt.Optional?null:void 0!==s?s:void Ce(Te(i))}const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cn={},Pr="__NG_DI_FLAG__",Rt="ngTempTokenPath",qr="ngTokenPath",oi=/\n/gm,An="\u0275",Zr="__source";let In;function bn(i){const s=In;return In=i,s}function Dr(i,s=Nt.Default){if(void 0===In)throw new De(-203,!1);return null===In?Br(i,void 0,s):In.get(i,s&Nt.Optional?null:void 0,s)}function kt(i,s=Nt.Default){return(function tr(){return Yn}()||Dr)(me(i),s)}function Qt(i,s=Nt.Default){return kt(i,fn(s))}function fn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function vn(i){const s=[];for(let o=0;o<i.length;o++){const u=me(i[o]);if(Array.isArray(u)){if(0===u.length)throw new De(900,!1);let h,g=Nt.Default;for(let I=0;I<u.length;I++){const A=u[I],O=or(A);"number"==typeof O?-1===O?h=A.token:g|=O:h=A}s.push(kt(h,g))}else s.push(kt(u))}return s}function Rn(i,s){return i[Pr]=s,i.prototype[Pr]=s,i}function or(i){return i[Pr]}function X(i){return{toString:i}.toString()}var ne=(()=>((ne=ne||{})[ne.OnPush=0]="OnPush",ne[ne.Default=1]="Default",ne))(),Z=(()=>{return(i=Z||(Z={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Z;var i})();const Qe={},se=[],ve=Oe({\u0275cmp:Oe}),re=Oe({\u0275dir:Oe}),Le=Oe({\u0275pipe:Oe}),ht=Oe({\u0275mod:Oe}),St=Oe({\u0275fac:Oe}),nn=Oe({__NG_ELEMENT_ID__:Oe});let an=0;function vr(i){return X(()=>{const s=Rr(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ne.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||Z.Emulated,id:"c"+an++,styles:i.styles||se,_:null,schemas:i.schemas||null,tView:null};ts(o);const u=i.dependencies;return o.directiveDefs=gi(u,!1),o.pipeDefs=gi(u,!0),o})}function bi(i){return Ln(i)||Fr(i)}function Vr(i){return null!==i}function Ur(i){return X(()=>({type:i.type,bootstrap:i.bootstrap||se,declarations:i.declarations||se,imports:i.imports||se,exports:i.exports||se,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ei(i,s){if(null==i)return Qe;const o={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),o[h]=u,s&&(s[h]=g)}return o}function ds(i){return X(()=>{const s=Rr(i);return ts(s),s})}function Fi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ln(i){return i[ve]||null}function Fr(i){return i[re]||null}function Tr(i){return i[Le]||null}function xr(i){const s=Ln(i)||Fr(i)||Tr(i);return null!==s&&s.standalone}function jr(i,s){const o=i[ht]||null;if(!o&&!0===s)throw new Error(`Type ${Te(i)} does not have '\u0275mod' property.`);return o}function Rr(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||se,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ei(i.inputs,s),outputs:ei(i.outputs)}}function ts(i){var s;null===(s=i.features)||void 0===s||s.forEach(o=>o(i))}function gi(i,s){if(!i)return null;const o=s?Tr:bi;return()=>("function"==typeof i?i():i).map(u=>o(u)).filter(Vr)}const ai=0,zt=1,On=2,Ar=3,Hr=4,xi=5,K=6,le=7,Ue=8,rt=9,It=10,te=11,Ge=12,st=13,Et=14,Dt=15,Bt=16,rn=17,Dn=18,Gn=19,fi=20,Ri=21,wn=22,hs=1,ns=2,fs=7,qi=8,ps=9,Oi=10;function _i(i){return Array.isArray(i)&&"object"==typeof i[hs]}function li(i){return Array.isArray(i)&&!0===i[hs]}function Vo(i){return 0!=(4&i.flags)}function Do(i){return i.componentOffset>-1}function Li(i){return 1==(1&i.flags)}function Ki(i){return!!i.template}function Zs(i){return 0!=(256&i[On])}function ti(i,s){return i.hasOwnProperty(St)?i[St]:null}class Cs{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ts(){return Bs}function Bs(i){return i.type.prototype.ngOnChanges&&(i.setInput=ss),Di}function Di(){const i=Zi(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Qe)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function ss(i,s,o,u){const h=this.declaredInputs[o],g=Zi(i)||function jo(i,s){return i[Ss]=s}(i,{previous:Qe,current:null}),I=g.current||(g.current={}),A=g.previous,O=A[h];I[h]=new Cs(O&&O.currentValue,s,A===Qe),i[u]=s}Ts.ngInherit=!0;const Ss="__ngSimpleChanges__";function Zi(i){return i[Ss]||null}const fr=function(i,s,o){};function ii(i){for(;Array.isArray(i);)i=i[ai];return i}function Vs(i,s){return ii(s[i])}function ni(i,s){return ii(s[i.index])}function Us(i,s){return i.data[s]}function pi(i,s){const o=s[i];return _i(o)?o:o[ai]}function Qo(i){return 64==(64&i[On])}function ms(i,s){return null==s?null:i[s]}function Ci(i){i[Dn]=0}function ca(i,s){i[xi]+=s;let o=i,u=i[Ar];for(;null!==u&&(1===s&&1===o[xi]||-1===s&&0===o[xi]);)u[xi]+=s,o=u,u=u[Ar]}const Pn={lFrame:At(null),bindingsEnabled:!0};function zo(){return Pn.bindingsEnabled}function d(){return Pn.lFrame.lView}function m(){return Pn.lFrame.tView}function f(i){return Pn.lFrame.contextLView=i,i[Ue]}function M(i){return Pn.lFrame.contextLView=null,i}function H(){let i=ot();for(;null!==i&&64===i.type;)i=i.parent;return i}function ot(){return Pn.lFrame.currentTNode}function Gt(i,s){const o=Pn.lFrame;o.currentTNode=i,o.isParent=s}function Sn(){return Pn.lFrame.isParent}function Qn(){Pn.lFrame.isParent=!1}function lr(){const i=Pn.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Vi(){return Pn.lFrame.bindingIndex++}function os(i){const s=Pn.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Pl(i,s){const o=Pn.lFrame;o.bindingIndex=o.bindingRootIndex=i,Ro(s)}function Ro(i){Pn.lFrame.currentDirectiveIndex=i}function as(i){const s=Pn.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function fa(){return Pn.lFrame.currentQueryIndex}function Jo(i){Pn.lFrame.currentQueryIndex=i}function Nl(i){const s=i[zt];return 2===s.type?s.declTNode:1===s.type?i[K]:null}function xs(i,s,o){if(o&Nt.SkipSelf){let h=s,g=i;for(;!(h=h.parent,null!==h||o&Nt.Host||(h=Nl(g),null===h||(g=g[Dt],10&h.type))););if(null===h)return!1;s=h,i=g}const u=Pn.lFrame=ku();return u.currentTNode=s,u.lView=i,!0}function Nu(i){const s=ku(),o=i[zt];Pn.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ku(){const i=Pn.lFrame,s=null===i?null:i.child;return null===s?At(i):s}function At(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function eo(){const i=Pn.lFrame;return Pn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const fl=eo;function to(){const i=eo();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Lr(){return Pn.lFrame.selectedIndex}function ln(i){Pn.lFrame.selectedIndex=i}function Qr(){const i=Pn.lFrame;return Us(i.tView,i.selectedIndex)}function wa(i,s){for(let j=s.directiveStart,Q=s.directiveEnd;j<Q;j++){const qe=i.data[j].type.prototype,{ngAfterContentInit:dt,ngAfterContentChecked:Ot,ngAfterViewInit:Wt,ngAfterViewChecked:hn,ngOnDestroy:Tn}=qe;var o,u,h,g,I,A,O;dt&&(null!==(o=i.contentHooks)&&void 0!==o?o:i.contentHooks=[]).push(-j,dt),Ot&&((null!==(u=i.contentHooks)&&void 0!==u?u:i.contentHooks=[]).push(j,Ot),(null!==(h=i.contentCheckHooks)&&void 0!==h?h:i.contentCheckHooks=[]).push(j,Ot)),Wt&&(null!==(g=i.viewHooks)&&void 0!==g?g:i.viewHooks=[]).push(-j,Wt),hn&&((null!==(I=i.viewHooks)&&void 0!==I?I:i.viewHooks=[]).push(j,hn),(null!==(A=i.viewCheckHooks)&&void 0!==A?A:i.viewCheckHooks=[]).push(j,hn)),null!=Tn&&(null!==(O=i.destroyHooks)&&void 0!==O?O:i.destroyHooks=[]).push(j,Tn)}}function pa(i,s,o){N(i,s,3,o)}function R(i,s,o,u){(3&i[On])===o&&N(i,s,o,u)}function U(i,s){let o=i[On];(3&o)===s&&(o&=2047,o+=1,i[On]=o)}function N(i,s,o,u){const g=null!=u?u:-1,I=s.length-1;let A=0;for(let O=void 0!==u?65535&i[Dn]:0;O<I;O++)if("number"==typeof s[O+1]){if(A=s[O],null!=u&&A>=u)break}else s[O]<0&&(i[Dn]+=65536),(A<g||-1==g)&&(W(i,o,s,O),i[Dn]=(4294901760&i[Dn])+O+2),O++}function W(i,s,o,u){const h=o[u]<0,g=o[u+1],A=i[h?-o[u]:o[u]];if(h){if(i[On]>>11<i[Dn]>>16&&(3&i[On])===s){i[On]+=2048,fr(4,A,g);try{g.call(A)}finally{fr(5,A,g)}}}else{fr(4,A,g);try{g.call(A)}finally{fr(5,A,g)}}}const pe=-1;class ct{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Xr(i,s,o){let u=0;for(;u<o.length;){const h=o[u];if("number"==typeof h){if(0!==h)break;u++;const g=o[u++],I=o[u++],A=o[u++];i.setAttribute(s,I,A,g)}else{const g=h,I=o[++u];Ui(g)?i.setProperty(s,g,I):i.setAttribute(s,g,I),u++}}return u}function Pi(i){return 3===i||4===i||6===i}function Ui(i){return 64===i.charCodeAt(0)}function Hs(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?o=h:0===o||no(i,o,h,null,-1===o||2===o?s[++u]:null)}}return i}function no(i,s,o,u,h){let g=0,I=i.length;if(-1===s)I=-1;else for(;g<i.length;){const A=i[g++];if("number"==typeof A){if(A===s){I=-1;break}if(A>s){I=g-1;break}}}for(;g<i.length;){const A=i[g];if("number"==typeof A)break;if(A===o){if(null===u)return void(null!==h&&(i[g+1]=h));if(u===i[g+1])return void(i[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==I&&(i.splice(I,0,s),g=I+1),i.splice(g++,0,o),null!==u&&i.splice(g++,0,u),null!==h&&i.splice(g++,0,h)}function zs(i){return i!==pe}function ys(i){return 32767&i}function ga(i,s){let o=function Oo(i){return i>>16}(i),u=s;for(;o>0;)u=u[Dt],o--;return u}let ma=!0;function ro(i){const s=ma;return ma=i,s}const ea=255,Ga=5;let Da=0;const Po={};function ta(i,s){const o=Wa(i,s);if(-1!==o)return o;const u=s[zt];u.firstCreatePass&&(i.injectorIndex=s.length,ml(u.data,i),ml(s,null),ml(u.blueprint,null));const h=qa(i,s),g=i.injectorIndex;if(zs(h)){const I=ys(h),A=ga(h,s),O=A[zt].data;for(let j=0;j<8;j++)s[g+j]=A[I+j]|O[I+j]}return s[g+8]=h,g}function ml(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Wa(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function qa(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,h=s;for(;null!==h;){if(u=Ps(h),null===u)return pe;if(o++,h=h[Dt],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return pe}function Ka(i,s,o){!function gl(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(nn)&&(u=o[nn]),null==u&&(u=o[nn]=Da++);const h=u&ea;s.data[i+(h>>Ga)]|=1<<h}(i,s,o)}function kl(i,s,o){if(o&Nt.Optional||void 0!==i)return i;Ce()}function Fu(i,s,o,u){if(o&Nt.Optional&&void 0===u&&(u=null),!(o&(Nt.Self|Nt.Host))){const h=i[rt],g=Sr(void 0);try{return h?h.get(s,u,o&Nt.Optional):Br(s,u,o&Nt.Optional)}finally{Sr(g)}}return kl(u,0,o)}function Rs(i,s,o,u=Nt.Default,h){if(null!==i){if(1024&s[On]){const I=function $u(i,s,o,u,h){let g=i,I=s;for(;null!==g&&null!==I&&1024&I[On]&&!(256&I[On]);){const A=yl(g,I,o,u|Nt.Self,Po);if(A!==Po)return A;let O=g.parent;if(!O){const j=I[Ri];if(j){const Q=j.get(o,Po,u);if(Q!==Po)return Q}O=Ps(I),I=I[Dt]}g=O}return h}(i,s,o,u,Po);if(I!==Po)return I}const g=yl(i,s,o,u,Po);if(g!==Po)return g}return Fu(s,o,u,h)}function yl(i,s,o,u,h){const g=function Ya(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(nn)?i[nn]:void 0;return"number"==typeof s?s>=0?s&ea:Lu:s}(o);if("function"==typeof g){if(!xs(s,i,u))return u&Nt.Host?kl(h,0,u):Fu(s,o,u,h);try{const I=g(u);if(null!=I||u&Nt.Optional)return I;Ce()}finally{fl()}}else if("number"==typeof g){let I=null,A=Wa(i,s),O=pe,j=u&Nt.Host?s[Bt][K]:null;for((-1===A||u&Nt.SkipSelf)&&(O=-1===A?qa(i,s):s[A+8],O!==pe&&Ta(u,!1)?(I=s[zt],A=ys(O),s=ga(O,s)):A=-1);-1!==A;){const Q=s[zt];if(Os(g,A,Q.data)){const de=ls(A,s,o,I,u,j);if(de!==Po)return de}O=s[A+8],O!==pe&&Ta(u,s[zt].data[A+8]===j)&&Os(g,A,s)?(I=Q,A=ys(O),s=ga(O,s)):A=-1}}return h}function ls(i,s,o,u,h,g){const I=s[zt],A=I.data[i+8],Q=na(A,I,o,null==u?Do(A)&&ma:u!=I&&0!=(3&A.type),h&Nt.Host&&g===A);return null!==Q?po(s,I,Q,A):Po}function na(i,s,o,u,h){const g=i.providerIndexes,I=s.data,A=1048575&g,O=i.directiveStart,Q=g>>20,qe=h?A+Q:i.directiveEnd;for(let dt=u?A:A+Q;dt<qe;dt++){const Ot=I[dt];if(dt<O&&o===Ot||dt>=O&&Ot.type===o)return dt}if(h){const dt=I[O];if(dt&&Ki(dt)&&dt.type===o)return O}return null}function po(i,s,o,u){let h=i[o];const g=s.data;if(function xt(i){return i instanceof ct}(h)){const I=h;I.resolving&&function Ve(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new De(-200,`Circular dependency in DI detected for ${i}${o}`)}(function Ze(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Be(i)}(g[o]));const A=ro(I.canSeeViewProviders);I.resolving=!0;const O=I.injectImpl?Sr(I.injectImpl):null;xs(i,u,Nt.Default);try{h=i[o]=I.factory(void 0,g,i,u),s.firstCreatePass&&o>=u.directiveStart&&function Ha(i,s,o){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(u){var I,A;const de=Bs(s);(null!==(I=o.preOrderHooks)&&void 0!==I?I:o.preOrderHooks=[]).push(i,de),(null!==(A=o.preOrderCheckHooks)&&void 0!==A?A:o.preOrderCheckHooks=[]).push(i,de)}var O,j,Q;h&&(null!==(O=o.preOrderHooks)&&void 0!==O?O:o.preOrderHooks=[]).push(0-i,h),g&&((null!==(j=o.preOrderHooks)&&void 0!==j?j:o.preOrderHooks=[]).push(i,g),(null!==(Q=o.preOrderCheckHooks)&&void 0!==Q?Q:o.preOrderCheckHooks=[]).push(i,g))}(o,g[o],s)}finally{null!==O&&Sr(O),ro(A),I.resolving=!1,fl()}}return h}function Os(i,s,o){return!!(o[s+(i>>Ga)]&1<<i)}function Ta(i,s){return!(i&Nt.Self||i&Nt.Host&&s)}class Sa{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return Rs(this._tNode,this._lView,s,fn(u),o)}}function Lu(){return new Sa(H(),d())}function vl(i){return X(()=>{const s=i.prototype.constructor,o=s[St]||_l(s),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const g=h[St]||_l(h);if(g&&g!==o)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function _l(i){return Ne(i)?()=>{const s=_l(me(i));return s&&s()}:ti(i)}function Ps(i){const s=i[zt],o=s.type;return 2===o?s.declTNode:1===o?i[K]:null}function Za(i){return function Ca(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let h=0;for(;h<u;){const g=o[h];if(Pi(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof o[h];)h++;else{if(g===s)return o[h+1];h+=2}}}return null}(H(),i)}const Qa="__parameters__";function qo(i,s,o){return X(()=>{const u=function Ja(i){return function(...o){if(i){const u=i(...o);for(const h in u)this[h]=u[h]}}}(s);function h(...g){if(this instanceof h)return u.apply(this,g),this;const I=new h(...g);return A.annotation=I,A;function A(O,j,Q){const de=O.hasOwnProperty(Qa)?O[Qa]:Object.defineProperty(O,Qa,{value:[]})[Qa];for(;de.length<=Q;)de.push(null);return(de[Q]=de[Q]||[]).push(I),O}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class $r{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=et({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ko(i,s){i.forEach(o=>Array.isArray(o)?Ko(o,s):s(o))}function Ll(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function mo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ya(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}function yo(i,s,o){let u=D(i,s);return u>=0?i[1|u]=o:(u=~u,function rl(i,s,o,u){let h=i.length;if(h==s)i.push(o,u);else if(1===h)i.push(u,i[0]),i[0]=o;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function w(i,s){const o=D(i,s);if(o>=0)return i[1|o]}function D(i,s){return function T(i,s,o){let u=0,h=i.length>>o;for(;h!==u;){const g=u+(h-u>>1),I=i[g<<o];if(s===I)return g<<o;I>s?h=g:u=g+1}return~(h<<o)}(i,s,1)}const di=Rn(qo("Optional"),8),B=Rn(qo("SkipSelf"),4);var il=(()=>((il=il||{})[il.Important=1]="Important",il[il.DashCase=2]="DashCase",il))();const Gu=new Map;let Wu=0;const Ed="__ngContext__";function so(i,s){_i(s)?(i[Ed]=s[fi],function Hg(i){Gu.set(i[fi],i)}(s)):i[Ed]=s}let $t;function Zt(i,s){return $t(i,s)}function mr(i){const s=i[Ar];return li(s)?s[Ar]:s}function Ma(i){return bd(i[st])}function au(i){return bd(i[Hr])}function bd(i){for(;null!==i&&!li(i);)i=i[Hr];return i}function xa(i,s,o,u,h){if(null!=u){let g,I=!1;li(u)?g=u:_i(u)&&(I=!0,u=u[ai]);const A=ii(u);0===i&&null!==o?null==h?Ih(s,o,A):Ku(s,o,A,h||null,!0):1===i&&null!==o?Ku(s,o,A,h||null,!0):2===i?function Th(i,s,o){const u=wh(i,s);u&&function r_(i,s,o,u){i.removeChild(s,o,u)}(i,u,s,o)}(s,A,I):3===i&&s.destroyNode(A),null!=g&&function Qf(i,s,o,u,h){const g=o[fs];g!==ii(o)&&xa(s,i,u,g,h);for(let A=Oi;A<o.length;A++){const O=o[A];Sh(O[zt],O,i,s,u,g)}}(s,i,g,o,h)}}function Ac(i,s,o){return i.createElement(s,o)}function bh(i,s){const o=i[ps],u=o.indexOf(s),h=s[Ar];512&s[On]&&(s[On]&=-513,ca(h,-1)),o.splice(u,1)}function Wg(i,s){if(i.length<=Oi)return;const o=Oi+s,u=i[o];if(u){const h=u[rn];null!==h&&h!==i&&bh(h,u),s>0&&(i[o-1][Hr]=u[Hr]);const g=mo(i,Oi+s);!function wd(i,s){Sh(i,s,s[te],2,null,null),s[ai]=null,s[K]=null}(u[zt],u);const I=g[Gn];null!==I&&I.detachView(g[zt]),u[Ar]=null,u[Hr]=null,u[On]&=-65}return u}function qg(i,s){if(!(128&s[On])){const o=s[te];o.destroyNode&&Sh(i,s,o,3,null,null),function Eh(i){let s=i[st];if(!s)return Mc(i[zt],i);for(;s;){let o=null;if(_i(s))o=s[st];else{const u=s[Oi];u&&(o=u)}if(!o){for(;s&&!s[Hr]&&s!==i;)_i(s)&&Mc(s[zt],s),s=s[Ar];null===s&&(s=i),_i(s)&&Mc(s[zt],s),o=s&&s[Hr]}s=o}}(s)}}function Mc(i,s){if(!(128&s[On])){s[On]&=-65,s[On]|=128,function n_(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const h=s[o[u]];if(!(h instanceof ct)){const g=o[u+1];if(Array.isArray(g))for(let I=0;I<g.length;I+=2){const A=h[g[I]],O=g[I+1];fr(4,A,O);try{O.call(A)}finally{fr(5,A,O)}}else{fr(4,h,g);try{g.call(h)}finally{fr(5,h,g)}}}}}(i,s),function t_(i,s){const o=i.cleanup,u=s[le];let h=-1;if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const I=o[g+3];I>=0?u[h=I]():u[h=-I].unsubscribe(),g+=2}else{const I=u[h=o[g+1]];o[g].call(I)}if(null!==u){for(let g=h+1;g<u.length;g++)(0,u[g])();s[le]=null}}(i,s),1===s[zt].type&&s[te].destroy();const o=s[rn];if(null!==o&&li(s[Ar])){o!==s[Ar]&&bh(o,s);const u=s[Gn];null!==u&&u.detachView(i)}!function zg(i){Gu.delete(i[fi])}(s)}}function Yf(i,s,o){return function Zf(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[ai];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:g}=i.data[u.directiveStart+h];if(g===Z.None||g===Z.Emulated)return null}return ni(u,o)}}(i,s.parent,o)}function Ku(i,s,o,u,h){i.insertBefore(s,o,u,h)}function Ih(i,s,o){i.appendChild(s,o)}function Kg(i,s,o,u,h){null!==u?Ku(i,s,o,u,h):Ih(i,s,o)}function wh(i,s){return i.parentNode(s)}function Yg(i,s,o){return Dh(i,s,o)}let ia,Il,_n,un,Dh=function Zg(i,s,o){return 40&i.type?ni(i,o):null};function Ch(i,s,o,u){const h=Yf(i,u,s),g=s[te],A=Yg(u.parent||s[K],u,s);if(null!=h)if(Array.isArray(o))for(let O=0;O<o.length;O++)Kg(g,h,o[O],A,!1);else Kg(g,h,o,A,!1);void 0!==ia&&ia(g,u,s,o,h)}function uu(i,s){if(null!==s){const o=s.type;if(3&o)return ni(s,i);if(4&o)return Xg(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return uu(i,u);{const h=i[s.index];return li(h)?Xg(-1,h):ii(h)}}if(32&o)return Zt(s,i)()||ii(i[s.index]);{const u=s_(i,s);return null!==u?Array.isArray(u)?u[0]:uu(mr(i[Bt]),u):uu(i,s.next)}}return null}function s_(i,s){return null!==s?i[Bt][K].projection[s.projection]:null}function Xg(i,s){const o=Oi+i+1;if(o<s.length){const u=s[o],h=u[zt].firstChild;if(null!==h)return uu(u,h)}return s[fs]}function Jg(i,s,o,u,h,g,I){for(;null!=o;){const A=u[o.index],O=o.type;if(I&&0===s&&(A&&so(ii(A),u),o.flags|=2),32!=(32&o.flags))if(8&O)Jg(i,s,o.child,u,h,g,!1),xa(s,i,h,A,g);else if(32&O){const j=Zt(o,u);let Q;for(;Q=j();)xa(s,i,h,Q,g);xa(s,i,h,A,g)}else 16&O?a_(i,s,u,o,h,g):xa(s,i,h,A,g);o=I?o.projectionNext:o.next}}function Sh(i,s,o,u,h,g){Jg(o,u,i.firstChild,s,h,g,!1)}function a_(i,s,o,u,h,g){const I=o[Bt],O=I[K].projection[u.projection];if(Array.isArray(O))for(let j=0;j<O.length;j++)xa(s,i,h,O[j],g);else Jg(i,s,O,I[Ar],h,g,!0)}function oo(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function xc(i,s,o){const{mergedAttrs:u,classes:h,styles:g}=o;null!==u&&Xr(i,s,u),null!==h&&oo(i,s,h),null!==g&&function l_(i,s,o){i.setAttribute(s,"style",o)}(i,s,g)}function Cd(i){var s;return(null===(s=function Ah(){if(void 0===Il&&(Il=null,yn.trustedTypes))try{Il=yn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Il}())||void 0===s?void 0:s.createHTML(i))||i}function kn(i){_n=i}function Tt(){if(void 0===un&&(un=null,yn.trustedTypes))try{un=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return un}function Vt(i){var s;return(null===(s=Tt())||void 0===s?void 0:s.createHTML(i))||i}function tm(i){var s;return(null===(s=Tt())||void 0===s?void 0:s.createScriptURL(i))||i}class Rc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}class pb extends Rc{getTypeName(){return"HTML"}}class gb extends Rc{getTypeName(){return"Style"}}class mb extends Rc{getTypeName(){return"Script"}}class yb extends Rc{getTypeName(){return"URL"}}class c_ extends Rc{getTypeName(){return"ResourceURL"}}function cu(i){return i instanceof Rc?i.changingThisBreaksApplicationSecurity:i}function Mh(i,s){const o=function vb(i){return i instanceof Rc&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${yt})`)}return o===s}function d_(i){return new pb(i)}function br(i){return new gb(i)}function Sd(i){return new mb(i)}function h_(i){return new yb(i)}function Ji(i){return new c_(i)}class xh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Cd(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Jr{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=Cd(s),o}}const vs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function on(i){return(i=String(i)).match(vs)?i:"unsafe:"+i}function ol(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Oc(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const Yu=ol("area,br,col,hr,img,wbr"),f_=ol("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rh=ol("rp,rt"),Jf=Oc(Yu,Oc(f_,ol("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Oc(Rh,ol("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oc(Rh,f_)),sa=ol("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nm=Oc(sa,ol("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ol("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zu=ol("script,style,template");class rm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let h=this.checkClobberedElement(o,o.nextSibling);if(h){o=h;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Jf.hasOwnProperty(o))return this.sanitizedSomething=!0,!Zu.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),I=g.name,A=I.toLowerCase();if(!nm.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let O=g.value;sa[A]&&(O=on(O)),this.buf.push(" ",I,'="',al(O),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Jf.hasOwnProperty(o)&&!Yu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(al(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const wt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ep=/([^\#-~ |!])/g;function al(i){return i.replace(/&/g,"&amp;").replace(wt,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(ep,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tp;function Ad(i,s){let o=null;try{tp=tp||function Un(i){const s=new Jr(i);return function _b(){try{return!!(new window.DOMParser).parseFromString(Cd(""),"text/html")}catch(i){return!1}}()?new xh(s):s}(i);let u=s?String(s):"";o=tp.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=o.innerHTML,o=tp.getInertBodyElement(u)}while(u!==g);return Cd((new rm).sanitizeChildren(Hl(o)||o))}finally{if(o){const u=Hl(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Hl(i){return"content"in i&&function Ib(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function im(i){const s=wl();return s?Vt(s.sanitize(Si.HTML,i)||""):Mh(i,"HTML")?Vt(cu(i)):Ad(function u_(){return void 0!==_n?_n:typeof document<"u"?document:void 0}(),Be(i))}function om(i){const s=wl();return s?s.sanitize(Si.URL,i)||"":Mh(i,"URL")?cu(i):on(Be(i))}function g_(i){const s=wl();if(s)return tm(s.sanitize(Si.RESOURCE_URL,i)||"");if(Mh(i,"ResourceURL"))return tm(cu(i));throw new De(904,!1)}function m_(i,s,o){return function Db(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?g_:om}(s,o)(i)}function wl(){const i=d();return i&&i[Ge]}const np=new $r("ENVIRONMENT_INITIALIZER"),Md=new $r("INJECTOR",-1),xd=new $r("INJECTOR_DEF_TYPES");class lm{get(s,o=cn){if(o===cn){const u=new Error(`NullInjectorError: No provider for ${Te(s)}!`);throw u.name="NullInjectorError",u}return o}}function Tb(...i){return{\u0275providers:Ws(0,i),\u0275fromNgModule:!0}}function Ws(i,...s){const o=[],u=new Set;let h;return Ko(s,g=>{const I=g;zl(I,o,[],u)&&(h||(h=[]),h.push(I))}),void 0!==h&&y_(h,o),o}function y_(i,s){for(let o=0;o<i.length;o++){const{providers:h}=i[o];du(h,g=>{s.push(g)})}}function zl(i,s,o,u){if(!(i=me(i)))return!1;let h=null,g=zn(i);const I=!g&&Ln(i);if(g||I){if(I&&!I.standalone)return!1;h=i}else{const O=i.ngModule;if(g=zn(O),!g)return!1;h=O}const A=u.has(h);if(I){if(A)return!1;if(u.add(h),I.dependencies){const O="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const j of O)zl(j,s,o,u)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let j;u.add(h);try{Ko(g.imports,Q=>{zl(Q,s,o,u)&&(j||(j=[]),j.push(Q))})}finally{}void 0!==j&&y_(j,s)}if(!A){const j=ti(h)||(()=>new h);s.push({provide:h,useFactory:j,deps:se},{provide:xd,useValue:h,multi:!0},{provide:np,useValue:()=>kt(h),multi:!0})}const O=g.providers;null==O||A||du(O,Q=>{s.push(Q)})}}return h!==i&&void 0!==i.providers}function du(i,s){for(let o of i)ke(o)&&(o=o.\u0275providers),Array.isArray(o)?du(o,s):s(o)}const um=Oe({provide:String,useValue:Oe});function rp(i){return null!==i&&"object"==typeof i&&um in i}function Gl(i){return"function"==typeof i}const ll=new $r("Set Injector scope."),Qu={},Xu={};let ip;function fu(){return void 0===ip&&(ip=new lm),ip}class pu{}class Ju extends pu{get destroyed(){return this._destroyed}constructor(s,o,u,h){super(),this.parent=o,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dm(s,I=>this.processProvider(I)),this.records.set(Md,gu(void 0,this)),h.has("environment")&&this.records.set(pu,gu(void 0,this));const g=this.records.get(ll);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(xd.multi,se,Nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=bn(this),u=Sr(void 0);try{return s()}finally{bn(o),Sr(u)}}get(s,o=cn,u=Nt.Default){this.assertNotDestroyed(),u=fn(u);const h=bn(this),g=Sr(void 0);try{if(!(u&Nt.SkipSelf)){let A=this.records.get(s);if(void 0===A){const O=function Sb(i){return"function"==typeof i||"object"==typeof i&&i instanceof $r}(s)&&vt(s);A=O&&this.injectableDefInScope(O)?gu(Oh(s),Qu):null,this.records.set(s,A)}if(null!=A)return this.hydrate(s,A)}return(u&Nt.Self?fu():this.parent).get(s,o=u&Nt.Optional&&o===cn?null:o)}catch(I){if("NullInjectorError"===I.name){if((I[Rt]=I[Rt]||[]).unshift(Te(s)),h)throw I;return function Ae(i,s,o,u){const h=i[Rt];throw s[Zr]&&h.unshift(s[Zr]),i.message=function ye(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==An?i.slice(2):i;let h=Te(s);if(Array.isArray(s))h=s.map(Te).join(" -> ");else if("object"==typeof s){let g=[];for(let I in s)if(s.hasOwnProperty(I)){let A=s[I];g.push(I+":"+("string"==typeof A?JSON.stringify(A):Te(A)))}h=`{${g.join(", ")}}`}return`${o}${u?"("+u+")":""}[${h}]: ${i.replace(oi,"\n  ")}`}("\n"+i.message,h,o,u),i[qr]=h,i[Rt]=null,i}(I,s,"R3InjectorError",this.source)}throw I}finally{Sr(g),bn(h)}}resolveInjectorInitializers(){const s=bn(this),o=Sr(void 0);try{const u=this.get(np.multi,se,Nt.Self);for(const h of u)h()}finally{bn(s),Sr(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(Te(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(s){let o=Gl(s=me(s))?s:me(s&&s.provide);const u=function v_(i){return rp(i)?gu(void 0,i.useValue):gu(cm(i),Qu)}(s);if(Gl(s)||!0!==s.multi)this.records.get(o);else{let h=this.records.get(o);h||(h=gu(void 0,Qu,!0),h.factory=()=>vn(h.multi),this.records.set(o,h)),o=s,h.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===Qu&&(o.value=Xu,o.value=o.factory()),"object"==typeof o.value&&o.value&&function __(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=me(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Oh(i){const s=vt(i),o=null!==s?s.factory:ti(i);if(null!==o)return o;if(i instanceof $r)throw new De(204,!1);if(i instanceof Function)return function Ph(i){const s=i.length;if(s>0)throw ya(s,"?"),new De(204,!1);const o=function sn(i){const s=i&&(i[yr]||i[xn]);return s?(function Kt(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),s):null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new De(204,!1)}function cm(i,s,o){let u;if(Gl(i)){const h=me(i);return ti(h)||Oh(h)}if(rp(i))u=()=>me(i.useValue);else if(function hu(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...vn(i.deps||[]));else if(function Rd(i){return!(!i||!i.useExisting)}(i))u=()=>kt(me(i.useExisting));else{const h=me(i&&(i.useClass||i.provide));if(!function Nh(i){return!!i.deps}(i))return ti(h)||Oh(h);u=()=>new h(...vn(i.deps))}return u}function gu(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function dm(i,s){for(const o of i)Array.isArray(o)?dm(o,s):o&&ke(o)?dm(o.\u0275providers,s):s(o)}class E_{}class hm{}class b_{resolveComponentFactory(s){throw function ec(i){const s=Error(`No component factory found for ${Te(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Nr=(()=>{class i{}return i.NULL=new b_,i})();function mi(){return Dl(H(),d())}function Dl(i,s){return new kc(ni(i,s))}let kc=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=mi,i})();function pm(i){return i instanceof kc?i.nativeElement:i}class gm{}let mm=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function I_(){const i=d(),o=pi(H().index,i);return(_i(o)?o:i)[te]}(),i})(),w_=(()=>{class i{}return i.\u0275prov=et({token:i,providedIn:"root",factory:()=>null}),i})();class ym{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const D_=new ym("15.2.6"),vm={},_m="ngOriginalError";function Em(i){return i[_m]}class Od{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Em(s);for(;o&&Em(o);)o=Em(o);return o||null}}function Wl(i){return i instanceof Function?i():i}function op(i,s,o){let u=i.length;for(;;){const h=i.indexOf(s,o);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=s.length;if(h+g===u||i.charCodeAt(h+g)<=32)return h}o=h+1}}const tc="ng-template";function kh(i,s,o){let u=0,h=!0;for(;u<i.length;){let g=i[u++];if("string"==typeof g&&h){const I=i[u++];if(o&&"class"===g&&-1!==op(I.toLowerCase(),s,0))return!0}else{if(1===g){for(;u<i.length&&"string"==typeof(g=i[u++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Fh(i){return 4===i.type&&i.value!==tc}function ap(i,s,o){return s===(4!==i.type||o?i.value:tc)}function T_(i,s,o){let u=4;const h=i.attrs||[],g=function S_(i){for(let s=0;s<i.length;s++)if(Pi(i[s]))return s;return i.length}(h);let I=!1;for(let A=0;A<s.length;A++){const O=s[A];if("number"!=typeof O){if(!I)if(4&u){if(u=2|1&u,""!==O&&!ap(i,O,o)||""===O&&1===s.length){if(ul(u))return!1;I=!0}}else{const j=8&u?O:s[++A];if(8&u&&null!==i.attrs){if(!kh(i.attrs,j,o)){if(ul(u))return!1;I=!0}continue}const de=mu(8&u?"class":O,h,Fh(i),o);if(-1===de){if(ul(u))return!1;I=!0;continue}if(""!==j){let qe;qe=de>g?"":h[de+1].toLowerCase();const dt=8&u?qe:null;if(dt&&-1!==op(dt,j,0)||2&u&&j!==qe){if(ul(u))return!1;I=!0}}}}else{if(!I&&!ul(u)&&!ul(O))return!1;if(I&&ul(O))continue;I=!1,u=O|1&u}}return ul(u)||I}function ul(i){return 0==(1&i)}function mu(i,s,o,u){if(null===s)return-1;let h=0;if(u||!o){let g=!1;for(;h<s.length;){const I=s[h];if(I===i)return h;if(3===I||6===I)g=!0;else{if(1===I||2===I){let A=s[++h];for(;"string"==typeof A;)A=s[++h];continue}if(4===I)break;if(0===I){h+=4;continue}}h+=g?1:2}return-1}return function Im(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function bm(i,s,o=!1){for(let u=0;u<s.length;u++)if(T_(i,s[u],o))return!0;return!1}function lp(i,s){e:for(let o=0;o<s.length;o++){const u=s[o];if(i.length===u.length){for(let h=0;h<i.length;h++)if(i[h]!==u[h])continue e;return!0}}return!1}function up(i,s){return i?":not("+s.trim()+")":s}function Fc(i){let s=i[0],o=1,u=2,h="",g=!1;for(;o<i.length;){let I=i[o];if("string"==typeof I)if(2&u){const A=i[++o];h+="["+I+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?h+="."+I:4&u&&(h+=" "+I);else""!==h&&!ul(I)&&(s+=up(g,h),h=""),u=I,g=g||!ul(u);o++}return""!==h&&(s+=up(g,h)),s}const dr={};function Fd(i){Dm(m(),d(),Lr()+i,!1)}function Dm(i,s,o,u){if(!u)if(3==(3&s[On])){const g=i.preOrderCheckHooks;null!==g&&pa(s,g,o)}else{const g=i.preOrderHooks;null!==g&&R(s,g,0,o)}ln(o)}function R_(i,s=null,o=null,u){const h=O_(i,s,o,u);return h.resolveInjectorInitializers(),h}function O_(i,s=null,o=null,u,h=new Set){const g=[o||se,Tb(i)];return u=u||("object"==typeof i?void 0:Te(i)),new Ju(g,s||fu(),u||null,h)}let nc=(()=>{class i{static create(o,u){if(Array.isArray(o))return R_({name:""},u,o,"");{var h;const g=null!==(h=o.name)&&void 0!==h?h:"";return R_({name:g},o.parent,o.providers,g)}}}return i.THROW_IF_NOT_FOUND=cn,i.NULL=new lm,i.\u0275prov=et({token:i,providedIn:"any",factory:()=>kt(Md)}),i.__NG_ELEMENT_ID__=-1,i})();function Pa(i,s=Nt.Default){const o=d();return null===o?kt(i,s):Rs(H(),o,me(i),s)}function $_(){throw new Error("invalid")}function xm(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const g=o[u+1];if(-1!==g){const I=i.data[g];Jo(o[u]),I.contentQueries(2,s[g],g)}}}function Na(i,s,o,u,h,g,I,A,O,j,Q){const de=s.blueprint.slice();return de[ai]=h,de[On]=76|u,(null!==Q||i&&1024&i[On])&&(de[On]|=1024),Ci(de),de[Ar]=de[Dt]=i,de[Ue]=o,de[It]=I||i&&i[It],de[te]=A||i&&i[te],de[Ge]=O||i&&i[Ge]||null,de[rt]=j||i&&i[rt]||null,de[K]=g,de[fi]=function Wf(){return Wu++}(),de[Ri]=Q,de[Bt]=2==s.type?i[Bt]:de,de}function Bc(i,s,o,u,h){let g=i.data[s];if(null===g)g=function Vc(i,s,o,u,h){const g=ot(),I=Sn(),O=i.data[s]=function z_(i,s,o,u,h,g){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?g:g&&g.parent,o,s,u,h);return null===i.firstChild&&(i.firstChild=O),null!==g&&(I?null==g.child&&null!==O.parent&&(g.child=O):null===g.next&&(g.next=O,O.prev=g)),O}(i,s,o,u,h),function Cr(){return Pn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=o,g.value=u,g.attrs=h;const I=function Ft(){const i=Pn.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===I?-1:I.injectorIndex}return Gt(g,!0),g}function jh(i,s,o,u){if(0===o)return-1;const h=s.length;for(let g=0;g<o;g++)s.push(u),i.blueprint.push(u),i.data.push(null);return h}function Rm(i,s,o){Nu(s);try{const u=i.viewQuery;null!==u&&Lo(1,u,o);const h=i.template;null!==h&&V_(i,s,h,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&xm(i,s),i.staticViewQueries&&Lo(2,i.viewQuery,o);const g=i.components;null!==g&&function B_(i,s){for(let o=0;o<s.length;o++)Wb(i,s[o])}(s,g)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[On]&=-5,to()}}function Ir(i,s,o,u){const h=s[On];if(128!=(128&h)){Nu(s);try{Ci(s),function js(i){return Pn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&V_(i,s,o,2,u);const I=3==(3&h);if(I){const j=i.preOrderCheckHooks;null!==j&&pa(s,j,null)}else{const j=i.preOrderHooks;null!==j&&R(s,j,0,null),U(s,0)}if(function X_(i){for(let s=Ma(i);null!==s;s=au(s)){if(!s[ns])continue;const o=s[ps];for(let u=0;u<o.length;u++){const h=o[u];512&h[On]||ca(h[Ar],1),h[On]|=512}}}(s),function zb(i){for(let s=Ma(i);null!==s;s=au(s))for(let o=Oi;o<s.length;o++){const u=s[o],h=u[zt];Qo(u)&&Ir(h,u,h.template,u[Ue])}}(s),null!==i.contentQueries&&xm(i,s),I){const j=i.contentCheckHooks;null!==j&&pa(s,j)}else{const j=i.contentHooks;null!==j&&R(s,j,1),U(s,1)}!function _a(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const h=o[u];if(h<0)ln(~h);else{const g=h,I=o[++u],A=o[++u];Pl(I,g),A(2,s[g])}}}finally{ln(-1)}}(i,s);const A=i.components;null!==A&&function Uh(i,s){for(let o=0;o<s.length;o++)Gb(i,s[o])}(s,A);const O=i.viewQuery;if(null!==O&&Lo(2,O,u),I){const j=i.viewCheckHooks;null!==j&&pa(s,j)}else{const j=i.viewHooks;null!==j&&R(s,j,2),U(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[On]&=-41,512&s[On]&&(s[On]&=-513,ca(s[Ar],-1))}finally{to()}}}function V_(i,s,o,u,h){const g=Lr(),I=2&u;try{ln(-1),I&&s.length>wn&&Dm(i,s,wn,!1),fr(I?2:0,h),o(u,h)}finally{ln(g),fr(I?3:1,h)}}function Ud(i,s,o){if(Vo(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const I=i.data[g];I.contentQueries&&I.contentQueries(1,o[g],g)}}}function Uc(i,s,o){zo()&&(function ql(i,s,o,u){const h=o.directiveStart,g=o.directiveEnd;Do(o)&&function Wh(i,s,o){const u=ni(s,i),h=Hh(o),g=i[It],I=_u(i,Na(i,h,null,o.onPush?32:16,u,s,g,g.createRenderer(u,o),null,null,null));i[s.index]=I}(s,o,i.data[h+o.componentOffset]),i.firstCreatePass||ta(o,s),so(u,s);const I=o.initialInputs;for(let A=h;A<g;A++){const O=i.data[A],j=po(s,i,A,o);so(j,s),null!==I&&Q_(0,A-h,j,O,0,I),Ki(O)&&(pi(o.index,s)[Ue]=po(s,i,A,o))}}(i,s,o,ni(o,s)),64==(64&o.flags)&&mp(i,s,o))}function jc(i,s,o=ni){const u=s.localNames;if(null!==u){let h=s.index+1;for(let g=0;g<u.length;g+=2){const I=u[g+1],A=-1===I?o(s,i):i[I];i[h++]=A}}}function Hh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=pp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function pp(i,s,o,u,h,g,I,A,O,j){const Q=wn+u,de=Q+h,qe=function U_(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:dr);return o}(Q,de),dt="function"==typeof j?j():j;return qe[zt]={type:i,blueprint:qe,template:o,queries:null,viewQuery:A,declTNode:s,data:qe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:O,consts:dt,incompleteFirstPass:!1}}function H_(i,s,o,u){const h=Lm(s);null===o?h.push(u):(h.push(o),i.firstCreatePass&&Cl(i).push(u,h.length-1))}function Om(i,s,o,u){for(let h in i)if(i.hasOwnProperty(h)){o=null===o?{}:o;const g=i[h];null===u?G_(o,s,h,g):u.hasOwnProperty(h)&&G_(o,s,u[h],g)}return o}function G_(i,s,o,u){i.hasOwnProperty(o)?i[o].push(s,u):i[o]=[s,u]}function ka(i,s,o,u,h,g,I,A){const O=ni(s,o);let Q,j=s.inputs;!A&&null!=j&&(Q=j[u])?(Ep(i,o,Q,u,h),Do(s)&&Hc(o,s.index)):3&s.type&&(u=function Ub(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=I?I(h,s.value||"",u):h,g.setProperty(O,u,h))}function Hc(i,s){const o=pi(s,i);16&o[On]||(o[On]|=32)}function cs(i,s,o,u){if(zo()){const h=null===u?null:{"":-1},g=function Gh(i,s){const o=i.directiveRegistry;let u=null,h=null;if(o)for(let I=0;I<o.length;I++){const A=o[I];if(bm(s,A.selectors,!1))if(u||(u=[]),Ki(A))if(null!==A.findHostDirectiveDefs){const O=[];h=h||new Map,A.findHostDirectiveDefs(A,O,h),u.unshift(...O,A),yp(i,s,O.length)}else u.unshift(A),yp(i,s,0);else{var g;h=h||new Map,null===(g=A.findHostDirectiveDefs)||void 0===g||g.call(A,A,u,h),u.push(A)}}return null===u?null:[u,h]}(i,o);let I,A;null===g?I=A=null:[I,A]=g,null!==I&&gp(i,s,o,I,h,A),h&&function Y_(i,s,o){if(s){const u=i.localNames=[];for(let h=0;h<s.length;h+=2){const g=o[s[h+1]];if(null==g)throw new De(-301,!1);u.push(s[h],g)}}}(o,u,h)}o.mergedAttrs=Hs(o.mergedAttrs,o.attrs)}function gp(i,s,o,u,h,g){for(let de=0;de<u.length;de++)Ka(ta(o,s),i,u[de].type);!function jb(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,u.length);for(let de=0;de<u.length;de++){const qe=u[de];qe.providersResolver&&qe.providersResolver(qe)}let I=!1,A=!1,O=jh(i,s,u.length,null);for(let de=0;de<u.length;de++){const qe=u[de];o.mergedAttrs=Hs(o.mergedAttrs,qe.hostAttrs),Hb(i,o,s,O,qe),Z_(O,qe,h),null!==qe.contentQueries&&(o.flags|=4),(null!==qe.hostBindings||null!==qe.hostAttrs||0!==qe.hostVars)&&(o.flags|=64);const dt=qe.type.prototype;var j,Q;!I&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((null!==(j=i.preOrderHooks)&&void 0!==j?j:i.preOrderHooks=[]).push(o.index),I=!0),A||!dt.ngOnChanges&&!dt.ngDoCheck||((null!==(Q=i.preOrderCheckHooks)&&void 0!==Q?Q:i.preOrderCheckHooks=[]).push(o.index),A=!0),O++}!function Vb(i,s,o){const h=s.directiveEnd,g=i.data,I=s.attrs,A=[];let O=null,j=null;for(let Q=s.directiveStart;Q<h;Q++){const de=g[Q],qe=o?o.get(de):null,Ot=qe?qe.outputs:null;O=Om(de.inputs,Q,O,qe?qe.inputs:null),j=Om(de.outputs,Q,j,Ot);const Wt=null===O||null===I||Fh(s)?null:Nm(O,Q,I);A.push(Wt)}null!==O&&(O.hasOwnProperty("class")&&(s.flags|=8),O.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=A,s.inputs=O,s.outputs=j}(i,o,g)}function mp(i,s,o){const u=o.directiveStart,h=o.directiveEnd,g=o.index,I=function ha(){return Pn.lFrame.currentDirectiveIndex}();try{ln(g);for(let A=u;A<h;A++){const O=i.data[A],j=s[A];Ro(A),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&K_(O,j)}}finally{ln(-1),Ro(I)}}function K_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function yp(i,s,o){var u;s.componentOffset=o,(null!==(u=i.components)&&void 0!==u?u:i.components=[]).push(s.index)}function Z_(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;Ki(s)&&(o[""]=i)}}function Hb(i,s,o,u,h){i.data[u]=h;const g=h.factory||(h.factory=ti(h.type)),I=new ct(g,Ki(h),Pa);i.blueprint[u]=I,o[u]=I,function q_(i,s,o,u,h){const g=h.hostBindings;if(g){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const A=~s.index;(function zh(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(I)!=A&&I.push(A),I.push(o,u,g)}}(i,s,u,jh(i,o,h.hostVars,dr),h)}function cl(i,s,o,u,h,g){const I=ni(i,s);!function Pm(i,s,o,u,h,g,I){if(null==g)i.removeAttribute(s,h,o);else{const A=null==I?Be(g):I(g,u||"",h);i.setAttribute(s,h,A,o)}}(s[te],I,g,i.value,o,u,h)}function Q_(i,s,o,u,h,g){const I=g[s];if(null!==I){const A=u.setInput;for(let O=0;O<I.length;){const j=I[O++],Q=I[O++],de=I[O++];null!==A?u.setInput(o,de,j,Q):o[Q]=de}}}function Nm(i,s,o){let u=null,h=0;for(;h<o.length;){const g=o[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(i.hasOwnProperty(g)){null===u&&(u=[]);const I=i[g];for(let A=0;A<I.length;A+=2)if(I[A]===s){u.push(g,I[A+1],o[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function km(i,s,o,u){return[i,!0,!1,s,null,0,u,o,null,null]}function Gb(i,s){const o=pi(s,i);if(Qo(o)){const u=o[zt];48&o[On]?Ir(u,o,u.template,o[Ue]):o[xi]>0&&Fm(o)}}function Fm(i){for(let u=Ma(i);null!==u;u=au(u))for(let h=Oi;h<u.length;h++){const g=u[h];if(Qo(g))if(512&g[On]){const I=g[zt];Ir(I,g,I.template,g[Ue])}else g[xi]>0&&Fm(g)}const o=i[zt].components;if(null!==o)for(let u=0;u<o.length;u++){const h=pi(o[u],i);Qo(h)&&h[xi]>0&&Fm(h)}}function Wb(i,s){const o=pi(s,i),u=o[zt];(function rc(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Rm(u,o,o[Ue])}function _u(i,s){return i[st]?i[Et][Hr]=s:i[st]=s,i[Et]=s,s}function vp(i){for(;i;){i[On]|=32;const s=mr(i);if(Zs(i)&&!s)return i;i=s}return null}function _p(i,s,o,u=!0){const h=s[It];h.begin&&h.begin();try{Ir(i,s,i.template,o)}catch(I){throw u&&qh(s,I),I}finally{h.end&&h.end()}}function Lo(i,s,o){Jo(0),s(i,o)}function Lm(i){return i[le]||(i[le]=[])}function Cl(i){return i.cleanup||(i.cleanup=[])}function qh(i,s){const o=i[rt],u=o?o.get(Od,null):null;u&&u.handleError(s)}function Ep(i,s,o,u,h){for(let g=0;g<o.length;){const I=o[g++],A=o[g++],O=s[I],j=i.data[I];null!==j.setInput?j.setInput(O,h,u,A):O[A]=h}}function bp(i,s,o){let u=o?i.styles:null,h=o?i.classes:null,g=0;if(null!==s)for(let I=0;I<s.length;I++){const A=s[I];"number"==typeof A?g=A:1==g?h=$e(h,A):2==g&&(u=$e(u,A+": "+s[++I]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=h:i.classesWithoutHost=h}function Ip(i,s,o,u,h=!1){for(;null!==o;){const g=s[o.index];if(null!==g&&u.push(ii(g)),li(g))for(let A=Oi;A<g.length;A++){const O=g[A],j=O[zt].firstChild;null!==j&&Ip(O[zt],O,j,u)}const I=o.type;if(8&I)Ip(i,s,o.child,u);else if(32&I){const A=Zt(o,s);let O;for(;O=A();)u.push(O)}else if(16&I){const A=s_(s,o);if(Array.isArray(A))u.push(...A);else{const O=mr(s[Bt]);Ip(O[zt],O,A,u,!0)}}o=h?o.projectionNext:o.next}return u}class Kh{get rootNodes(){const s=this._lView,o=s[zt];return Ip(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ue]}set context(s){this._lView[Ue]=s}get destroyed(){return 128==(128&this._lView[On])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Ar];if(li(s)){const o=s[qi],u=o?o.indexOf(this):-1;u>-1&&(Wg(s,u),mo(o,u))}this._attachedToViewContainer=!1}qg(this._lView[zt],this._lView)}onDestroy(s){H_(this._lView[zt],this._lView,null,s)}markForCheck(){vp(this._cdRefInjectingView||this._lView)}detach(){this._lView[On]&=-65}reattach(){this._lView[On]|=64}detectChanges(){_p(this._lView[zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _h(i,s){Sh(i,s,s[te],2,null,null)}(this._lView[zt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=s}}class Kb extends Kh{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;_p(s[zt],s,s[Ue],!1)}checkNoChanges(){}get context(){return null}}class J_ extends Nr{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Ln(s);return new Yh(o,this.ngModule)}}function e0(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class Zb{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){u=fn(u);const h=this.injector.get(s,vm,u);return h!==vm||o===vm?h:this.parentInjector.get(s,o,u)}}class Yh extends hm{get inputs(){return e0(this.componentDef.inputs)}get outputs(){return e0(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function oa(i){return i.map(Fc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,u,h){var g;let I=(h=h||this.ngModule)instanceof pu?h:null===(g=h)||void 0===g?void 0:g.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const A=I?new Zb(s,I):s,O=A.get(gm,null);if(null===O)throw new De(407,!1);const j=A.get(w_,null),Q=O.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",qe=u?function j_(i,s,o){return i.selectRootElement(s,o===Z.ShadowDom)}(Q,u,this.componentDef.encapsulation):Ac(Q,de,function Yb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(de)),dt=this.componentDef.onPush?288:272,Ot=pp(0,null,null,1,0,null,null,null,null,null),Wt=Na(null,Ot,null,dt,null,null,O,Q,j,A,null);let hn,Tn;Nu(Wt);try{const Zn=this.componentDef;let Ut,ur=null;Zn.findHostDirectiveDefs?(Ut=[],ur=new Map,Zn.findHostDirectiveDefs(Zn,Ut,ur),Ut.push(Zn)):Ut=[Zn];const Mi=function Xb(i,s){const o=i[zt],u=wn;return i[u]=s,Bc(o,u,2,"#host",null)}(Wt,qe),es=function Jb(i,s,o,u,h,g,I,A){const O=h[zt];!function eI(i,s,o,u){for(const h of i)s.mergedAttrs=Hs(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(bp(s,s.mergedAttrs,!0),null!==o&&xc(u,o,s))}(u,i,s,I);const j=g.createRenderer(s,o),Q=Na(h,Hh(o),null,o.onPush?32:16,h[i.index],i,g,j,A||null,null,null);return O.firstCreatePass&&yp(O,i,u.length-1),_u(h,Q),h[i.index]=Q}(Mi,qe,Zn,Ut,Wt,O,Q);Tn=Us(Ot,wn),qe&&function tI(i,s,o,u){if(u)Xr(i,o,["ng-version",D_.full]);else{const{attrs:h,classes:g}=function wm(i){const s=[],o=[];let u=1,h=2;for(;u<i.length;){let g=i[u];if("string"==typeof g)2===h?""!==g&&s.push(g,i[++u]):8===h&&o.push(g);else{if(!ul(h))break;h=g}u++}return{attrs:s,classes:o}}(s.selectors[0]);h&&Xr(i,o,h),g&&g.length>0&&oo(i,o,g.join(" "))}}(Q,Zn,qe,u),void 0!==o&&function n0(i,s,o){const u=i.projection=[];for(let h=0;h<s.length;h++){const g=o[h];u.push(null!=g?Array.from(g):null)}}(Tn,this.ngContentSelectors,o),hn=function t0(i,s,o,u,h,g){const I=H(),A=h[zt],O=ni(I,h);gp(A,h,I,o,null,u);for(let Q=0;Q<o.length;Q++)so(po(h,A,I.directiveStart+Q,I),h);mp(A,h,I),O&&so(O,h);const j=po(h,A,I.directiveStart+I.componentOffset,I);if(i[Ue]=h[Ue]=j,null!==g)for(const Q of g)Q(j,s);return Ud(A,I,i),j}(es,Zn,Ut,ur,Wt,[r0]),Rm(Ot,Wt,null)}finally{to()}return new Qb(this.componentType,hn,Dl(Tn,Wt),Wt,Tn)}}class Qb extends E_{constructor(s,o,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=o,this.hostView=this.changeDetectorRef=new Kb(h),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){const g=this._rootLView;Ep(g[zt],g,h,s,o),Hc(g,this._tNode.index)}}get injector(){return new Sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function r0(){const i=H();wa(d()[zt],i)}function Zh(i){let s=function s0(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let h;if(Ki(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new De(903,!1);h=s.\u0275dir}if(h){if(o){u.push(h);const I=i;I.inputs=Qh(i.inputs),I.declaredInputs=Qh(i.declaredInputs),I.outputs=Qh(i.outputs);const A=h.hostBindings;A&&ic(i,A);const O=h.viewQuery,j=h.contentQueries;if(O&&Bm(i,O),j&&Vm(i,j),ge(i.inputs,h.inputs),ge(i.declaredInputs,h.declaredInputs),ge(i.outputs,h.outputs),Ki(h)&&h.data.animation){const Q=i.data;Q.animation=(Q.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let I=0;I<g.length;I++){const A=g[I];A&&A.ngInherit&&A(i),A===Zh&&(o=!1)}}s=Object.getPrototypeOf(s)}!function _o(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=s+=h.hostVars,h.hostAttrs=Hs(h.hostAttrs,o=Hs(o,h.hostAttrs))}}(u)}function Qh(i){return i===Qe?{}:i===se?[]:i}function Bm(i,s){const o=i.viewQuery;i.viewQuery=o?(u,h)=>{s(u,h),o(u,h)}:s}function Vm(i,s){const o=i.contentQueries;i.contentQueries=o?(u,h,g)=>{s(u,h,g),o(u,h,g)}:s}function ic(i,s){const o=i.hostBindings;i.hostBindings=o?(u,h)=>{s(u,h),o(u,h)}:s}function jd(i){return!!jm(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function jm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Tl(i,s,o){return i[s]=o}function qs(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Hm(i,s,o,u){const h=d();return qs(h,Vi(),s)&&(m(),cl(Qr(),h,i,s,o,u)),Hm}function zd(i,s,o,u){return qs(i,Vi(),o)?s+Be(o)+u:dr}function Wm(i,s,o,u,h,g,I,A){const O=d(),j=m(),Q=i+wn,de=j.firstCreatePass?function rI(i,s,o,u,h,g,I,A,O){const j=s.consts,Q=Bc(s,i,4,I||null,ms(j,A));cs(s,o,Q,ms(j,O)),wa(s,Q);const de=Q.tView=pp(2,Q,u,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,j);return null!==s.queries&&(s.queries.template(s,Q),de.queries=s.queries.embeddedTView(Q)),Q}(Q,j,O,s,o,u,h,g,I):j.data[Q];Gt(de,!1);const qe=O[te].createComment("");Ch(j,O,qe,de),so(qe,O),_u(O,O[Q]=km(qe,O,qe,de)),Li(de)&&Uc(j,O,de),null!=I&&jc(O,de,A)}function qc(i,s,o){const u=d();return qs(u,Vi(),s)&&ka(m(),Qr(),u,i,s,u[te],o,!1),qc}function Pp(i,s,o,u,h){const I=h?"class":"style";Ep(i,o,s.inputs[I],I,u)}function $o(i,s,o,u){const h=d(),g=m(),I=wn+i,A=h[te],O=g.firstCreatePass?function f0(i,s,o,u,h,g){const I=s.consts,O=Bc(s,i,2,u,ms(I,h));return cs(s,o,O,ms(I,g)),null!==O.attrs&&bp(O,O.attrs,!1),null!==O.mergedAttrs&&bp(O,O.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,O),O}(I,g,h,s,o,u):g.data[I],j=h[I]=Ac(A,s,function pl(){return Pn.lFrame.currentNamespace}()),Q=Li(O);return Gt(O,!0),xc(A,j,O),32!=(32&O.flags)&&Ch(g,h,j,O),0===function Js(){return Pn.lFrame.elementDepthCount}()&&so(j,h),function Ms(){Pn.lFrame.elementDepthCount++}(),Q&&(Uc(g,h,O),Ud(g,O,h)),null!==u&&jc(h,O),$o}function ef(){let i=H();Sn()?Qn():(i=i.parent,Gt(i,!1));const s=i;!function Va(){Pn.lFrame.elementDepthCount--}();const o=m();return o.firstCreatePass&&(wa(o,i),Vo(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function pr(i){return 0!=(8&i.flags)}(s)&&Pp(o,s,d(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Jn(i){return 0!=(16&i.flags)}(s)&&Pp(o,s,d(),s.stylesWithoutHost,!1),ef}function qd(i,s,o,u){return $o(i,s,o,u),ef(),qd}function tf(i,s,o){const u=d(),h=m(),g=i+wn,I=h.firstCreatePass?function Np(i,s,o,u,h){const g=s.consts,I=ms(g,u),A=Bc(s,i,8,"ng-container",I);return null!==I&&bp(A,I,!0),cs(s,o,A,ms(g,h)),null!==s.queries&&s.queries.elementStart(s,A),A}(g,h,u,s,o):h.data[g];Gt(I,!0);const A=u[g]=u[te].createComment("");return Ch(h,u,A,I),so(A,u),Li(I)&&(Uc(h,u,I),Ud(h,I,u)),null!=o&&jc(u,I),tf}function Sl(){let i=H();const s=m();return Sn()?Qn():(i=i.parent,Gt(i,!1)),s.firstCreatePass&&(wa(s,i),Vo(i)&&s.queries.elementEnd(i)),Sl}function lc(i,s,o){return tf(i,s,o),Sl(),lc}function qm(){return d()}function bu(i){return!!i&&"function"==typeof i.then}function p0(i){return!!i&&"function"==typeof i.subscribe}const Kc=p0;function kp(i,s,o,u){const h=d(),g=m(),I=H();return function m0(i,s,o,u,h,g,I){const A=Li(u),j=i.firstCreatePass&&Cl(i),Q=s[Ue],de=Lm(s);let qe=!0;if(3&u.type||I){const Wt=ni(u,s),hn=I?I(Wt):Wt,Tn=de.length,Zn=I?ur=>I(ii(ur[u.index])):u.index;let Ut=null;if(!I&&A&&(Ut=function g0(i,s,o,u){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const I=h[g];if(I===o&&h[g+1]===u){const A=s[le],O=h[g+2];return A.length>O?A[O]:null}"string"==typeof I&&(g+=2)}return null}(i,s,h,u.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=g,Ut.__ngLastListenerFn__=g,qe=!1;else{g=v0(u,s,Q,g,!1);const ur=o.listen(hn,h,g);de.push(g,ur),j&&j.push(h,Zn,Tn,Tn+1)}}else g=v0(u,s,Q,g,!1);const dt=u.outputs;let Ot;if(qe&&null!==dt&&(Ot=dt[h])){const Wt=Ot.length;if(Wt)for(let hn=0;hn<Wt;hn+=2){const Mi=s[Ot[hn]][Ot[hn+1]].subscribe(g),es=de.length;de.push(g,Mi),j&&j.push(h,u.index,es,-(es+1))}}}(g,h,h[te],I,i,s,u),kp}function y0(i,s,o,u){try{return fr(6,s,o),!1!==o(u)}catch(h){return qh(i,h),!1}finally{fr(7,s,o)}}function v0(i,s,o,u,h){return function g(I){if(I===Function)return u;vp(i.componentOffset>-1?pi(i.index,s):s);let O=y0(s,o,u,I),j=g.__ngNextListenerFn__;for(;j;)O=y0(s,o,j,I)&&O,j=j.__ngNextListenerFn__;return h&&!1===O&&(I.preventDefault(),I.returnValue=!1),O}}function _0(i=1){return function _r(i){return(Pn.lFrame.contextLView=function nu(i,s){for(;i>0;)s=s[Dt],i--;return s}(i,Pn.lFrame.contextLView))[Ue]}(i)}function Fp(i,s){let o=null;const u=function kd(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(i);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===u?bm(i,g,!0):lp(u,g))return h}else o=h}return o}function Km(i){const s=d()[Bt][K];if(!s.projection){const u=s.projection=ya(i?i.length:1,null),h=u.slice();let g=s.child;for(;null!==g;){const I=i?Fp(g,i):0;null!==I&&(h[I]?h[I].projectionNext=g:u[I]=g,h[I]=g),g=g.next}}}function E0(i,s=0,o){const u=d(),h=m(),g=Bc(h,wn+i,16,null,o||null);null===g.projection&&(g.projection=s),Qn(),32!=(32&g.flags)&&function o_(i,s,o){a_(s[te],0,s,o,Yf(i,o,s),Yg(o.parent||s[K],o,s))}(h,u,g)}function Lp(i,s,o){return Ym(i,"",s,"",o),Lp}function Ym(i,s,o,u,h){const g=d(),I=zd(g,s,o,u);return I!==dr&&ka(m(),Qr(),g,i,I,g[te],h,!1),Ym}function $p(i,s){return i<<17|s<<2}function Yl(i){return i>>17&32767}function ey(i){return 2|i}function Yc(i){return(131068&i)>>2}function ty(i,s){return-131069&i|s<<2}function ny(i){return 1|i}function Bp(i,s,o,u,h){const g=i[o+1],I=null===s;let A=u?Yl(g):Yc(g),O=!1;for(;0!==A&&(!1===O||I);){const Q=i[A+1];nf(i[A],s)&&(O=!0,i[A+1]=u?ny(Q):ey(Q)),A=u?Yl(Q):Yc(Q)}O&&(i[o+1]=u?ey(g):ny(g))}function nf(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&D(i,s)>=0}const Es={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vp(i){return i.substring(Es.key,Es.keyEnd)}function T0(i,s){const o=Es.textEnd;return o===s?-1:(s=Es.keyEnd=function A0(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,Es.key=s,o),Yd(i,s,o))}function Yd(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function sf(i,s,o){return Ba(i,s,o,!1),sf}function Zd(i,s){return Ba(i,s,null,!0),Zd}function ly(i){!function Ml(i,s,o,u){const h=m(),g=os(2);h.firstUpdatePass&&uy(h,null,g,u);const I=d();if(o!==dr&&qs(I,g,o)){const A=h.data[Lr()];if(P0(A,u)&&!jp(h,g)){let O=u?A.classesWithoutHost:A.stylesWithoutHost;null!==O&&(o=$e(O,o||"")),Pp(h,A,I,o,u)}else!function R0(i,s,o,u,h,g,I,A){h===dr&&(h=se);let O=0,j=0,Q=0<h.length?h[0]:null,de=0<g.length?g[0]:null;for(;null!==Q||null!==de;){const qe=O<h.length?h[O+1]:void 0,dt=j<g.length?g[j+1]:void 0;let Wt,Ot=null;Q===de?(O+=2,j+=2,qe!==dt&&(Ot=de,Wt=dt)):null===de||null!==Q&&Q<de?(O+=2,Ot=Q):(j+=2,Ot=de,Wt=dt),null!==Ot&&O0(i,s,o,u,Ot,Wt,I,A),Q=O<h.length?h[O]:null,de=j<g.length?g[j]:null}}(h,A,I,I[te],I[g+1],I[g+1]=function dy(i,s,o){if(null==o||""===o)return se;const u=[],h=cu(o);if(Array.isArray(h))for(let g=0;g<h.length;g++)i(u,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&i(u,g,h[g]);else"string"==typeof h&&s(u,h);return u}(i,s,o),u,g)}}(yo,Zl,i,!0)}function Zl(i,s){for(let o=function C0(i){return function Up(i){Es.key=0,Es.keyEnd=0,Es.value=0,Es.valueEnd=0,Es.textEnd=i.length}(i),T0(i,Yd(i,0,Es.textEnd))}(s);o>=0;o=T0(s,o))yo(i,Vp(s),!0)}function Ba(i,s,o,u){const h=d(),g=m(),I=os(2);g.firstUpdatePass&&uy(g,i,I,u),s!==dr&&qs(h,I,s)&&O0(g,g.data[Lr()],h,h[te],i,h[I+1]=function fy(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Te(cu(i)))),i}(s,o),u,I)}function jp(i,s){return s>=i.expandoStartIndex}function uy(i,s,o,u){const h=i.data;if(null===h[o+1]){const g=h[Lr()],I=jp(i,o);P0(g,u)&&null===s&&!I&&(s=!1),s=function x0(i,s,o,u){const h=as(i);let g=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(o=Qc(o=Qd(null,i,s,o,u),s.attrs,u),g=null);else{const I=s.directiveStylingLast;if(-1===I||i[I]!==h)if(o=Qd(h,i,s,o,u),null===g){let O=function cy(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Yc(u))return i[Yl(u)]}(i,s,u);void 0!==O&&Array.isArray(O)&&(O=Qd(null,i,s,O[1],u),O=Qc(O,s.attrs,u),function Hp(i,s,o,u){i[Yl(o?s.classBindings:s.styleBindings)]=u}(i,s,u,O))}else g=function af(i,s,o){let u;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)u=Qc(u,i[g].hostAttrs,o);return Qc(u,s.attrs,o)}(i,s,u)}return void 0!==g&&(u?s.residualClasses=g:s.residualStyles=g),o}(h,g,s,u),function D0(i,s,o,u,h,g){let I=g?s.classBindings:s.styleBindings,A=Yl(I),O=Yc(I);i[u]=o;let Q,j=!1;if(Array.isArray(o)?(Q=o[1],(null===Q||D(o,Q)>0)&&(j=!0)):Q=o,h)if(0!==O){const qe=Yl(i[A+1]);i[u+1]=$p(qe,A),0!==qe&&(i[qe+1]=ty(i[qe+1],u)),i[A+1]=function iI(i,s){return 131071&i|s<<17}(i[A+1],u)}else i[u+1]=$p(A,0),0!==A&&(i[A+1]=ty(i[A+1],u)),A=u;else i[u+1]=$p(O,0),0===A?A=u:i[O+1]=ty(i[O+1],u),O=u;j&&(i[u+1]=ey(i[u+1])),Bp(i,Q,u,!0),Bp(i,Q,u,!1),function iy(i,s,o,u,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&D(g,s)>=0&&(o[u+1]=ny(o[u+1]))}(s,Q,i,u,g),I=$p(A,O),g?s.classBindings=I:s.styleBindings=I}(h,g,s,o,I,u)}}function Qd(i,s,o,u,h){let g=null;const I=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<I&&(g=s[A],u=Qc(u,g.hostAttrs,h),g!==i);)A++;return null!==i&&(o.directiveStylingLast=A),u}function Qc(i,s,o){const u=o?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const I=s[g];"number"==typeof I?h=I:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),yo(i,I,!!o||s[++g]))}return void 0===i?null:i}function O0(i,s,o,u,h,g,I,A){if(!(3&s.type))return;const O=i.data,j=O[A+1],Q=function w0(i){return 1==(1&i)}(j)?hy(O,s,o,h,Yc(j),I):void 0;Xc(Q)||(Xc(g)||function Eo(i){return 2==(2&i)}(j)&&(g=hy(O,null,o,h,A,I)),function fb(i,s,o,u,h){if(s)h?i.addClass(o,u):i.removeClass(o,u);else{let g=-1===u.indexOf("-")?void 0:il.DashCase;null==h?i.removeStyle(o,u,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=il.Important),i.setStyle(o,u,h,g))}}(u,I,Vs(Lr(),o),h,g))}function hy(i,s,o,u,h,g){const I=null===s;let A;for(;h>0;){const O=i[h],j=Array.isArray(O),Q=j?O[1]:O,de=null===Q;let qe=o[h+1];qe===dr&&(qe=de?se:void 0);let dt=de?w(qe,u):Q===u?qe:void 0;if(j&&!Xc(dt)&&(dt=w(O,u)),Xc(dt)&&(A=dt,I))return A;const Ot=i[h+1];h=I?Yl(Ot):Yc(Ot)}if(null!==s){let O=g?s.residualClasses:s.residualStyles;null!=O&&(A=w(O,u))}return A}function Xc(i){return void 0!==i}function P0(i,s){return 0!=(i.flags&(s?8:16))}function N0(i,s=""){const o=d(),u=m(),h=i+wn,g=u.firstCreatePass?Bc(u,h,1,s,null):u.data[h],I=o[h]=function Sc(i,s){return i.createText(s)}(o[te],s);Ch(u,o,I,g),Gt(g,!1)}function bo(i){return Gp("",i,""),bo}function Gp(i,s,o){const u=d(),h=zd(u,i,s,o);return h!==dr&&function Eu(i,s,o){const u=Vs(s,i);!function Ra(i,s,o){i.setValue(s,o)}(i[te],u,o)}(u,Lr(),h),Gp}function Dy(i,s,o){const u=d();if(qs(u,Vi(),s)){const g=m(),I=Qr();ka(g,I,u,i,s,function $m(i,s,o){return(null===i||Ki(i))&&(o=function Mo(i){for(;Array.isArray(i);){if("object"==typeof i[hs])return i;i=i[ai]}return null}(o[s.index])),o[te]}(as(g.data),I,u),o,!0)}return Dy}const cc=void 0;var dI=["en",[["a","p"],["AM","PM"],cc],[["AM","PM"],cc,cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cc,"{1} 'at' {0}",cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function H0(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let dc={};function hf(i){const s=function Cy(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=z0(s);if(o)return o;const u=s.split("-")[0];if(o=z0(u),o)return o;if("en"===u)return dI;throw new De(701,!1)}function Xp(i){return hf(i)[qn.PluralCase]}function z0(i){return i in dc||(dc[i]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[i]),dc[i]}var qn=(()=>((qn=qn||{})[qn.LocaleId=0]="LocaleId",qn[qn.DayPeriodsFormat=1]="DayPeriodsFormat",qn[qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",qn[qn.DaysFormat=3]="DaysFormat",qn[qn.DaysStandalone=4]="DaysStandalone",qn[qn.MonthsFormat=5]="MonthsFormat",qn[qn.MonthsStandalone=6]="MonthsStandalone",qn[qn.Eras=7]="Eras",qn[qn.FirstDayOfWeek=8]="FirstDayOfWeek",qn[qn.WeekendRange=9]="WeekendRange",qn[qn.DateFormat=10]="DateFormat",qn[qn.TimeFormat=11]="TimeFormat",qn[qn.DateTimeFormat=12]="DateTimeFormat",qn[qn.NumberSymbols=13]="NumberSymbols",qn[qn.NumberFormats=14]="NumberFormats",qn[qn.CurrencyCode=15]="CurrencyCode",qn[qn.CurrencySymbol=16]="CurrencySymbol",qn[qn.CurrencyName=17]="CurrencyName",qn[qn.Currencies=18]="Currencies",qn[qn.Directionality=19]="Directionality",qn[qn.PluralCase=20]="PluralCase",qn[qn.ExtraData=21]="ExtraData",qn))();const xl="en-US";let ed=xl;function vf(i,s,o,u,h){if(i=me(i),Array.isArray(i))for(let g=0;g<i.length;g++)vf(i[g],s,o,u,h);else{const g=m(),I=d();let A=Gl(i)?i:me(i.provide),O=cm(i);const j=H(),Q=1048575&j.providerIndexes,de=j.directiveStart,qe=j.providerIndexes>>20;if(Gl(i)||!i.multi){const dt=new ct(O,h,Pa),Ot=nh(A,s,h?Q:Q+qe,de);-1===Ot?(Ka(ta(j,I),g,A),_f(g,i,s.length),s.push(A),j.directiveStart++,j.directiveEnd++,h&&(j.providerIndexes+=1048576),o.push(dt),I.push(dt)):(o[Ot]=dt,I[Ot]=dt)}else{const dt=nh(A,s,Q+qe,de),Ot=nh(A,s,Q,Q+qe),hn=Ot>=0&&o[Ot];if(h&&!hn||!h&&!(dt>=0&&o[dt])){Ka(ta(j,I),g,A);const Tn=function Qy(i,s,o,u,h){const g=new ct(i,o,Pa);return g.multi=[],g.index=s,g.componentProviders=0,dg(g,h,u&&!o),g}(h?uE:Zy,o.length,h,u,O);!h&&hn&&(o[Ot].providerFactory=Tn),_f(g,i,s.length,0),s.push(A),j.directiveStart++,j.directiveEnd++,h&&(j.providerIndexes+=1048576),o.push(Tn),I.push(Tn)}else _f(g,i,dt>-1?dt:Ot,dg(o[h?Ot:dt],O,!h&&u));!h&&u&&hn&&o[Ot].componentProviders++}}}function _f(i,s,o,u){const h=Gl(s),g=function Nc(i){return!!i.useClass}(s);if(h||g){const O=(g?me(s.useClass):s).prototype.ngOnDestroy;if(O){const j=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const Q=j.indexOf(o);-1===Q?j.push(o,[u,O]):j[Q+1].push(u,O)}else j.push(o,O)}}}function dg(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function nh(i,s,o,u){for(let h=o;h<u;h++)if(s[h]===i)return h;return-1}function Zy(i,s,o,u){return rh(this.multi,[])}function uE(i,s,o,u){const h=this.multi;let g;if(this.providerFactory){const I=this.providerFactory.componentProviders,A=po(o,o[zt],this.providerFactory.index,u);g=A.slice(0,I),rh(h,g);for(let O=I;O<A.length;O++)g.push(A[O])}else g=[],rh(h,g);return g}function rh(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function hg(i,s=[]){return o=>{o.providersResolver=(u,h)=>function lE(i,s,o){const u=m();if(u.firstCreatePass){const h=Ki(i);vf(o,u.data,u.blueprint,h,!0),vf(s,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,s)}}class id{}class sd{}function Xy(i,s){return new cE(i,null!=s?s:null)}class cE extends id{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new J_(this);const u=jr(s);this._bootstrapComponents=Wl(u.bootstrap),this._r3Injector=O_(s,o,[{provide:id,useValue:this},{provide:Nr,useValue:this.componentFactoryResolver}],Te(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Jy extends sd{constructor(s){super(),this.moduleType=s}create(s){return new cE(this.moduleType,s)}}class dE extends id{constructor(s,o,u){super(),this.componentFactoryResolver=new J_(this),this.instance=null;const h=new Ju([...s,{provide:id,useValue:this},{provide:Nr,useValue:this.componentFactoryResolver}],o||fu(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function ev(i,s,o=null){return new dE(i,s,o).injector}let hE=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Ws(0,o.type),h=u.length>0?ev([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,h)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=et({token:i,providedIn:"environment",factory:()=>new i(kt(pu))}),i})();function fE(i){i.getStandaloneInjector=s=>s.get(hE).getOrCreateStandaloneInjector(i)}function _E(i,s,o){const u=lr()+i,h=d();return h[u]===dr?Tl(h,u,o?s.call(o):s()):function ac(i,s){return i[s]}(h,u)}function Ef(i,s,o,u){return function bs(i,s,o,u,h,g){const I=s+o;return qs(i,I,h)?Tl(i,I+1,g?u.call(g,h):u(h)):function bf(i,s){const o=i[s];return o===dr?void 0:o}(i,I+1)}(d(),lr(),i,s,o,u)}function hl(i){return s=>{setTimeout(i,void 0,s)}}const Io=class UI extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let h=s,g=o||(()=>null),I=u;if(s&&"object"==typeof s){var A,O,j;const de=s;h=null===(A=de.next)||void 0===A?void 0:A.bind(de),g=null===(O=de.error)||void 0===O?void 0:O.bind(de),I=null===(j=de.complete)||void 0===j?void 0:j.bind(de)}this.__isAsync&&(g=hl(g),h&&(h=hl(h)),I&&(I=hl(I)));const Q=super.subscribe({next:h,error:g,complete:I});return s instanceof v.w0&&s.add(Q),Q}};function oD(){return this._results[Symbol.iterator]()}class Tu{get changes(){return this._changes||(this._changes=new Io)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Tu.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=oD)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const h=function us(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Aa(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],g=s[u];if(o&&(h=o(h),g=o(g)),g!==h)return!1}return!0}(u._results,h,o))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fc=(()=>{class i{}return i.__NG_ELEMENT_ID__=DE,i})();const jI=fc,HI=class extends jI{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s,o){const u=this._declarationTContainer.tView,h=Na(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,o||null);h[rn]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[Gn];return null!==I&&(h[Gn]=I.createEmbeddedView(u)),Rm(u,h,s),new Kh(h)}};function DE(){return If(H(),d())}function If(i,s){return 4&i.type?new HI(s,i,Dl(i,s)):null}let od=(()=>{class i{}return i.__NG_ELEMENT_ID__=zI,i})();function zI(){return mg(H(),d())}const ad=od,wf=class extends ad{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Dl(this._hostTNode,this._hostLView)}get injector(){return new Sa(this._hostTNode,this._hostLView)}get parentInjector(){const s=qa(this._hostTNode,this._hostLView);if(zs(s)){const o=ga(s,this._hostLView),u=ys(s);return new Sa(o[zt].data[u+8],o)}return new Sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=sh(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Oi}createEmbeddedView(s,o,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const I=s.createEmbeddedView(o||{},g);return this.insert(I,h),I}createComponent(s,o,u,h,g){const I=s&&!function ra(i){return"function"==typeof i}(s);let A;if(I)A=o;else{const de=o||{};A=de.index,u=de.injector,h=de.projectableNodes,g=de.environmentInjector||de.ngModuleRef}const O=I?s:new Yh(Ln(s)),j=u||this.parentInjector;if(!g&&null==O.ngModule){const qe=(I?j:this.parentInjector).get(pu,null);qe&&(g=qe)}const Q=O.create(j,h,void 0,g);return this.insert(Q.hostView,A),Q}insert(s,o){const u=s._lView,h=u[zt];if(function As(i){return li(i[Ar])}(u)){const Q=this.indexOf(s);if(-1!==Q)this.detach(Q);else{const de=u[Ar],qe=new wf(de,de[K],de[Ar]);qe.detach(qe.indexOf(s))}}const g=this._adjustIndex(o),I=this._lContainer;!function qu(i,s,o,u){const h=Oi+u,g=o.length;u>0&&(o[h-1][Hr]=s),u<g-Oi?(s[Hr]=o[h],Ll(o,Oi+u,s)):(o.push(s),s[Hr]=null),s[Ar]=o;const I=s[rn];null!==I&&o!==I&&function Kf(i,s){const o=i[ps];s[Bt]!==s[Ar][Ar][Bt]&&(i[ns]=!0),null===o?i[ps]=[s]:o.push(s)}(I,s);const A=s[Gn];null!==A&&A.insertView(i),s[On]|=64}(h,u,I,g);const A=Xg(g,I),O=u[te],j=wh(O,I[fs]);return null!==j&&function lu(i,s,o,u,h,g){u[ai]=h,u[K]=s,Sh(i,u,o,1,h,g)}(h,I[K],O,u,j,A),s.attachToViewContainerRef(),Ll(gg(I),g,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=sh(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=Wg(this._lContainer,o);u&&(mo(gg(this._lContainer),o),qg(u[zt],u))}detach(s){const o=this._adjustIndex(s,-1),u=Wg(this._lContainer,o);return u&&null!=mo(gg(this._lContainer),o)?new Kh(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function sh(i){return i[qi]}function gg(i){return i[qi]||(i[qi]=[])}function mg(i,s){let o;const u=s[i.index];if(li(u))o=u;else{let h;if(8&i.type)h=ii(u);else{const g=s[te];h=g.createComment("");const I=ni(i,s);Ku(g,wh(g,I),h,function i_(i,s){return i.nextSibling(s)}(g,I),!1)}s[i.index]=o=km(u,s,h,i),_u(s,o)}return new wf(o,i,s)}class uv{constructor(s){this.queryList=s,this.matches=null}clone(){return new uv(this.queryList)}setDirty(){this.queryList.setDirty()}}class cv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,h=[];for(let g=0;g<u;g++){const I=o.getByIndex(g);h.push(this.queries[I.indexInDeclarationView].clone())}return new cv(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==vg(s,o).matches&&this.queries[o].setDirty()}}class CE{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class Df{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const h=null!==o?o.length:0,g=this.getByIndex(u).embeddedTView(s,h);g&&(g.indexInDeclarationView=u,null!==o?o.push(g):o=[g])}return null!==o?new Df(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Cf{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Cf(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(s,o,TE(o,g)),this.matchTNodeWithReadOption(s,o,na(o,s,g,!1,!1))}else u===fc?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,na(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===kc||h===od||h===fc&&4&o.type)this.addMatch(o.index,-2);else{const g=na(o,s,h,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function TE(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function SE(i,s,o,u){return-1===o?function ld(i,s){return 11&i.type?Dl(i,s):4&i.type?If(i,s):null}(s,i):-2===o?function AE(i,s,o){return o===kc?Dl(s,i):o===fc?If(s,i):o===od?mg(s,i):void 0}(i,s,u):po(i,i[zt],o,s)}function yg(i,s,o,u){const h=s[Gn].queries[u];if(null===h.matches){const g=i.data,I=o.matches,A=[];for(let O=0;O<I.length;O+=2){const j=I[O];A.push(j<0?null:SE(s,g[j],I[O+1],o.metadata.read))}h.matches=A}return h.matches}function ud(i,s,o,u){const h=i.queries.getByIndex(o),g=h.matches;if(null!==g){const I=yg(i,s,h,o);for(let A=0;A<g.length;A+=2){const O=g[A];if(O>0)u.push(I[A/2]);else{const j=g[A+1],Q=s[-O];for(let de=Oi;de<Q.length;de++){const qe=Q[de];qe[rn]===qe[Ar]&&ud(qe[zt],qe,j,u)}if(null!==Q[ps]){const de=Q[ps];for(let qe=0;qe<de.length;qe++){const dt=de[qe];ud(dt[zt],dt,j,u)}}}}}return u}function ME(i){const s=d(),o=m(),u=fa();Jo(u+1);const h=vg(o,u);if(i.dirty&&function Ei(i){return 4==(4&i[On])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?ud(o,s,u,[]):yg(o,s,h,u);i.reset(g,pm),i.notifyOnChanges()}return!0}return!1}function Tf(i,s,o){const u=m();u.firstCreatePass&&(Mf(u,new CE(i,s,o),-1),2==(2&s)&&(u.staticViewQueries=!0)),xE(u,d(),s)}function Sf(i,s,o,u){const h=m();if(h.firstCreatePass){const g=H();Mf(h,new CE(s,o,u),g.index),function RE(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(h,i),2==(2&o)&&(h.staticContentQueries=!0)}xE(h,d(),o)}function dv(){return function Af(i,s){return i[Gn].queries[s].queryList}(d(),fa())}function xE(i,s,o){const u=new Tu(4==(4&o));H_(i,s,u,u.destroy),null===s[Gn]&&(s[Gn]=new cv),s[Gn].queries.push(new uv(u))}function Mf(i,s,o){null===i.queries&&(i.queries=new Df),i.queries.track(new Cf(s,o))}function vg(i,s){return i.queries.getByIndex(s)}function hv(i){return!!jr(i)}function Dg(...i){}const BE=new $r("Application Initializer");let Cg=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Dg,this.reject=Dg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(bu(g))o.push(g);else if(Kc(g)){const I=new Promise((A,O)=>{g.subscribe({complete:A,error:O})});o.push(I)}}Promise.all(o).then(()=>{u()}).catch(h=>{this.reject(h)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(kt(BE,8))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rw=new $r("AppId",{providedIn:"root",factory:function iw(){return`${wv()}${wv()}${wv()}`}});function wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VE=new $r("Platform Initializer"),Dv=new $r("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),UE=new $r("AnimationModuleType");let kf=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Tg=new $r("LocaleId",{providedIn:"root",factory:()=>Qt(Tg,Nt.Optional|Nt.SkipSelf)||function Cv(){return typeof $localize<"u"&&$localize.locale||xl}()}),aw=new $r("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jE{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let HE=(()=>{class i{compileModuleSync(o){return new Jy(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),g=Wl(jr(o).declarations).reduce((I,A)=>{const O=Ln(A);return O&&I.push(new Yh(O)),I},[]);return new jE(u,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ua=(()=>Promise.resolve(0))();function Mv(i){typeof Zone>"u"?ua.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class wo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Io(!1),this.onMicrotaskEmpty=new Io(!1),this.onStable=new Io(!1),this.onError=new Io(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&o,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function xv(){let i=yn.requestAnimationFrame,s=yn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function cw(i){const s=()=>{!function uw(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(yn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ov(i),i.isCheckStableRunning=!0,Mu(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ov(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,h,g,I,A)=>{try{return Pv(i),o.invokeTask(h,g,I,A)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),zE(i)}},onInvoke:(o,u,h,g,I,A,O)=>{try{return Pv(i),o.invoke(h,g,I,A,O)}finally{i.shouldCoalesceRunChangeDetection&&s(),zE(i)}},onHasTask:(o,u,h,g)=>{o.hasTask(h,g),u===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Ov(i),Mu(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,u,h,g)=>(o.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wo.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(wo.isInAngularZone())throw new De(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,h){const g=this._inner,I=g.scheduleEventTask("NgZoneEvent: "+h,s,Rv,Dg,Dg);try{return g.runTask(I,o,u)}finally{g.cancelTask(I)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const Rv={};function Mu(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ov(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Pv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zE(i){i._nesting--,Mu(i)}class Ag{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Io,this.onMicrotaskEmpty=new Io,this.onStable=new Io,this.onError=new Io}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,h){return s.apply(o,u)}}const xu=new $r(""),GE=new $r("");let Nv,dw=(()=>{class i{constructor(o,u,h){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nv||(function qE(i){Nv=i}(h),h.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wo.assertNotInAngularZone(),Mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:h})}whenStable(o,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,h){return[]}}return i.\u0275fac=function(o){return new(o||i)(kt(wo),kt(WE),kt(GE))},i.\u0275prov=et({token:i,factory:i.\u0275fac}),i})(),WE=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){var h,g;return null!==(h=null===(g=Nv)||void 0===g?void 0:g.findTestabilityInTree(this,o,u))&&void 0!==h?h:null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ru=!1;let Ou=null;const Mg=new $r("AllowMultipleToken"),eu=new $r("PlatformDestroyListeners"),hd=new $r("appBootstrapListener");class Fv{constructor(s,o){this.name=s,this.token=o}}function YE(i,s,o=[]){const u=`Platform: ${s}`,h=new $r(u);return(g=[])=>{let I=Lv();if(!I||I.injector.get(Mg,!1)){const A=[...o,...g,{provide:h,useValue:!0}];i?i(A):function fw(i){if(Ou&&!Ou.get(Mg,!1))throw new De(400,!1);Ou=i;const s=i.get(mw);(function KE(i){const s=i.get(VE,null);s&&s.forEach(o=>o())})(i)}(function gw(i=[],s){return nc.create({name:s,providers:[{provide:ll,useValue:"platform"},{provide:eu,useValue:new Set([()=>Ou=null])},...i]})}(A,u))}return function yD(i){const s=Lv();if(!s)throw new De(401,!1);return s}()}}function Lv(){var i,s;return null!==(i=null===(s=Ou)||void 0===s?void 0:s.get(mw))&&void 0!==i?i:null}let mw=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const h=function vw(i,s){let o;return o="noop"===i?new Ag:("zone.js"===i?void 0:i)||new wo(s),o}(null==u?void 0:u.ngZone,function yw(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:wo,useValue:h}];return h.run(()=>{const I=nc.create({providers:g,parent:this.injector,name:o.moduleType.name}),A=o.create(I),O=A.injector.get(Od,null);if(!O)throw new De(402,!1);return h.runOutsideAngular(()=>{const j=h.onError.subscribe({next:Q=>{O.handleError(Q)}});A.onDestroy(()=>{Ks(this._modules,A),j.unsubscribe()})}),function xg(i,s,o){try{const u=o();return bu(u)?u.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(O,h,()=>{const j=A.injector.get(Cg);return j.runInitializers(),j.donePromise.then(()=>(function W0(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(ed=i.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Tg,xl)||xl),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const h=$v({},u);return function kv(i,s,o){const u=new Jy(o);return Promise.resolve(u)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(o){const u=o.injector.get(Rg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new De(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(eu,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(kt(nc))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function $v(i,s){return Array.isArray(s)?s.reduce($v,i):{...i,...s}}let Rg=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,h){this._zone=o,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new F.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),I=new F.y(A=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{wo.assertNotInAngularZone(),Mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{wo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{O.unsubscribe(),j.unsubscribe()}});this.isStable=(0,Ie.T)(g,I.pipe((0,xe.B)()))}bootstrap(o,u){const h=o instanceof hm;if(!this._injector.get(Cg).done){!h&&xr(o);throw new De(405,Ru)}let I;I=h?o:this._injector.get(Nr).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const A=function hw(i){return i.isBoundToModule}(I)?void 0:this._injector.get(id),j=I.create(nc.NULL,[],u||I.selector,A),Q=j.location.nativeElement,de=j.injector.get(xu,null);return null==de||de.registerApplication(Q),j.onDestroy(()=>{this.detachView(j.hostView),Ks(this.components,j),null==de||de.unregisterApplication(Q)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ks(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(hd,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ks(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new De(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(kt(wo),kt(pu),kt(Od))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ks(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}function Bv(){return!1}function _w(){}let Ew=(()=>{class i{}return i.__NG_ELEMENT_ID__=bw,i})();function bw(i){return function Iw(i,s,o){if(Do(i)&&!o){const u=pi(i.index,s);return new Kh(u,u)}return 47&i.type?new Kh(s[Bt],s):null}(H(),d(),16==(16&i))}class Fg{constructor(){}supports(s){return jd(s)}create(s){return new zv(s)}}const tb=(i,s)=>s;class zv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||tb}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,h=0,g=null;for(;o||u;){const I=!u||o&&o.currentIndex<Lg(u,h,g)?o:u,A=Lg(I,h,g),O=I.currentIndex;if(I===u)h--,u=u._nextRemoved;else if(o=o._next,null==I.previousIndex)h++;else{g||(g=[]);const j=A-h,Q=O-h;if(j!=Q){for(let qe=0;qe<j;qe++){const dt=qe<g.length?g[qe]:g[qe]=0,Ot=dt+qe;Q<=Ot&&Ot<j&&(g[qe]=dt+1)}g[I.previousIndex]=Q-j}}A!==O&&s(I,A,O)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!jd(s))throw new De(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,I,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let A=0;A<this.length;A++)g=s[A],I=this._trackByFn(A,g),null!==o&&Object.is(o.trackById,I)?(u&&(o=this._verifyReinsertion(o,g,I,A)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,I,A),u=!0),o=o._next}else h=0,function c0(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,A=>{I=this._trackByFn(h,A),null!==o&&Object.is(o.trackById,I)?(u&&(o=this._verifyReinsertion(o,A,I,h)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,I,h),u=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,g,h)):s=this._addAfter(new nb(o,u),g,h),s}_verifyReinsertion(s,o,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const h=null===o?this._itHead:o._next;return s._next=h,s._prev=o,null===h?this._itTail=s:h._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new rb),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class nb{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lf{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class rb{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new Lf,this.map.set(o,u)),u.add(s)}get(s,o){const h=this.map.get(s);return h?h.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lg(i,s,o){const u=i.previousIndex;if(null===u)return u;let h=0;return o&&u<o.length&&(h=o[u]),u+s+h}class $g{constructor(){}supports(s){return s instanceof Map||jm(s)}create(){return new Tw}}class Tw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||jm(s)))throw new De(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(h,u);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,o);const g=h._prev,I=h._next;return g&&(g._next=I),I&&(I._prev=g),h._next=null,h._prev=null,h}const u=new Gv(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class Gv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wv(){return new Bg([new Fg])}let Bg=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const h=u.factories.slice();o=o.concat(h)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Wv()),deps:[[i,new B,new di]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(null!=u)return u;throw new De(901,!1)}}return i.\u0275prov=et({token:i,providedIn:"root",factory:Wv}),i})();function sb(){return new qv([new $g])}let qv=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const h=u.factories.slice();o=o.concat(h)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||sb()),deps:[[i,new B,new di]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(u)return u;throw new De(901,!1)}}return i.\u0275prov=et({token:i,providedIn:"root",factory:sb}),i})();const Kv=YE(null,"core",[]);let lb=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(kt(Rg))},i.\u0275mod=Ur({type:i}),i.\u0275inj=Xt({}),i})();function Aw(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},433:(Ht,lt,V)=>{"use strict";V.d(lt,{qu:()=>Ho,u:()=>To,sg:()=>co,u5:()=>zo,JU:()=>nt,a5:()=>Yn,JJ:()=>nr,JL:()=>yn,UX:()=>Go,Q7:()=>ui,kI:()=>Xe,_Y:()=>ps});var l=V(4650),v=V(6895),F=V(8996),Ie=V(9751),xe=V(4742),Oe=V(8421),ge=V(7669),Te=V(5403),$e=V(3268),fe=V(1810),me=V(4004);let Ne=(()=>{class L{constructor(m,f){this._renderer=m,this._elementRef=f,this.onChange=M=>{},this.onTouched=()=>{}}setProperty(m,f){this._renderer.setProperty(this._elementRef.nativeElement,m,f)}registerOnTouched(m){this.onTouched=m}registerOnChange(m){this.onChange=m}setDisabledState(m){this.setProperty("disabled",m)}}return L.\u0275fac=function(m){return new(m||L)(l.Y36(l.Qsj),l.Y36(l.SBq))},L.\u0275dir=l.lG2({type:L}),L})(),ke=(()=>{class L extends Ne{}return L.\u0275fac=function(){let d;return function(f){return(d||(d=l.n5z(L)))(f||L)}}(),L.\u0275dir=l.lG2({type:L,features:[l.qOj]}),L})();const nt=new l.OlP("NgValueAccessor"),ue={provide:nt,useExisting:(0,l.Gpc)(()=>Ve),multi:!0},Ze=new l.OlP("CompositionEventMode");let Ve=(()=>{class L extends Ne{constructor(m,f,M){super(m,f),this._compositionMode=M,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Be(){const L=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(m){this.setProperty("value",null==m?"":m)}_handleInput(m){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(m)}_compositionStart(){this._composing=!0}_compositionEnd(m){this._composing=!1,this._compositionMode&&this.onChange(m)}}return L.\u0275fac=function(m){return new(m||L)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ze,8))},L.\u0275dir=l.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(m,f){1&m&&l.NdJ("input",function(H){return f._handleInput(H.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(H){return f._compositionEnd(H.target.value)})},features:[l._Bn([ue]),l.qOj]}),L})();const Ee=!1;function We(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function Ce(L){return null!=L&&"number"==typeof L.length}const ie=new l.OlP("NgValidators"),_e=new l.OlP("NgAsyncValidators"),ze=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xe{static min(d){return function je(L){return d=>{if(We(d.value)||We(L))return null;const m=parseFloat(d.value);return!isNaN(m)&&m<L?{min:{min:L,actual:d.value}}:null}}(d)}static max(d){return function Ke(L){return d=>{if(We(d.value)||We(L))return null;const m=parseFloat(d.value);return!isNaN(m)&&m>L?{max:{max:L,actual:d.value}}:null}}(d)}static required(d){return Je(d)}static requiredTrue(d){return function Fe(L){return!0===L.value?null:{required:!0}}(d)}static email(d){return function at(L){return We(L.value)||ze.test(L.value)?null:{email:!0}}(d)}static minLength(d){return function ut(L){return d=>We(d.value)||!Ce(d.value)?null:d.value.length<L?{minlength:{requiredLength:L,actualLength:d.value.length}}:null}(d)}static maxLength(d){return function Me(L){return d=>Ce(d.value)&&d.value.length>L?{maxlength:{requiredLength:L,actualLength:d.value.length}}:null}(d)}static pattern(d){return function Se(L){if(!L)return Pe;let d,m;return"string"==typeof L?(m="","^"!==L.charAt(0)&&(m+="^"),m+=L,"$"!==L.charAt(L.length-1)&&(m+="$"),d=new RegExp(m)):(m=L.toString(),d=L),f=>{if(We(f.value))return null;const M=f.value;return d.test(M)?null:{pattern:{requiredPattern:m,actualValue:M}}}}(d)}static nullValidator(d){return null}static compose(d){return gt(d)}static composeAsync(d){return vt(d)}}function Je(L){return We(L.value)?{required:!0}:null}function Pe(L){return null}function tt(L){return null!=L}function ce(L){const d=(0,l.QGY)(L)?(0,F.D)(L):L;if(Ee&&!(0,l.CqO)(d)){let m="Expected async validator to return Promise or Observable.";throw"object"==typeof L&&(m+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,m)}return d}function Re(L){let d={};return L.forEach(m=>{d=null!=m?{...d,...m}:d}),0===Object.keys(d).length?null:d}function ee(L,d){return d.map(m=>m(L))}function et(L){return L.map(d=>function be(L){return!L.validate}(d)?d:m=>d.validate(m))}function gt(L){if(!L)return null;const d=L.filter(tt);return 0==d.length?null:function(m){return Re(ee(m,d))}}function Xt(L){return null!=L?gt(et(L)):null}function vt(L){if(!L)return null;const d=L.filter(tt);return 0==d.length?null:function(m){return function he(...L){const d=(0,ge.jO)(L),{args:m,keys:f}=(0,xe.D)(L),M=new Ie.y(H=>{const{length:ot}=m;if(!ot)return void H.complete();const Ft=new Array(ot);let Gt=ot,Sn=ot;for(let Qn=0;Qn<ot;Qn++){let kr=!1;(0,Oe.Xf)(m[Qn]).subscribe((0,Te.x)(H,Vn=>{kr||(kr=!0,Sn--),Ft[Qn]=Vn},()=>Gt--,void 0,()=>{(!Gt||!kr)&&(Sn||H.next(f?(0,fe.n)(f,Ft):Ft),H.complete())}))}});return d?M.pipe((0,$e.Z)(d)):M}(ee(m,d).map(ce)).pipe((0,me.U)(Re))}}function en(L){return null!=L?vt(et(L)):null}function En(L,d){return null===L?[d]:Array.isArray(L)?[...L,d]:[L,d]}function sn(L){return L._rawValidators}function Kt(L){return L._rawAsyncValidators}function zn(L){return L?Array.isArray(L)?L:[L]:[]}function yr(L,d){return Array.isArray(L)?L.includes(d):L===d}function wr(L,d){const m=zn(d);return zn(L).forEach(M=>{yr(m,M)||m.push(M)}),m}function xn(L,d){return zn(d).filter(m=>!yr(L,m))}class hr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(d){this._rawValidators=d||[],this._composedValidatorFn=Xt(this._rawValidators)}_setAsyncValidators(d){this._rawAsyncValidators=d||[],this._composedAsyncValidatorFn=en(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(d){this._onDestroyCallbacks.push(d)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(d=>d()),this._onDestroyCallbacks=[]}reset(d){this.control&&this.control.reset(d)}hasError(d,m){return!!this.control&&this.control.hasError(d,m)}getError(d,m){return this.control?this.control.getError(d,m):null}}class Nt extends hr{get formDirective(){return null}get path(){return null}}class Yn extends hr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tr{constructor(d){this._cd=d}get isTouched(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.touched)}get isUntouched(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.untouched)}get isPristine(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.pristine)}get isDirty(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.dirty)}get isValid(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.valid)}get isInvalid(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.invalid)}get isPending(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.pending)}get isSubmitted(){var d;return!(null===(d=this._cd)||void 0===d||!d.submitted)}}let nr=(()=>{class L extends tr{constructor(m){super(m)}}return L.\u0275fac=function(m){return new(m||L)(l.Y36(Yn,2))},L.\u0275dir=l.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(m,f){2&m&&l.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)},features:[l.qOj]}),L})(),yn=(()=>{class L extends tr{constructor(m){super(m)}}return L.\u0275fac=function(m){return new(m||L)(l.Y36(Nt,10))},L.\u0275dir=l.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(m,f){2&m&&l.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)("ng-submitted",f.isSubmitted)},features:[l.qOj]}),L})();function kt(L,d){return L?`with name: '${d}'`:`at index: ${d}`}const vn=!1,Rn="VALID",or="INVALID",Ae="PENDING",ye="DISABLED";function X(L){return(se(L)?L.validators:L)||null}function Z(L,d){return(se(d)?d.asyncValidators:L)||null}function se(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function ve(L,d,m){const f=L.controls;if(!(d?Object.keys(f):f).length)throw new l.vHH(1e3,vn?function Ct(L){return`\n    There are no form controls registered with this ${L?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(d):"");if(!f[m])throw new l.vHH(1001,vn?function Qt(L,d){return`Cannot find form control ${kt(L,d)}`}(d,m):"")}function re(L,d,m){L._forEachChild((f,M)=>{if(void 0===m[M])throw new l.vHH(1002,vn?function fn(L,d){return`Must supply a value for form control ${kt(L,d)}`}(d,M):"")})}class Le{constructor(d,m){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(d),this._assignAsyncValidators(m)}get validator(){return this._composedValidatorFn}set validator(d){this._rawValidators=this._composedValidatorFn=d}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(d){this._rawAsyncValidators=this._composedAsyncValidatorFn=d}get parent(){return this._parent}get valid(){return this.status===Rn}get invalid(){return this.status===or}get pending(){return this.status==Ae}get disabled(){return this.status===ye}get enabled(){return this.status!==ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(d){this._assignValidators(d)}setAsyncValidators(d){this._assignAsyncValidators(d)}addValidators(d){this.setValidators(wr(d,this._rawValidators))}addAsyncValidators(d){this.setAsyncValidators(wr(d,this._rawAsyncValidators))}removeValidators(d){this.setValidators(xn(d,this._rawValidators))}removeAsyncValidators(d){this.setAsyncValidators(xn(d,this._rawAsyncValidators))}hasValidator(d){return yr(this._rawValidators,d)}hasAsyncValidator(d){return yr(this._rawAsyncValidators,d)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(d={}){this.touched=!0,this._parent&&!d.onlySelf&&this._parent.markAsTouched(d)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(d=>d.markAllAsTouched())}markAsUntouched(d={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(m=>{m.markAsUntouched({onlySelf:!0})}),this._parent&&!d.onlySelf&&this._parent._updateTouched(d)}markAsDirty(d={}){this.pristine=!1,this._parent&&!d.onlySelf&&this._parent.markAsDirty(d)}markAsPristine(d={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(m=>{m.markAsPristine({onlySelf:!0})}),this._parent&&!d.onlySelf&&this._parent._updatePristine(d)}markAsPending(d={}){this.status=Ae,!1!==d.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!d.onlySelf&&this._parent.markAsPending(d)}disable(d={}){const m=this._parentMarkedDirty(d.onlySelf);this.status=ye,this.errors=null,this._forEachChild(f=>{f.disable({...d,onlySelf:!0})}),this._updateValue(),!1!==d.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...d,skipPristineCheck:m}),this._onDisabledChange.forEach(f=>f(!0))}enable(d={}){const m=this._parentMarkedDirty(d.onlySelf);this.status=Rn,this._forEachChild(f=>{f.enable({...d,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent}),this._updateAncestors({...d,skipPristineCheck:m}),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(d){this._parent&&!d.onlySelf&&(this._parent.updateValueAndValidity(d),d.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(d){this._parent=d}getRawValue(){return this.value}updateValueAndValidity(d={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rn||this.status===Ae)&&this._runAsyncValidator(d.emitEvent)),!1!==d.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!d.onlySelf&&this._parent.updateValueAndValidity(d)}_updateTreeValidity(d={emitEvent:!0}){this._forEachChild(m=>m._updateTreeValidity(d)),this.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ye:Rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(d){if(this.asyncValidator){this.status=Ae,this._hasOwnPendingAsyncValidator=!0;const m=ce(this.asyncValidator(this));this._asyncValidationSubscription=m.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:d})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(d,m={}){this.errors=d,this._updateControlsErrors(!1!==m.emitEvent)}get(d){let m=d;return null==m||(Array.isArray(m)||(m=m.split(".")),0===m.length)?null:m.reduce((f,M)=>f&&f._find(M),this)}getError(d,m){const f=m?this.get(m):this;return f&&f.errors?f.errors[d]:null}hasError(d,m){return!!this.getError(d,m)}get root(){let d=this;for(;d._parent;)d=d._parent;return d}_updateControlsErrors(d){this.status=this._calculateStatus(),d&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(d)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ye:this.errors?or:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ae)?Ae:this._anyControlsHaveStatus(or)?or:Rn}_anyControlsHaveStatus(d){return this._anyControls(m=>m.status===d)}_anyControlsDirty(){return this._anyControls(d=>d.dirty)}_anyControlsTouched(){return this._anyControls(d=>d.touched)}_updatePristine(d={}){this.pristine=!this._anyControlsDirty(),this._parent&&!d.onlySelf&&this._parent._updatePristine(d)}_updateTouched(d={}){this.touched=this._anyControlsTouched(),this._parent&&!d.onlySelf&&this._parent._updateTouched(d)}_registerOnCollectionChange(d){this._onCollectionChange=d}_setUpdateStrategy(d){se(d)&&null!=d.updateOn&&(this._updateOn=d.updateOn)}_parentMarkedDirty(d){return!d&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(d){return null}_assignValidators(d){this._rawValidators=Array.isArray(d)?d.slice():d,this._composedValidatorFn=function ne(L){return Array.isArray(L)?Xt(L):L||null}(this._rawValidators)}_assignAsyncValidators(d){this._rawAsyncValidators=Array.isArray(d)?d.slice():d,this._composedAsyncValidatorFn=function Qe(L){return Array.isArray(L)?en(L):L||null}(this._rawAsyncValidators)}}class ht extends Le{constructor(d,m,f){super(X(m),Z(f,m)),this.controls=d,this._initObservables(),this._setUpdateStrategy(m),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(d,m){return this.controls[d]?this.controls[d]:(this.controls[d]=m,m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange),m)}addControl(d,m,f={}){this.registerControl(d,m),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(d,m={}){this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),delete this.controls[d],this.updateValueAndValidity({emitEvent:m.emitEvent}),this._onCollectionChange()}setControl(d,m,f={}){this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),delete this.controls[d],m&&this.registerControl(d,m),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(d){return this.controls.hasOwnProperty(d)&&this.controls[d].enabled}setValue(d,m={}){re(this,!0,d),Object.keys(d).forEach(f=>{ve(this,!0,f),this.controls[f].setValue(d[f],{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m)}patchValue(d,m={}){null!=d&&(Object.keys(d).forEach(f=>{const M=this.controls[f];M&&M.patchValue(d[f],{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m))}reset(d={},m={}){this._forEachChild((f,M)=>{f.reset(d[M],{onlySelf:!0,emitEvent:m.emitEvent})}),this._updatePristine(m),this._updateTouched(m),this.updateValueAndValidity(m)}getRawValue(){return this._reduceChildren({},(d,m,f)=>(d[f]=m.getRawValue(),d))}_syncPendingControls(){let d=this._reduceChildren(!1,(m,f)=>!!f._syncPendingControls()||m);return d&&this.updateValueAndValidity({onlySelf:!0}),d}_forEachChild(d){Object.keys(this.controls).forEach(m=>{const f=this.controls[m];f&&d(f,m)})}_setUpControls(){this._forEachChild(d=>{d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(d){for(const[m,f]of Object.entries(this.controls))if(this.contains(m)&&d(f))return!0;return!1}_reduceValue(){return this._reduceChildren({},(m,f,M)=>((f.enabled||this.disabled)&&(m[M]=f.value),m))}_reduceChildren(d,m){let f=d;return this._forEachChild((M,H)=>{f=m(f,M,H)}),f}_allControlsDisabled(){for(const d of Object.keys(this.controls))if(this.controls[d].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(d){return this.controls.hasOwnProperty(d)?this.controls[d]:null}}class an extends ht{}const vi=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>bi}),bi="always";function Ur(L,d,m=bi){var f,M;Fi(L,d),d.valueAccessor.writeValue(L.value),(L.disabled||"always"===m)&&(null===(f=(M=d.valueAccessor).setDisabledState)||void 0===f||f.call(M,L.disabled)),function Fr(L,d){d.valueAccessor.registerOnChange(m=>{L._pendingValue=m,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&xr(L,d)})}(L,d),function jr(L,d){const m=(f,M)=>{d.valueAccessor.writeValue(f),M&&d.viewToModelUpdate(f)};L.registerOnChange(m),d._registerOnDestroy(()=>{L._unregisterOnChange(m)})}(L,d),function Tr(L,d){d.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&xr(L,d),"submit"!==L.updateOn&&L.markAsTouched()})}(L,d),function ds(L,d){if(d.valueAccessor.setDisabledState){const m=f=>{d.valueAccessor.setDisabledState(f)};L.registerOnDisabledChange(m),d._registerOnDestroy(()=>{L._unregisterOnDisabledChange(m)})}}(L,d)}function ar(L,d,m=!0){const f=()=>{};d.valueAccessor&&(d.valueAccessor.registerOnChange(f),d.valueAccessor.registerOnTouched(f)),Ln(L,d),L&&(d._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function ei(L,d){L.forEach(m=>{m.registerOnValidatorChange&&m.registerOnValidatorChange(d)})}function Fi(L,d){const m=sn(L);null!==d.validator?L.setValidators(En(m,d.validator)):"function"==typeof m&&L.setValidators([m]);const f=Kt(L);null!==d.asyncValidator?L.setAsyncValidators(En(f,d.asyncValidator)):"function"==typeof f&&L.setAsyncValidators([f]);const M=()=>L.updateValueAndValidity();ei(d._rawValidators,M),ei(d._rawAsyncValidators,M)}function Ln(L,d){let m=!1;if(null!==L){if(null!==d.validator){const M=sn(L);if(Array.isArray(M)&&M.length>0){const H=M.filter(ot=>ot!==d.validator);H.length!==M.length&&(m=!0,L.setValidators(H))}}if(null!==d.asyncValidator){const M=Kt(L);if(Array.isArray(M)&&M.length>0){const H=M.filter(ot=>ot!==d.asyncValidator);H.length!==M.length&&(m=!0,L.setAsyncValidators(H))}}}const f=()=>{};return ei(d._rawValidators,f),ei(d._rawAsyncValidators,f),m}function xr(L,d){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),d.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function st(L,d){const m=L.indexOf(d);m>-1&&L.splice(m,1)}function Et(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Dt=class extends Le{constructor(d=null,m,f){super(X(m),Z(f,m)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(d),this._setUpdateStrategy(m),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),se(m)&&(m.nonNullable||m.initialValueIsDefault)&&(this.defaultValue=Et(d)?d.value:d)}setValue(d,m={}){this.value=this._pendingValue=d,this._onChange.length&&!1!==m.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==m.emitViewToModelChange)),this.updateValueAndValidity(m)}patchValue(d,m={}){this.setValue(d,m)}reset(d=this.defaultValue,m={}){this._applyFormState(d),this.markAsPristine(m),this.markAsUntouched(m),this.setValue(this.value,m),this._pendingChange=!1}_updateValue(){}_anyControls(d){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(d){this._onChange.push(d)}_unregisterOnChange(d){st(this._onChange,d)}registerOnDisabledChange(d){this._onDisabledChange.push(d)}_unregisterOnDisabledChange(d){st(this._onDisabledChange,d)}_forEachChild(d){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(d){Et(d)?(this.value=this._pendingValue=d.value,d.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=d}};let ps=(()=>{class L{}return L.\u0275fac=function(m){return new(m||L)},L.\u0275dir=l.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})(),Vo=(()=>{class L{}return L.\u0275fac=function(m){return new(m||L)},L.\u0275mod=l.oAB({type:L}),L.\u0275inj=l.cJS({}),L})();const Yi=new l.OlP("NgModelWithFormControlWarning"),uo={provide:Nt,useExisting:(0,l.Gpc)(()=>co)};let co=(()=>{class L extends Nt{constructor(m,f,M){super(),this.callSetDisabledState=M,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(m),this._setAsyncValidators(f)}ngOnChanges(m){this._checkFormPresent(),m.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ln(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(m){const f=this.form.get(m.path);return Ur(f,m,this.callSetDisabledState),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(m),f}getControl(m){return this.form.get(m.path)}removeControl(m){ar(m.control||null,m,!1),function Ue(L,d){const m=L.indexOf(d);m>-1&&L.splice(m,1)}(this.directives,m)}addFormGroup(m){this._setUpFormContainer(m)}removeFormGroup(m){this._cleanUpFormContainer(m)}getFormGroup(m){return this.form.get(m.path)}addFormArray(m){this._setUpFormContainer(m)}removeFormArray(m){this._cleanUpFormContainer(m)}getFormArray(m){return this.form.get(m.path)}updateModel(m,f){this.form.get(m.path).setValue(f)}onSubmit(m){var f;return this.submitted=!0,function K(L,d){L._syncPendingControls(),d.forEach(m=>{const f=m.control;"submit"===f.updateOn&&f._pendingChange&&(m.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(m),"dialog"===(null==m||null===(f=m.target)||void 0===f?void 0:f.method)}onReset(){this.resetForm()}resetForm(m){this.form.reset(m),this.submitted=!1}_updateDomValue(){this.directives.forEach(m=>{const f=m.control,M=this.form.get(m.path);f!==M&&(ar(f||null,m),(L=>L instanceof Dt)(M)&&(Ur(M,m,this.callSetDisabledState),m.control=M))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(m){const f=this.form.get(m.path);(function Rr(L,d){Fi(L,d)})(f,m),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(m){if(this.form){const f=this.form.get(m.path);f&&function ts(L,d){return Ln(L,d)}(f,m)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fi(this.form,this),this._oldForm&&Ln(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(m){return new(m||L)(l.Y36(ie,10),l.Y36(_e,10),l.Y36(vi,8))},L.\u0275dir=l.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(m,f){1&m&&l.NdJ("submit",function(H){return f.onSubmit(H)})("reset",function(){return f.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([uo]),l.qOj,l.TTD]}),L})();const is={provide:Yn,useExisting:(0,l.Gpc)(()=>To)};let To=(()=>{class L extends Yn{set isDisabled(m){}constructor(m,f,M,H,ot){super(),this._ngModelWarningConfig=ot,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=m,this._setValidators(f),this._setAsyncValidators(M),this.valueAccessor=function le(L,d){if(!d)return null;let m,f,M;return Array.isArray(d),d.forEach(H=>{H.constructor===Ve?m=H:function xi(L){return Object.getPrototypeOf(L.constructor)===ke}(H)?f=H:M=H}),M||f||m||null}(0,H)}ngOnChanges(m){this._added||this._setUpControl(),function Hr(L,d){if(!L.hasOwnProperty("model"))return!1;const m=L.model;return!!m.isFirstChange()||!Object.is(d,m.currentValue)}(m,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(m){this.viewModel=m,this.update.emit(m)}get path(){return function Vr(L,d){return[...d.path,L]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(m){return new(m||L)(l.Y36(Nt,13),l.Y36(ie,10),l.Y36(_e,10),l.Y36(nt,10),l.Y36(Yi,8))},L.\u0275dir=l.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([is]),l.qOj,l.TTD]}),L})(),ss=(()=>{class L{constructor(){this._validator=Pe}ngOnChanges(m){if(this.inputName in m){const f=this.normalizeInput(m[this.inputName].currentValue);this._enabled=this.enabled(f),this._validator=this._enabled?this.createValidator(f):Pe,this._onChange&&this._onChange()}}validate(m){return this._validator(m)}registerOnValidatorChange(m){this._onChange=m}enabled(m){return null!=m}}return L.\u0275fac=function(m){return new(m||L)},L.\u0275dir=l.lG2({type:L,features:[l.TTD]}),L})();const Ao={provide:ie,useExisting:(0,l.Gpc)(()=>ui),multi:!0};let ui=(()=>{class L extends ss{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=m=>Je}enabled(m){return m}}return L.\u0275fac=function(){let d;return function(f){return(d||(d=l.n5z(L)))(f||L)}}(),L.\u0275dir=l.lG2({type:L,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(m,f){2&m&&l.uIk("required",f._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Ao]),l.qOj]}),L})(),ms=(()=>{class L{}return L.\u0275fac=function(m){return new(m||L)},L.\u0275mod=l.oAB({type:L}),L.\u0275inj=l.cJS({imports:[Vo]}),L})();class Ci extends Le{constructor(d,m,f){super(X(m),Z(f,m)),this.controls=d,this._initObservables(),this._setUpdateStrategy(m),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(d){return this.controls[this._adjustIndex(d)]}push(d,m={}){this.controls.push(d),this._registerControl(d),this.updateValueAndValidity({emitEvent:m.emitEvent}),this._onCollectionChange()}insert(d,m,f={}){this.controls.splice(d,0,m),this._registerControl(m),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(d,m={}){let f=this._adjustIndex(d);f<0&&(f=0),this.controls[f]&&this.controls[f]._registerOnCollectionChange(()=>{}),this.controls.splice(f,1),this.updateValueAndValidity({emitEvent:m.emitEvent})}setControl(d,m,f={}){let M=this._adjustIndex(d);M<0&&(M=0),this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),m&&(this.controls.splice(M,0,m),this._registerControl(m)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(d,m={}){re(this,!1,d),d.forEach((f,M)=>{ve(this,!1,M),this.at(M).setValue(f,{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m)}patchValue(d,m={}){null!=d&&(d.forEach((f,M)=>{this.at(M)&&this.at(M).patchValue(f,{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m))}reset(d=[],m={}){this._forEachChild((f,M)=>{f.reset(d[M],{onlySelf:!0,emitEvent:m.emitEvent})}),this._updatePristine(m),this._updateTouched(m),this.updateValueAndValidity(m)}getRawValue(){return this.controls.map(d=>d.getRawValue())}clear(d={}){this.controls.length<1||(this._forEachChild(m=>m._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:d.emitEvent}))}_adjustIndex(d){return d<0?d+this.length:d}_syncPendingControls(){let d=this.controls.reduce((m,f)=>!!f._syncPendingControls()||m,!1);return d&&this.updateValueAndValidity({onlySelf:!0}),d}_forEachChild(d){this.controls.forEach((m,f)=>{d(m,f)})}_updateValue(){this.value=this.controls.filter(d=>d.enabled||this.disabled).map(d=>d.value)}_anyControls(d){return this.controls.some(m=>m.enabled&&d(m))}_setUpControls(){this._forEachChild(d=>this._registerControl(d))}_allControlsDisabled(){for(const d of this.controls)if(d.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(d){d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange)}_find(d){var m;return null!==(m=this.at(d))&&void 0!==m?m:null}}function Xo(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let Ho=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const m=new L;return m.useNonNullable=!0,m}group(m,f=null){const M=this._reduceControls(m);let H={};return Xo(f)?H=f:null!==f&&(H.validators=f.validator,H.asyncValidators=f.asyncValidator),new ht(M,H)}record(m,f=null){const M=this._reduceControls(m);return new an(M,f)}control(m,f,M){let H={};return this.useNonNullable?(Xo(f)?H=f:(H.validators=f,H.asyncValidators=M),new Dt(m,{...H,nonNullable:!0})):new Dt(m,f,M)}array(m,f,M){const H=m.map(ot=>this._createControl(ot));return new Ci(H,f,M)}_reduceControls(m){const f={};return Object.keys(m).forEach(M=>{f[M]=this._createControl(m[M])}),f}_createControl(m){return m instanceof Dt||m instanceof Le?m:Array.isArray(m)?this.control(m[0],m.length>1?m[1]:null,m.length>2?m[2]:null):this.control(m)}}return L.\u0275fac=function(m){return new(m||L)},L.\u0275prov=l.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),zo=(()=>{class L{static withConfig(m){var f;return{ngModule:L,providers:[{provide:vi,useValue:null!==(f=m.callSetDisabledState)&&void 0!==f?f:bi}]}}}return L.\u0275fac=function(m){return new(m||L)},L.\u0275mod=l.oAB({type:L}),L.\u0275inj=l.cJS({imports:[ms]}),L})(),Go=(()=>{class L{static withConfig(m){var f,M;return{ngModule:L,providers:[{provide:Yi,useValue:null!==(f=m.warnOnNgModelWithFormControl)&&void 0!==f?f:"always"},{provide:vi,useValue:null!==(M=m.callSetDisabledState)&&void 0!==M?M:bi}]}}}return L.\u0275fac=function(m){return new(m||L)},L.\u0275mod=l.oAB({type:L}),L.\u0275inj=l.cJS({imports:[ms]}),L})()},1481:(Ht,lt,V)=>{"use strict";V.d(lt,{Dx:()=>yn,H7:()=>X,b2:()=>Yn,q6:()=>wr,se:()=>Je});var l=V(6895),v=V(4650);class F extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends F{static makeCurrent(){(0,l.HT)(new Ie)}onAndCancel(ve,re,Le){return ve.addEventListener(re,Le,!1),()=>{ve.removeEventListener(re,Le,!1)}}dispatchEvent(ve,re){ve.dispatchEvent(re)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,re){return(re=re||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,re){return"window"===re?window:"document"===re?ve:"body"===re?ve.body:null}getBaseHref(ve){const re=function Oe(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==re?null:function Te(se){ge=ge||document.createElement("a"),ge.setAttribute("href",se);const ve=ge.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(re)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,l.Mx)(document.cookie,ve)}}let ge,xe=null;const $e=new v.OlP("TRANSITION_ID"),he=[{provide:v.ip1,useFactory:function fe(se,ve,re){return()=>{re.get(v.CZH).donePromise.then(()=>{const Le=(0,l.q)(),ht=ve.querySelectorAll(`style[ng-transition="${se}"]`);for(let St=0;St<ht.length;St++)Le.remove(ht[St])})}},deps:[$e,l.K0,v.zs3],multi:!0}];let Ne=(()=>{class se{build(){return new XMLHttpRequest}}return se.\u0275fac=function(re){return new(re||se)},se.\u0275prov=v.Yz7({token:se,factory:se.\u0275fac}),se})();const ke=new v.OlP("EventManagerPlugins");let nt=(()=>{class se{constructor(re,Le){this._zone=Le,this._eventNameToPlugin=new Map,re.forEach(ht=>{ht.manager=this}),this._plugins=re.slice().reverse()}addEventListener(re,Le,ht){return this._findPluginFor(Le).addEventListener(re,Le,ht)}addGlobalEventListener(re,Le,ht){return this._findPluginFor(Le).addGlobalEventListener(re,Le,ht)}getZone(){return this._zone}_findPluginFor(re){const Le=this._eventNameToPlugin.get(re);if(Le)return Le;const ht=this._plugins;for(let St=0;St<ht.length;St++){const nn=ht[St];if(nn.supports(re))return this._eventNameToPlugin.set(re,nn),nn}throw new Error(`No event manager plugin found for event ${re}`)}}return se.\u0275fac=function(re){return new(re||se)(v.LFG(ke),v.LFG(v.R0b))},se.\u0275prov=v.Yz7({token:se,factory:se.\u0275fac}),se})();class yt{constructor(ve){this._doc=ve}addGlobalEventListener(ve,re,Le){const ht=(0,l.q)().getGlobalEventTarget(this._doc,ve);if(!ht)throw new Error(`Unsupported event target ${ht} for event ${re}`);return this.addEventListener(ht,re,Le)}}let De=(()=>{class se{constructor(){this.usageCount=new Map}addStyles(re){for(const Le of re)1===this.changeUsageCount(Le,1)&&this.onStyleAdded(Le)}removeStyles(re){for(const Le of re)0===this.changeUsageCount(Le,-1)&&this.onStyleRemoved(Le)}onStyleRemoved(re){}onStyleAdded(re){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(re,Le){var ht;const St=this.usageCount;let nn=null!==(ht=St.get(re))&&void 0!==ht?ht:0;return nn+=Le,nn>0?St.set(re,nn):St.delete(re),nn}ngOnDestroy(){for(const re of this.getAllStyles())this.onStyleRemoved(re);this.usageCount.clear()}}return se.\u0275fac=function(re){return new(re||se)},se.\u0275prov=v.Yz7({token:se,factory:se.\u0275fac}),se})(),ue=(()=>{class se extends De{constructor(re){super(),this.doc=re,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(re){for(const Le of this.hostNodes)this.addStyleToHost(Le,re)}onStyleRemoved(re){const Le=this.styleRef,ht=Le.get(re);null==ht||ht.forEach(St=>St.remove()),Le.delete(re)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(re){this.hostNodes.add(re);for(const Le of this.getAllStyles())this.addStyleToHost(re,Le)}removeHost(re){this.hostNodes.delete(re)}addStyleToHost(re,Le){const ht=this.doc.createElement("style");ht.textContent=Le,re.appendChild(ht);const St=this.styleRef.get(Le);St?St.push(ht):this.styleRef.set(Le,[ht])}resetHostNodes(){const re=this.hostNodes;re.clear(),re.add(this.doc.head)}}return se.\u0275fac=function(re){return new(re||se)(v.LFG(l.K0))},se.\u0275prov=v.Yz7({token:se,factory:se.\u0275fac}),se})();const Be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ze=/%COMP%/g,_e=new v.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function je(se,ve){return ve.flat(100).map(re=>re.replace(Ze,se))}function Ke(se){return ve=>{if("__ngUnwrap__"===ve)return se;!1===se(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let Je=(()=>{class se{constructor(re,Le,ht,St){this.eventManager=re,this.sharedStylesHost=Le,this.appId=ht,this.removeStylesOnCompDestory=St,this.rendererByCompId=new Map,this.defaultRenderer=new Fe(re)}createRenderer(re,Le){if(!re||!Le)return this.defaultRenderer;const ht=this.getOrCreateRenderer(re,Le);return ht instanceof tt?ht.applyToHost(re):ht instanceof Pe&&ht.applyStyles(),ht}getOrCreateRenderer(re,Le){const ht=this.rendererByCompId;let St=ht.get(Le.id);if(!St){const nn=this.eventManager,an=this.sharedStylesHost,vr=this.removeStylesOnCompDestory;switch(Le.encapsulation){case v.ifc.Emulated:St=new tt(nn,an,Le,this.appId,vr);break;case v.ifc.ShadowDom:return new Se(nn,an,re,Le);default:St=new Pe(nn,an,Le,vr)}St.onDestroy=()=>ht.delete(Le.id),ht.set(Le.id,St)}return St}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return se.\u0275fac=function(re){return new(re||se)(v.LFG(nt),v.LFG(ue),v.LFG(v.AFp),v.LFG(_e))},se.\u0275prov=v.Yz7({token:se,factory:se.\u0275fac}),se})();class Fe{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,re){return re?document.createElementNS(Be[re]||re,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,re){(Me(ve)?ve.content:ve).appendChild(re)}insertBefore(ve,re,Le){ve&&(Me(ve)?ve.content:ve).insertBefore(re,Le)}removeChild(ve,re){ve&&ve.removeChild(re)}selectRootElement(ve,re){let Le="string"==typeof ve?document.querySelector(ve):ve;if(!Le)throw new Error(`The selector "${ve}" did not match any elements`);return re||(Le.textContent=""),Le}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,re,Le,ht){if(ht){re=ht+":"+re;const St=Be[ht];St?ve.setAttributeNS(St,re,Le):ve.setAttribute(re,Le)}else ve.setAttribute(re,Le)}removeAttribute(ve,re,Le){if(Le){const ht=Be[Le];ht?ve.removeAttributeNS(ht,re):ve.removeAttribute(`${Le}:${re}`)}else ve.removeAttribute(re)}addClass(ve,re){ve.classList.add(re)}removeClass(ve,re){ve.classList.remove(re)}setStyle(ve,re,Le,ht){ht&(v.JOm.DashCase|v.JOm.Important)?ve.style.setProperty(re,Le,ht&v.JOm.Important?"important":""):ve.style[re]=Le}removeStyle(ve,re,Le){Le&v.JOm.DashCase?ve.style.removeProperty(re):ve.style[re]=""}setProperty(ve,re,Le){ve[re]=Le}setValue(ve,re){ve.nodeValue=re}listen(ve,re,Le){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,re,Ke(Le)):this.eventManager.addEventListener(ve,re,Ke(Le))}}function Me(se){return"TEMPLATE"===se.tagName&&void 0!==se.content}class Se extends Fe{constructor(ve,re,Le,ht){super(ve),this.sharedStylesHost=re,this.hostEl=Le,this.shadowRoot=Le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=je(ht.id,ht.styles);for(const nn of St){const an=document.createElement("style");an.textContent=nn,this.shadowRoot.appendChild(an)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}appendChild(ve,re){return super.appendChild(this.nodeOrShadowRoot(ve),re)}insertBefore(ve,re,Le){return super.insertBefore(this.nodeOrShadowRoot(ve),re,Le)}removeChild(ve,re){return super.removeChild(this.nodeOrShadowRoot(ve),re)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pe extends Fe{constructor(ve,re,Le,ht,St=Le.id){super(ve),this.sharedStylesHost=re,this.removeStylesOnCompDestory=ht,this.rendererUsageCount=0,this.styles=je(St,Le.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var ve;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(ve=this.onDestroy)||void 0===ve||ve.call(this))}}class tt extends Pe{constructor(ve,re,Le,ht,St){const nn=ht+"-"+Le.id;super(ve,re,Le,St,nn),this.contentAttr=function ze(se){return"_ngcontent-%COMP%".replace(Ze,se)}(nn),this.hostAttr=function Xe(se){return"_nghost-%COMP%".replace(Ze,se)}(nn)}applyToHost(ve){this.applyStyles(),this.setAttribute(ve,this.hostAttr,"")}createElement(ve,re){const Le=super.createElement(ve,re);return super.setAttribute(Le,this.contentAttr,""),Le}}let ce=(()=>{class se extends yt{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Le,ht){return re.addEventListener(Le,ht,!1),()=>this.removeEventListener(re,Le,ht)}removeEventListener(re,Le,ht){return re.removeEventListener(Le,ht)}}return se.\u0275fac=function(re){return new(re||se)(v.LFG(l.K0))},se.\u0275prov=v.Yz7({token:se,factory:se.\u0275fac}),se})();const Re=["alt","control","meta","shift"],ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={alt:se=>se.altKey,control:se=>se.ctrlKey,meta:se=>se.metaKey,shift:se=>se.shiftKey};let et=(()=>{class se extends yt{constructor(re){super(re)}supports(re){return null!=se.parseEventName(re)}addEventListener(re,Le,ht){const St=se.parseEventName(Le),nn=se.eventCallback(St.fullKey,ht,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(re,St.domEventName,nn))}static parseEventName(re){const Le=re.toLowerCase().split("."),ht=Le.shift();if(0===Le.length||"keydown"!==ht&&"keyup"!==ht)return null;const St=se._normalizeKey(Le.pop());let nn="",an=Le.indexOf("code");if(an>-1&&(Le.splice(an,1),nn="code."),Re.forEach(vi=>{const bi=Le.indexOf(vi);bi>-1&&(Le.splice(bi,1),nn+=vi+".")}),nn+=St,0!=Le.length||0===St.length)return null;const vr={};return vr.domEventName=ht,vr.fullKey=nn,vr}static matchEventFullKeyCode(re,Le){let ht=ee[re.key]||re.key,St="";return Le.indexOf("code.")>-1&&(ht=re.code,St="code."),!(null==ht||!ht)&&(ht=ht.toLowerCase()," "===ht?ht="space":"."===ht&&(ht="dot"),Re.forEach(nn=>{nn!==ht&&(0,be[nn])(re)&&(St+=nn+".")}),St+=ht,St===Le)}static eventCallback(re,Le,ht){return St=>{se.matchEventFullKeyCode(St,re)&&ht.runGuarded(()=>Le(St))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return se.\u0275fac=function(re){return new(re||se)(v.LFG(l.K0))},se.\u0275prov=v.Yz7({token:se,factory:se.\u0275fac}),se})();const wr=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:l.bD},{provide:v.g9A,useValue:function sn(){Ie.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function zn(){return(0,v.RDi)(document),document},deps:[]}]),xn=new v.OlP(""),hr=[{provide:v.rWj,useClass:class me{addToWindow(ve){v.dqk.getAngularTestability=(Le,ht=!0)=>{const St=ve.findTestabilityInTree(Le,ht);if(null==St)throw new Error("Could not find testability for element.");return St},v.dqk.getAllAngularTestabilities=()=>ve.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>ve.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(Le=>{const ht=v.dqk.getAllAngularTestabilities();let St=ht.length,nn=!1;const an=function(vr){nn=nn||vr,St--,0==St&&Le(nn)};ht.forEach(function(vr){vr.whenStable(an)})})}findTestabilityInTree(ve,re,Le){if(null==re)return null;const ht=ve.getTestability(re);return null!=ht?ht:Le?(0,l.q)().isShadowRoot(re)?this.findTestabilityInTree(ve,re.host,!0):this.findTestabilityInTree(ve,re.parentElement,!0):null}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Nt=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function Kt(){return new v.qLn},deps:[]},{provide:ke,useClass:ce,multi:!0,deps:[l.K0,v.R0b,v.Lbi]},{provide:ke,useClass:et,multi:!0,deps:[l.K0]},{provide:Je,useClass:Je,deps:[nt,ue,v.AFp,_e]},{provide:v.FYo,useExisting:Je},{provide:De,useExisting:ue},{provide:ue,useClass:ue,deps:[l.K0]},{provide:nt,useClass:nt,deps:[ke,v.R0b]},{provide:l.JF,useClass:Ne,deps:[]},[]];let Yn=(()=>{class se{constructor(re){}static withServerTransition(re){return{ngModule:se,providers:[{provide:v.AFp,useValue:re.appId},{provide:$e,useExisting:v.AFp},he]}}}return se.\u0275fac=function(re){return new(re||se)(v.LFG(xn,12))},se.\u0275mod=v.oAB({type:se}),se.\u0275inj=v.cJS({providers:[...Nt,...hr],imports:[l.ez,v.hGG]}),se})(),yn=(()=>{class se{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}}return se.\u0275fac=function(re){return new(re||se)(v.LFG(l.K0))},se.\u0275prov=v.Yz7({token:se,factory:function(re){let Le=null;return Le=re?new re:function nr(){return new yn((0,v.LFG)(l.K0))}(),Le},providedIn:"root"}),se})();typeof window<"u"&&window;let X=(()=>{class se{}return se.\u0275fac=function(re){return new(re||se)},se.\u0275prov=v.Yz7({token:se,factory:function(re){let Le=null;return Le=re?new(re||se):v.LFG(Z),Le},providedIn:"root"}),se})(),Z=(()=>{class se extends X{constructor(re){super(),this._doc=re}sanitize(re,Le){if(null==Le)return null;switch(re){case v.q3G.NONE:return Le;case v.q3G.HTML:return(0,v.qzn)(Le,"HTML")?(0,v.z3N)(Le):(0,v.EiD)(this._doc,String(Le)).toString();case v.q3G.STYLE:return(0,v.qzn)(Le,"Style")?(0,v.z3N)(Le):Le;case v.q3G.SCRIPT:if((0,v.qzn)(Le,"Script"))return(0,v.z3N)(Le);throw new Error("unsafe value used in a script context");case v.q3G.URL:return(0,v.qzn)(Le,"URL")?(0,v.z3N)(Le):(0,v.mCW)(String(Le));case v.q3G.RESOURCE_URL:if((0,v.qzn)(Le,"ResourceURL"))return(0,v.z3N)(Le);throw new Error(`unsafe value used in a resource URL context (see ${v.JZr})`);default:throw new Error(`Unexpected SecurityContext ${re} (see ${v.JZr})`)}}bypassSecurityTrustHtml(re){return(0,v.JVY)(re)}bypassSecurityTrustStyle(re){return(0,v.L6k)(re)}bypassSecurityTrustScript(re){return(0,v.eBb)(re)}bypassSecurityTrustUrl(re){return(0,v.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,v.pB0)(re)}}return se.\u0275fac=function(re){return new(re||se)(v.LFG(l.K0))},se.\u0275prov=v.Yz7({token:se,factory:function(re){let Le=null;return Le=re?new re:function ne(se){return new Z(se.get(l.K0))}(v.LFG(v.zs3)),Le},providedIn:"root"}),se})()},2435:(Ht,lt,V)=>{"use strict";V.d(lt,{gz:()=>rs,y6:()=>Ss,OD:()=>Dt,eC:()=>Kt,wm:()=>Sa,wN:()=>Po,F0:()=>ls,rH:()=>po,Od:()=>Ya,Bz:()=>Ko,Hx:()=>fn});var l=V(4650),v=V(8996),F=V(9646),Ie=V(1135),xe=V(6805),Oe=V(9751),ge=V(4742),Te=V(4671),$e=V(3268),fe=V(7669),he=V(1810),me=V(5403),Ne=V(9672);function ke(...w){const D=(0,fe.yG)(w),E=(0,fe.jO)(w),{args:T,keys:$}=(0,ge.D)(w);if(0===T.length)return(0,v.D)([],D);const G=new Oe.y(function nt(w,D,E=Te.y){return T=>{yt(D,()=>{const{length:$}=w,G=new Array($);let J=$,He=$;for(let bt=0;bt<$;bt++)yt(D,()=>{const Lt=(0,v.D)(w[bt],D);let dn=!1;Lt.subscribe((0,me.x)(T,tn=>{G[bt]=tn,dn||(dn=!0,He--),He||T.next(E(G.slice()))},()=>{--J||T.complete()}))},T)},T)}}(T,D,$?J=>(0,he.n)($,J):Te.y));return E?G.pipe((0,$e.Z)(E)):G}function yt(w,D,E){w?(0,Ne.f)(E,w,D):D()}var De=V(7272),ue=V(8421);function Be(w){return new Oe.y(D=>{(0,ue.Xf)(w()).subscribe(D)})}var Ze=V(9635),Ve=V(576);function Ee(w,D){const E=(0,Ve.m)(w)?w:()=>w,T=$=>$.error(E());return new Oe.y(D?$=>D.schedule(T,0,$):T)}var We=V(515),Ce=V(727),ie=V(4482);function _e(){return(0,ie.e)((w,D)=>{let E=null;w._refCount++;const T=(0,me.x)(D,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(E=null);const $=w._connection,G=E;E=null,$&&(!G||$===G)&&$.unsubscribe(),D.unsubscribe()});w.subscribe(T),T.closed||(E=w.connect())})}class ze extends Oe.y{constructor(D,E){super(),this.source=D,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,ie.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Ce.w0;const E=this.getSubject();D.add(this.source.subscribe((0,me.x)(E,void 0,()=>{this._teardown(),E.complete()},T=>{this._teardown(),E.error(T)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Ce.w0.EMPTY)}return D}refCount(){return _e()(this)}}var Xe=V(7579),je=V(6895),Ke=V(4004),Je=V(3900),Fe=V(5698),at=V(8675),ut=V(9300),Me=V(5577),Se=V(590);function Pe(w,D){return(0,Ve.m)(D)?(0,Me.z)(w,D,1):(0,Me.z)(w,1)}var tt=V(8505);function ce(w){return(0,ie.e)((D,E)=>{let G,T=null,$=!1;T=D.subscribe((0,me.x)(E,void 0,void 0,J=>{G=(0,ue.Xf)(w(J,ce(w)(D))),T?(T.unsubscribe(),T=null,G.subscribe(E)):$=!0})),$&&(T.unsubscribe(),T=null,G.subscribe(E))})}var Re=V(5026);function ee(w){return w<=0?()=>We.E:(0,ie.e)((D,E)=>{let T=[];D.subscribe((0,me.x)(E,$=>{T.push($),w<T.length&&T.shift()},()=>{for(const $ of T)E.next($);E.complete()},void 0,()=>{T=null}))})}var be=V(8068),et=V(6590);function gt(w,D){const E=arguments.length>=2;return T=>T.pipe(w?(0,ut.h)(($,G)=>w($,G,T)):Te.y,ee(1),E?(0,et.d)(D):(0,be.T)(()=>new xe.K))}function en(w){return(0,ie.e)((D,E)=>{try{D.subscribe(E)}finally{E.add(w)}})}var En=V(8189),sn=V(1481);const Kt="primary",zn=Symbol("RouteTitle");class yr{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const E=this.params[D];return Array.isArray(E)?E[0]:E}return null}getAll(D){if(this.has(D)){const E=this.params[D];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function wr(w){return new yr(w)}function xn(w,D,E){const T=E.path.split("/");if(T.length>w.length||"full"===E.pathMatch&&(D.hasChildren()||T.length<w.length))return null;const $={};for(let G=0;G<T.length;G++){const J=T[G],He=w[G];if(J.startsWith(":"))$[J.substring(1)]=He;else if(J!==He.path)return null}return{consumed:w.slice(0,T.length),posParams:$}}function Nt(w,D){const E=w?Object.keys(w):void 0,T=D?Object.keys(D):void 0;if(!E||!T||E.length!=T.length)return!1;let $;for(let G=0;G<E.length;G++)if($=E[G],!Yn(w[$],D[$]))return!1;return!0}function Yn(w,D){if(Array.isArray(w)&&Array.isArray(D)){if(w.length!==D.length)return!1;const E=[...w].sort(),T=[...D].sort();return E.every(($,G)=>T[G]===$)}return w===D}function tr(w){return Array.prototype.concat.apply([],w)}function Sr(w){return w.length>0?w[w.length-1]:null}function nr(w,D){for(const E in w)w.hasOwnProperty(E)&&D(w[E],E)}function yn(w){return(0,l.CqO)(w)?w:(0,l.QGY)(w)?(0,v.D)(Promise.resolve(w)):(0,F.of)(w)}const Jt=!1,gn={exact:function Rt(w,D,E){if(!Ct(w.segments,D.segments)||!Zr(w.segments,D.segments,E)||w.numberOfChildren!==D.numberOfChildren)return!1;for(const T in D.children)if(!w.children[T]||!Rt(w.children[T],D.children[T],E))return!1;return!0},subset:oi},sr={exact:function Pr(w,D){return Nt(w,D)},subset:function qr(w,D){return Object.keys(D).length<=Object.keys(w).length&&Object.keys(D).every(E=>Yn(w[E],D[E]))},ignored:()=>!0};function cn(w,D,E){return gn[E.paths](w.root,D.root,E.matrixParams)&&sr[E.queryParams](w.queryParams,D.queryParams)&&!("exact"===E.fragment&&w.fragment!==D.fragment)}function oi(w,D,E){return An(w,D,D.segments,E)}function An(w,D,E,T){if(w.segments.length>E.length){const $=w.segments.slice(0,E.length);return!(!Ct($,E)||D.hasChildren()||!Zr($,E,T))}if(w.segments.length===E.length){if(!Ct(w.segments,E)||!Zr(w.segments,E,T))return!1;for(const $ in D.children)if(!w.children[$]||!oi(w.children[$],D.children[$],T))return!1;return!0}{const $=E.slice(0,w.segments.length),G=E.slice(w.segments.length);return!!(Ct(w.segments,$)&&Zr(w.segments,$,T)&&w.children[Kt])&&An(w.children[Kt],D,G,T)}}function Zr(w,D,E){return D.every((T,$)=>sr[E](w[$].parameters,T.parameters))}class In{constructor(D=new bn([],{}),E={},T=null){this.root=D,this.queryParams=E,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wr(this.queryParams)),this._queryParamMap}toString(){return Rn.serialize(this)}}class bn{constructor(D,E){this.segments=D,this.children=E,this.parent=null,nr(E,(T,$)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return or(this)}}class Dr{constructor(D,E){this.path=D,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=wr(this.parameters)),this._parameterMap}toString(){return ve(this)}}function Ct(w,D){return w.length===D.length&&w.every((E,T)=>E.path===D[T].path)}let fn=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:function(){return new vn},providedIn:"root"}),w})();class vn{parse(D){const E=new bi(D);return new In(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(D){const E=`/${Ae(D.root,!0)}`,T=function Le(w){const D=Object.keys(w).map(E=>{const T=w[E];return Array.isArray(T)?T.map($=>`${X(E)}=${X($)}`).join("&"):`${X(E)}=${X(T)}`}).filter(E=>!!E);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${E}${T}${"string"==typeof D.fragment?`#${function ne(w){return encodeURI(w)}(D.fragment)}`:""}`}}const Rn=new vn;function or(w){return w.segments.map(D=>ve(D)).join("/")}function Ae(w,D){if(!w.hasChildren())return or(w);if(D){const E=w.children[Kt]?Ae(w.children[Kt],!1):"",T=[];return nr(w.children,($,G)=>{G!==Kt&&T.push(`${G}:${Ae($,!1)}`)}),T.length>0?`${E}(${T.join("//")})`:E}{const E=function Qt(w,D){let E=[];return nr(w.children,(T,$)=>{$===Kt&&(E=E.concat(D(T,$)))}),nr(w.children,(T,$)=>{$!==Kt&&(E=E.concat(D(T,$)))}),E}(w,(T,$)=>$===Kt?[Ae(w.children[Kt],!1)]:[`${$}:${Ae(T,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Kt]?`${or(w)}/${E[0]}`:`${or(w)}/(${E.join("//")})`}}function ye(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function X(w){return ye(w).replace(/%3B/gi,";")}function Z(w){return ye(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qe(w){return decodeURIComponent(w)}function se(w){return Qe(w.replace(/\+/g,"%20"))}function ve(w){return`${Z(w.path)}${function re(w){return Object.keys(w).map(D=>`;${Z(D)}=${Z(w[D])}`).join("")}(w.parameters)}`}const ht=/^[^\/()?;=#]+/;function St(w){const D=w.match(ht);return D?D[0]:""}const nn=/^[^=?&#]+/,vr=/^[^&#]+/;class bi{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(D.length>0||Object.keys(E).length>0)&&(T[Kt]=new bn(D,E)),T}parseSegment(){const D=St(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new l.vHH(4009,Jt);return this.capture(D),new Dr(Qe(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const E=St(this.remaining);if(!E)return;this.capture(E);let T="";if(this.consumeOptional("=")){const $=St(this.remaining);$&&(T=$,this.capture(T))}D[Qe(E)]=Qe(T)}parseQueryParam(D){const E=function an(w){const D=w.match(nn);return D?D[0]:""}(this.remaining);if(!E)return;this.capture(E);let T="";if(this.consumeOptional("=")){const J=function vi(w){const D=w.match(vr);return D?D[0]:""}(this.remaining);J&&(T=J,this.capture(T))}const $=se(E),G=se(T);if(D.hasOwnProperty($)){let J=D[$];Array.isArray(J)||(J=[J],D[$]=J),J.push(G)}else D[$]=G}parseParens(D){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=St(this.remaining),$=this.remaining[T.length];if("/"!==$&&")"!==$&&";"!==$)throw new l.vHH(4010,Jt);let G;T.indexOf(":")>-1?(G=T.slice(0,T.indexOf(":")),this.capture(G),this.capture(":")):D&&(G=Kt);const J=this.parseChildren();E[G]=1===Object.keys(J).length?J[Kt]:new bn([],J),this.consumeOptional("//")}return E}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new l.vHH(4011,Jt)}}function Vr(w){return w.segments.length>0?new bn([],{[Kt]:w}):w}function Ur(w){const D={};for(const T of Object.keys(w.children)){const G=Ur(w.children[T]);(G.segments.length>0||G.hasChildren())&&(D[T]=G)}return function ar(w){if(1===w.numberOfChildren&&w.children[Kt]){const D=w.children[Kt];return new bn(w.segments.concat(D.segments),D.children)}return w}(new bn(w.segments,D))}function ei(w){return w instanceof In}const ds=!1;function Tr(w,D,E,T,$){var G;if(0===E.length)return Rr(D.root,D.root,D.root,T,$);const J=function ai(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new gi(!0,0,w);let D=0,E=!1;const T=w.reduce(($,G,J)=>{if("object"==typeof G&&null!=G){if(G.outlets){const He={};return nr(G.outlets,(bt,Lt)=>{He[Lt]="string"==typeof bt?bt.split("/"):bt}),[...$,{outlets:He}]}if(G.segmentPath)return[...$,G.segmentPath]}return"string"!=typeof G?[...$,G]:0===J?(G.split("/").forEach((He,bt)=>{0==bt&&"."===He||(0==bt&&""===He?E=!0:".."===He?D++:""!=He&&$.push(He))}),$):[...$,G]},[]);return new gi(E,D,T)}(E);return J.toRoot()?Rr(D.root,D.root,new bn([],{}),T,$):function He(Lt){var dn;const tn=function Ar(w,D,E,T){if(w.isAbsolute)return new zt(D.root,!0,0);if(-1===T)return new zt(E,E===D.root,0);return function Hr(w,D,E){let T=w,$=D,G=E;for(;G>$;){if(G-=$,T=T.parent,!T)throw new l.vHH(4005,ds&&"Invalid number of '../'");$=T.segments.length}return new zt(T,!1,$-G)}(E,T+(xr(w.commands[0])?0:1),w.numberOfDoubleDots)}(J,D,null===(dn=w.snapshot)||void 0===dn?void 0:dn._urlSegment,Lt),Mr=tn.processChildren?le(tn.segmentGroup,tn.index,J.commands):K(tn.segmentGroup,tn.index,J.commands);return Rr(D.root,tn.segmentGroup,Mr,T,$)}(null===(G=w.snapshot)||void 0===G?void 0:G._lastPathIndex)}function xr(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function jr(w){return"object"==typeof w&&null!=w&&w.outlets}function Rr(w,D,E,T,$){let J,G={};T&&nr(T,(bt,Lt)=>{G[Lt]=Array.isArray(bt)?bt.map(dn=>`${dn}`):`${bt}`}),J=w===D?E:ts(w,D,E);const He=Vr(Ur(J));return new In(He,G,$)}function ts(w,D,E){const T={};return nr(w.children,($,G)=>{T[G]=$===D?E:ts($,D,E)}),new bn(w.segments,T)}class gi{constructor(D,E,T){if(this.isAbsolute=D,this.numberOfDoubleDots=E,this.commands=T,D&&T.length>0&&xr(T[0]))throw new l.vHH(4003,ds&&"Root segment cannot have matrix parameters");const $=T.find(jr);if($&&$!==Sr(T))throw new l.vHH(4004,ds&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zt{constructor(D,E,T){this.segmentGroup=D,this.processChildren=E,this.index=T}}function K(w,D,E){if(w||(w=new bn([],{})),0===w.segments.length&&w.hasChildren())return le(w,D,E);const T=function Ue(w,D,E){let T=0,$=D;const G={match:!1,pathIndex:0,commandIndex:0};for(;$<w.segments.length;){if(T>=E.length)return G;const J=w.segments[$],He=E[T];if(jr(He))break;const bt=`${He}`,Lt=T<E.length-1?E[T+1]:null;if($>0&&void 0===bt)break;if(bt&&Lt&&"object"==typeof Lt&&void 0===Lt.outlets){if(!Ge(bt,Lt,J))return G;T+=2}else{if(!Ge(bt,{},J))return G;T++}$++}return{match:!0,pathIndex:$,commandIndex:T}}(w,D,E),$=E.slice(T.commandIndex);if(T.match&&T.pathIndex<w.segments.length){const G=new bn(w.segments.slice(0,T.pathIndex),{});return G.children[Kt]=new bn(w.segments.slice(T.pathIndex),w.children),le(G,0,$)}return T.match&&0===$.length?new bn(w.segments,{}):T.match&&!w.hasChildren()?rt(w,D,E):T.match?le(w,0,$):rt(w,D,E)}function le(w,D,E){if(0===E.length)return new bn(w.segments,{});{const T=function xi(w){return jr(w[0])?w[0].outlets:{[Kt]:w}}(E),$={};if(!T[Kt]&&w.children[Kt]&&1===w.numberOfChildren&&0===w.children[Kt].segments.length){const G=le(w.children[Kt],D,E);return new bn(w.segments,G.children)}return nr(T,(G,J)=>{"string"==typeof G&&(G=[G]),null!==G&&($[J]=K(w.children[J],D,G))}),nr(w.children,(G,J)=>{void 0===T[J]&&($[J]=G)}),new bn(w.segments,$)}}function rt(w,D,E){const T=w.segments.slice(0,D);let $=0;for(;$<E.length;){const G=E[$];if(jr(G)){const bt=It(G.outlets);return new bn(T,bt)}if(0===$&&xr(E[0])){T.push(new Dr(w.segments[D].path,te(E[0]))),$++;continue}const J=jr(G)?G.outlets[Kt]:`${G}`,He=$<E.length-1?E[$+1]:null;J&&He&&xr(He)?(T.push(new Dr(J,te(He))),$+=2):(T.push(new Dr(J,{})),$++)}return new bn(T,{})}function It(w){const D={};return nr(w,(E,T)=>{"string"==typeof E&&(E=[E]),null!==E&&(D[T]=rt(new bn([],{}),0,E))}),D}function te(w){const D={};return nr(w,(E,T)=>D[T]=`${E}`),D}function Ge(w,D,E){return w==E.path&&Nt(D,E.parameters)}const st="imperative";class Et{constructor(D,E){this.id=D,this.url=E}}class Dt extends Et{constructor(D,E,T="imperative",$=null){super(D,E),this.type=0,this.navigationTrigger=T,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bt extends Et{constructor(D,E,T){super(D,E),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rn extends Et{constructor(D,E,T,$){super(D,E),this.reason=T,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dn extends Et{constructor(D,E,T,$){super(D,E),this.reason=T,this.code=$,this.type=16}}class Gn extends Et{constructor(D,E,T,$){super(D,E),this.error=T,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fi extends Et{constructor(D,E,T,$){super(D,E),this.urlAfterRedirects=T,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ri extends Et{constructor(D,E,T,$){super(D,E),this.urlAfterRedirects=T,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends Et{constructor(D,E,T,$,G){super(D,E),this.urlAfterRedirects=T,this.state=$,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ws extends Et{constructor(D,E,T,$){super(D,E),this.urlAfterRedirects=T,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs extends Et{constructor(D,E,T,$){super(D,E),this.urlAfterRedirects=T,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ns{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fs{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qi{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ps{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _i{constructor(D,E,T){this.routerEvent=D,this.position=E,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Do=(()=>{class w{createUrlTree(E,T,$,G,J,He){return Tr(E||T.root,$,G,J,He)}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac}),w})(),Ki=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:function(D){return Do.\u0275fac(D)},providedIn:"root"}),w})();class Zs{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const E=this.pathFromRoot(D);return E.length>1?E[E.length-2]:null}children(D){const E=Yi(D,this._root);return E?E.children.map(T=>T.value):[]}firstChild(D){const E=Yi(D,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(D){const E=$s(D,this._root);return E.length<2?[]:E[E.length-2].children.map($=>$.value).filter($=>$!==D)}pathFromRoot(D){return $s(D,this._root).map(E=>E.value)}}function Yi(w,D){if(w===D.value)return D;for(const E of D.children){const T=Yi(w,E);if(T)return T}return null}function $s(w,D){if(w===D.value)return[D];for(const E of D.children){const T=$s(w,E);if(T.length)return T.unshift(D),T}return[]}class Ii{constructor(D,E){this.value=D,this.children=E}toString(){return`TreeNode(${this.value})`}}function uo(w){const D={};return w&&w.children.forEach(E=>D[E.value.outlet]=E),D}class co extends Zs{constructor(D,E){super(D),this.snapshot=E,ho(this,D)}toString(){return this.snapshot.toString()}}function Ia(w,D){const E=function Co(w,D){const J=new is([],{},{},"",{},Kt,D,null,w.root,-1,{});return new To("",new Ii(J,[]))}(w,D),T=new Ie.X([new Dr("",{})]),$=new Ie.X({}),G=new Ie.X({}),J=new Ie.X({}),He=new Ie.X(""),bt=new rs(T,$,J,He,G,Kt,D,E.root);return bt.snapshot=E.root,new co(new Ii(bt,[]),E)}class rs{constructor(D,E,T,$,G,J,He,bt){var Lt,dn;this.url=D,this.params=E,this.queryParams=T,this.fragment=$,this.data=G,this.outlet=J,this.component=He,this.title=null!==(Lt=null===(dn=this.data)||void 0===dn?void 0:dn.pipe((0,Ke.U)(tn=>tn[zn])))&&void 0!==Lt?Lt:(0,F.of)(void 0),this._futureSnapshot=bt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(D=>wr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(D=>wr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uo(w,D="emptyOnly"){const E=w.pathFromRoot;let T=0;if("always"!==D)for(T=E.length-1;T>=1;){const $=E[T],G=E[T-1];if($.routeConfig&&""===$.routeConfig.path)T--;else{if(G.component)break;T--}}return function $i(w){return w.reduce((D,E)=>{var T;return{params:{...D.params,...E.params},data:{...D.data,...E.data},resolve:{...E.data,...D.resolve,...null===(T=E.routeConfig)||void 0===T?void 0:T.data,...E._resolvedData}}},{params:{},data:{},resolve:{}})}(E.slice(T))}class is{get title(){var D;return null===(D=this.data)||void 0===D?void 0:D[zn]}constructor(D,E,T,$,G,J,He,bt,Lt,dn,tn){this.url=D,this.params=E,this.queryParams=T,this.fragment=$,this.data=G,this.outlet=J,this.component=He,this.routeConfig=bt,this._urlSegment=Lt,this._lastPathIndex=dn,this._resolve=tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class To extends Zs{constructor(D,E){super(E),this.url=D,ho(this,E)}toString(){return wi(this._root)}}function ho(w,D){D.value._routerState=w,D.children.forEach(E=>ho(w,E))}function wi(w){const D=w.children.length>0?` { ${w.children.map(wi).join(", ")} } `:"";return`${w.value}${D}`}function So(w){if(w.snapshot){const D=w.snapshot,E=w._futureSnapshot;w.snapshot=E,Nt(D.queryParams,E.queryParams)||w.queryParams.next(E.queryParams),D.fragment!==E.fragment&&w.fragment.next(E.fragment),Nt(D.params,E.params)||w.params.next(E.params),function hr(w,D){if(w.length!==D.length)return!1;for(let E=0;E<w.length;++E)if(!Nt(w[E],D[E]))return!1;return!0}(D.url,E.url)||w.url.next(E.url),Nt(D.data,E.data)||w.data.next(E.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Qs(w,D){const E=Nt(w.params,D.params)&&function kt(w,D){return Ct(w,D)&&w.every((E,T)=>Nt(E.parameters,D[T].parameters))}(w.url,D.url);return E&&!(!w.parent!=!D.parent)&&(!w.parent||Qs(w.parent,D.parent))}function fo(w,D,E){if(E&&w.shouldReuseRoute(D.value,E.value.snapshot)){const T=E.value;T._futureSnapshot=D.value;const $=function Bi(w,D,E){return D.children.map(T=>{for(const $ of E.children)if(w.shouldReuseRoute(T.value,$.value.snapshot))return fo(w,T,$);return fo(w,T)})}(w,D,E);return new Ii(T,$)}{if(w.shouldAttach(D.value)){const G=w.retrieve(D.value);if(null!==G){const J=G.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(He=>fo(w,He)),J}}const T=function Xs(w){return new rs(new Ie.X(w.url),new Ie.X(w.params),new Ie.X(w.queryParams),new Ie.X(w.fragment),new Ie.X(w.data),w.outlet,w.component,w)}(D.value),$=D.children.map(G=>fo(w,G));return new Ii(T,$)}}const ti="ngNavigationCancelingError";function Cs(w,D){const{redirectTo:E,navigationBehaviorOptions:T}=ei(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,$=Ts(!1,0,D);return $.url=E,$.navigationBehaviorOptions=T,$}function Ts(w,D,E){const T=new Error("NavigationCancelingError: "+(w||""));return T[ti]=!0,T.cancellationCode=D,E&&(T.url=E),T}function Bs(w){return Di(w)&&ei(w.url)}function Di(w){return w&&w[ti]}class ss{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ss,this.attachRef=null}}let Ss=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(E,T){const $=this.getOrCreateContext(E);$.outlet=T,this.contexts.set(E,$)}onChildOutletDestroyed(E){const T=this.getContext(E);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let T=this.getContext(E);return T||(T=new ss,this.contexts.set(E,T)),T}getContext(E){return this.contexts.get(E)||null}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Zi=!1;let jo=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Ss),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(E){if(E.name){const{firstChange:T,previousValue:$}=E.name;if(T)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){var T;return(null===(T=this.parentContexts.getContext(E))||void 0===T?void 0:T.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);null!=E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Zi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Zi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Zi);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,T){this.activated=E,this._activatedRoute=T,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,T){if(this.isActivated)throw new l.vHH(4013,Zi);this._activatedRoute=E;const $=this.location,J=E.snapshot.component,He=this.parentContexts.getOrCreateContext(this.name).children,bt=new Qi(E,He,$.injector);if(T&&function Ao(w){return!!w.resolveComponentFactory}(T)){const Lt=T.resolveComponentFactory(J);this.activated=$.createComponent(Lt,$.length,bt)}else this.activated=$.createComponent(J,{index:$.length,injector:bt,environmentInjector:null!=T?T:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275dir=l.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),w})();class Qi{constructor(D,E,T){this.route=D,this.childContexts=E,this.parent=T}get(D,E){return D===rs?this.route:D===Ss?this.childContexts:this.parent.get(D,E)}}let fr=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275cmp=l.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(E,T){1&E&&l._UZ(0,"router-outlet")},dependencies:[jo],encapsulation:2}),w})();function ui(w,D){var E;return w.providers&&!w._injector&&(w._injector=(0,l.MMx)(w.providers,D,`Route: ${w.path}`)),null!==(E=w._injector)&&void 0!==E?E:D}function pi(w){const D=w.children&&w.children.map(pi),E=D?{...w,children:D}:{...w};return!E.component&&!E.loadComponent&&(D||E.loadChildren)&&E.outlet&&E.outlet!==Kt&&(E.component=fr),E}function Ei(w){return w.outlet||Kt}function Qo(w,D){const E=w.filter(T=>Ei(T)===D);return E.push(...w.filter(T=>Ei(T)!==D)),E}function As(w){var D;if(!w)return null;if(null!==(D=w.routeConfig)&&void 0!==D&&D._injector)return w.routeConfig._injector;for(let E=w.parent;E;E=E.parent){const T=E.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class Ci{constructor(D,E,T,$){this.routeReuseStrategy=D,this.futureState=E,this.currState=T,this.forwardEvent=$}activate(D){const E=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,T,D),So(this.futureState.root),this.activateChildRoutes(E,T,D)}deactivateChildRoutes(D,E,T){const $=uo(E);D.children.forEach(G=>{const J=G.value.outlet;this.deactivateRoutes(G,$[J],T),delete $[J]}),nr($,(G,J)=>{this.deactivateRouteAndItsChildren(G,T)})}deactivateRoutes(D,E,T){const $=D.value,G=E?E.value:null;if($===G)if($.component){const J=T.getContext($.outlet);J&&this.deactivateChildRoutes(D,E,J.children)}else this.deactivateChildRoutes(D,E,T);else G&&this.deactivateRouteAndItsChildren(E,T)}deactivateRouteAndItsChildren(D,E){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,E):this.deactivateRouteAndOutlet(D,E)}detachAndStoreRouteSubtree(D,E){const T=E.getContext(D.value.outlet),$=T&&D.value.component?T.children:E,G=uo(D);for(const J of Object.keys(G))this.deactivateRouteAndItsChildren(G[J],$);if(T&&T.outlet){const J=T.outlet.detach(),He=T.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:He})}}deactivateRouteAndOutlet(D,E){const T=E.getContext(D.value.outlet),$=T&&D.value.component?T.children:E,G=uo(D);for(const J of Object.keys(G))this.deactivateRouteAndItsChildren(G[J],$);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(D,E,T){const $=uo(E);D.children.forEach(G=>{this.activateRoutes(G,$[G.value.outlet],T),this.forwardEvent(new Bo(G.value.snapshot))}),D.children.length&&this.forwardEvent(new ps(D.value.snapshot))}activateRoutes(D,E,T){const $=D.value,G=E?E.value:null;if(So($),$===G)if($.component){const He=T.getOrCreateContext($.outlet);this.activateChildRoutes(D,E,He.children)}else this.activateChildRoutes(D,E,T);else if($.component){const He=T.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const bt=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),He.children.onOutletReAttached(bt.contexts),He.attachRef=bt.componentRef,He.route=bt.route.value,He.outlet&&He.outlet.attach(bt.componentRef,bt.route.value),So(bt.route.value),this.activateChildRoutes(D,null,He.children)}else{var J;const bt=As($.snapshot),Lt=null!==(J=null==bt?void 0:bt.get(l._Vd))&&void 0!==J?J:null;He.attachRef=null,He.route=$,He.resolver=Lt,He.injector=bt,He.outlet&&He.outlet.activateWith($,He.injector),this.activateChildRoutes(D,null,He.children)}}else this.activateChildRoutes(D,null,T)}}class ca{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Pn{constructor(D,E){this.component=D,this.route=E}}function Xo(w,D,E){const T=w._root;return Ms(T,D?D._root:null,E,[T.value])}function Js(w,D){const E=Symbol(),T=D.get(w,E);return T===E?"function"!=typeof w||(0,l.Z0I)(w)?D.get(w):w:T}function Ms(w,D,E,T,$={canDeactivateChecks:[],canActivateChecks:[]}){const G=uo(D);return w.children.forEach(J=>{(function Va(w,D,E,T,$={canDeactivateChecks:[],canActivateChecks:[]}){const G=w.value,J=D?D.value:null,He=E?E.getContext(w.value.outlet):null;if(J&&G.routeConfig===J.routeConfig){const bt=function zo(w,D,E){if("function"==typeof E)return E(w,D);switch(E){case"pathParamsChange":return!Ct(w.url,D.url);case"pathParamsOrQueryParamsChange":return!Ct(w.url,D.url)||!Nt(w.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qs(w,D)||!Nt(w.queryParams,D.queryParams);default:return!Qs(w,D)}}(J,G,G.routeConfig.runGuardsAndResolvers);bt?$.canActivateChecks.push(new ca(T)):(G.data=J.data,G._resolvedData=J._resolvedData),Ms(w,D,G.component?He?He.children:null:E,T,$),bt&&He&&He.outlet&&He.outlet.isActivated&&$.canDeactivateChecks.push(new Pn(He.outlet.component,J))}else J&&Go(D,He,$),$.canActivateChecks.push(new ca(T)),Ms(w,null,G.component?He?He.children:null:E,T,$)})(J,G[J.value.outlet],E,T.concat([J.value]),$),delete G[J.value.outlet]}),nr(G,(J,He)=>Go(J,E.getContext(He),$)),$}function Go(w,D,E){const T=uo(w),$=w.value;nr(T,(G,J)=>{Go(G,$.component?D?D.children.getContext(J):null:D,E)}),E.canDeactivateChecks.push(new Pn($.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,$))}function L(w){return"function"==typeof w}function Sn(w){return w instanceof xe.K||"EmptyError"===(null==w?void 0:w.name)}const Qn=Symbol("INITIAL_VALUE");function kr(){return(0,Je.w)(w=>ke(w.map(D=>D.pipe((0,Fe.q)(1),(0,at.O)(Qn)))).pipe((0,Ke.U)(D=>{for(const E of D)if(!0!==E){if(E===Qn)return Qn;if(!1===E||E instanceof In)return E}return!0}),(0,ut.h)(D=>D!==Qn),(0,Fe.q)(1)))}function Pl(w){return(0,Ze.z)((0,tt.b)(D=>{if(ei(D))throw Cs(0,D)}),(0,Ke.U)(D=>!0===D))}const Ro={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function as(w,D,E,T,$){const G=fa(w,D,E);return G.matched?function ha(w,D,E,T){const $=D.canMatch;if(!$||0===$.length)return(0,F.of)(!0);const G=$.map(J=>{const He=Js(J,w);return yn(function ot(w){return w&&L(w.canMatch)}(He)?He.canMatch(D,E):w.runInContext(()=>He(D,E)))});return(0,F.of)(G).pipe(kr(),Pl())}(T=ui(D,T),D,E).pipe((0,Ke.U)(J=>!0===J?G:{...Ro})):(0,F.of)(G)}function fa(w,D,E){var T;if(""===D.path)return"full"===D.pathMatch&&(w.hasChildren()||E.length>0)?{...Ro}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const G=(D.matcher||xn)(E,w,D);if(!G)return{...Ro};const J={};nr(G.posParams,(bt,Lt)=>{J[Lt]=bt.path});const He=G.consumed.length>0?{...J,...G.consumed[G.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:G.consumed,remainingSegments:E.slice(G.consumed.length),parameters:He,positionalParamSegments:null!==(T=G.posParams)&&void 0!==T?T:{}}}function Jo(w,D,E,T){if(E.length>0&&function Nu(w,D,E){return E.some(T=>At(w,D,T)&&Ei(T)!==Kt)}(w,E,T)){const G=new bn(D,function xs(w,D,E,T){const $={};$[Kt]=T,T._sourceSegment=w,T._segmentIndexShift=D.length;for(const G of E)if(""===G.path&&Ei(G)!==Kt){const J=new bn([],{});J._sourceSegment=w,J._segmentIndexShift=D.length,$[Ei(G)]=J}return $}(w,D,T,new bn(E,w.children)));return G._sourceSegment=w,G._segmentIndexShift=D.length,{segmentGroup:G,slicedSegments:[]}}if(0===E.length&&function ku(w,D,E){return E.some(T=>At(w,D,T))}(w,E,T)){const G=new bn(w.segments,function Nl(w,D,E,T,$){const G={};for(const J of T)if(At(w,E,J)&&!$[Ei(J)]){const He=new bn([],{});He._sourceSegment=w,He._segmentIndexShift=D.length,G[Ei(J)]=He}return{...$,...G}}(w,D,E,T,w.children));return G._sourceSegment=w,G._segmentIndexShift=D.length,{segmentGroup:G,slicedSegments:E}}const $=new bn(w.segments,w.children);return $._sourceSegment=w,$._segmentIndexShift=D.length,{segmentGroup:$,slicedSegments:E}}function At(w,D,E){return(!(w.hasChildren()||D.length>0)||"full"!==E.pathMatch)&&""===E.path}function eo(w,D,E,T){return!!(Ei(w)===T||T!==Kt&&At(D,E,w))&&("**"===w.path||fa(D,w,E).matched)}function fl(w,D,E){return 0===D.length&&!w.children[E]}const to=!1;class _r{constructor(D){this.segmentGroup=D||null}}class nu{constructor(D){this.urlTree=D}}function Lr(w){return Ee(new _r(w))}function ln(w){return Ee(new nu(w))}class Ua{constructor(D,E,T,$,G){this.injector=D,this.configLoader=E,this.urlSerializer=T,this.urlTree=$,this.config=G,this.allowRedirects=!0}apply(){const D=Jo(this.urlTree.root,[],[],this.config).segmentGroup,E=new bn(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,E,Kt).pipe((0,Ke.U)(G=>this.createUrlTree(Ur(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ce(G=>{if(G instanceof nu)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof _r?this.noMatchError(G):G}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,Kt).pipe((0,Ke.U)($=>this.createUrlTree(Ur($),D.queryParams,D.fragment))).pipe(ce($=>{throw $ instanceof _r?this.noMatchError($):$}))}noMatchError(D){return new l.vHH(4002,to)}createUrlTree(D,E,T){const $=Vr(D);return new In($,E,T)}expandSegmentGroup(D,E,T,$){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(D,E,T).pipe((0,Ke.U)(G=>new bn([],G))):this.expandSegment(D,T,E,T.segments,$,!0)}expandChildren(D,E,T){const $=[];for(const G of Object.keys(T.children))"primary"===G?$.unshift(G):$.push(G);return(0,v.D)($).pipe(Pe(G=>{const J=T.children[G],He=Qo(E,G);return this.expandSegmentGroup(D,He,J,G).pipe((0,Ke.U)(bt=>({segment:bt,outlet:G})))}),(0,Re.R)((G,J)=>(G[J.outlet]=J.segment,G),{}),gt())}expandSegment(D,E,T,$,G,J){return(0,v.D)(T).pipe(Pe(He=>this.expandSegmentAgainstRoute(D,E,T,He,$,G,J).pipe(ce(Lt=>{if(Lt instanceof _r)return(0,F.of)(null);throw Lt}))),(0,Se.P)(He=>!!He),ce((He,bt)=>{if(Sn(He))return fl(E,$,G)?(0,F.of)(new bn([],{})):Lr(E);throw He}))}expandSegmentAgainstRoute(D,E,T,$,G,J,He){return eo($,E,G,J)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(D,E,$,G,J):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,E,T,$,G,J):Lr(E):Lr(E)}expandSegmentAgainstRouteUsingRedirect(D,E,T,$,G,J){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,T,$,J):this.expandRegularSegmentAgainstRouteUsingRedirect(D,E,T,$,G,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,E,T,$){const G=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?ln(G):this.lineralizeSegments(T,G).pipe((0,Me.z)(J=>{const He=new bn(J,{});return this.expandSegment(D,He,E,J,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,E,T,$,G,J){const{matched:He,consumedSegments:bt,remainingSegments:Lt,positionalParamSegments:dn}=fa(E,$,G);if(!He)return Lr(E);const tn=this.applyRedirectCommands(bt,$.redirectTo,dn);return $.redirectTo.startsWith("/")?ln(tn):this.lineralizeSegments($,tn).pipe((0,Me.z)(Mr=>this.expandSegment(D,E,T,Mr.concat(Lt),J,!1)))}matchSegmentAgainstRoute(D,E,T,$,G){return"**"===T.path?(D=ui(T,D),T.loadChildren?(T._loadedRoutes?(0,F.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(D,T)).pipe((0,Ke.U)(He=>(T._loadedRoutes=He.routes,T._loadedInjector=He.injector,new bn($,{})))):(0,F.of)(new bn($,{}))):as(E,T,$,D).pipe((0,Je.w)(({matched:J,consumedSegments:He,remainingSegments:bt})=>{var Lt;return J?(D=null!==(Lt=T._injector)&&void 0!==Lt?Lt:D,this.getChildConfig(D,T,$).pipe((0,Me.z)(tn=>{var Mr;const di=null!==(Mr=tn.injector)&&void 0!==Mr?Mr:D,P=tn.routes,{segmentGroup:B,slicedSegments:Y}=Jo(E,He,bt,P),we=new bn(B.segments,B.children);if(0===Y.length&&we.hasChildren())return this.expandChildren(di,P,we).pipe((0,Ke.U)(mn=>new bn(He,mn)));if(0===P.length&&0===Y.length)return(0,F.of)(new bn(He,{}));const it=Ei(T)===G;return this.expandSegment(di,we,P,Y,it?Kt:G,!0).pipe((0,Ke.U)(Pt=>new bn(He.concat(Pt.segments),Pt.children)))}))):Lr(E)}))}getChildConfig(D,E,T){return E.children?(0,F.of)({routes:E.children,injector:D}):E.loadChildren?void 0!==E._loadedRoutes?(0,F.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function da(w,D,E,T){const $=D.canLoad;if(void 0===$||0===$.length)return(0,F.of)(!0);const G=$.map(J=>{const He=Js(J,w);return yn(function m(w){return w&&L(w.canLoad)}(He)?He.canLoad(D,E):w.runInContext(()=>He(D,E)))});return(0,F.of)(G).pipe(kr(),Pl())}(D,E,T).pipe((0,Me.z)($=>$?this.configLoader.loadChildren(D,E).pipe((0,tt.b)(G=>{E._loadedRoutes=G.routes,E._loadedInjector=G.injector})):function Wn(w){return Ee(Ts(to,3))}())):(0,F.of)({routes:[],injector:D})}lineralizeSegments(D,E){let T=[],$=E.root;for(;;){if(T=T.concat($.segments),0===$.numberOfChildren)return(0,F.of)(T);if($.numberOfChildren>1||!$.children[Kt])return D.redirectTo,Ee(new l.vHH(4e3,to));$=$.children[Kt]}}applyRedirectCommands(D,E,T){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),D,T)}applyRedirectCreateUrlTree(D,E,T,$){const G=this.createSegmentGroup(D,E.root,T,$);return new In(G,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(D,E){const T={};return nr(D,($,G)=>{if("string"==typeof $&&$.startsWith(":")){const He=$.substring(1);T[G]=E[He]}else T[G]=$}),T}createSegmentGroup(D,E,T,$){const G=this.createSegments(D,E.segments,T,$);let J={};return nr(E.children,(He,bt)=>{J[bt]=this.createSegmentGroup(D,He,T,$)}),new bn(G,J)}createSegments(D,E,T,$){return E.map(G=>G.path.startsWith(":")?this.findPosParam(D,G,$):this.findOrReturn(G,T))}findPosParam(D,E,T){const $=T[E.path.substring(1)];if(!$)throw new l.vHH(4001,to);return $}findOrReturn(D,E){let T=0;for(const $ of E){if($.path===D.path)return E.splice(T),$;T++}return D}}class Ha{}class R{constructor(D,E,T,$,G,J,He){this.injector=D,this.rootComponentType=E,this.config=T,this.urlTree=$,this.url=G,this.paramsInheritanceStrategy=J,this.urlSerializer=He}recognize(){const D=Jo(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Kt).pipe((0,Ke.U)(E=>{if(null===E)return null;const T=new is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Ii(T,E),G=new To(this.url,$);return this.inheritParamsAndData(G._root),G}))}inheritParamsAndData(D){const E=D.value,T=Uo(E,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data),D.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(D,E,T,$){return 0===T.segments.length&&T.hasChildren()?this.processChildren(D,E,T):this.processSegment(D,E,T,T.segments,$)}processChildren(D,E,T){return(0,v.D)(Object.keys(T.children)).pipe(Pe($=>{const G=T.children[$],J=Qo(E,$);return this.processSegmentGroup(D,J,G,$)}),(0,Re.R)(($,G)=>$&&G?($.push(...G),$):null),function Xt(w,D=!1){return(0,ie.e)((E,T)=>{let $=0;E.subscribe((0,me.x)(T,G=>{const J=w(G,$++);(J||D)&&T.next(G),!J&&T.complete()}))})}($=>null!==$),(0,et.d)(null),gt(),(0,Ke.U)($=>{if(null===$)return null;const G=pe($);return function U(w){w.sort((D,E)=>D.value.outlet===Kt?-1:E.value.outlet===Kt?1:D.value.outlet.localeCompare(E.value.outlet))}(G),G}))}processSegment(D,E,T,$,G){return(0,v.D)(E).pipe(Pe(J=>{var He;return this.processSegmentAgainstRoute(null!==(He=J._injector)&&void 0!==He?He:D,J,T,$,G)}),(0,Se.P)(J=>!!J),ce(J=>{if(Sn(J))return fl(T,$,G)?(0,F.of)([]):(0,F.of)(null);throw J}))}processSegmentAgainstRoute(D,E,T,$,G){if(E.redirectTo||!eo(E,T,$,G))return(0,F.of)(null);let J;if("**"===E.path){var He,bt;const Lt=$.length>0?Sr($).parameters:{},dn=pn(T)+$.length,tn=new is($,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$n(E),Ei(E),null!==(He=null!==(bt=E.component)&&void 0!==bt?bt:E._loadedComponent)&&void 0!==He?He:null,E,xt(T),dn,pr(E));J=(0,F.of)({snapshot:tn,consumedSegments:[],remainingSegments:[]})}else J=as(T,E,$,D).pipe((0,Ke.U)(({matched:Lt,consumedSegments:dn,remainingSegments:tn,parameters:Mr})=>{var di,P;if(!Lt)return null;const B=pn(T)+dn.length;return{snapshot:new is(dn,Mr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$n(E),Ei(E),null!==(di=null!==(P=E.component)&&void 0!==P?P:E._loadedComponent)&&void 0!==di?di:null,E,xt(T),B,pr(E)),consumedSegments:dn,remainingSegments:tn}}));return J.pipe((0,Je.w)(Lt=>{var dn,tn;if(null===Lt)return(0,F.of)(null);const{snapshot:Mr,consumedSegments:di,remainingSegments:P}=Lt;D=null!==(dn=E._injector)&&void 0!==dn?dn:D;const B=null!==(tn=E._loadedInjector)&&void 0!==tn?tn:D,Y=function N(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(E),{segmentGroup:we,slicedSegments:it}=Jo(T,di,P,Y.filter(Pt=>void 0===Pt.redirectTo));if(0===it.length&&we.hasChildren())return this.processChildren(B,Y,we).pipe((0,Ke.U)(Pt=>null===Pt?null:[new Ii(Mr,Pt)]));if(0===Y.length&&0===it.length)return(0,F.of)([new Ii(Mr,[])]);const mt=Ei(E)===G;return this.processSegment(B,Y,we,it,mt?Kt:G).pipe((0,Ke.U)(Pt=>null===Pt?null:[new Ii(Mr,Pt)]))}))}}function W(w){const D=w.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function pe(w){const D=[],E=new Set;for(const T of w){if(!W(T)){D.push(T);continue}const $=D.find(G=>T.value.routeConfig===G.value.routeConfig);void 0!==$?($.children.push(...T.children),E.add($)):D.push(T)}for(const T of E){const $=pe(T.children);D.push(new Ii(T.value,$))}return D.filter(T=>!E.has(T))}function xt(w){let D=w;for(;D._sourceSegment;)D=D._sourceSegment;return D}function pn(w){var D;let E=w,T=null!==(D=E._segmentIndexShift)&&void 0!==D?D:0;for(;E._sourceSegment;){var $;E=E._sourceSegment,T+=null!==($=E._segmentIndexShift)&&void 0!==$?$:0}return T-1}function $n(w){return w.data||{}}function pr(w){return w.resolve||{}}function Hs(w){return"string"==typeof w.title||null===w.title}function no(w){return(0,Je.w)(D=>{const E=w(D);return E?(0,v.D)(E).pipe((0,Ke.U)(()=>D)):(0,F.of)(D)})}const ys=new l.OlP("ROUTES");let Oo=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,F.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const T=yn(E.loadComponent()).pipe((0,Ke.U)(ma),(0,tt.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=G}),en(()=>{this.componentLoaders.delete(E)})),$=new ze(T,()=>new Xe.x).pipe(_e());return this.componentLoaders.set(E,$),$}loadChildren(E,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,F.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const G=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Ke.U)(He=>{this.onLoadEndListener&&this.onLoadEndListener(T);let bt,Lt,dn=!1;Array.isArray(He)?Lt=He:(bt=He.create(E).injector,Lt=tr(bt.get(ys,[],l.XFs.Self|l.XFs.Optional)));return{routes:Lt.map(pi),injector:bt}}),en(()=>{this.childrenLoaders.delete(T)})),J=new ze(G,()=>new Xe.x).pipe(_e());return this.childrenLoaders.set(T,J),J}loadModuleFactoryOrRoutes(E){return yn(E()).pipe((0,Ke.U)(ma),(0,Me.z)(T=>T instanceof l.YKP||Array.isArray(T)?(0,F.of)(T):(0,v.D)(this.compiler.compileModuleAsync(T))))}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ma(w){return function ga(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let za=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xe.x,this.configLoader=(0,l.f3M)(Oo),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(fn),this.rootContexts=(0,l.f3M)(Ss),this.navigationId=0,this.afterPreactivation=()=>(0,F.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new fs($)),this.configLoader.onLoadStartListener=$=>this.events.next(new ns($))}complete(){var E;null===(E=this.transitions)||void 0===E||E.complete()}handleNavigationRequest(E){var T;const $=++this.navigationId;null===(T=this.transitions)||void 0===T||T.next({...this.transitions.value,...E,id:$})}setupNavigations(E){return this.transitions=new Ie.X({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:st,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ut.h)(T=>0!==T.id),(0,Ke.U)(T=>({...T,extractedUrl:E.urlHandlingStrategy.extract(T.rawUrl)})),(0,Je.w)(T=>{let $=!1,G=!1;return(0,F.of)(T).pipe((0,tt.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(J=>{var He;const bt=E.browserUrlTree.toString(),Lt=!E.navigated||J.extractedUrl.toString()!==bt||bt!==E.currentUrlTree.toString(),dn=null!==(He=J.extras.onSameUrlNavigation)&&void 0!==He?He:E.onSameUrlNavigation;if(!Lt&&"reload"!==dn){const tn="";return this.events.next(new Dn(J.id,E.serializeUrl(T.rawUrl),tn,0)),E.rawUrlTree=J.rawUrl,J.resolve(null),We.E}if(E.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return ea(J.source)&&(E.browserUrlTree=J.extractedUrl),(0,F.of)(J).pipe((0,Je.w)(tn=>{var Mr,di;const P=null===(Mr=this.transitions)||void 0===Mr?void 0:Mr.getValue();return this.events.next(new Dt(tn.id,this.urlSerializer.serialize(tn.extractedUrl),tn.source,tn.restoredState)),P!==(null===(di=this.transitions)||void 0===di?void 0:di.getValue())?We.E:Promise.resolve(tn)}),function ja(w,D,E,T){return(0,Je.w)($=>function Ti(w,D,E,T,$){return new Ua(w,D,E,T,$).apply()}(w,D,E,$.extractedUrl,T).pipe((0,Ke.U)(G=>({...$,urlAfterRedirects:G}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),(0,tt.b)(tn=>{this.currentNavigation={...this.currentNavigation,finalUrl:tn.urlAfterRedirects},T.urlAfterRedirects=tn.urlAfterRedirects}),function Jn(w,D,E,T,$){return(0,Me.z)(G=>function pa(w,D,E,T,$,G,J="emptyOnly"){return new R(w,D,E,T,$,J,G).recognize().pipe((0,Je.w)(He=>null===He?function wa(w){return new Oe.y(D=>D.error(w))}(new Ha):(0,F.of)(He)))}(w,D,E,G.urlAfterRedirects,T.serialize(G.urlAfterRedirects),T,$).pipe((0,Ke.U)(J=>({...G,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,tt.b)(tn=>{if(T.targetSnapshot=tn.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!tn.extras.skipLocationChange){const di=E.urlHandlingStrategy.merge(tn.urlAfterRedirects,tn.rawUrl);E.setBrowserUrl(di,tn)}E.browserUrlTree=tn.urlAfterRedirects}const Mr=new fi(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot);this.events.next(Mr)}));if(Lt&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:tn,extractedUrl:Mr,source:di,restoredState:P,extras:B}=J,Y=new Dt(tn,this.urlSerializer.serialize(Mr),di,P);this.events.next(Y);const we=Ia(Mr,this.rootComponentType).snapshot;return T={...J,targetSnapshot:we,urlAfterRedirects:Mr,extras:{...B,skipLocationChange:!1,replaceUrl:!1}},(0,F.of)(T)}{const tn="";return this.events.next(new Dn(J.id,E.serializeUrl(T.extractedUrl),tn,1)),E.rawUrlTree=J.rawUrl,J.resolve(null),We.E}}),(0,tt.b)(J=>{const He=new Ri(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(He)}),(0,Ke.U)(J=>T={...J,guards:Xo(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function Vn(w,D){return(0,Me.z)(E=>{const{targetSnapshot:T,currentSnapshot:$,guards:{canActivateChecks:G,canDeactivateChecks:J}}=E;return 0===J.length&&0===G.length?(0,F.of)({...E,guardsResult:!0}):function jt(w,D,E,T){return(0,v.D)(w).pipe((0,Me.z)($=>function Cr(w,D,E,T,$){const G=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,F.of)(!0);const J=G.map(He=>{var bt;const Lt=null!==(bt=As(D))&&void 0!==bt?bt:$,dn=Js(He,Lt);return yn(function H(w){return w&&L(w.canDeactivate)}(dn)?dn.canDeactivate(w,D,E,T):Lt.runInContext(()=>dn(w,D,E,T))).pipe((0,Se.P)())});return(0,F.of)(J).pipe(kr())}($.component,$.route,E,D,T)),(0,Se.P)($=>!0!==$,!0))}(J,T,$,w).pipe((0,Me.z)(He=>He&&function d(w){return"boolean"==typeof w}(He)?function lr(w,D,E,T){return(0,v.D)(D).pipe(Pe($=>(0,De.z)(function js(w,D){return null!==w&&D&&D(new qi(w)),(0,F.of)(!0)}($.route.parent,T),function si(w,D){return null!==w&&D&&D(new Oi(w)),(0,F.of)(!0)}($.route,T),function os(w,D,E){const T=D[D.length-1],G=D.slice(0,D.length-1).reverse().map(J=>function Ho(w){const D=w.routeConfig?w.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:w,guards:D}:null}(J)).filter(J=>null!==J).map(J=>Be(()=>{const He=J.guards.map(bt=>{var Lt;const dn=null!==(Lt=As(J.node))&&void 0!==Lt?Lt:E,tn=Js(bt,dn);return yn(function M(w){return w&&L(w.canActivateChild)}(tn)?tn.canActivateChild(T,w):dn.runInContext(()=>tn(T,w))).pipe((0,Se.P)())});return(0,F.of)(He).pipe(kr())}));return(0,F.of)(G).pipe(kr())}(w,$.path,E),function Vi(w,D,E){const T=D.routeConfig?D.routeConfig.canActivate:null;if(!T||0===T.length)return(0,F.of)(!0);const $=T.map(G=>Be(()=>{var J;const He=null!==(J=As(D))&&void 0!==J?J:E,bt=Js(G,He);return yn(function f(w){return w&&L(w.canActivate)}(bt)?bt.canActivate(D,w):He.runInContext(()=>bt(D,w))).pipe((0,Se.P)())}));return(0,F.of)($).pipe(kr())}(w,$.route,E))),(0,Se.P)($=>!0!==$,!0))}(T,G,w,D):(0,F.of)(He)),(0,Ke.U)(He=>({...E,guardsResult:He})))})}(this.environmentInjector,J=>this.events.next(J)),(0,tt.b)(J=>{if(T.guardsResult=J.guardsResult,ei(J.guardsResult))throw Cs(0,J.guardsResult);const He=new wn(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(He)}),(0,ut.h)(J=>!!J.guardsResult||(E.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),no(J=>{if(J.guards.canActivateChecks.length)return(0,F.of)(J).pipe((0,tt.b)(He=>{const bt=new ws(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(bt)}),(0,Je.w)(He=>{let bt=!1;return(0,F.of)(He).pipe(function rr(w,D){return(0,Me.z)(E=>{const{targetSnapshot:T,guards:{canActivateChecks:$}}=E;if(!$.length)return(0,F.of)(E);let G=0;return(0,v.D)($).pipe(Pe(J=>function Kr(w,D,E,T){const $=w.routeConfig,G=w._resolve;return void 0!==(null==$?void 0:$.title)&&!Hs($)&&(G[zn]=$.title),function Xr(w,D,E,T){const $=function Pi(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===$.length)return(0,F.of)({});const G={};return(0,v.D)($).pipe((0,Me.z)(J=>function Ui(w,D,E,T){var $;const G=null!==($=As(D))&&void 0!==$?$:T,J=Js(w,G);return yn(J.resolve?J.resolve(D,E):G.runInContext(()=>J(D,E)))}(w[J],D,E,T).pipe((0,Se.P)(),(0,tt.b)(He=>{G[J]=He}))),ee(1),function vt(w){return(0,Ke.U)(()=>w)}(G),ce(J=>Sn(J)?We.E:Ee(J)))}(G,w,D,T).pipe((0,Ke.U)(J=>(w._resolvedData=J,w.data=Uo(w,E).resolve,$&&Hs($)&&(w.data[zn]=$.title),null)))}(J.route,T,w,D)),(0,tt.b)(()=>G++),ee(1),(0,Me.z)(J=>G===$.length?(0,F.of)(E):We.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,tt.b)({next:()=>bt=!0,complete:()=>{bt||(E.restoreHistory(He),this.cancelNavigationTransition(He,"",2))}}))}),(0,tt.b)(He=>{const bt=new hs(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(bt)}))}),no(J=>{const He=bt=>{var Lt;const dn=[];null!==(Lt=bt.routeConfig)&&void 0!==Lt&&Lt.loadComponent&&!bt.routeConfig._loadedComponent&&dn.push(this.configLoader.loadComponent(bt.routeConfig).pipe((0,tt.b)(tn=>{bt.component=tn}),(0,Ke.U)(()=>{})));for(const tn of bt.children)dn.push(...He(tn));return dn};return ke(He(J.targetSnapshot.root)).pipe((0,et.d)(),(0,Fe.q)(1))}),no(()=>this.afterPreactivation()),(0,Ke.U)(J=>{const He=function Ds(w,D,E){const T=fo(w,D._root,E?E._root:void 0);return new co(T,D)}(E.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return T={...J,targetRouterState:He}}),(0,tt.b)(J=>{E.currentUrlTree=J.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),E.routerState=J.targetRouterState,"deferred"===E.urlUpdateStrategy&&(J.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,J),E.browserUrlTree=J.urlAfterRedirects)}),((w,D,E)=>(0,Ke.U)(T=>(new Ci(D,T.targetRouterState,T.currentRouterState,E).activate(w),T)))(this.rootContexts,E.routeReuseStrategy,J=>this.events.next(J)),(0,Fe.q)(1),(0,tt.b)({next:J=>{var He;$=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new Bt(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),null===(He=E.titleStrategy)||void 0===He||He.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{$=!0}}),en(()=>{var J;$||G||this.cancelNavigationTransition(T,"",1),(null===(J=this.currentNavigation)||void 0===J?void 0:J.id)===T.id&&(this.currentNavigation=null)}),ce(J=>{if(G=!0,Di(J)){Bs(J)||(E.navigated=!0,E.restoreHistory(T,!0));const bt=new rn(T.id,this.urlSerializer.serialize(T.extractedUrl),J.message,J.cancellationCode);if(this.events.next(bt),Bs(J)){const Lt=E.urlHandlingStrategy.merge(J.url,E.rawUrlTree),dn={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||ea(T.source)};E.scheduleNavigation(Lt,st,null,dn,{resolve:T.resolve,reject:T.reject,promise:T.promise})}else T.resolve(!1)}else{var He;E.restoreHistory(T,!0);const bt=new Gn(T.id,this.urlSerializer.serialize(T.extractedUrl),J,null!==(He=T.targetSnapshot)&&void 0!==He?He:void 0);this.events.next(bt);try{T.resolve(E.errorHandler(J))}catch(Lt){T.reject(Lt)}}return We.E}))}))}cancelNavigationTransition(E,T,$){const G=new rn(E.id,this.urlSerializer.serialize(E.extractedUrl),T,$);this.events.next(G),E.resolve(!1)}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ea(w){return w!==st}let Ga=(()=>{class w{buildTitle(E){let T,$=E.root;for(;void 0!==$;){var G;T=null!==(G=this.getResolvedTitleForRoute($))&&void 0!==G?G:T,$=$.children.find(J=>J.outlet===Kt)}return T}getResolvedTitleForRoute(E){return E.data[zn]}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:function(){return(0,l.f3M)(Da)},providedIn:"root"}),w})(),Da=(()=>{class w extends Ga{constructor(E){super(),this.title=E}updateTitle(E){const T=this.buildTitle(E);void 0!==T&&this.title.setTitle(T)}}return w.\u0275fac=function(E){return new(E||w)(l.LFG(sn.Dx))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Po=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:function(){return(0,l.f3M)(ta)},providedIn:"root"}),w})();class gl{shouldDetach(D){return!1}store(D,E){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,E){return D.routeConfig===E.routeConfig}}let ta=(()=>{class w extends gl{}return w.\u0275fac=function(){let D;return function(T){return(D||(D=l.n5z(w)))(T||w)}}(),w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Wa=new l.OlP("",{providedIn:"root",factory:()=>({})});let qa=(()=>{class w{}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:function(){return(0,l.f3M)(Ka)},providedIn:"root"}),w})(),Ka=(()=>{class w{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,T){return E}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function kl(w){throw w}function Fu(w,D,E){return D.parse("/")}const Rs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ls=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var E;this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Wa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||kl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Fu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(qa),this.routeReuseStrategy=(0,l.f3M)(Po),this.urlCreationStrategy=(0,l.f3M)(Ki),this.titleStrategy=(0,l.f3M)(Ga),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=tr(null!==(E=(0,l.f3M)(ys,{optional:!0}))&&void 0!==E?E:[]),this.navigationTransitions=(0,l.f3M)(za),this.urlSerializer=(0,l.f3M)(fn),this.location=(0,l.f3M)(je.Ye),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ia(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),st,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const T="popstate"===E.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,T,E.state)},0)}))}navigateToSyncWithBrowser(E,T,$){const G={replaceUrl:!0},J=null!=$&&$.navigationId?$:null;if($){const bt={...$};delete bt.navigationId,delete bt.\u0275routerPageId,0!==Object.keys(bt).length&&(G.state=bt)}const He=this.parseUrl(E);this.scheduleNavigation(He,T,J,G)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(pi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,T={}){const{relativeTo:$,queryParams:G,fragment:J,queryParamsHandling:He,preserveFragment:bt}=T,Lt=bt?this.currentUrlTree.fragment:J;let dn=null;switch(He){case"merge":dn={...this.currentUrlTree.queryParams,...G};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=G||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),this.urlCreationStrategy.createUrlTree($,this.routerState,this.currentUrlTree,E,dn,null!=Lt?Lt:null)}navigateByUrl(E,T={skipLocationChange:!1}){const $=ei(E)?E:this.parseUrl(E),G=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(G,st,null,T)}navigate(E,T={skipLocationChange:!1}){return function na(w){for(let D=0;D<w.length;D++){const E=w[D];if(null==E)throw new l.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,T),T)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let T;try{T=this.urlSerializer.parse(E)}catch($){T=this.malformedUriErrorHandler($,this.urlSerializer,E)}return T}isActive(E,T){let $;if($=!0===T?{...Rs}:!1===T?{...yl}:T,ei(E))return cn(this.currentUrlTree,E,$);const G=this.parseUrl(E);return cn(this.currentUrlTree,G,$)}removeEmptyProps(E){return Object.keys(E).reduce((T,$)=>{const G=E[$];return null!=G&&(T[$]=G),T},{})}scheduleNavigation(E,T,$,G,J){if(this.disposed)return Promise.resolve(!1);let He,bt,Lt,dn;if(J?(He=J.resolve,bt=J.reject,Lt=J.promise):Lt=new Promise((di,P)=>{He=di,bt=P}),"computed"===this.canceledNavigationResolution)if($&&$.\u0275routerPageId)dn=$.\u0275routerPageId;else if(G.replaceUrl||G.skipLocationChange){var tn;dn=null!==(tn=this.browserPageId)&&void 0!==tn?tn:0}else{var Mr;dn=(null!==(Mr=this.browserPageId)&&void 0!==Mr?Mr:0)+1}else dn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:dn,source:T,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:G,resolve:He,reject:bt,promise:Lt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Lt.catch(di=>Promise.reject(di))}setBrowserUrl(E,T){const $=this.urlSerializer.serialize(E),G={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo($)||T.extras.replaceUrl?this.location.replaceState($,"",G):this.location.go($,"",G)}restoreHistory(E,T=!1){if("computed"===this.canceledNavigationResolution){var $,G;const J=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.getCurrentNavigation())||void 0===$?void 0:$.finalUrl)||0===J?this.currentUrlTree===(null===(G=this.getCurrentNavigation())||void 0===G?void 0:G.finalUrl)&&0===J&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(J)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,T){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:T}:{navigationId:E}}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),po=(()=>{class w{constructor(E,T,$,G,J,He){var bt;this.router=E,this.route=T,this.tabIndexAttribute=$,this.renderer=G,this.el=J,this.locationStrategy=He,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Xe.x;const Lt=null===(bt=J.nativeElement.tagName)||void 0===bt?void 0:bt.toLowerCase();this.isAnchorElement="a"===Lt||"area"===Lt,this.isAnchorElement?this.subscription=E.events.subscribe(dn=>{dn instanceof Bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,l.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,l.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,l.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,T,$,G,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||T||$||G||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var E;null===(E=this.subscription)||void 0===E||E.unsubscribe()}updateHref(){var E;this.href=null!==this.urlTree&&this.locationStrategy?null===(E=this.locationStrategy)||void 0===E?void 0:E.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(E,T){const $=this.renderer,G=this.el.nativeElement;null!==T?$.setAttribute(G,E,T):$.removeAttribute(G,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(E){return new(E||w)(l.Y36(ls),l.Y36(rs),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(je.S$))},w.\u0275dir=l.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,T){1&E&&l.NdJ("click",function(G){return T.onClick(G.button,G.ctrlKey,G.shiftKey,G.altKey,G.metaKey)}),2&E&&l.uIk("target",T.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),w})(),Ya=(()=>{class w{get isActive(){return this._isActive}constructor(E,T,$,G,J){this.router=E,this.element=T,this.renderer=$,this.cdr=G,this.link=J,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=E.events.subscribe(He=>{He instanceof Bt&&this.update()})}ngAfterContentInit(){(0,F.of)(this.links.changes,(0,F.of)(null)).pipe((0,En.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var E;null===(E=this.linkInputChangesSubscription)||void 0===E||E.unsubscribe();const T=[...this.links.toArray(),this.link].filter($=>!!$).map($=>$.onChanges);this.linkInputChangesSubscription=(0,v.D)(T).pipe((0,En.J)()).subscribe($=>{this._isActive!==this.isLinkActive(this.router)($)&&this.update()})}set routerLinkActive(E){const T=Array.isArray(E)?E:E.split(" ");this.classes=T.filter($=>!!$)}ngOnChanges(E){this.update()}ngOnDestroy(){var E;this.routerEventsSubscription.unsubscribe(),null===(E=this.linkInputChangesSubscription)||void 0===E||E.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.classes.forEach(T=>{E?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const T=function Os(w){return!!w.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return $=>!!$.urlTree&&E.isActive($.urlTree,T)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}}return w.\u0275fac=function(E){return new(E||w)(l.Y36(ls),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(po,8))},w.\u0275dir=l.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(E,T,$){if(1&E&&l.Suo($,po,5),2&E){let G;l.iGM(G=l.CRH())&&(T.links=G)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),w})();class Ta{}let Sa=(()=>{class w{preload(E,T){return T().pipe(ce(()=>(0,F.of)(null)))}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),vl=(()=>{class w{constructor(E,T,$,G,J){this.router=E,this.injector=$,this.preloadingStrategy=G,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,ut.h)(E=>E instanceof Bt),Pe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,T){const $=[];for(const bt of T){var G,J;bt.providers&&!bt._injector&&(bt._injector=(0,l.MMx)(bt.providers,E,`Route: ${bt.path}`));const Lt=null!==(G=bt._injector)&&void 0!==G?G:E,dn=null!==(J=bt._loadedInjector)&&void 0!==J?J:Lt;var He;(bt.loadChildren&&!bt._loadedRoutes&&void 0===bt.canLoad||bt.loadComponent&&!bt._loadedComponent)&&$.push(this.preloadConfig(Lt,bt)),(bt.children||bt._loadedRoutes)&&$.push(this.processRoutes(dn,null!==(He=bt.children)&&void 0!==He?He:bt._loadedRoutes))}return(0,v.D)($).pipe((0,En.J)())}preloadConfig(E,T){return this.preloadingStrategy.preload(T,()=>{let $;$=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(E,T):(0,F.of)(null);const G=$.pipe((0,Me.z)(J=>{var He;return null===J?(0,F.of)(void 0):(T._loadedRoutes=J.routes,T._loadedInjector=J.injector,this.processRoutes(null!==(He=J.injector)&&void 0!==He?He:E,J.routes))}));if(T.loadComponent&&!T._loadedComponent){const J=this.loader.loadComponent(T);return(0,v.D)([G,J]).pipe((0,En.J)())}return G})}}return w.\u0275fac=function(E){return new(E||w)(l.LFG(ls),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ta),l.LFG(Oo))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const _l=new l.OlP("");let $u=(()=>{class w{constructor(E,T,$,G,J={}){this.urlSerializer=E,this.transitions=T,this.viewportScroller=$,this.zone=G,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Dt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Bt&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof _i&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _i(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){var E,T;null===(E=this.routerEventsSubscription)||void 0===E||E.unsubscribe(),null===(T=this.scrollEventsSubscription)||void 0===T||T.unsubscribe()}}return w.\u0275fac=function(E){l.$Z()},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac}),w})();var Ps=(()=>((Ps=Ps||{})[Ps.COMPLETE=0]="COMPLETE",Ps[Ps.FAILED=1]="FAILED",Ps[Ps.REDIRECTING=2]="REDIRECTING",Ps))();const go=!1;function Wo(w,D){return{\u0275kind:w,\u0275providers:D}}const Ja=new l.OlP("",{providedIn:"root",factory:()=>!1});function $r(){const w=(0,l.f3M)(l.zs3);return D=>{var E,T;const $=w.get(l.z2F);if(D!==$.components[0])return;const G=w.get(ls),J=w.get(El);1===w.get(Bu)&&G.initialNavigation(),null===(E=w.get(yc,null,l.XFs.Optional))||void 0===E||E.setUpPreloading(),null===(T=w.get(_l,null,l.XFs.Optional))||void 0===T||T.init(),G.resetRootComponentType($.componentTypes[0]),J.closed||(J.next(),J.complete(),J.unsubscribe())}}const El=new l.OlP(go?"bootstrap done indicator":"",{factory:()=>new Xe.x}),Bu=new l.OlP(go?"initial navigation":"",{providedIn:"root",factory:()=>1});function Uu(){let w=[];return w=go?[{provide:l.Xts,multi:!0,useFactory:()=>{const D=(0,l.f3M)(ls);return()=>D.events.subscribe(E=>{var T,$,G,J;null===(T=($=console).group)||void 0===T||T.call($,`Router Event: ${E.constructor.name}`),console.log(function li(w){var D,E,T,$;if(!("type"in w))return`Unknown Router Event: ${w.constructor.name}`;switch(w.type){case 14:return`ActivationEnd(path: '${(null===(D=w.snapshot.routeConfig)||void 0===D?void 0:D.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(E=w.snapshot.routeConfig)||void 0===E?void 0:E.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(T=w.snapshot.routeConfig)||void 0===T?void 0:T.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===($=w.snapshot.routeConfig)||void 0===$?void 0:$.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state}, shouldActivate: ${w.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 2:return`NavigationCancel(id: ${w.id}, url: '${w.url}')`;case 16:return`NavigationSkipped(id: ${w.id}, url: '${w.url}')`;case 1:return`NavigationEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${w.id}, url: '${w.url}', error: ${w.error})`;case 0:return`NavigationStart(id: ${w.id}, url: '${w.url}')`;case 6:return`ResolveEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 5:return`ResolveStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 10:return`RouteConfigLoadEnd(path: ${w.route.path})`;case 9:return`RouteConfigLoadStart(path: ${w.route.path})`;case 4:return`RoutesRecognized(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 15:return`Scroll(anchor: '${w.anchor}', position: '${w.position?`${w.position[0]}, ${w.position[1]}`:null}')`}}(E)),console.log(E),null===(G=(J=console).groupEnd)||void 0===G||G.call(J)})}}]:[],Wo(1,w)}const yc=new l.OlP(go?"router preloader":"");function ju(w){return Wo(0,[{provide:yc,useExisting:vl},{provide:Ta,useExisting:w}])}const ci=!1,ra=new l.OlP(ci?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Aa=[je.Ye,{provide:fn,useClass:vn},ls,Ss,{provide:rs,useFactory:function Xa(w){return w.routerState.root},deps:[ls]},Oo,ci?{provide:Ja,useValue:!0}:[]];function us(){return new l.PXZ("Router",ls)}let Ko=(()=>{class w{constructor(E){}static forRoot(E,T){return{ngModule:w,providers:[Aa,ci&&null!=T&&T.enableTracing?Uu().\u0275providers:[],{provide:ys,multi:!0,useValue:E},{provide:ra,useFactory:nl,deps:[[ls,new l.FiY,new l.tp0]]},{provide:Wa,useValue:T||{}},null!=T&&T.useHash?{provide:je.S$,useClass:je.Do}:{provide:je.S$,useClass:je.b0},{provide:_l,useFactory:()=>{const w=(0,l.f3M)(je.EM),D=(0,l.f3M)(l.R0b),E=(0,l.f3M)(Wa),T=(0,l.f3M)(za),$=(0,l.f3M)(fn);return E.scrollOffset&&w.setOffset(E.scrollOffset),new $u($,T,w,D,E)}},null!=T&&T.preloadingStrategy?ju(T.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:us},null!=T&&T.initialNavigation?gd(T):[],[{provide:rl,useFactory:$r},{provide:l.tb,multi:!0,useExisting:rl}]]}}static forChild(E){return{ngModule:w,providers:[{provide:ys,multi:!0,useValue:E}]}}}return w.\u0275fac=function(E){return new(E||w)(l.LFG(ra,8))},w.\u0275mod=l.oAB({type:w}),w.\u0275inj=l.cJS({imports:[fr]}),w})();function nl(w){if(ci&&w)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gd(w){return["disabled"===w.initialNavigation?Wo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const D=(0,l.f3M)(ls);return()=>{D.setUpLocationChangeListener()}}},{provide:Bu,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Wo(2,[{provide:Bu,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:D=>{const E=D.get(je.V_,Promise.resolve());return()=>E.then(()=>new Promise(T=>{const $=D.get(ls),G=D.get(El);(function Za(w,D){w.events.pipe((0,ut.h)(E=>E instanceof Bt||E instanceof rn||E instanceof Gn||E instanceof Dn),(0,Ke.U)(E=>E instanceof Bt||E instanceof Dn?Ps.COMPLETE:E instanceof rn&&(0===E.code||1===E.code)?Ps.REDIRECTING:Ps.FAILED),(0,ut.h)(E=>E!==Ps.REDIRECTING),(0,Fe.q)(1)).subscribe(()=>{D()})})($,()=>{T(!0)}),D.get(za).afterPreactivation=()=>(T(!0),G.closed?(0,F.of)(void 0):G),$.initialNavigation()}))}}]).\u0275providers:[]]}const rl=new l.OlP(ci?"Router Initializer":"")},3942:(Ht,lt,V)=>{"use strict";V.d(lt,{Z:()=>nt});var l=V(2090),v=V(4859),F=V(9681),Ie=V(1877);class xe{constructor(De,ue){this._delegate=De,this.firebase=ue,(0,F._addComponent)(De,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(De,ue=F._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(De);return!Ze.isInitialized()&&"EXPLICIT"===(null===(Be=Ze.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:ue})}_removeServiceInstance(De,ue=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(ue)}_addComponent(De){(0,F._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,F._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function $e(){const yt=function Te(yt){const De={},ue={__esModule:!0,initializeApp:function Ve(ie,_e={}){const ze=F.initializeApp(ie,_e);if((0,l.r3)(De,ze.name))return De[ze.name];const Xe=new yt(ze,ue);return De[ze.name]=Xe,Xe},app:Ze,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function We(ie){const _e=ie.name,ze=_e.replace("-compat","");if(F._registerComponent(ie)&&"PUBLIC"===ie.type){const Xe=(je=Ze())=>{if("function"!=typeof je[ze])throw ge.create("invalid-app-argument",{appName:_e});return je[ze]()};void 0!==ie.serviceProps&&(0,l.ZB)(Xe,ie.serviceProps),ue[ze]=Xe,yt.prototype[ze]=function(...je){return this._getService.bind(this,_e).apply(this,ie.multipleInstances?je:[])}}return"PUBLIC"===ie.type?ue[ze]:null},removeApp:function Be(ie){delete De[ie]},useAsService:function Ce(ie,_e){return"serverAuth"===_e?null:_e},modularAPIs:F}};function Ze(ie){if(!(0,l.r3)(De,ie=ie||F._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:ie});return De[ie]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function Ee(){return Object.keys(De).map(ie=>De[ie])}}),Ze.App=yt,ue}(xe);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function De(ue){(0,l.ZB)(yt,ue)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),yt}(),he=new Ie.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=fe;!function ke(yt){(0,F.registerVersion)("@firebase/app-compat","0.2.5",yt)}()},9681:(Ht,lt,V)=>{"use strict";V.r(lt),V.d(lt,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>sn,_DEFAULT_ENTRY_NAME:()=>Se,_addComponent:()=>Re,_addOrOverwriteComponent:()=>ee,_apps:()=>tt,_clearComponents:()=>Xt,_components:()=>ce,_getProvider:()=>et,_registerComponent:()=>be,_removeServiceInstance:()=>gt,deleteApp:()=>wr,getApp:()=>zn,getApps:()=>yr,initializeApp:()=>Kt,onLog:()=>Nt,registerVersion:()=>hr,setLogLevel:()=>Yn});var l=V(5861),v=V(4859),F=V(1877),Ie=V(2090),xe=V(8766);class Oe{constructor(Ct){this.container=Ct}getPlatformInfoString(){return this.container.getProviders().map(Qt=>{if(function ge(kt){const Ct=kt.getComponent();return"VERSION"===(null==Ct?void 0:Ct.type)}(Qt)){const fn=Qt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Qt=>Qt).join(" ")}}const Te="@firebase/app",fe=new F.Yd("@firebase/app"),Se="[DEFAULT]",Pe={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,ce=new Map;function Re(kt,Ct){try{kt.container.addComponent(Ct)}catch(Qt){fe.debug(`Component ${Ct.name} failed to register with FirebaseApp ${kt.name}`,Qt)}}function ee(kt,Ct){kt.container.addOrOverwriteComponent(Ct)}function be(kt){const Ct=kt.name;if(ce.has(Ct))return fe.debug(`There were multiple attempts to register component ${Ct}.`),!1;ce.set(Ct,kt);for(const Qt of tt.values())Re(Qt,kt);return!0}function et(kt,Ct){const Qt=kt.container.getProvider("heartbeat").getImmediate({optional:!0});return Qt&&Qt.triggerHeartbeat(),kt.container.getProvider(Ct)}function gt(kt,Ct,Qt=Se){et(kt,Ct).clearInstance(Qt)}function Xt(){ce.clear()}const en=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class En{constructor(Ct,Qt,fn){this._isDeleted=!1,this._options=Object.assign({},Ct),this._config=Object.assign({},Qt),this._name=Qt.name,this._automaticDataCollectionEnabled=Qt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ct){this._isDeleted=Ct}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const sn="9.18.0";function Kt(kt,Ct={}){let Qt=kt;"object"!=typeof Ct&&(Ct={name:Ct});const fn=Object.assign({name:Se,automaticDataCollectionEnabled:!1},Ct),vn=fn.name;if("string"!=typeof vn||!vn)throw en.create("bad-app-name",{appName:String(vn)});if(Qt||(Qt=(0,Ie.aH)()),!Qt)throw en.create("no-options");const Rn=tt.get(vn);if(Rn){if((0,Ie.vZ)(Qt,Rn.options)&&(0,Ie.vZ)(fn,Rn.config))return Rn;throw en.create("duplicate-app",{appName:vn})}const or=new v.H0(vn);for(const ye of ce.values())or.addComponent(ye);const Ae=new En(Qt,fn,or);return tt.set(vn,Ae),Ae}function zn(kt=Se){const Ct=tt.get(kt);if(!Ct&&kt===Se)return Kt();if(!Ct)throw en.create("no-app",{appName:kt});return Ct}function yr(){return Array.from(tt.values())}function wr(kt){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(kt){const Ct=kt.name;tt.has(Ct)&&(tt.delete(Ct),yield Promise.all(kt.container.getProviders().map(Qt=>Qt.delete())),kt.isDeleted=!0)})).apply(this,arguments)}function hr(kt,Ct,Qt){var fn;let vn=null!==(fn=Pe[kt])&&void 0!==fn?fn:kt;Qt&&(vn+=`-${Qt}`);const Rn=vn.match(/\s|\//),or=Ct.match(/\s|\//);if(Rn||or){const Ae=[`Unable to register library "${vn}" with version "${Ct}":`];return Rn&&Ae.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),Rn&&or&&Ae.push("and"),or&&Ae.push(`version name "${Ct}" contains illegal characters (whitespace or "/")`),void fe.warn(Ae.join(" "))}be(new v.wA(`${vn}-version`,()=>({library:vn,version:Ct}),"VERSION"))}function Nt(kt,Ct){if(null!==kt&&"function"!=typeof kt)throw en.create("invalid-log-argument");(0,F.Am)(kt,Ct)}function Yn(kt){(0,F.Ub)(kt)}const tr="firebase-heartbeat-database",Sr=1,Br="firebase-heartbeat-store";let nr=null;function yn(){return nr||(nr=(0,xe.X3)(tr,Sr,{upgrade:(kt,Ct)=>{0===Ct&&kt.createObjectStore(Br)}}).catch(kt=>{throw en.create("idb-open",{originalErrorMessage:kt.message})})),nr}function gn(){return(gn=(0,l.Z)(function*(kt){try{return(yield yn()).transaction(Br).objectStore(Br).get(Pr(kt))}catch(Ct){if(Ct instanceof Ie.ZR)fe.warn(Ct.message);else{const Qt=en.create("idb-get",{originalErrorMessage:null==Ct?void 0:Ct.message});fe.warn(Qt.message)}}})).apply(this,arguments)}function sr(kt,Ct){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(kt,Ct){try{const fn=(yield yn()).transaction(Br,"readwrite");return yield fn.objectStore(Br).put(Ct,Pr(kt)),fn.done}catch(Qt){if(Qt instanceof Ie.ZR)fe.warn(Qt.message);else{const fn=en.create("idb-set",{originalErrorMessage:null==Qt?void 0:Qt.message});fe.warn(fn.message)}}})).apply(this,arguments)}function Pr(kt){return`${kt.name}!${kt.options.appId}`}class oi{constructor(Ct){this.container=Ct,this._heartbeatsCache=null;const Qt=this.container.getProvider("app").getImmediate();this._storage=new In(Qt),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var Ct=this;return(0,l.Z)(function*(){const fn=Ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=An();if(null===Ct._heartbeatsCache&&(Ct._heartbeatsCache=yield Ct._heartbeatsCachePromise),Ct._heartbeatsCache.lastSentHeartbeatDate!==vn&&!Ct._heartbeatsCache.heartbeats.some(Rn=>Rn.date===vn))return Ct._heartbeatsCache.heartbeats.push({date:vn,agent:fn}),Ct._heartbeatsCache.heartbeats=Ct._heartbeatsCache.heartbeats.filter(Rn=>{const or=new Date(Rn.date).valueOf();return Date.now()-or<=2592e6}),Ct._storage.overwrite(Ct._heartbeatsCache)})()}getHeartbeatsHeader(){var Ct=this;return(0,l.Z)(function*(){if(null===Ct._heartbeatsCache&&(yield Ct._heartbeatsCachePromise),null===Ct._heartbeatsCache||0===Ct._heartbeatsCache.heartbeats.length)return"";const Qt=An(),{heartbeatsToSend:fn,unsentEntries:vn}=function Zr(kt,Ct=1024){const Qt=[];let fn=kt.slice();for(const vn of kt){const Rn=Qt.find(or=>or.agent===vn.agent);if(Rn){if(Rn.dates.push(vn.date),bn(Qt)>Ct){Rn.dates.pop();break}}else if(Qt.push({agent:vn.agent,dates:[vn.date]}),bn(Qt)>Ct){Qt.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Qt,unsentEntries:fn}}(Ct._heartbeatsCache.heartbeats),Rn=(0,Ie.L)(JSON.stringify({version:2,heartbeats:fn}));return Ct._heartbeatsCache.lastSentHeartbeatDate=Qt,vn.length>0?(Ct._heartbeatsCache.heartbeats=vn,yield Ct._storage.overwrite(Ct._heartbeatsCache)):(Ct._heartbeatsCache.heartbeats=[],Ct._storage.overwrite(Ct._heartbeatsCache)),Rn})()}}function An(){return(new Date).toISOString().substring(0,10)}class In{constructor(Ct){this.app=Ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ct=this;return(0,l.Z)(function*(){return(yield Ct._canUseIndexedDBPromise)&&(yield function Jt(kt){return gn.apply(this,arguments)}(Ct.app))||{heartbeats:[]}})()}overwrite(Ct){var Qt=this;return(0,l.Z)(function*(){var fn;if(yield Qt._canUseIndexedDBPromise){const Rn=yield Qt.read();return sr(Qt.app,{lastSentHeartbeatDate:null!==(fn=Ct.lastSentHeartbeatDate)&&void 0!==fn?fn:Rn.lastSentHeartbeatDate,heartbeats:Ct.heartbeats})}})()}add(Ct){var Qt=this;return(0,l.Z)(function*(){var fn;if(yield Qt._canUseIndexedDBPromise){const Rn=yield Qt.read();return sr(Qt.app,{lastSentHeartbeatDate:null!==(fn=Ct.lastSentHeartbeatDate)&&void 0!==fn?fn:Rn.lastSentHeartbeatDate,heartbeats:[...Rn.heartbeats,...Ct.heartbeats]})}})()}}function bn(kt){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:kt})).length}!function Dr(kt){be(new v.wA("platform-logger",Ct=>new Oe(Ct),"PRIVATE")),be(new v.wA("heartbeat",Ct=>new oi(Ct),"PRIVATE")),hr(Te,"0.9.5",kt),hr(Te,"0.9.5","esm2017"),hr("fire-js","")}("")},4859:(Ht,lt,V)=>{"use strict";V.d(lt,{H0:()=>Te,wA:()=>F});var l=V(5861),v=V(2090);class F{constructor(fe,he,me){this.name=fe,this.instanceFactory=he,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const Ie="[DEFAULT]";class xe{constructor(fe,he){this.name=fe,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const he=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(he)){const me=new v.BH;if(this.instancesDeferred.set(he,me),this.isInitialized(he)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:he});Ne&&me.resolve(Ne)}catch(Ne){}}return this.instancesDeferred.get(he).promise}getImmediate(fe){var he;const me=this.normalizeInstanceIdentifier(null==fe?void 0:fe.identifier),Ne=null!==(he=null==fe?void 0:fe.optional)&&void 0!==he&&he;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(ke){if(Ne)return null;throw ke}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function ge($e){return"EAGER"===$e.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(he){}for(const[he,me]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(he);try{const ke=this.getOrInitializeService({instanceIdentifier:Ne});me.resolve(ke)}catch(ke){}}}}clearInstance(fe=Ie){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,l.Z)(function*(){const he=Array.from(fe.instances.values());yield Promise.all([...he.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...he.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=Ie){return this.instances.has(fe)}getOptions(fe=Ie){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:he={}}=fe,me=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:me,options:he});for(const[ke,nt]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(ke)&&nt.resolve(Ne);return Ne}onInit(fe,he){var me;const Ne=this.normalizeInstanceIdentifier(he),ke=null!==(me=this.onInitCallbacks.get(Ne))&&void 0!==me?me:new Set;ke.add(fe),this.onInitCallbacks.set(Ne,ke);const nt=this.instances.get(Ne);return nt&&fe(nt,Ne),()=>{ke.delete(fe)}}invokeOnInitCallbacks(fe,he){const me=this.onInitCallbacks.get(he);if(me)for(const Ne of me)try{Ne(fe,he)}catch(ke){}}getOrInitializeService({instanceIdentifier:fe,options:he={}}){let me=this.instances.get(fe);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:($e=fe,$e===Ie?void 0:$e),options:he}),this.instances.set(fe,me),this.instancesOptions.set(fe,he),this.invokeOnInitCallbacks(me,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,me)}catch(Ne){}var $e;return me||null}normalizeInstanceIdentifier(fe=Ie){return this.component?this.component.multipleInstances?fe:Ie:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const he=this.getProvider(fe.name);if(he.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);he.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const he=new xe(fe,this);return this.providers.set(fe,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Ht,lt,V)=>{"use strict";V.d(lt,{Am:()=>$e,Ub:()=>Te,Yd:()=>ge,in:()=>v});const l=[];var v=(()=>{return(fe=v||(v={}))[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",v;var fe})();const F={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},Ie=v.INFO,xe={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},Oe=(fe,he,...me)=>{if(he<fe.logLevel)return;const Ne=(new Date).toISOString(),ke=xe[he];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[ke](`[${Ne}]  ${fe.name}:`,...me)};class ge{constructor(he){this.name=he,this._logLevel=Ie,this._logHandler=Oe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in v))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?F[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...he),this._logHandler(this,v.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...he),this._logHandler(this,v.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,v.INFO,...he),this._logHandler(this,v.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,v.WARN,...he),this._logHandler(this,v.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...he),this._logHandler(this,v.ERROR,...he)}}function Te(fe){l.forEach(he=>{he.setLogLevel(fe)})}function $e(fe,he){for(const me of l){let Ne=null;he&&he.level&&(Ne=F[he.level]),me.userLogHandler=null===fe?null:(ke,nt,...yt)=>{const De=yt.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch(Be){return null}}).filter(ue=>ue).join(" ");nt>=(null!=Ne?Ne:ke.logLevel)&&fe({level:v[nt].toLowerCase(),message:De,args:yt,type:ke.name})}}}},259:(Ht,lt,V)=>{"use strict";V.d(lt,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=V(9681);(0,l.registerVersion)("firebase","9.18.0","app")},9260:(Ht,lt,V)=>{"use strict";V.d(lt,{Z:()=>l.Z});var l=V(3942);l.Z.registerVersion("firebase","9.18.0","app-compat")},9568:(Ht,lt,V)=>{"use strict";V.r(lt);var l=V(5861),v=V(3942),F=V(5114),Ie=V(2090),ge=(V(9681),V(1877),V(4859));function Te(){return window}const $e=2e3;function he(){return he=(0,l.Z)(function*(X,ne,Z){var Qe;const{BuildInfo:se}=Te();(0,F.ap)(ne.sessionId,"AuthEvent did not contain a session ID");const ve=yield function ue(X){return Be.apply(this,arguments)}(ne.sessionId),re={};return(0,F.aq)()?re.ibi=se.packageName:(0,F.ar)()?re.apn=se.packageName:(0,F.as)(X,"operation-not-supported-in-this-environment"),se.displayName&&(re.appDisplayName=se.displayName),re.sessionId=ve,(0,F.at)(X,Z,ne.type,void 0,null!==(Qe=ne.eventId)&&void 0!==Qe?Qe:void 0,re)}),he.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(X){const{BuildInfo:ne}=Te(),Z={};(0,F.aq)()?Z.iosBundleId=ne.packageName:(0,F.ar)()?Z.androidPackageName=ne.packageName:(0,F.as)(X,"operation-not-supported-in-this-environment"),yield(0,F.au)(X,Z)})).apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(X,ne,Z){const{cordova:Qe}=Te();let se=()=>{};try{yield new Promise((ve,re)=>{let Le=null;function ht(){var an;ve();const vr=null===(an=Qe.plugins.browsertab)||void 0===an?void 0:an.close;"function"==typeof vr&&vr(),"function"==typeof(null==Z?void 0:Z.close)&&Z.close()}function St(){Le||(Le=window.setTimeout(()=>{re((0,F.aw)(X,"redirect-cancelled-by-user"))},$e))}function nn(){"visible"===(null==document?void 0:document.visibilityState)&&St()}ne.addPassiveListener(ht),document.addEventListener("resume",St,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",nn,!1),se=()=>{ne.removePassiveListener(ht),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",nn,!1),Le&&window.clearTimeout(Le)}})}finally{se()}})).apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(X){const ne=function Ze(X){if((0,F.ap)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const ne=new ArrayBuffer(X.length),Z=new Uint8Array(ne);for(let Qe=0;Qe<X.length;Qe++)Z[Qe]=X.charCodeAt(Qe);return Z}(X),Z=yield crypto.subtle.digest("SHA-256",ne);return Array.from(new Uint8Array(Z)).map(se=>se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ve=20;class Ee extends F.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ne=>{this.resolveInialized=ne})}addPassiveListener(ne){this.passiveListeners.add(ne)}removePassiveListener(ne){this.passiveListeners.delete(ne)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ne){return this.resolveInialized(),this.passiveListeners.forEach(Z=>Z(ne)),super.onEvent(ne)}initialized(){var ne=this;return(0,l.Z)(function*(){yield ne.initPromise})()}}function ie(X){return _e.apply(this,arguments)}function _e(){return(_e=(0,l.Z)(function*(X){const ne=yield je()._get(Ke(X));return ne&&(yield je()._remove(Ke(X))),ne})).apply(this,arguments)}function Xe(){const X=[],ne="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Z=0;Z<Ve;Z++){const Qe=Math.floor(Math.random()*ne.length);X.push(ne.charAt(Qe))}return X.join("")}function je(){return(0,F.az)(F.b)}function Ke(X){return(0,F.aA)("authEvent",X.config.apiKey,X.name)}function at(X){if(null==X||!X.includes("?"))return{};const[ne,...Z]=X.split("?");return(0,Ie.zd)(Z.join("?"))}const Se=class Me{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(ne){var Z=this;return(0,l.Z)(function*(){const Qe=ne._key();let se=Z.eventManagers.get(Qe);return se||(se=new Ee(ne),Z.eventManagers.set(Qe,se),Z.attachCallbackListeners(ne,se)),se})()}_openPopup(ne){(0,F.as)(ne,"operation-not-supported-in-this-environment")}_openRedirect(ne,Z,Qe,se){var ve=this;return(0,l.Z)(function*(){!function De(X){var ne,Z,Qe,se,ve,re,Le,ht,St,nn;const an=Te();(0,F.ax)("function"==typeof(null===(ne=null==an?void 0:an.universalLinks)||void 0===ne?void 0:ne.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(Z=null==an?void 0:an.BuildInfo)||void 0===Z?void 0:Z.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(ve=null===(se=null===(Qe=null==an?void 0:an.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===se?void 0:se.browsertab)||void 0===ve?void 0:ve.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(ht=null===(Le=null===(re=null==an?void 0:an.cordova)||void 0===re?void 0:re.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ht?void 0:ht.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(nn=null===(St=null==an?void 0:an.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===nn?void 0:nn.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ne);const re=yield ve._initialize(ne);yield re.initialized(),re.resetRedirect(),(0,F.aD)(),yield ve._originValidation(ne);const Le=function We(X,ne,Z=null){return{type:ne,eventId:Z,urlResponse:null,sessionId:Xe(),postBody:null,tenantId:X.tenantId,error:(0,F.aw)(X,"no-auth-event")}}(ne,Qe,se);yield function Ce(X,ne){return je()._set(Ke(X),ne)}(ne,Le);const ht=yield function fe(X,ne,Z){return he.apply(this,arguments)}(ne,Le,Z),St=yield function ke(X){const{cordova:ne}=Te();return new Promise(Z=>{ne.plugins.browsertab.isAvailable(Qe=>{let se=null;Qe?ne.plugins.browsertab.openUrl(X):se=ne.InAppBrowser.open(X,(0,F.av)()?"_blank":"_system","location=yes"),Z(se)})})}(ht);return function nt(X,ne,Z){return yt.apply(this,arguments)}(ne,re,St)})()}_isIframeWebStorageSupported(ne,Z){throw new Error("Method not implemented.")}_originValidation(ne){const Z=ne._key();return this.originValidationPromises[Z]||(this.originValidationPromises[Z]=function me(X){return Ne.apply(this,arguments)}(ne)),this.originValidationPromises[Z]}attachCallbackListeners(ne,Z){const{universalLinks:Qe,handleOpenURL:se,BuildInfo:ve}=Te(),re=setTimeout((0,l.Z)(function*(){yield ie(ne),Z.onEvent(Pe())}),500),Le=function(){var nn=(0,l.Z)(function*(an){clearTimeout(re);const vr=yield ie(ne);let vi=null;vr&&null!=an&&an.url&&(vi=function ze(X,ne){var Z,Qe;const se=function Fe(X){const ne=at(X),Z=ne.link?decodeURIComponent(ne.link):void 0,Qe=at(Z).link,se=ne.deep_link_id?decodeURIComponent(ne.deep_link_id):void 0;return at(se).link||se||Qe||Z||X}(ne);if(se.includes("/__/auth/callback")){const ve=at(se),re=ve.firebaseError?function Je(X){try{return JSON.parse(X)}catch(ne){return null}}(decodeURIComponent(ve.firebaseError)):null,Le=null===(Qe=null===(Z=null==re?void 0:re.code)||void 0===Z?void 0:Z.split("auth/"))||void 0===Qe?void 0:Qe[1],ht=Le?(0,F.aw)(Le):null;return ht?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:ht,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:se,postBody:null}}return null}(vr,an.url)),Z.onEvent(vi||Pe())});return function(vr){return nn.apply(this,arguments)}}();typeof Qe<"u"&&"function"==typeof Qe.subscribe&&Qe.subscribe(null,Le);const ht=se,St=`${ve.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var nn=(0,l.Z)(function*(an){if(an.toLowerCase().startsWith(St)&&Le({url:an}),"function"==typeof ht)try{ht(an)}catch(vr){console.error(vr)}});return function(an){return nn.apply(this,arguments)}}()}};function Pe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}const ee=1e3;function be(){var X;return(null===(X=null==self?void 0:self.location)||void 0===X?void 0:X.protocol)||null}function gt(X=(0,Ie.z$)()){return!("file:"!==be()&&"ionic:"!==be()&&"capacitor:"!==be()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function sn(){try{const X=self.localStorage,ne=F.aI();if(X)return X.setItem(ne,"1"),X.removeItem(ne),!function En(X=(0,Ie.z$)()){return function vt(){return(0,Ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function en(X=(0,Ie.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,Ie.hl)()}catch(X){return Kt()&&(0,Ie.hl)()}return!1}function Kt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zn(){return(function et(){return"http:"===be()||"https:"===be()}()||(0,Ie.ru)()||gt())&&!function Xt(){return(0,Ie.b$)()||(0,Ie.UG)()}()&&sn()&&!Kt()}function yr(){return gt()&&typeof document<"u"}function xn(){return(xn=(0,l.Z)(function*(){return!!yr()&&new Promise(X=>{const ne=setTimeout(()=>{X(!1)},ee);document.addEventListener("deviceready",()=>{clearTimeout(ne),X(!0)})})})).apply(this,arguments)}const Nt={LOCAL:"local",NONE:"none",SESSION:"session"},Yn=F.ax,tr="persistence";function Br(X){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(X){yield X._initializationPromise;const ne=Jt(),Z=F.aA(tr,X.config.apiKey,X.name);ne&&ne.setItem(Z,X._getPersistence())})).apply(this,arguments)}function Jt(){var X;try{return(null===(X=function hr(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch(ne){return null}}const gn=F.ax;class sr{constructor(){this.browserResolver=F.az(F.k),this.cordovaResolver=F.az(Se),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(ne){var Z=this;return(0,l.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._initialize(ne)})()}_openPopup(ne,Z,Qe,se){var ve=this;return(0,l.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(ne,Z,Qe,se)})()}_openRedirect(ne,Z,Qe,se){var ve=this;return(0,l.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(ne,Z,Qe,se)})()}_isIframeWebStorageSupported(ne,Z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ne,Z)}_originValidation(ne){return this.assertedUnderlyingResolver._originValidation(ne)}get _shouldInitProactively(){return yr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ne=this;return(0,l.Z)(function*(){if(ne.underlyingResolver)return;const Z=yield function wr(){return xn.apply(this,arguments)}();ne.underlyingResolver=Z?ne.cordovaResolver:ne.browserResolver})()}}function cn(X){return X.unwrap()}function Rt(X){return oi(X)}function oi(X){const{_tokenResponse:ne}=X instanceof Ie.ZR?X.customData:X;if(!ne)return null;if(!(X instanceof Ie.ZR)&&"temporaryProof"in ne&&"phoneNumber"in ne)return F.P.credentialFromResult(X);const Z=ne.providerId;if(!Z||Z===F.o.PASSWORD)return null;let Qe;switch(Z){case F.o.GOOGLE:Qe=F.Q;break;case F.o.FACEBOOK:Qe=F.N;break;case F.o.GITHUB:Qe=F.T;break;case F.o.TWITTER:Qe=F.W;break;default:const{oauthIdToken:se,oauthAccessToken:ve,oauthTokenSecret:re,pendingToken:Le,nonce:ht}=ne;return ve||re||se||Le?Le?Z.startsWith("saml.")?F.aL._create(Z,Le):F.J._fromParams({providerId:Z,signInMethod:Z,pendingToken:Le,idToken:se,accessToken:ve}):new F.U(Z).credential({idToken:se,accessToken:ve,rawNonce:ht}):null}return X instanceof Ie.ZR?Qe.credentialFromError(X):Qe.credentialFromResult(X)}function An(X,ne){return ne.catch(Z=>{throw Z instanceof Ie.ZR&&function qr(X,ne){var Z;const Qe=null===(Z=ne.customData)||void 0===Z?void 0:Z._tokenResponse;if("auth/multi-factor-auth-required"===(null==ne?void 0:ne.code))ne.resolver=new bn(X,F.an(X,ne));else if(Qe){const se=oi(ne),ve=ne;se&&(ve.credential=se,ve.tenantId=Qe.tenantId||void 0,ve.email=Qe.email||void 0,ve.phoneNumber=Qe.phoneNumber||void 0)}}(X,Z),Z}).then(Z=>{const se=Z.user;return{operationType:Z.operationType,credential:Rt(Z),additionalUserInfo:F.al(Z),user:Dr.getOrCreate(se)}})}function Zr(X,ne){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(X,ne){const Z=yield ne;return{verificationId:Z.verificationId,confirm:Qe=>An(X,Z.confirm(Qe))}})).apply(this,arguments)}class bn{constructor(ne,Z){this.resolver=Z,this.auth=function Pr(X){return X.wrapped()}(ne)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ne){return An(cn(this.auth),this.resolver.resolveSignIn(ne))}}class Dr{constructor(ne){this._delegate=ne,this.multiFactor=F.ao(ne)}static getOrCreate(ne){return Dr.USER_MAP.has(ne)||Dr.USER_MAP.set(ne,new Dr(ne)),Dr.USER_MAP.get(ne)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ne){return this._delegate.getIdTokenResult(ne)}getIdToken(ne){return this._delegate.getIdToken(ne)}linkAndRetrieveDataWithCredential(ne){return this.linkWithCredential(ne)}linkWithCredential(ne){var Z=this;return(0,l.Z)(function*(){return An(Z.auth,F.Z(Z._delegate,ne))})()}linkWithPhoneNumber(ne,Z){var Qe=this;return(0,l.Z)(function*(){return Zr(Qe.auth,F.l(Qe._delegate,ne,Z))})()}linkWithPopup(ne){var Z=this;return(0,l.Z)(function*(){return An(Z.auth,F.d(Z._delegate,ne,sr))})()}linkWithRedirect(ne){var Z=this;return(0,l.Z)(function*(){return yield Br(F.aE(Z.auth)),F.g(Z._delegate,ne,sr)})()}reauthenticateAndRetrieveDataWithCredential(ne){return this.reauthenticateWithCredential(ne)}reauthenticateWithCredential(ne){var Z=this;return(0,l.Z)(function*(){return An(Z.auth,F._(Z._delegate,ne))})()}reauthenticateWithPhoneNumber(ne,Z){return Zr(this.auth,F.r(this._delegate,ne,Z))}reauthenticateWithPopup(ne){return An(this.auth,F.e(this._delegate,ne,sr))}reauthenticateWithRedirect(ne){var Z=this;return(0,l.Z)(function*(){return yield Br(F.aE(Z.auth)),F.h(Z._delegate,ne,sr)})()}sendEmailVerification(ne){return F.ab(this._delegate,ne)}unlink(ne){var Z=this;return(0,l.Z)(function*(){return yield F.ak(Z._delegate,ne),Z})()}updateEmail(ne){return F.ag(this._delegate,ne)}updatePassword(ne){return F.ah(this._delegate,ne)}updatePhoneNumber(ne){return F.u(this._delegate,ne)}updateProfile(ne){return F.af(this._delegate,ne)}verifyBeforeUpdateEmail(ne,Z){return F.ac(this._delegate,ne,Z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dr.USER_MAP=new WeakMap;const kt=F.ax;let Ct=(()=>{class X{constructor(Z,Qe){if(this.app=Z,Qe.isInitialized())return this._delegate=Qe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:se}=Z.options;kt(se,"invalid-api-key",{appName:Z.name}),kt(se,"invalid-api-key",{appName:Z.name});const ve=typeof window<"u"?sr:void 0;this._delegate=Qe.initialize({options:{persistence:fn(se,Z.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Z){this._delegate.languageCode=Z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Z){this._delegate.tenantId=Z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Z,Qe){F.G(this._delegate,Z,Qe)}applyActionCode(Z){return F.a2(this._delegate,Z)}checkActionCode(Z){return F.a3(this._delegate,Z)}confirmPasswordReset(Z,Qe){return F.a1(this._delegate,Z,Qe)}createUserWithEmailAndPassword(Z,Qe){var se=this;return(0,l.Z)(function*(){return An(se._delegate,F.a5(se._delegate,Z,Qe))})()}fetchProvidersForEmail(Z){return this.fetchSignInMethodsForEmail(Z)}fetchSignInMethodsForEmail(Z){return F.aa(this._delegate,Z)}isSignInWithEmailLink(Z){return F.a8(this._delegate,Z)}getRedirectResult(){var Z=this;return(0,l.Z)(function*(){kt(zn(),Z._delegate,"operation-not-supported-in-this-environment");const Qe=yield F.j(Z._delegate,sr);return Qe?An(Z._delegate,Promise.resolve(Qe)):{credential:null,user:null}})()}addFrameworkForLogging(Z){!function tt(X,ne){(0,F.aE)(X)._logFramework(ne)}(this._delegate,Z)}onAuthStateChanged(Z,Qe,se){const{next:ve,error:re,complete:Le}=Qt(Z,Qe,se);return this._delegate.onAuthStateChanged(ve,re,Le)}onIdTokenChanged(Z,Qe,se){const{next:ve,error:re,complete:Le}=Qt(Z,Qe,se);return this._delegate.onIdTokenChanged(ve,re,Le)}sendSignInLinkToEmail(Z,Qe){return F.a7(this._delegate,Z,Qe)}sendPasswordResetEmail(Z,Qe){return F.a0(this._delegate,Z,Qe||void 0)}setPersistence(Z){var Qe=this;return(0,l.Z)(function*(){let se;switch(function Sr(X,ne){Yn(Object.values(Nt).includes(ne),X,"invalid-persistence-type"),(0,Ie.b$)()?Yn(ne!==Nt.SESSION,X,"unsupported-persistence-type"):(0,Ie.UG)()?Yn(ne===Nt.NONE,X,"unsupported-persistence-type"):Kt()?Yn(ne===Nt.NONE||ne===Nt.LOCAL&&(0,Ie.hl)(),X,"unsupported-persistence-type"):Yn(ne===Nt.NONE||sn(),X,"unsupported-persistence-type")}(Qe._delegate,Z),Z){case Nt.SESSION:se=F.a;break;case Nt.LOCAL:se=(yield F.az(F.i)._isAvailable())?F.i:F.b;break;case Nt.NONE:se=F.L;break;default:return F.as("argument-error",{appName:Qe._delegate.name})}return Qe._delegate.setPersistence(se)})()}signInAndRetrieveDataWithCredential(Z){return this.signInWithCredential(Z)}signInAnonymously(){return An(this._delegate,F.X(this._delegate))}signInWithCredential(Z){return An(this._delegate,F.Y(this._delegate,Z))}signInWithCustomToken(Z){return An(this._delegate,F.$(this._delegate,Z))}signInWithEmailAndPassword(Z,Qe){return An(this._delegate,F.a6(this._delegate,Z,Qe))}signInWithEmailLink(Z,Qe){return An(this._delegate,F.a9(this._delegate,Z,Qe))}signInWithPhoneNumber(Z,Qe){return Zr(this._delegate,F.s(this._delegate,Z,Qe))}signInWithPopup(Z){var Qe=this;return(0,l.Z)(function*(){return kt(zn(),Qe._delegate,"operation-not-supported-in-this-environment"),An(Qe._delegate,F.c(Qe._delegate,Z,sr))})()}signInWithRedirect(Z){var Qe=this;return(0,l.Z)(function*(){return kt(zn(),Qe._delegate,"operation-not-supported-in-this-environment"),yield Br(Qe._delegate),F.f(Qe._delegate,Z,sr)})()}updateCurrentUser(Z){return this._delegate.updateCurrentUser(Z)}verifyPasswordResetCode(Z){return F.a4(this._delegate,Z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=Nt,X})();function Qt(X,ne,Z){let Qe=X;"function"!=typeof X&&({next:Qe,error:ne,complete:Z}=X);const se=Qe;return{next:re=>se(re&&Dr.getOrCreate(re)),error:ne,complete:Z}}function fn(X,ne){const Z=function yn(X,ne){const Z=Jt();if(!Z)return[];const Qe=F.aA(tr,X,ne);switch(Z.getItem(Qe)){case Nt.NONE:return[F.L];case Nt.LOCAL:return[F.i,F.a];case Nt.SESSION:return[F.a];default:return[]}}(X,ne);if(typeof self<"u"&&!Z.includes(F.i)&&Z.push(F.i),typeof window<"u")for(const Qe of[F.b,F.a])Z.includes(Qe)||Z.push(Qe);return Z.includes(F.L)||Z.push(F.L),Z}class vn{constructor(){this.providerId="phone",this._delegate=new F.P(cn(v.Z.auth()))}static credential(ne,Z){return F.P.credential(ne,Z)}verifyPhoneNumber(ne,Z){return this._delegate.verifyPhoneNumber(ne,Z)}unwrap(){return this._delegate}}vn.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,vn.PROVIDER_ID=F.P.PROVIDER_ID;const Rn=F.ax;class or{constructor(ne,Z,Qe=v.Z.app()){var se;Rn(null===(se=Qe.options)||void 0===se?void 0:se.apiKey,"invalid-api-key",{appName:Qe.name}),this._delegate=new F.R(ne,Z,Qe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ye(X){X.INTERNAL.registerComponent(new ge.wA("auth-compat",ne=>{const Z=ne.getProvider("app-compat").getImmediate(),Qe=ne.getProvider("auth");return new Ct(Z,Qe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:vn,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:or,TwitterAuthProvider:F.W,Auth:Ct,AuthCredential:F.H,Error:Ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.3.5")}(v.Z)},8766:(Ht,lt,V)=>{"use strict";V.d(lt,{Lj:()=>Ve,X3:()=>Ze});var l=V(5861);const v=(_e,ze)=>ze.some(Xe=>_e instanceof Xe);let F,Ie;const ge=new WeakMap,Te=new WeakMap,$e=new WeakMap,fe=new WeakMap,he=new WeakMap;let ke={get(_e,ze,Xe){if(_e instanceof IDBTransaction){if("done"===ze)return Te.get(_e);if("objectStoreNames"===ze)return _e.objectStoreNames||$e.get(_e);if("store"===ze)return Xe.objectStoreNames[1]?void 0:Xe.objectStore(Xe.objectStoreNames[0])}return ue(_e[ze])},set:(_e,ze,Xe)=>(_e[ze]=Xe,!0),has:(_e,ze)=>_e instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in _e};function De(_e){return"function"==typeof _e?function yt(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...ze){return _e.apply(Be(this),ze),ue(ge.get(this))}:function(...ze){return ue(_e.apply(Be(this),ze))}:function(ze,...Xe){const je=_e.call(Be(this),ze,...Xe);return $e.set(je,ze.sort?ze.sort():[ze]),ue(je)}}(_e):(_e instanceof IDBTransaction&&function Ne(_e){if(Te.has(_e))return;const ze=new Promise((Xe,je)=>{const Ke=()=>{_e.removeEventListener("complete",Je),_e.removeEventListener("error",Fe),_e.removeEventListener("abort",Fe)},Je=()=>{Xe(),Ke()},Fe=()=>{je(_e.error||new DOMException("AbortError","AbortError")),Ke()};_e.addEventListener("complete",Je),_e.addEventListener("error",Fe),_e.addEventListener("abort",Fe)});Te.set(_e,ze)}(_e),v(_e,function xe(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,ke):_e)}function ue(_e){if(_e instanceof IDBRequest)return function me(_e){const ze=new Promise((Xe,je)=>{const Ke=()=>{_e.removeEventListener("success",Je),_e.removeEventListener("error",Fe)},Je=()=>{Xe(ue(_e.result)),Ke()},Fe=()=>{je(_e.error),Ke()};_e.addEventListener("success",Je),_e.addEventListener("error",Fe)});return ze.then(Xe=>{Xe instanceof IDBCursor&&ge.set(Xe,_e)}).catch(()=>{}),he.set(ze,_e),ze}(_e);if(fe.has(_e))return fe.get(_e);const ze=De(_e);return ze!==_e&&(fe.set(_e,ze),he.set(ze,_e)),ze}const Be=_e=>he.get(_e);function Ze(_e,ze,{blocked:Xe,upgrade:je,blocking:Ke,terminated:Je}={}){const Fe=indexedDB.open(_e,ze),at=ue(Fe);return je&&Fe.addEventListener("upgradeneeded",ut=>{je(ue(Fe.result),ut.oldVersion,ut.newVersion,ue(Fe.transaction))}),Xe&&Fe.addEventListener("blocked",()=>Xe()),at.then(ut=>{Je&&ut.addEventListener("close",()=>Je()),Ke&&ut.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),at}function Ve(_e,{blocked:ze}={}){const Xe=indexedDB.deleteDatabase(_e);return ze&&Xe.addEventListener("blocked",()=>ze()),ue(Xe).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],Ce=new Map;function ie(_e,ze){if(!(_e instanceof IDBDatabase)||ze in _e||"string"!=typeof ze)return;if(Ce.get(ze))return Ce.get(ze);const Xe=ze.replace(/FromIndex$/,""),je=ze!==Xe,Ke=We.includes(Xe);if(!(Xe in(je?IDBIndex:IDBObjectStore).prototype)||!Ke&&!Ee.includes(Xe))return;const Je=function(){var Fe=(0,l.Z)(function*(at,...ut){const Me=this.transaction(at,Ke?"readwrite":"readonly");let Se=Me.store;return je&&(Se=Se.index(ut.shift())),(yield Promise.all([Se[Xe](...ut),Ke&&Me.done]))[0]});return function(ut){return Fe.apply(this,arguments)}}();return Ce.set(ze,Je),Je}!function nt(_e){ke=_e(ke)}(_e=>({..._e,get:(ze,Xe,je)=>ie(ze,Xe)||_e.get(ze,Xe,je),has:(ze,Xe)=>!!ie(ze,Xe)||_e.has(ze,Xe)}))},7185:(Ht,lt,V)=>{"use strict";V.d(lt,{Rh:()=>ut,_W:()=>Je});var l=V(4650),v=V(7340),F=V(7579),Ie=V(6895),xe=V(1481);const Oe=["toast-component",""];function ge(ce,Re){if(1&ce){const ee=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(ee);const et=l.oxw();return l.KtG(et.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function Te(ce,Re){if(1&ce&&(l.ynx(0),l._uU(1),l.BQk()),2&ce){const ee=l.oxw(2);l.xp6(1),l.hij("[",ee.duplicatesCount+1,"]")}}function $e(ce,Re){if(1&ce&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,Te,2,1,"ng-container",4),l.qZA()),2&ce){const ee=l.oxw();l.Tol(ee.options.titleClass),l.uIk("aria-label",ee.title),l.xp6(1),l.hij(" ",ee.title," "),l.xp6(1),l.Q6J("ngIf",ee.duplicatesCount)}}function fe(ce,Re){if(1&ce&&l._UZ(0,"div",7),2&ce){const ee=l.oxw();l.Tol(ee.options.messageClass),l.Q6J("innerHTML",ee.message,l.oJD)}}function he(ce,Re){if(1&ce&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&ce){const ee=l.oxw();l.Tol(ee.options.messageClass),l.uIk("aria-label",ee.message),l.xp6(1),l.hij(" ",ee.message," ")}}function me(ce,Re){if(1&ce&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&ce){const ee=l.oxw();l.xp6(1),l.Udp("width",ee.width+"%")}}class Ve{constructor(Re,ee){this.component=Re,this.injector=ee}attach(Re,ee){return this._attachedHost=Re,Re.attach(this,ee)}detach(){const Re=this._attachedHost;if(Re)return this._attachedHost=void 0,Re.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Re){this._attachedHost=Re}}class Ee{attach(Re,ee){return this._attachedPortal=Re,this.attachComponentPortal(Re,ee)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Re){this._disposeFn=Re}}class We{constructor(Re){this._overlayRef=Re,this.duplicatesCount=0,this._afterClosed=new F.x,this._activate=new F.x,this._manualClose=new F.x,this._resetTimeout=new F.x,this._countDuplicate=new F.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Re,ee){Re&&this._resetTimeout.next(),ee&&this._countDuplicate.next(++this.duplicatesCount)}}class Ce{constructor(Re,ee,be,et,gt,Xt){this.toastId=Re,this.config=ee,this.message=be,this.title=et,this.toastType=gt,this.toastRef=Xt,this._onTap=new F.x,this._onAction=new F.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Re){this._onAction.next(Re)}onAction(){return this._onAction.asObservable()}}const _e=new l.OlP("ToastConfig");class ze extends Ee{constructor(Re,ee,be){super(),this._hostDomElement=Re,this._componentFactoryResolver=ee,this._appRef=be}attachComponentPortal(Re,ee){const be=this._componentFactoryResolver.resolveComponentFactory(Re.component);let et;return et=be.create(Re.injector),this._appRef.attachView(et.hostView),this.setDisposeFn(()=>{this._appRef.detachView(et.hostView),et.destroy()}),ee?this._hostDomElement.insertBefore(this._getComponentRootNode(et),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(et)),et}_getComponentRootNode(Re){return Re.hostView.rootNodes[0]}}class Xe{constructor(Re){this._portalHost=Re}attach(Re,ee=!0){return this._portalHost.attach(Re,ee)}detach(){return this._portalHost.detach()}}let je=(()=>{class ce{constructor(ee){this._document=ee}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ee=this._document.createElement("div");ee.classList.add("overlay-container"),ee.setAttribute("aria-live","polite"),this._document.body.appendChild(ee),this._containerElement=ee}}return ce.\u0275fac=function(ee){return new(ee||ce)(l.LFG(Ie.K0))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),Ke=(()=>{class ce{constructor(ee,be,et,gt){this._overlayContainer=ee,this._componentFactoryResolver=be,this._appRef=et,this._document=gt,this._paneElements=new Map}create(ee,be){return this._createOverlayRef(this.getPaneElement(ee,be))}getPaneElement(ee="",be){return this._paneElements.get(be)||this._paneElements.set(be,{}),this._paneElements.get(be)[ee]||(this._paneElements.get(be)[ee]=this._createPaneElement(ee,be)),this._paneElements.get(be)[ee]}_createPaneElement(ee,be){const et=this._document.createElement("div");return et.id="toast-container",et.classList.add(ee),et.classList.add("toast-container"),be?be.getContainerElement().appendChild(et):this._overlayContainer.getContainerElement().appendChild(et),et}_createPortalHost(ee){return new ze(ee,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ee){return new Xe(this._createPortalHost(ee))}}return ce.\u0275fac=function(ee){return new(ee||ce)(l.LFG(je),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(Ie.K0))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),Je=(()=>{class ce{constructor(ee,be,et,gt,Xt){this.overlay=be,this._injector=et,this.sanitizer=gt,this.ngZone=Xt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...ee.default,...ee.config},ee.config.iconClasses&&(this.toastrConfig.iconClasses={...ee.default.iconClasses,...ee.config.iconClasses})}show(ee,be,et={},gt=""){return this._preBuildNotification(gt,ee,be,this.applyConfig(et))}success(ee,be,et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ee,be,this.applyConfig(et))}error(ee,be,et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ee,be,this.applyConfig(et))}info(ee,be,et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ee,be,this.applyConfig(et))}warning(ee,be,et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ee,be,this.applyConfig(et))}clear(ee){for(const be of this.toasts)if(void 0!==ee){if(be.toastId===ee)return void be.toastRef.manualClose()}else be.toastRef.manualClose()}remove(ee){const be=this._findToast(ee);if(!be||(be.activeToast.toastRef.close(),this.toasts.splice(be.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const et=this.toasts[this.currentlyActive].toastRef;et.isInactive()||(this.currentlyActive=this.currentlyActive+1,et.activate())}return!0}findDuplicate(ee="",be="",et,gt){const{includeTitleDuplicates:Xt}=this.toastrConfig;for(const vt of this.toasts)if((!Xt||Xt&&vt.title===ee)&&vt.message===be)return vt.toastRef.onDuplicate(et,gt),vt;return null}applyConfig(ee={}){return{...this.toastrConfig,...ee}}_findToast(ee){for(let be=0;be<this.toasts.length;be++)if(this.toasts[be].toastId===ee)return{index:be,activeToast:this.toasts[be]};return null}_preBuildNotification(ee,be,et,gt){return gt.onActivateTick?this.ngZone.run(()=>this._buildNotification(ee,be,et,gt)):this._buildNotification(ee,be,et,gt)}_buildNotification(ee,be,et,gt){if(!gt.toastComponent)throw new Error("toastComponent required");const Xt=this.findDuplicate(et,be,this.toastrConfig.resetTimeoutOnDuplicate&&gt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&et||be)&&this.toastrConfig.preventDuplicates&&null!==Xt)return Xt;this.previousToastMessage=be;let vt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(vt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const en=this.overlay.create(gt.positionClass,this.overlayContainer);this.index=this.index+1;let En=be;be&&gt.enableHtml&&(En=this.sanitizer.sanitize(l.q3G.HTML,be));const sn=new We(en),Kt=new Ce(this.index,gt,En,et,ee,sn),yr=l.zs3.create({providers:[{provide:Ce,useValue:Kt}],parent:this._injector}),wr=new Ve(gt.toastComponent,yr),xn=en.attach(wr,gt.newestOnTop);sn.componentInstance=xn.instance;const hr={toastId:this.index,title:et||"",message:be||"",toastRef:sn,onShown:sn.afterActivate(),onHidden:sn.afterClosed(),onTap:Kt.onTap(),onAction:Kt.onAction(),portal:xn};return vt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{hr.toastRef.activate()})),this.toasts.push(hr),hr}}return ce.\u0275fac=function(ee){return new(ee||ce)(l.LFG(_e),l.LFG(Ke),l.LFG(l.zs3),l.LFG(xe.H7),l.LFG(l.R0b))},ce.\u0275prov=l.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();const at={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class ce{constructor(ee,be,et){this.toastrService=ee,this.toastPackage=be,this.ngZone=et,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=be.message,this.title=be.title,this.options=be.config,this.originalTimeout=be.config.timeOut,this.toastClasses=`${be.toastType} ${be.config.toastClass}`,this.sub=be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=be.toastRef.countDuplicate().subscribe(gt=>{this.duplicatesCount=gt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const ee=(new Date).getTime();this.width=(this.hideTime-ee)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ee,be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ee),be)):this.timeout=setTimeout(()=>ee(),be)}outsideInterval(ee,be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ee),be)):this.intervalId=setInterval(()=>ee(),be)}runInsideAngular(ee){this.ngZone?this.ngZone.run(()=>ee()):ee()}}return ce.\u0275fac=function(ee){return new(ee||ce)(l.Y36(Je),l.Y36(Ce),l.Y36(l.R0b))},ce.\u0275cmp=l.Xpm({type:ce,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ee,be){1&ee&&l.NdJ("click",function(){return be.tapToast()})("mouseenter",function(){return be.stickAround()})("mouseleave",function(){return be.delayedHideToast()}),2&ee&&(l.d8E("@flyInOut",be.state),l.Tol(be.toastClasses),l.Udp("display",be.displayStyle))},attrs:Oe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ee,be){1&ee&&(l.YNc(0,ge,3,0,"button",0),l.YNc(1,$e,3,5,"div",1),l.YNc(2,fe,1,3,"div",2),l.YNc(3,he,2,4,"div",3),l.YNc(4,me,2,2,"div",4)),2&ee&&(l.Q6J("ngIf",be.options.closeButton),l.xp6(1),l.Q6J("ngIf",be.title),l.xp6(1),l.Q6J("ngIf",be.message&&be.options.enableHtml),l.xp6(1),l.Q6J("ngIf",be.message&&!be.options.enableHtml),l.xp6(1),l.Q6J("ngIf",be.options.progressBar))},dependencies:[Ie.O5],encapsulation:2,data:{animation:[(0,v.X$)("flyInOut",[(0,v.SB)("inactive",(0,v.oB)({opacity:0})),(0,v.SB)("active",(0,v.oB)({opacity:1})),(0,v.SB)("removed",(0,v.oB)({opacity:0})),(0,v.eR)("inactive => active",(0,v.jt)("{{ easeTime }}ms {{ easing }}")),(0,v.eR)("active => removed",(0,v.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ce})()};let ut=(()=>{class ce{static forRoot(ee={}){return{ngModule:ce,providers:[{provide:_e,useValue:{default:at,config:ee}}]}}}return ce.\u0275fac=function(ee){return new(ee||ce)},ce.\u0275mod=l.oAB({type:ce}),ce.\u0275inj=l.cJS({imports:[Ie.ez]}),ce})()},5861:(Ht,lt,V)=>{"use strict";function l(F,Ie,xe,Oe,ge,Te,$e){try{var fe=F[Te]($e),he=fe.value}catch(me){return void xe(me)}fe.done?Ie(he):Promise.resolve(he).then(Oe,ge)}function v(F){return function(){var Ie=this,xe=arguments;return new Promise(function(Oe,ge){var Te=F.apply(Ie,xe);function $e(he){l(Te,Oe,ge,$e,fe,"next",he)}function fe(he){l(Te,Oe,ge,$e,fe,"throw",he)}$e(void 0)})}}V.d(lt,{Z:()=>v})}},Ht=>{Ht(Ht.s=6095)}]);