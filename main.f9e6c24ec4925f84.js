(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2011:(jt,at,V)=>{"use strict";V.d(at,{Dh:()=>Oe,GT:()=>Le,cc:()=>Be,hO:()=>Fe,on:()=>ye,pX:()=>Ne,xv:()=>Ue});var l=V(4650),v=V(9260),F=V(2122);jt=V.hmd(jt);const Ce=["ngOnDestroy"],Ne=(pe,je,et,ze={})=>new Proxy(pe,{get:(Se,Ke)=>et.runOutsideAngular(()=>{var Re;if(pe[Ke])return!(null===(Re=null==ze?void 0:ze.spy)||void 0===Re)&&Re.get&&ze.spy.get(Ke,pe[Ke]),pe[Ke];if(Ce.indexOf(Ke)>-1)return()=>{};const ie=je.toPromise().then(be=>{const We=be&&be[Ke];return"function"==typeof We?We.bind(be):We&&We.then?We.then(rt=>et.run(()=>rt)):et.run(()=>We)});return new Proxy(()=>{},{get:(be,We)=>ie[We],apply:(be,We,rt)=>ie.then(Ge=>{var Qe;const Pe=Ge&&Ge(...rt);return!(null===(Qe=null==ze?void 0:ze.spy)||void 0===Qe)&&Qe.apply&&ze.spy.apply(Ke,rt,Pe),Pe})})})}),Le=(pe,je)=>{je.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(ze=>{Object.defineProperty(pe.prototype,ze,Object.getOwnPropertyDescriptor(et.prototype||et,ze))})})};class ve{constructor(je){return je}}const Oe=new l.OlP("angularfire2.app.options"),Ue=new l.OlP("angularfire2.app.name");function ye(pe,je,et){const Se="object"==typeof et&&et||{};Se.name=Se.name||"string"==typeof et&&et||"[DEFAULT]";const Re=v.Z.apps.filter(ie=>ie&&ie.name===Se.name)[0]||je.runOutsideAngular(()=>v.Z.initializeApp(pe,Se));try{JSON.stringify(pe)!==JSON.stringify(Re.options)&&me("error",`${Re.name} Firebase App already initialized with different options${jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ie){}return new ve(Re)}const me=(pe,...je)=>{(0,l.X6Q)()&&typeof console<"u"&&console[pe](...je)},_e={provide:ve,useFactory:ye,deps:[Oe,l.R0b,[new l.FiY,Ue]]};let Fe=(()=>{class pe{constructor(et){v.Z.registerVersion("angularfire",F.q4.full,"core"),v.Z.registerVersion("angularfire",F.q4.full,"app-compat"),v.Z.registerVersion("angular",l.q4F.full,et.toString())}static initializeApp(et,ze){return{ngModule:pe,providers:[{provide:Oe,useValue:et},{provide:Ue,useValue:ze}]}}}return pe.\u0275fac=function(et){return new(et||pe)(l.LFG(l.Lbi))},pe.\u0275mod=l.oAB({type:pe}),pe.\u0275inj=l.cJS({providers:[_e]}),pe})();function Be(pe,je,et,ze,Se){const[,Ke,Re]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===pe)||[];if(Ke)return function it(pe,je){try{return pe.toString()===je.toString()}catch(et){return pe===je}}(Se,Re)||(Me("error",`${je} was already initialized on the ${et} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:Se,was:Re})),Ke;{const ie=ze();return globalThis.\u0275AngularfireInstanceCache.push([pe,ie,Se]),ie}}const mt=!!jt.hot,Me=(pe,...je)=>{(0,l.X6Q)()&&typeof console<"u"&&console[pe](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(jt,at,V)=>{"use strict";V.d(at,{q4:()=>nl,iC:()=>Xt,HU:()=>L,vb:()=>I,JM:()=>go,u3:()=>ii});var l=V(4650),v=V(259),F=V(5861),Ce=V(9681),Ne=V(2090),Le=V(4859),ve=V(1877),Oe=V(8766);const Ue="@firebase/installations",ye="0.6.4",me=1e4,_e=`w:${ye}`,Fe="FIS_v2",Be="https://firebaseinstallations.googleapis.com/v1",it=36e5,je=new Ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(k){return k instanceof Ne.ZR&&k.code.includes("request-failed")}function ze({projectId:k}){return`${Be}/projects/${k}/installations`}function Se(k){return{token:k.token,requestStatus:2,expiresIn:Ge(k.expiresIn),creationTime:Date.now()}}function Ke(k,B){return Re.apply(this,arguments)}function Re(){return(Re=(0,F.Z)(function*(k,B){const xe=(yield B.json()).error;return je.create("request-failed",{requestName:k,serverCode:xe.code,serverMessage:xe.message,serverStatus:xe.status})})).apply(this,arguments)}function ie({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function We(k){return rt.apply(this,arguments)}function rt(){return(rt=(0,F.Z)(function*(k){const B=yield k();return B.status>=500&&B.status<600?k():B})).apply(this,arguments)}function Ge(k){return Number(k.replace("s","000"))}function ne(){return(ne=(0,F.Z)(function*({appConfig:k,heartbeatServiceProvider:B},{fid:K}){const xe=ze(k),st=ie(k),yt=B.getImmediate({optional:!0});if(yt){const xn=yield yt.getHeartbeatsHeader();xn&&st.append("x-firebase-client",xn)}const En={method:"POST",headers:st,body:JSON.stringify({fid:K,authVersion:Fe,appId:k.appId,sdkVersion:_e})},On=yield We(()=>fetch(xe,En));if(On.ok){const xn=yield On.json();return{fid:xn.fid||K,registrationStatus:2,refreshToken:xn.refreshToken,authToken:Se(xn.authToken)}}throw yield Ke("Create Installation",On)})).apply(this,arguments)}function De(k){return new Promise(B=>{setTimeout(B,k)})}const he=/^[cdef][\w-]{21}$/,ue="";function Ae(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const K=function $e(k){return function Ve(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return he.test(K)?K:ue}catch(k){return ue}}function le(k){return`${k.appName}!${k.appId}`}const Te=new Map;function X(k,B){const K=le(k);gt(K,B),function en(k,B){const K=function tn(){return!vt&&"BroadcastChannel"in self&&(vt=new BroadcastChannel("[Firebase] FID Change"),vt.onmessage=k=>{gt(k.data.key,k.data.fid)}),vt}();K&&K.postMessage({key:k,fid:B}),function In(){0===Te.size&&vt&&(vt.close(),vt=null)}()}(K,B)}function gt(k,B){const K=Te.get(k);if(K)for(const xe of K)xe(B)}let vt=null;const rn="firebase-installations-database",zt=1,jn="firebase-installations-store";let fr=null;function vr(){return fr||(fr=(0,Oe.X3)(rn,zt,{upgrade:(k,B)=>{0===B&&k.createObjectStore(jn)}})),fr}function on(k,B){return An.apply(this,arguments)}function An(){return(An=(0,F.Z)(function*(k,B){const K=le(k),st=(yield vr()).transaction(jn,"readwrite"),yt=st.objectStore(jn),kt=yield yt.get(K);return yield yt.put(B,K),yield st.done,(!kt||kt.fid!==B.fid)&&X(k,B.fid),B})).apply(this,arguments)}function Ot(k){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,F.Z)(function*(k){const B=le(k),xe=(yield vr()).transaction(jn,"readwrite");yield xe.objectStore(jn).delete(B),yield xe.done})).apply(this,arguments)}function Yn(k,B){return er.apply(this,arguments)}function er(){return(er=(0,F.Z)(function*(k,B){const K=le(k),st=(yield vr()).transaction(jn,"readwrite"),yt=st.objectStore(jn),kt=yield yt.get(K),En=B(kt);return void 0===En?yield yt.delete(K):yield yt.put(En,K),yield st.done,En&&(!kt||kt.fid!==En.fid)&&X(k,En.fid),En})).apply(this,arguments)}function Br(k){return tr.apply(this,arguments)}function tr(){return tr=(0,F.Z)(function*(k){let B;const K=yield Yn(k.appConfig,xe=>{const st=function pn(k){return _r(k||{fid:Ae(),registrationStatus:0})}(xe),yt=function Jt(k,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(je.create("app-offline"))};const K={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},xe=function dn(k,B){return ir.apply(this,arguments)}(k,K);return{installationEntry:K,registrationPromise:xe}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:an(k)}:{installationEntry:B}}(k,st);return B=yt.registrationPromise,yt.installationEntry});return K.fid===ue?{installationEntry:yield B}:{installationEntry:K,registrationPromise:B}}),tr.apply(this,arguments)}function ir(){return ir=(0,F.Z)(function*(k,B){try{const K=yield function Pe(k,B){return ne.apply(this,arguments)}(k,B);return on(k.appConfig,K)}catch(K){throw et(K)&&409===K.customData.serverCode?yield Ot(k.appConfig):yield on(k.appConfig,{fid:B.fid,registrationStatus:0}),K}}),ir.apply(this,arguments)}function an(k){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,F.Z)(function*(k){let B=yield St(k.appConfig);for(;1===B.registrationStatus;)yield De(100),B=yield St(k.appConfig);if(0===B.registrationStatus){const{installationEntry:K,registrationPromise:xe}=yield Br(k);return xe||K}return B})).apply(this,arguments)}function St(k){return Yn(k,B=>{if(!B)throw je.create("installation-not-found");return _r(B)})}function _r(k){return function Lr(k){return 1===k.registrationStatus&&k.registrationTime+me<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Er(){return(Er=(0,F.Z)(function*({appConfig:k,heartbeatServiceProvider:B},K){const xe=function vn(k,{fid:B}){return`${ze(k)}/${B}/authTokens:generate`}(k,K),st=function be(k,{refreshToken:B}){const K=ie(k);return K.append("Authorization",function Qe(k){return`${Fe} ${k}`}(B)),K}(k,K),yt=B.getImmediate({optional:!0});if(yt){const xn=yield yt.getHeartbeatsHeader();xn&&st.append("x-firebase-client",xn)}const En={method:"POST",headers:st,body:JSON.stringify({installation:{sdkVersion:_e,appId:k.appId}})},On=yield We(()=>fetch(xe,En));if(On.ok)return Se(yield On.json());throw yield Ke("Generate Auth Token",On)})).apply(this,arguments)}function _n(k){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,F.Z)(function*(k,B=!1){let K;const xe=yield Yn(k.appConfig,yt=>{if(!kn(yt))throw je.create("not-registered");const kt=yt.authToken;if(!B&&function ur(k){return 2===k.requestStatus&&!function ke(k){const B=Date.now();return B<k.creationTime||k.creationTime+k.expiresIn<B+it}(k)}(kt))return yt;if(1===kt.requestStatus)return K=function Nt(k,B){return Ct.apply(this,arguments)}(k,B),yt;{if(!navigator.onLine)throw je.create("app-offline");const En=function Ee(k){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:B})}(yt);return K=function mn(k,B){return bn.apply(this,arguments)}(k,En),En}});return K?yield K:xe.authToken}),Sr.apply(this,arguments)}function Ct(){return(Ct=(0,F.Z)(function*(k,B){let K=yield Zt(k.appConfig);for(;1===K.authToken.requestStatus;)yield De(100),K=yield Zt(k.appConfig);const xe=K.authToken;return 0===xe.requestStatus?_n(k,B):xe})).apply(this,arguments)}function Zt(k){return Yn(k,B=>{if(!kn(B))throw je.create("not-registered");return function ee(k){return 1===k.requestStatus&&k.requestTime+me<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function bn(){return bn=(0,F.Z)(function*(k,B){try{const K=yield function Dn(k,B){return Er.apply(this,arguments)}(k,B),xe=Object.assign(Object.assign({},B),{authToken:K});return yield on(k.appConfig,xe),K}catch(K){if(!et(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const xe=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield on(k.appConfig,xe)}else yield Ot(k.appConfig);throw K}}),bn.apply(this,arguments)}function kn(k){return void 0!==k&&2===k.registrationStatus}function Y(){return(Y=(0,F.Z)(function*(k){const B=k,{installationEntry:K,registrationPromise:xe}=yield Br(B);return xe?xe.catch(console.error):_n(B).catch(console.error),K.fid})).apply(this,arguments)}function oe(){return oe=(0,F.Z)(function*(k,B=!1){const K=k;return yield function we(k){return se.apply(this,arguments)}(K),(yield _n(K,B)).token}),oe.apply(this,arguments)}function se(){return(se=(0,F.Z)(function*(k){const{registrationPromise:B}=yield Br(k);B&&(yield B)})).apply(this,arguments)}function jr(k){return je.create("missing-app-config-values",{valueName:k})}const Hr="installations",ei=k=>{const B=k.getProvider("app").getImmediate(),K=function wi(k){if(!k||!k.options)throw jr("App Configuration");if(!k.name)throw jr("App Name");const B=["projectId","apiKey","appId"];for(const K of B)if(!k.options[K])throw jr(K);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(B);return{app:B,appConfig:K,heartbeatServiceProvider:(0,Ce._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},cs=k=>{const B=k.getProvider("app").getImmediate(),K=(0,Ce._getProvider)(B,Hr).getImmediate();return{getId:()=>function re(k){return Y.apply(this,arguments)}(K),getToken:st=>function nt(k){return oe.apply(this,arguments)}(K,st)}};(function Fi(){(0,Ce._registerComponent)(new Le.wA(Hr,ei,"PUBLIC")),(0,Ce._registerComponent)(new Le.wA("installations-internal",cs,"PRIVATE"))})(),(0,Ce.registerVersion)(Ue,ye),(0,Ce.registerVersion)(Ue,ye,"esm2017");const zn="@firebase/remote-config",kr=new Ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ln{constructor(B,K,xe,st){this.client=B,this.storage=K,this.storageCache=xe,this.logger=st}isCachedDataFresh(B,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const xe=Date.now()-K,st=xe<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${xe}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${st}.`),st}fetch(B){var K=this;return(0,F.Z)(function*(){const[xe,st]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(st&&K.isCachedDataFresh(B.cacheMaxAgeMillis,xe))return st;B.eTag=st&&st.eTag;const yt=yield K.client.fetch(B),kt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===yt.status&&kt.push(K.storage.setLastSuccessfulFetchResponse(yt)),yield Promise.all(kt),yt})()}}function Mn(k=navigator){return k.languages&&k.languages[0]||k.language}class Zn{constructor(B,K,xe,st,yt,kt){this.firebaseInstallations=B,this.sdkVersion=K,this.namespace=xe,this.projectId=st,this.apiKey=yt,this.appId=kt}fetch(B){var K=this;return(0,F.Z)(function*(){const[xe,st]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,En={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},On={sdk_version:K.sdkVersion,app_instance_id:xe,app_instance_id_token:st,app_id:K.appId,language_code:Mn()},xn={method:"POST",headers:En,body:JSON.stringify(On)},gr=fetch(kt,xn),ar=new Promise((yo,il)=>{B.signal.addEventListener(()=>{const Na=new Error("The operation was aborted.");Na.name="AbortError",il(Na)})});let mo;try{yield Promise.race([gr,ar]),mo=yield gr}catch(yo){let il="fetch-client-network";throw"AbortError"===(null==yo?void 0:yo.name)&&(il="fetch-timeout"),kr.create(il,{originalErrorMessage:null==yo?void 0:yo.message})}let ki=mo.status;const wl=mo.headers.get("ETag")||void 0;let gc,Il;if(200===mo.status){let yo;try{yo=yield mo.json()}catch(il){throw kr.create("fetch-client-parse",{originalErrorMessage:null==il?void 0:il.message})}gc=yo.entries,Il=yo.state}if("INSTANCE_STATE_UNSPECIFIED"===Il?ki=500:"NO_CHANGE"===Il?ki=304:("NO_TEMPLATE"===Il||"EMPTY_CONFIG"===Il)&&(gc={}),304!==ki&&200!==ki)throw kr.create("fetch-status",{httpStatus:ki});return{status:ki,eTag:wl,config:gc}})()}}class Sn{constructor(B,K){this.client=B,this.storage=K}fetch(B){var K=this;return(0,F.Z)(function*(){const xe=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(B,xe)})()}attemptFetch(B,{throttleEndTimeMillis:K,backoffCount:xe}){var st=this;return(0,F.Z)(function*(){yield function fi(k,B){return new Promise((K,xe)=>{const st=Math.max(B-Date.now(),0),yt=setTimeout(K,st);k.addEventListener(()=>{clearTimeout(yt),xe(kr.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,K);try{const yt=yield st.client.fetch(B);return yield st.storage.deleteThrottleMetadata(),yt}catch(yt){if(!function xi(k){if(!(k instanceof Ne.ZR&&k.customData))return!1;const B=Number(k.customData.httpStatus);return 429===B||500===B||503===B||504===B}(yt))throw yt;const kt={throttleEndTimeMillis:Date.now()+(0,Ne.$s)(xe),backoffCount:xe+1};return yield st.storage.setThrottleMetadata(kt),st.attemptFetch(B,kt)}})()}}class ns{constructor(B,K,xe,st,yt){this.app=B,this._client=K,this._storageCache=xe,this._storage=st,this._logger=yt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hs(k,B){const K=k.target.error||void 0;return kr.create(B,{originalErrorMessage:K&&(null==K?void 0:K.message)})}const Hi="app_namespace_store";class _i{constructor(B,K,xe,st=function Lo(){return new Promise((k,B)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=xe=>{B(hs(xe,"storage-open"))},K.onsuccess=xe=>{k(xe.target.result)},K.onupgradeneeded=xe=>{0===xe.oldVersion&&xe.target.result.createObjectStore(Hi,{keyPath:"compositeKey"})}}catch(K){B(kr.create("storage-open",{originalErrorMessage:null==K?void 0:K.message}))}})}()){this.appId=B,this.appName=K,this.namespace=xe,this.openDbPromise=st}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var K=this;return(0,F.Z)(function*(){const xe=yield K.openDbPromise;return new Promise((st,yt)=>{const En=xe.transaction([Hi],"readonly").objectStore(Hi),On=K.createCompositeKey(B);try{const xn=En.get(On);xn.onerror=gr=>{yt(hs(gr,"storage-get"))},xn.onsuccess=gr=>{const ar=gr.target.result;st(ar?ar.value:void 0)}}catch(xn){yt(kr.create("storage-get",{originalErrorMessage:null==xn?void 0:xn.message}))}})})()}set(B,K){var xe=this;return(0,F.Z)(function*(){const st=yield xe.openDbPromise;return new Promise((yt,kt)=>{const On=st.transaction([Hi],"readwrite").objectStore(Hi),xn=xe.createCompositeKey(B);try{const gr=On.put({compositeKey:xn,value:K});gr.onerror=ar=>{kt(hs(ar,"storage-set"))},gr.onsuccess=()=>{yt()}}catch(gr){kt(kr.create("storage-set",{originalErrorMessage:null==gr?void 0:gr.message}))}})})()}delete(B){var K=this;return(0,F.Z)(function*(){const xe=yield K.openDbPromise;return new Promise((st,yt)=>{const En=xe.transaction([Hi],"readwrite").objectStore(Hi),On=K.createCompositeKey(B);try{const xn=En.delete(On);xn.onerror=gr=>{yt(hs(gr,"storage-delete"))},xn.onsuccess=()=>{st()}}catch(xn){yt(kr.create("storage-delete",{originalErrorMessage:null==xn?void 0:xn.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class ci{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,F.Z)(function*(){const K=B.storage.getLastFetchStatus(),xe=B.storage.getLastSuccessfulFetchTimestampMillis(),st=B.storage.getActiveConfig(),yt=yield K;yt&&(B.lastFetchStatus=yt);const kt=yield xe;kt&&(B.lastSuccessfulFetchTimestampMillis=kt);const En=yield st;En&&(B.activeConfig=En)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function zi(){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,F.Z)(function*(){if(!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch(k){return!1}})).apply(this,arguments)}!function $o(){(0,Ce._registerComponent)(new Le.wA("remote-config",function k(B,{instanceIdentifier:K}){const xe=B.getProvider("app").getImmediate(),st=B.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kr.create("registration-window");if(!(0,Ne.hl)())throw kr.create("indexed-db-unavailable");const{projectId:yt,apiKey:kt,appId:En}=xe.options;if(!yt)throw kr.create("registration-project-id");if(!kt)throw kr.create("registration-api-key");if(!En)throw kr.create("registration-app-id");const On=new _i(En,xe.name,K=K||"firebase"),xn=new ci(On),gr=new ve.Yd(zn);gr.logLevel=ve.in.ERROR;const ar=new Zn(st,Ce.SDK_VERSION,K,yt,kt,En),mo=new Sn(ar,On),ki=new ln(mo,On,xn,gr),wl=new ns(xe,ki,xn,On,gr);return function de(k){const B=(0,Ne.m9)(k);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(wl),wl},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(zn,"0.4.4"),(0,Ce.registerVersion)(zn,"0.4.4","esm2017")}();const Gi="/firebase-messaging-sw.js",Ps="/firebase-cloud-messaging-push-scope",Ii="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",so="https://fcmregistrations.googleapis.com/v1",oo="google.c.a.c_id",Ca="google.c.a.c_l",wo="google.c.a.ts",rs="google.c.a.e";var $i=(()=>{return(k=$i||($i={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",$i;var k})();function is(k){const B=new Uint8Array(k);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Io(k){const K=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),xe=atob(K),st=new Uint8Array(xe.length);for(let yt=0;yt<xe.length;++yt)st[yt]=xe.charCodeAt(yt);return st}const ao="fcm_token_details_db",Di=5,Do="fcm_token_object_Store";function Cs(){return Cs=(0,F.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(yt=>yt.name).includes(ao))return null;let B=null;return(yield(0,Oe.X3)(ao,Di,{upgrade:(xe=(0,F.Z)(function*(st,yt,kt,En){var On;if(yt<2||!st.objectStoreNames.contains(Do))return;const xn=En.objectStore(Do),gr=yield xn.index("fcmSenderId").get(k);if(yield xn.clear(),gr)if(2===yt){const ar=gr;if(!ar.auth||!ar.p256dh||!ar.endpoint)return;B={token:ar.fcmToken,createTime:null!==(On=ar.createTime)&&void 0!==On?On:Date.now(),subscriptionOptions:{auth:ar.auth,p256dh:ar.p256dh,endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:"string"==typeof ar.vapidKey?ar.vapidKey:is(ar.vapidKey)}}}else if(3===yt){const ar=gr;B={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:is(ar.auth),p256dh:is(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:is(ar.vapidKey)}}}else if(4===yt){const ar=gr;B={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:is(ar.auth),p256dh:is(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:is(ar.vapidKey)}}}}),function(yt,kt,En,On){return xe.apply(this,arguments)})})).close(),yield(0,Oe.Lj)(ao),yield(0,Oe.Lj)("fcm_vapid_details_db"),yield(0,Oe.Lj)("undefined"),function lo(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:B}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}(B)?B:null;var xe}),Cs.apply(this,arguments)}const Bi="firebase-messaging-database",qs=1,ti="firebase-messaging-store";let Ts=null;function Ss(){return Ts||(Ts=(0,Oe.X3)(Bi,qs,{upgrade:(k,B)=>{0===B&&k.createObjectStore(ti)}})),Ts}function ks(k){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,F.Z)(function*(k){const B=qi(k),xe=yield(yield Ss()).transaction(ti).objectStore(ti).get(B);if(xe)return xe;{const st=yield function Ws(k){return Cs.apply(this,arguments)}(k.appConfig.senderId);if(st)return yield ss(k,st),st}}),Ci.apply(this,arguments)}function ss(k,B){return As.apply(this,arguments)}function As(){return(As=(0,F.Z)(function*(k,B){const K=qi(k),st=(yield Ss()).transaction(ti,"readwrite");return yield st.objectStore(ti).put(B,K),yield st.done,B})).apply(this,arguments)}function Vo(){return(Vo=(0,F.Z)(function*(k){const B=qi(k),xe=(yield Ss()).transaction(ti,"readwrite");yield xe.objectStore(ti).delete(B),yield xe.done})).apply(this,arguments)}function qi({appConfig:k}){return k.appId}const br=new Ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function di(k,B){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,F.Z)(function*(k,B){const K=yield Fs(k),xe=pi(B),st={method:"POST",headers:K,body:JSON.stringify(xe)};let yt;try{yt=yield(yield fetch(So(k.appConfig),st)).json()}catch(kt){throw br.create("token-subscribe-failed",{errorInfo:null==kt?void 0:kt.toString()})}if(yt.error)throw br.create("token-subscribe-failed",{errorInfo:yt.error.message});if(!yt.token)throw br.create("token-subscribe-no-token");return yt.token})).apply(this,arguments)}function To(){return(To=(0,F.Z)(function*(k,B){const K=yield Fs(k),xe=pi(B.subscriptionOptions),st={method:"PATCH",headers:K,body:JSON.stringify(xe)};let yt;try{yt=yield(yield fetch(`${So(k.appConfig)}/${B.token}`,st)).json()}catch(kt){throw br.create("token-update-failed",{errorInfo:null==kt?void 0:kt.toString()})}if(yt.error)throw br.create("token-update-failed",{errorInfo:yt.error.message});if(!yt.token)throw br.create("token-update-no-token");return yt.token})).apply(this,arguments)}function Ns(k,B){return ni.apply(this,arguments)}function ni(){return(ni=(0,F.Z)(function*(k,B){const xe={method:"DELETE",headers:yield Fs(k)};try{const yt=yield(yield fetch(`${So(k.appConfig)}/${B}`,xe)).json();if(yt.error)throw br.create("token-unsubscribe-failed",{errorInfo:yt.error.message})}catch(st){throw br.create("token-unsubscribe-failed",{errorInfo:null==st?void 0:st.toString()})}})).apply(this,arguments)}function So({projectId:k}){return`${so}/projects/${k}/registrations`}function Fs(k){return ps.apply(this,arguments)}function ps(){return(ps=(0,F.Z)(function*({appConfig:k,installations:B}){const K=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function pi({p256dh:k,auth:B,endpoint:K,vapidKey:xe}){const st={web:{endpoint:K,auth:B,p256dh:k}};return xe!==Ii&&(st.web.applicationPubKey=xe),st}const Ei=6048e5;function Ms(){return Ms=(0,F.Z)(function*(k){const B=yield function Ks(k,B){return xs.apply(this,arguments)}(k.swRegistration,k.vapidKey),K={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:B.endpoint,auth:is(B.getKey("auth")),p256dh:is(B.getKey("p256dh"))},xe=yield ks(k.firebaseDependencies);if(xe){if(function Wa(k,B){return B.vapidKey===k.vapidKey&&B.endpoint===k.endpoint&&B.auth===k.auth&&B.p256dh===k.p256dh}(xe.subscriptionOptions,K))return Date.now()>=xe.createTime+Ei?function ca(k,B){return Fn.apply(this,arguments)}(k,{token:xe.token,createTime:Date.now(),subscriptionOptions:K}):xe.token;try{yield Ns(k.firebaseDependencies,xe.token)}catch(st){console.warn(st)}return Qo(k.firebaseDependencies,K)}return Qo(k.firebaseDependencies,K)}),Ms.apply(this,arguments)}function Ti(){return Ti=(0,F.Z)(function*(k){const B=yield ks(k.firebaseDependencies);B&&(yield Ns(k.firebaseDependencies,B.token),yield function Wi(k){return Vo.apply(this,arguments)}(k.firebaseDependencies));const K=yield k.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()}),Ti.apply(this,arguments)}function Fn(){return Fn=(0,F.Z)(function*(k,B){try{const K=yield function si(k,B){return To.apply(this,arguments)}(k.firebaseDependencies,B),xe=Object.assign(Object.assign({},B),{token:K,createTime:Date.now()});return yield ss(k.firebaseDependencies,xe),K}catch(K){throw yield function gs(k){return Ti.apply(this,arguments)}(k),K}}),Fn.apply(this,arguments)}function Qo(k,B){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,F.Z)(function*(k,B){const xe={token:yield di(k,B),createTime:Date.now(),subscriptionOptions:B};return yield ss(k,xe),xe.token})).apply(this,arguments)}function xs(){return(xs=(0,F.Z)(function*(k,B){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Io(B)})})).apply(this,arguments)}function jo(k){const B={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function Ho(k,B){if(!B.notification)return;k.notification={};const K=B.notification.title;K&&(k.notification.title=K);const xe=B.notification.body;xe&&(k.notification.body=xe);const st=B.notification.image;st&&(k.notification.image=st);const yt=B.notification.icon;yt&&(k.notification.icon=yt)}(B,k),function $(k,B){B.data&&(k.data=B.data)}(B,k),function d(k,B){var K,xe,st,yt,kt;if(!(B.fcmOptions||null!==(K=B.notification)&&void 0!==K&&K.click_action))return;k.fcmOptions={};const En=null!==(st=null===(xe=B.fcmOptions)||void 0===xe?void 0:xe.link)&&void 0!==st?st:null===(yt=B.notification)||void 0===yt?void 0:yt.click_action;En&&(k.fcmOptions.link=En);const On=null===(kt=B.fcmOptions)||void 0===kt?void 0:kt.analytics_label;On&&(k.fcmOptions.analyticsLabel=On)}(B,k),B}function f(k,B){const K=[];for(let xe=0;xe<k.length;xe++)K.push(k.charAt(xe)),xe<B.length&&K.push(B.charAt(xe));return K.join("")}function H(k){return br.create("missing-app-config-values",{valueName:k})}f("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),f("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ut{constructor(B,K,xe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const st=function M(k){if(!k||!k.options)throw H("App Configuration Object");if(!k.name)throw H("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:K}=k;for(const xe of B)if(!K[xe])throw H(xe);return{appName:k.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:st,installations:K,analyticsProvider:xe}}_delete(){return Promise.resolve()}}function Lt(k){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,F.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(Gi,{scope:Ps}),k.swRegistration.update().catch(()=>{})}catch(B){throw br.create("failed-service-worker-registration",{browserErrorMessage:null==B?void 0:B.message})}})).apply(this,arguments)}function nr(){return(nr=(0,F.Z)(function*(k,B){if(!B&&!k.swRegistration&&(yield Lt(k)),B||!k.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw br.create("invalid-sw-registration");k.swRegistration=B}})).apply(this,arguments)}function Gn(){return(Gn=(0,F.Z)(function*(k,B){B?k.vapidKey=B:k.vapidKey||(k.vapidKey=Ii)})).apply(this,arguments)}function dr(){return dr=(0,F.Z)(function*(k,B){if(!navigator)throw br.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw br.create("permission-blocked");return yield function $r(k,B){return Gn.apply(this,arguments)}(k,null==B?void 0:B.vapidKey),yield function Rn(k,B){return nr.apply(this,arguments)}(k,null==B?void 0:B.serviceWorkerRegistration),function Zo(k){return Ms.apply(this,arguments)}(k)}),dr.apply(this,arguments)}function uo(){return(uo=(0,F.Z)(function*(k,B,K){const xe=function ms(k){switch(k){case $i.NOTIFICATION_CLICKED:return"notification_open";case $i.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(B);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(xe,{message_id:K[oo],message_name:K[Ca],message_time:K[wo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function co(){return co=(0,F.Z)(function*(k,B){const K=B.data;if(!K.isFirebaseMessaging)return;k.onMessageHandler&&K.messageType===$i.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(jo(K)):k.onMessageHandler.next(jo(K)));const xe=K.data;(function m(k){return"object"==typeof k&&!!k&&oo in k})(xe)&&"1"===xe[rs]&&(yield function oi(k,B,K){return uo.apply(this,arguments)}(k,K.messageType,xe))}),co.apply(this,arguments)}const Mr="@firebase/messaging",da=k=>{const B=new ut(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function os(k,B){return co.apply(this,arguments)}(B,K)),B},Xo=k=>{const B=k.getProvider("messaging").getImmediate();return{getToken:xe=>function Ut(k,B){return dr.apply(this,arguments)}(B,xe)}};function Yi(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,F.Z)(function*(){try{yield(0,Ne.eu)()}catch(k){return!1}return typeof window<"u"&&(0,Ne.hl)()&&(0,Ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ta(){(0,Ce._registerComponent)(new Le.wA("messaging",da,"PUBLIC")),(0,Ce._registerComponent)(new Le.wA("messaging-internal",Xo,"PRIVATE")),(0,Ce.registerVersion)(Mr,"0.12.4"),(0,Ce.registerVersion)(Mr,"0.12.4","esm2017")}();const Ls="analytics",Nr="firebase_id",mi="origin",yi=6e4,Qt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ml="https://www.googletagmanager.com/gtag/js",Cn=new ve.Yd("@firebase/analytics");function Ka(k){return Promise.all(k.map(B=>B.catch(K=>K)))}function ta(){return(ta=(0,F.Z)(function*(k,B,K,xe,st,yt){const kt=xe[st];try{if(kt)yield B[kt];else{const On=(yield Ka(K)).find(xn=>xn.measurementId===st);On&&(yield B[On.appId])}}catch(En){Cn.error(En)}k("config",st,yt)})).apply(this,arguments)}function R(){return(R=(0,F.Z)(function*(k,B,K,xe,st){try{let yt=[];if(st&&st.send_to){let kt=st.send_to;Array.isArray(kt)||(kt=[kt]);const En=yield Ka(K);for(const On of kt){const xn=En.find(ar=>ar.measurementId===On),gr=xn&&B[xn.appId];if(!gr){yt=[];break}yt.push(gr)}}0===yt.length&&(yt=Object.values(B)),yield Promise.all(yt),k("event",xe,st||{})}catch(yt){Cn.error(yt)}})).apply(this,arguments)}const ct=new Ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Rt=30,Cr=new class wr{constructor(B={},K=1e3){this.throttleMetadata=B,this.intervalMillis=K}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,K){this.throttleMetadata[B]=K}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function Ln(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function rr(){return(rr=(0,F.Z)(function*(k){var B;const{appId:K,apiKey:xe}=k,st={method:"GET",headers:Ln(xe)},yt=Qt.replace("{app-id}",K),kt=yield fetch(yt,st);if(200!==kt.status&&304!==kt.status){let En="";try{const On=yield kt.json();null!==(B=On.error)&&void 0!==B&&B.message&&(En=On.error.message)}catch(On){}throw ct.create("config-fetch-failed",{httpStatus:kt.status,responseMessage:En})}return kt.json()})).apply(this,arguments)}function ri(){return(ri=(0,F.Z)(function*(k,B=Cr,K){const{appId:xe,apiKey:st,measurementId:yt}=k.options;if(!xe)throw ct.create("no-app-id");if(!st){if(yt)return{measurementId:yt,appId:xe};throw ct.create("no-api-key")}const kt=B.getThrottleMetadata(xe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},En=new na;return setTimeout((0,F.Z)(function*(){En.abort()}),void 0!==K?K:yi),$s({appId:xe,apiKey:st,measurementId:yt},kt,En,B)})).apply(this,arguments)}function $s(k,B,K){return ai.apply(this,arguments)}function ai(){return ai=(0,F.Z)(function*(k,{throttleEndTimeMillis:B,backoffCount:K},xe,st=Cr){var yt;const{appId:kt,measurementId:En}=k;try{yield function ys(k,B){return new Promise((K,xe)=>{const st=Math.max(B-Date.now(),0),yt=setTimeout(K,st);k.addEventListener(()=>{clearTimeout(yt),xe(ct.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(xe,B)}catch(On){if(En)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${En} provided in the "measurementId" field in the local Firebase config. [${null==On?void 0:On.message}]`),{appId:kt,measurementId:En};throw On}try{const On=yield function pr(k){return rr.apply(this,arguments)}(k);return st.deleteThrottleMetadata(kt),On}catch(On){const xn=On;if(!function Zs(k){if(!(k instanceof Ne.ZR&&k.customData))return!1;const B=Number(k.customData.httpStatus);return 429===B||500===B||503===B||504===B}(xn)){if(st.deleteThrottleMetadata(kt),En)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${En} provided in the "measurementId" field in the local Firebase config. [${null==xn?void 0:xn.message}]`),{appId:kt,measurementId:En};throw On}const gr=503===Number(null===(yt=null==xn?void 0:xn.customData)||void 0===yt?void 0:yt.httpStatus)?(0,Ne.$s)(K,st.intervalMillis,Rt):(0,Ne.$s)(K,st.intervalMillis),ar={throttleEndTimeMillis:Date.now()+gr,backoffCount:K+1};return st.setThrottleMetadata(kt,ar),Cn.debug(`Calling attemptFetch again in ${gr} millis`),$s(k,ar,xe,st)}}),ai.apply(this,arguments)}class na{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let Oi,Ma;function ra(){return(ra=(0,F.Z)(function*(k,B,K,xe,st){if(st&&st.global)k("event",K,xe);else{const yt=yield B;k("event",K,Object.assign(Object.assign({},xe),{send_to:yt}))}})).apply(this,arguments)}function qo(){return(qo=(0,F.Z)(function*(){if(!(0,Ne.hl)())return Cn.warn(ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ne.eu)()}catch(k){return Cn.warn(ct.create("indexeddb-unavailable",{errorInfo:null==k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function fa(){return fa=(0,F.Z)(function*(k,B,K,xe,st,yt,kt){var En;const On=function Zr(k){return ri.apply(this,arguments)}(k);On.then(ki=>{K[ki.measurementId]=ki.appId,k.options.measurementId&&ki.measurementId!==k.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${ki.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ki=>Cn.error(ki)),B.push(On);const xn=function Mu(){return qo.apply(this,arguments)}().then(ki=>{if(ki)return xe.getId()}),[gr,ar]=yield Promise.all([On,xn]);(function Z(k){const B=window.document.getElementsByTagName("script");for(const K of Object.values(B))if(K.src&&K.src.includes(ml)&&K.src.includes(k))return K;return null})(yt)||function yl(k,B){const K=document.createElement("script");K.src=`${ml}?l=${k}&id=${B}`,K.async=!0,document.head.appendChild(K)}(yt,gr.measurementId),Ma&&(st("consent","default",Ma),function Za(k){Ma=k}(void 0)),st("js",new Date);const mo=null!==(En=null==kt?void 0:kt.config)&&void 0!==En?En:{};return mo[mi]="firebase",mo.update=!0,null!=ar&&(mo[Nr]=ar),st("config",gr.measurementId,mo),Oi&&(st("set",Oi),function xa(k){Oi=k}(void 0)),gr.measurementId}),fa.apply(this,arguments)}class xu{constructor(B){this.app=B}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},Qa=[];const Zi={};let Ll,vs,sa="dataLayer",po="gtag",Ra=!1;function Xa(k,B,K){!function Ru(){const k=[];if((0,Ne.ru)()&&k.push("This is a browser extension environment."),(0,Ne.zI)()||k.push("Cookies are not available."),k.length>0){const B=k.map((xe,st)=>`(${st+1}) ${xe}`).join(" "),K=ct.create("invalid-analytics-context",{errorInfo:B});Cn.warn(K.message)}}();const xe=k.options.appId;if(!xe)throw ct.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw ct.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fo[xe])throw ct.create("already-exists",{id:xe});if(!Ra){!function ea(k){let B=[];Array.isArray(window[k])?B=window[k]:window[k]=B}(sa);const{wrappedGtag:yt,gtagCore:kt}=function P(k,B,K,xe,st){let yt=function(...kt){window[xe].push(arguments)};return window[st]&&"function"==typeof window[st]&&(yt=window[st]),window[st]=function j(k,B,K,xe){function yt(){return yt=(0,F.Z)(function*(kt,En,On){try{"event"===kt?yield function ha(k,B,K,xe,st){return R.apply(this,arguments)}(k,B,K,En,On):"config"===kt?yield function Nl(k,B,K,xe,st,yt){return ta.apply(this,arguments)}(k,B,K,xe,En,On):"consent"===kt?k("consent","update",On):k("set",En)}catch(xn){Cn.error(xn)}}),yt.apply(this,arguments)}return function st(kt,En,On){return yt.apply(this,arguments)}}(yt,k,B,K),{gtagCore:yt,wrappedGtag:window[st]}}(fo,Qa,Zi,sa,po);vs=yt,Ll=kt,Ra=!0}return fo[xe]=function eu(k,B,K,xe,st,yt,kt){return fa.apply(this,arguments)}(k,Qa,Zi,B,Ll,sa,K),new xu(k)}function Bs(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,F.Z)(function*(){if((0,Ne.ru)()||!(0,Ne.zI)()||!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch(k){return!1}})).apply(this,arguments)}const Pi="@firebase/analytics";!function tl(){(0,Ce._registerComponent)(new Le.wA(Ls,(B,{options:K})=>Xa(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,Ce._registerComponent)(new Le.wA("analytics-internal",function k(B){try{const K=B.getProvider(Ls).getImmediate();return{logEvent:(xe,st,yt)=>function Ko(k,B,K,xe){k=(0,Ne.m9)(k),function Go(k,B,K,xe,st){return ra.apply(this,arguments)}(vs,fo[k.app.options.appId],B,K,xe).catch(st=>Cn.error(st))}(K,xe,st,yt)}}catch(K){throw ct.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,Ce.registerVersion)(Pi,"0.9.4"),(0,Ce.registerVersion)(Pi,"0.9.4","esm2017")}();var $l=V(4408),nu=V(7565);const hc=new class ru extends nu.v{}(class Ou extends $l.o{constructor(B,K){super(B,K),this.scheduler=B,this.work=K}schedule(B,K=0){return K>0?super.schedule(B,K):(this.delay=K,this.state=B,this.scheduler.flush(this),this)}execute(B,K){return K>0||this.closed?super.execute(B,K):this._execute(B,K)}requestAsyncId(B,K,xe=0){return null!=xe&&xe>0||null==xe&&this.delay>0?super.requestAsyncId(B,K,xe):(B.flush(this),0)}});var El=V(4986),ga=V(9751),pc=V(8505),li=V(9468),Bl=V(5363);const nl=new l.GfV("7.5.0"),ma="__angularfire_symbol__analyticsIsSupportedValue",as="__angularfire_symbol__analyticsIsSupported",xo="__angularfire_symbol__remoteConfigIsSupportedValue",bl="__angularfire_symbol__remoteConfigIsSupported",ya="__angularfire_symbol__messagingIsSupportedValue",Ro="__angularfire_symbol__messagingIsSupported";function go(k,B,K){if(B){if(1===B.length)return B[0];const yt=B.filter(kt=>kt.app===K);if(1===yt.length)return yt[0]}return K.container.getProvider(k).getImmediate({optional:!0})}globalThis[as]||(globalThis[as]=Bs().then(k=>globalThis[ma]=k).catch(()=>globalThis[ma]=!1)),globalThis[Ro]||(globalThis[Ro]=Yi().then(k=>globalThis[ya]=k).catch(()=>globalThis[ya]=!1)),globalThis[bl]||(globalThis[bl]=zi().then(k=>globalThis[xo]=k).catch(()=>globalThis[xo]=!1));const I=(k,B)=>{const K=B?[B]:(0,v.C6)(),xe=[];return K.forEach(st=>{st.container.getProvider(k).instances.forEach(kt=>{xe.includes(kt)||xe.push(kt)})}),xe};function D(){}class E{constructor(B,K=hc){this.zone=B,this.delegate=K}now(){return this.delegate.now()}schedule(B,K,xe){const st=this.zone;return this.delegate.schedule(function(kt){st.runGuarded(()=>{B.apply(this,[kt])})},K,xe)}}class T{constructor(B){this.zone=B,this.task=null}call(B,K){const xe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",D,{},D,D)),K.pipe((0,pc.b)({next:xe,complete:xe,error:xe})).subscribe(B).add(xe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let L=(()=>{class k{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new E(Zone.current)),this.insideAngular=K.run(()=>new E(Zone.current,El.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(K){return new(K||k)(l.LFG(l.R0b))},k.\u0275prov=l.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function G(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Ze(k){return G().ngZone.run(()=>k())}function Xt(k){return G(),function un(k){return function(K){return(K=K.lift(new T(k.ngZone))).pipe((0,li.R)(k.outsideAngular),(0,Bl.Q)(k.insideAngular))}}(G())(k)}const xr=(k,B)=>function(){const xe=arguments;return B&&setTimeout(()=>{"scheduled"===B.state&&B.invoke()},10),Ze(()=>k.apply(void 0,xe))},ii=(k,B)=>function(){let K;const xe=arguments;for(let yt=0;yt<arguments.length;yt++)"function"==typeof xe[yt]&&(B&&(K||(K=Ze(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",D,{},D,D)))),xe[yt]=xr(xe[yt],K));const st=function J(k){return G().ngZone.runOutsideAngular(()=>k())}(()=>k.apply(this,xe));if(!B){if(st instanceof ga.y){const yt=G();return st.pipe((0,li.R)(yt.outsideAngular),(0,Bl.Q)(yt.insideAngular))}return Ze(()=>st)}return st instanceof ga.y?st.pipe(Xt):st instanceof Promise?Ze(()=>new Promise((yt,kt)=>st.then(En=>Ze(()=>yt(En)),En=>Ze(()=>kt(En))))):"function"==typeof st&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),st.apply(this,arguments)}:Ze(()=>st)}},3515:(jt,at,V)=>{"use strict";V.d(at,{T:()=>Qe});var l=V(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Oe=(()=>{return(Pe=Oe||(Oe={})).Unimplemented="UNIMPLEMENTED",Pe.Unavailable="UNAVAILABLE",Oe;var Pe})();class Ue extends Error{constructor(ne,De,Ve){super(ne),this.message=ne,this.code=De,this.data=Ve}}const me=Pe=>{var ne,De,Ve,he,ue;const Ae=Pe.CapacitorCustomPlatform||null,$e=Pe.Capacitor||{},le=$e.Plugins=$e.Plugins||{},Te=Pe.CapacitorPlatforms,Ie=(null===(ne=null==Te?void 0:Te.currentPlatform)||void 0===ne?void 0:ne.getPlatform)||(()=>null!==Ae?Ae.name:(Pe=>{var ne,De;return null!=Pe&&Pe.androidBridge?"android":null!==(De=null===(ne=null==Pe?void 0:Pe.webkit)||void 0===ne?void 0:ne.messageHandlers)&&void 0!==De&&De.bridge?"ios":"web"})(Pe)),gt=(null===(De=null==Te?void 0:Te.currentPlatform)||void 0===De?void 0:De.isNativePlatform)||(()=>"web"!==Ie()),vt=(null===(Ve=null==Te?void 0:Te.currentPlatform)||void 0===Ve?void 0:Ve.isPluginAvailable)||(on=>{const An=jn.get(on);return!!(null!=An&&An.platforms.has(Ie())||In(on))}),In=(null===(he=null==Te?void 0:Te.currentPlatform)||void 0===he?void 0:he.getPluginHeader)||(on=>{var An;return null===(An=$e.PluginHeaders)||void 0===An?void 0:An.find(Ot=>Ot.name===on)}),jn=new Map,vr=(null===(ue=null==Te?void 0:Te.currentPlatform)||void 0===ue?void 0:ue.registerPlugin)||((on,An={})=>{const Ot=jn.get(on);if(Ot)return console.warn(`Capacitor plugin "${on}" already registered. Cannot register plugins twice.`),Ot.proxy;const Vn=Ie(),Yn=In(on);let er;const Br=function(){var Hn=(0,l.Z)(function*(){return!er&&Vn in An?er=er="function"==typeof An[Vn]?yield An[Vn]():An[Vn]:null!==Ae&&!er&&"web"in An&&(er=er="function"==typeof An.web?yield An.web():An.web),er});return function(){return Hn.apply(this,arguments)}}(),pn=Hn=>{let St;const _r=(...Lr)=>{const Dn=Br().then(Er=>{const vn=((Hn,St)=>{var _r,Lr;if(!Yn){if(Hn)return null===(Lr=Hn[St])||void 0===Lr?void 0:Lr.bind(Hn);throw new Ue(`"${on}" plugin is not implemented on ${Vn}`,Oe.Unimplemented)}{const Dn=null==Yn?void 0:Yn.methods.find(Er=>St===Er.name);if(Dn)return"promise"===Dn.rtype?Er=>$e.nativePromise(on,St.toString(),Er):(Er,vn)=>$e.nativeCallback(on,St.toString(),Er,vn);if(Hn)return null===(_r=Hn[St])||void 0===_r?void 0:_r.bind(Hn)}})(Er,Hn);if(vn){const _n=vn(...Lr);return St=null==_n?void 0:_n.remove,_n}throw new Ue(`"${on}.${Hn}()" is not implemented on ${Vn}`,Oe.Unimplemented)});return"addListener"===Hn&&(Dn.remove=(0,l.Z)(function*(){return St()})),Dn};return _r.toString=()=>`${Hn.toString()}() { [capacitor code] }`,Object.defineProperty(_r,"name",{value:Hn,writable:!1,configurable:!1}),_r},Jt=pn("addListener"),dn=pn("removeListener"),ir=(Hn,St)=>{const _r=Jt({eventName:Hn},St),Lr=function(){var Er=(0,l.Z)(function*(){const vn=yield _r;dn({eventName:Hn,callbackId:vn},St)});return function(){return Er.apply(this,arguments)}}(),Dn=new Promise(Er=>_r.then(()=>Er({remove:Lr})));return Dn.remove=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Lr()}),Dn},an=new Proxy({},{get(Hn,St){switch(St){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Yn?ir:Jt;case"removeListener":return dn;default:return pn(St)}}});return le[on]=an,jn.set(on,{name:on,proxy:an,platforms:new Set([...Object.keys(An),...Yn?[Vn]:[]])}),an});return $e.convertFileSrc||($e.convertFileSrc=on=>on),$e.getPlatform=Ie,$e.handleError=on=>Pe.console.error(on),$e.isNativePlatform=gt,$e.isPluginAvailable=vt,$e.pluginMethodNoop=(on,An,Ot)=>Promise.reject(`${Ot} does not have an implementation of "${An}".`),$e.registerPlugin=vr,$e.Exception=Ue,$e.DEBUG=!!$e.DEBUG,$e.isLoggingEnabled=!!$e.isLoggingEnabled,$e.platform=$e.getPlatform(),$e.isNative=$e.isNativePlatform(),$e},Fe=(Pe=>Pe.Capacitor=me(Pe))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Be=Fe.registerPlugin;class Me{constructor(ne){this.listeners={},this.windowListeners={},ne&&(console.warn(`Capacitor WebPlugin "${ne.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=ne)}addListener(ne,De){var Ve=this;this.listeners[ne]||(this.listeners[ne]=[]),this.listeners[ne].push(De);const ue=this.windowListeners[ne];ue&&!ue.registered&&this.addWindowListener(ue);const Ae=function(){var le=(0,l.Z)(function*(){return Ve.removeListener(ne,De)});return function(){return le.apply(this,arguments)}}(),$e=Promise.resolve({remove:Ae});return Object.defineProperty($e,"remove",{value:(le=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ae()}),function(){return le.apply(this,arguments)})}),$e;var le}removeAllListeners(){var ne=this;return(0,l.Z)(function*(){ne.listeners={};for(const De in ne.windowListeners)ne.removeWindowListener(ne.windowListeners[De]);ne.windowListeners={}})()}notifyListeners(ne,De){const Ve=this.listeners[ne];Ve&&Ve.forEach(he=>he(De))}hasListeners(ne){return!!this.listeners[ne].length}registerWindowListener(ne,De){this.windowListeners[De]={registered:!1,windowEventName:ne,pluginEventName:De,handler:Ve=>{this.notifyListeners(De,Ve)}}}unimplemented(ne="not implemented"){return new Fe.Exception(ne,Oe.Unimplemented)}unavailable(ne="not available"){return new Fe.Exception(ne,Oe.Unavailable)}removeListener(ne,De){var Ve=this;return(0,l.Z)(function*(){const he=Ve.listeners[ne];if(!he)return;const ue=he.indexOf(De);Ve.listeners[ne].splice(ue,1),Ve.listeners[ne].length||Ve.removeWindowListener(Ve.windowListeners[ne])})()}addWindowListener(ne){window.addEventListener(ne.windowEventName,ne.handler),ne.registered=!0}removeWindowListener(ne){ne&&(window.removeEventListener(ne.windowEventName,ne.handler),ne.registered=!1)}}const je=Pe=>encodeURIComponent(Pe).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),et=Pe=>Pe.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ze extends Me{getCookies(){return(0,l.Z)(function*(){const ne=document.cookie,De={};return ne.split(";").forEach(Ve=>{if(Ve.length<=0)return;let[he,ue]=Ve.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");he=et(he).trim(),ue=et(ue).trim(),De[he]=ue}),De})()}setCookie(ne){return(0,l.Z)(function*(){try{const De=je(ne.key),Ve=je(ne.value),he=`; expires=${(ne.expires||"").replace("expires=","")}`,ue=(ne.path||"/").replace("path=",""),Ae=null!=ne.url&&ne.url.length>0?`domain=${ne.url}`:"";document.cookie=`${De}=${Ve||""}${he}; path=${ue}; ${Ae};`}catch(De){return Promise.reject(De)}})()}deleteCookie(ne){return(0,l.Z)(function*(){try{document.cookie=`${ne.key}=; Max-Age=0`}catch(De){return Promise.reject(De)}})()}clearCookies(){return(0,l.Z)(function*(){try{const ne=document.cookie.split(";")||[];for(const De of ne)document.cookie=De.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(ne){return Promise.reject(ne)}})()}clearAllCookies(){var ne=this;return(0,l.Z)(function*(){try{yield ne.clearCookies()}catch(De){return Promise.reject(De)}})()}}Be("CapacitorCookies",{web:()=>new ze});const Ke=function(){var Pe=(0,l.Z)(function*(ne){return new Promise((De,Ve)=>{const he=new FileReader;he.onload=()=>{const ue=he.result;De(ue.indexOf(",")>=0?ue.split(",")[1]:ue)},he.onerror=ue=>Ve(ue),he.readAsDataURL(ne)})});return function(De){return Pe.apply(this,arguments)}}();class We extends Me{request(ne){return(0,l.Z)(function*(){const De=((Pe,ne={})=>{const De=Object.assign({method:Pe.method||"GET",headers:Pe.headers},ne),he=((Pe={})=>{const ne=Object.keys(Pe);return Object.keys(Pe).map(he=>he.toLocaleLowerCase()).reduce((he,ue,Ae)=>(he[ue]=Pe[ne[Ae]],he),{})})(Pe.headers)["content-type"]||"";if("string"==typeof Pe.data)De.body=Pe.data;else if(he.includes("application/x-www-form-urlencoded")){const ue=new URLSearchParams;for(const[Ae,$e]of Object.entries(Pe.data||{}))ue.set(Ae,$e);De.body=ue.toString()}else if(he.includes("multipart/form-data")){const ue=new FormData;if(Pe.data instanceof FormData)Pe.data.forEach(($e,le)=>{ue.append(le,$e)});else for(const $e of Object.keys(Pe.data))ue.append($e,Pe.data[$e]);De.body=ue;const Ae=new Headers(De.headers);Ae.delete("content-type"),De.headers=Ae}else(he.includes("application/json")||"object"==typeof Pe.data)&&(De.body=JSON.stringify(Pe.data));return De})(ne,ne.webFetchExtra),Ve=((Pe,ne=!0)=>Pe?Object.entries(Pe).reduce((Ve,he)=>{const[ue,Ae]=he;let $e,le;return Array.isArray(Ae)?(le="",Ae.forEach(Te=>{$e=ne?encodeURIComponent(Te):Te,le+=`${ue}=${$e}&`}),le.slice(0,-1)):($e=ne?encodeURIComponent(Ae):Ae,le=`${ue}=${$e}`),`${Ve}&${le}`},"").substr(1):null)(ne.params,ne.shouldEncodeUrlParams),he=Ve?`${ne.url}?${Ve}`:ne.url,ue=yield fetch(he,De),Ae=ue.headers.get("content-type")||"";let le,Te,{responseType:$e="text"}=ue.ok?ne:{};switch(Ae.includes("application/json")&&($e="json"),$e){case"arraybuffer":case"blob":Te=yield ue.blob(),le=yield Ke(Te);break;case"json":le=yield ue.json();break;default:le=yield ue.text()}const X={};return ue.headers.forEach((Ie,tt)=>{X[tt]=Ie}),{data:le,headers:X,status:ue.status,url:ue.url}})()}get(ne){var De=this;return(0,l.Z)(function*(){return De.request(Object.assign(Object.assign({},ne),{method:"GET"}))})()}post(ne){var De=this;return(0,l.Z)(function*(){return De.request(Object.assign(Object.assign({},ne),{method:"POST"}))})()}put(ne){var De=this;return(0,l.Z)(function*(){return De.request(Object.assign(Object.assign({},ne),{method:"PUT"}))})()}patch(ne){var De=this;return(0,l.Z)(function*(){return De.request(Object.assign(Object.assign({},ne),{method:"PATCH"}))})()}delete(ne){var De=this;return(0,l.Z)(function*(){return De.request(Object.assign(Object.assign({},ne),{method:"DELETE"}))})()}}Be("CapacitorHttp",{web:()=>new We});class Ge extends Me{write(ne){var De=this;return(0,l.Z)(function*(){if(typeof navigator>"u"||!navigator.clipboard)throw De.unavailable("Clipboard API not available in this browser");if(void 0!==ne.string)yield De.writeText(ne.string);else if(ne.url)yield De.writeText(ne.url);else{if(!ne.image)throw new Error("Nothing to write");if(!(typeof ClipboardItem<"u"))throw De.unavailable("Writing images to the clipboard is not supported in this browser");try{const Ve=yield(yield fetch(ne.image)).blob(),he=new ClipboardItem({[Ve.type]:Ve});yield navigator.clipboard.write([he])}catch(Ve){throw new Error("Failed to write image")}}})()}read(){var ne=this;return(0,l.Z)(function*(){if(typeof navigator>"u"||!navigator.clipboard)throw ne.unavailable("Clipboard API not available in this browser");if(!(typeof ClipboardItem<"u"))return ne.readText();try{const De=yield navigator.clipboard.read(),Ve=De[0].types[0],he=yield De[0].getType(Ve);return{value:yield ne._getBlobData(he,Ve),type:Ve}}catch(De){return ne.readText()}})()}readText(){var ne=this;return(0,l.Z)(function*(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw ne.unavailable("Reading from clipboard not supported in this browser");return{value:yield navigator.clipboard.readText(),type:"text/plain"}})()}writeText(ne){var De=this;return(0,l.Z)(function*(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw De.unavailable("Writting to clipboard not supported in this browser");yield navigator.clipboard.writeText(ne)})()}_getBlobData(ne,De){return new Promise((Ve,he)=>{const ue=new FileReader;De.includes("image")?ue.readAsDataURL(ne):ue.readAsText(ne),ue.onloadend=()=>{Ve(ue.result)},ue.onerror=Ae=>{he(Ae)}})}}const Qe=Be("Clipboard",{web:()=>new Ge})},5114:(jt,at,V)=>{"use strict";V.d(at,{$:()=>So,A:()=>me,B:()=>Be,G:()=>cs,H:()=>Pr,J:()=>Sn,L:()=>ur,M:()=>Gs,N:()=>so,P:()=>El,Q:()=>oo,R:()=>pa,T:()=>Ca,U:()=>Ii,V:()=>$i,W:()=>is,X:()=>Ws,Y:()=>Co,Z:()=>di,_:()=>si,a:()=>yn,a0:()=>Zo,a1:()=>gs,a2:()=>ca,a3:()=>Qo,a4:()=>Ks,a5:()=>Wa,a6:()=>Ho,a7:()=>$,a8:()=>m,a9:()=>f,aA:()=>ke,aB:()=>En,aC:()=>Ze,aD:()=>J,aE:()=>cr,aI:()=>Ln,aL:()=>rs,aa:()=>Lt,ab:()=>Rn,ac:()=>$r,af:()=>oi,ag:()=>ms,ah:()=>os,ak:()=>ti,al:()=>Sa,an:()=>ml,ao:()=>ta,ap:()=>We,aq:()=>ht,ar:()=>we,as:()=>et,at:()=>ol,au:()=>Il,av:()=>At,aw:()=>ze,ax:()=>ie,ay:()=>mo,az:()=>Ge,b:()=>ct,c:()=>bl,d:()=>ld,e:()=>Ro,f:()=>Xt,g:()=>K,h:()=>ii,i:()=>qo,j:()=>yt,k:()=>iu,l:()=>sr,m:()=>Jf,n:()=>zg,o:()=>Oe,r:()=>$l,s:()=>ad,u:()=>hc});var l=V(5861),v=V(2090),F=V(9681),Ce=V(1877),Ne=V(655),Le=V(4859);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},it=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new v.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new Ce.Yd("@firebase/auth");function je(C,...y){pe.logLevel<=Ce.in.ERROR&&pe.error(`Auth (${F.SDK_VERSION}): ${C}`,...y)}function et(C,...y){throw Re(C,...y)}function ze(C,...y){return Re(C,...y)}function Se(C,y,_){const x=Object.assign(Object.assign({},it()),{[y]:_});return new v.LL("auth","Firebase",x).create(y,{appName:C.name})}function Ke(C,y,_){if(!(y instanceof _))throw _.name!==y.constructor.name&&et(C,"argument-error"),Se(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Re(C,...y){if("string"!=typeof C){const _=y[0],x=[...y.slice(1)];return x[0]&&(x[0].appName=C.name),C._errorFactory.create(_,...x)}return mt.create(C,...y)}function ie(C,y,..._){if(!C)throw Re(y,..._)}function be(C){const y="INTERNAL ASSERTION FAILED: "+C;throw je(y),new Error(y)}function We(C,y){C||be(y)}const rt=new Map;function Ge(C){We(C instanceof Function,"Expected a class definition");let y=rt.get(C);return y?(We(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,rt.set(C,y),y)}function ne(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function De(){return"http:"===Ve()||"https:"===Ve()}function Ve(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ae{constructor(y,_){this.shortDelay=y,this.longDelay=_,We(_>y,"Short delay should be less than long delay!"),this.isMobile=(0,v.uI)()||(0,v.b$)()}get(){return function he(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,v.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $e(C,y){We(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return y?`${_}${y.startsWith("/")?y.slice(1):y}`:_}class le{static initialize(y,_,x){this.fetchImpl=y,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},X=new Ae(3e4,6e4);function Ie(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function tt(C,y,_,x){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(C,y,_,x,W={}){return en(C,W,(0,l.Z)(function*(){let ae={},ft={};x&&("GET"===y?ft=x:ae={body:JSON.stringify(x)});const Ft=(0,v.xO)(Object.assign({key:C.config.apiKey},ft)).slice(1),wn=yield C._getAdditionalHeaders();return wn["Content-Type"]="application/json",C.languageCode&&(wn["X-Firebase-Locale"]=C.languageCode),le.fetch()(rn(C,C.config.apiHost,_,Ft),Object.assign({method:y,headers:wn,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function en(C,y,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(C,y,_){C._canInitEmulator=!1;const x=Object.assign(Object.assign({},Te),y);try{const W=new zt(C),ae=yield Promise.race([_(),W.promise]);W.clearNetworkTimeout();const ft=yield ae.json();if("needConfirmation"in ft)throw jn(C,"account-exists-with-different-credential",ft);if(ae.ok&&!("errorMessage"in ft))return ft;{const Ft=ae.ok?ft.errorMessage:ft.error.message,[wn,hn]=Ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wn)throw jn(C,"credential-already-in-use",ft);if("EMAIL_EXISTS"===wn)throw jn(C,"email-already-in-use",ft);if("USER_DISABLED"===wn)throw jn(C,"user-disabled",ft);const mr=x[wn]||wn.toLowerCase().replace(/[_\s]+/g,"-");if(hn)throw Se(C,mr,hn);et(C,mr)}}catch(W){if(W instanceof v.ZR)throw W;et(C,"internal-error",{message:String(W)})}})).apply(this,arguments)}function tn(C,y,_,x){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(C,y,_,x,W={}){const ae=yield tt(C,y,_,x,W);return"mfaPendingCredential"in ae&&et(C,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function rn(C,y,_,x){const W=`${y}${_}?${x}`;return C.config.emulator?$e(C.config,W):`${C.config.apiScheme}://${W}`}class zt{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(ze(this.auth,"network-request-failed")),X.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(C,y,_){const x={appName:C.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const W=ze(C,y,x);return W.customData._tokenResponse=_,W}function vr(){return(vr=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Yn(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function tr(){return(tr=(0,l.Z)(function*(C,y=!1){const _=(0,v.m9)(C),x=yield _.getIdToken(y),W=Jt(x);ie(W&&W.exp&&W.auth_time&&W.iat,_.auth,"internal-error");const ae="object"==typeof W.firebase?W.firebase:void 0,ft=null==ae?void 0:ae.sign_in_provider;return{claims:W,token:x,authTime:Yn(pn(W.auth_time)),issuedAtTime:Yn(pn(W.iat)),expirationTime:Yn(pn(W.exp)),signInProvider:ft||null,signInSecondFactor:(null==ae?void 0:ae.sign_in_second_factor)||null}})).apply(this,arguments)}function pn(C){return 1e3*Number(C)}function Jt(C){const[y,_,x]=C.split(".");if(void 0===y||void 0===_||void 0===x)return je("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,v.tV)(_);return W?JSON.parse(W):(je("Failed to decode base64 JWT payload"),null)}catch(W){return je("Caught error parsing JWT payload as JSON",null==W?void 0:W.toString()),null}}function ir(C,y){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(C,y,_=!1){if(_)return y;try{return yield y}catch(x){throw x instanceof v.ZR&&function Hn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(x)&&C.auth.currentUser===C&&(yield C.auth.signOut()),x}})).apply(this,arguments)}class St{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var _;if(y){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const W=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(y=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(y);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),x)}iteration(){var y=this;return(0,l.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&y.schedule(!0))}y.schedule()})()}}class _r{constructor(y,_){this.createdAt=y,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(C){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,l.Z)(function*(C){var y;const _=C.auth,x=yield C.getIdToken(),W=yield ir(C,function Ot(C,y){return Vn.apply(this,arguments)}(_,{idToken:x}));ie(null==W?void 0:W.users.length,_,"internal-error");const ae=W.users[0];C._notifyReloadListener(ae);const ft=null!==(y=ae.providerUserInfo)&&void 0!==y&&y.length?function Sr(C){return C.map(y=>{var{providerId:_}=y,x=(0,Ne._T)(y,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(ae.providerUserInfo):[],Ft=function _n(C,y){return[...C.filter(x=>!y.some(W=>W.providerId===x.providerId)),...y]}(C.providerData,ft),mr=!!C.isAnonymous&&!(C.email&&ae.passwordHash||null!=Ft&&Ft.length),Ni={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Ft,metadata:new _r(ae.createdAt,ae.lastLoginAt),isAnonymous:mr};Object.assign(C,Ni)}),Dn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(C){const y=(0,v.m9)(C);yield Lr(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(C,y){const _=yield en(C,{},(0,l.Z)(function*(){const x=(0,v.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:W,apiKey:ae}=C.config,ft=rn(C,W,"/v1/token",`key=${ae}`),Ft=yield C._getAdditionalHeaders();return Ft["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(ft,{method:"POST",headers:Ft,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ie(y.idToken,"internal-error"),ie(typeof y.idToken<"u","internal-error"),ie(typeof y.refreshToken<"u","internal-error");const _="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function dn(C){const y=Jt(C);return ie(y,"internal-error"),ie(typeof y.exp<"u","internal-error"),ie(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,_)}getToken(y,_=!1){var x=this;return(0,l.Z)(function*(){return ie(!x.accessToken||x.refreshToken,y,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(y,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,_){var x=this;return(0,l.Z)(function*(){const{accessToken:W,refreshToken:ae,expiresIn:ft}=yield function Nt(C,y){return Ct.apply(this,arguments)}(y,_);x.updateTokensAndExpiration(W,ae,Number(ft))})()}updateTokensAndExpiration(y,_,x){this.refreshToken=_||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(y,_){const{refreshToken:x,accessToken:W,expirationTime:ae}=_,ft=new Zt;return x&&(ie("string"==typeof x,"internal-error",{appName:y}),ft.refreshToken=x),W&&(ie("string"==typeof W,"internal-error",{appName:y}),ft.accessToken=W),ae&&(ie("number"==typeof ae,"internal-error",{appName:y}),ft.expirationTime=ae),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return be("not implemented")}}function mn(C,y){ie("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class bn{constructor(y){var{uid:_,auth:x,stsTokenManager:W}=y,ae=(0,Ne._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new St(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new _r(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(y){var _=this;return(0,l.Z)(function*(){const x=yield ir(_,_.stsTokenManager.getToken(_.auth,y));return ie(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(y){return function Br(C){return tr.apply(this,arguments)}(this,y)}reload(){return function Er(C){return vn.apply(this,arguments)}(this)}_assign(y){this!==y&&(ie(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(_=>Object.assign({},_)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const _=new bn(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(y){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,_=!1){var x=this;return(0,l.Z)(function*(){let W=!1;y.idToken&&y.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(y),W=!0),_&&(yield Lr(x)),yield x.auth._persistUserIfCurrent(x),W&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var y=this;return(0,l.Z)(function*(){const _=yield y.getIdToken();return yield ir(y,function fr(C,y){return vr.apply(this,arguments)}(y.auth,{idToken:_})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,_){var x,W,ae,ft,Ft,wn,hn,mr;const Ni=null!==(x=_.displayName)&&void 0!==x?x:void 0,al=null!==(W=_.email)&&void 0!==W?W:void 0,ll=null!==(ae=_.phoneNumber)&&void 0!==ae?ae:void 0,su=null!==(ft=_.photoURL)&&void 0!==ft?ft:void 0,pd=null!==(Ft=_.tenantId)&&void 0!==Ft?Ft:void 0,Dl=null!==(wn=_._redirectEventId)&&void 0!==wn?wn:void 0,ou=null!==(hn=_.createdAt)&&void 0!==hn?hn:void 0,gd=null!==(mr=_.lastLoginAt)&&void 0!==mr?mr:void 0,{uid:La,emailVerified:bc,isAnonymous:Eh,providerData:wc,stsTokenManager:Vu}=_;ie(La&&Vu,y,"internal-error");const np=Zt.fromJSON(this.name,Vu);ie("string"==typeof La,y,"internal-error"),mn(Ni,y.name),mn(al,y.name),ie("boolean"==typeof bc,y,"internal-error"),ie("boolean"==typeof Eh,y,"internal-error"),mn(ll,y.name),mn(su,y.name),mn(pd,y.name),mn(Dl,y.name),mn(ou,y.name),mn(gd,y.name);const Ic=new bn({uid:La,auth:y,email:al,emailVerified:bc,displayName:Ni,isAnonymous:Eh,photoURL:su,phoneNumber:ll,tenantId:pd,stsTokenManager:np,createdAt:ou,lastLoginAt:gd});return wc&&Array.isArray(wc)&&(Ic.providerData=wc.map(md=>Object.assign({},md))),Dl&&(Ic._redirectEventId=Dl),Ic}static _fromIdTokenResponse(y,_,x=!1){return(0,l.Z)(function*(){const W=new Zt;W.updateFromServerResponse(_);const ae=new bn({uid:_.localId,auth:y,stsTokenManager:W,isAnonymous:x});return yield Lr(ae),ae})()}}const ur=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,x){var W=this;return(0,l.Z)(function*(){W.storage[_]=x})()}_get(_){var x=this;return(0,l.Z)(function*(){const W=x.storage[_];return void 0===W?null:W})()}_remove(_){var x=this;return(0,l.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return C.type="NONE",C})();function ke(C,y,_){return`firebase:${C}:${y}:${_}`}class Ee{constructor(y,_,x){this.persistence=y,this.auth=_,this.userKey=x;const{config:W,name:ae}=this.auth;this.fullUserKey=ke(this.userKey,W.apiKey,ae),this.fullPersistenceKey=ke("persistence",W.apiKey,ae),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,l.Z)(function*(){const _=yield y.persistence._get(y.fullUserKey);return _?bn._fromJSON(y.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var _=this;return(0,l.Z)(function*(){if(_.persistence===y)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=y,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,_,x="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Ee(Ge(ur),y,x);const W=(yield Promise.all(_.map(function(){var hn=(0,l.Z)(function*(mr){if(yield mr._isAvailable())return mr});return function(mr){return hn.apply(this,arguments)}}()))).filter(hn=>hn);let ae=W[0]||Ge(ur);const ft=ke(x,y.config.apiKey,y.name);let Ft=null;for(const hn of _)try{const mr=yield hn._get(ft);if(mr){const Ni=bn._fromJSON(y,mr);hn!==ae&&(Ft=Ni),ae=hn;break}}catch(mr){}const wn=W.filter(hn=>hn._shouldAllowMigration);return ae._shouldAllowMigration&&wn.length?(ae=wn[0],Ft&&(yield ae._set(ft,Ft.toJSON())),yield Promise.all(_.map(function(){var hn=(0,l.Z)(function*(mr){if(mr!==ae)try{yield mr._remove(ft)}catch(Ni){}});return function(mr){return hn.apply(this,arguments)}}())),new Ee(ae,y,x)):new Ee(ae,y,x)})()}}function ee(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(oe(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(re(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(se(y))return"Blackberry";if(He(y))return"Webos";if(Y(y))return"Safari";if((y.includes("chrome/")||nt(y))&&!y.includes("edge/"))return"Chrome";if(we(y))return"Android";{const x=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function re(C=(0,v.z$)()){return/firefox\//i.test(C)}function Y(C=(0,v.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function nt(C=(0,v.z$)()){return/crios\//i.test(C)}function oe(C=(0,v.z$)()){return/iemobile/i.test(C)}function we(C=(0,v.z$)()){return/android/i.test(C)}function se(C=(0,v.z$)()){return/blackberry/i.test(C)}function He(C=(0,v.z$)()){return/webos/i.test(C)}function ht(C=(0,v.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function At(C=(0,v.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Dr(C=(0,v.z$)()){return ht(C)||we(C)||He(C)||se(C)||/windows phone/i.test(C)||oe(C)}function wi(C,y=[]){let _;switch(C){case"Browser":_=ee((0,v.z$)());break;case"Worker":_=`${ee((0,v.z$)())}-${C}`;break;default:_=C}const x=y.length?y.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${x}`}class jr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,_){const x=ae=>new Promise((ft,Ft)=>{try{ft(y(ae))}catch(wn){Ft(wn)}});x.onAbort=_,this.queue.push(x);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(y){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===y)return;const x=[];try{for(const W of _.queue)yield W(y),W.onAbort&&x.push(W.onAbort)}catch(W){x.reverse();for(const ae of x)try{ae()}catch(ft){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==W?void 0:W.message})}})()}}class Hr{constructor(y,_,x){this.app=y,this.heartbeatServiceProvider=_,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(y,_){var x=this;return _&&(this._popupRedirectResolver=Ge(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var W,ae;if(!x._deleted&&(x.persistenceManager=yield Ee.create(x,y),!x._deleted)){if(null!==(W=x._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch(ft){}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(ae=x.currentUser)||void 0===ae?void 0:ae.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,l.Z)(function*(){if(y._deleted)return;const _=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||_){if(y.currentUser&&_&&y.currentUser.uid===_.uid)return y._currentUser._assign(_),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(_,!0)}})()}initializeCurrentUser(y){var _=this;return(0,l.Z)(function*(){var x;const W=yield _.assertedPersistence.getCurrentUser();let ae=W,ft=!1;if(y&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ft=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,wn=null==ae?void 0:ae._redirectEventId,hn=yield _.tryRedirectSignIn(y);(!Ft||Ft===wn)&&null!=hn&&hn.user&&(ae=hn.user,ft=!0)}if(!ae)return _.directlySetCurrentUser(null);if(!ae._redirectEventId){if(ft)try{yield _.beforeStateQueue.runMiddleware(ae)}catch(Ft){ae=W,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ft))}return ae?_.reloadAndSetCurrentUserOrClear(ae):_.directlySetCurrentUser(null)}return ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ae._redirectEventId?_.directlySetCurrentUser(ae):_.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(y){var _=this;return(0,l.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,y,!0)}catch(W){yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(y){var _=this;return(0,l.Z)(function*(){try{yield Lr(y)}catch(x){if("auth/network-request-failed"!==(null==x?void 0:x.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,l.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var _=this;return(0,l.Z)(function*(){const x=y?(0,v.m9)(y):null;return x&&ie(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(y,_=!1){var x=this;return(0,l.Z)(function*(){if(!x._deleted)return y&&ie(x.tenantId===y.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(y)),x.queue((0,l.Z)(function*(){yield x.directlySetCurrentUser(y),x.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,l.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Ge(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new v.LL("auth","Firebase",y())}onAuthStateChanged(y,_,x){return this.registerStateListener(this.authStateSubscription,y,_,x)}beforeAuthStateChanged(y,_){return this.beforeStateQueue.pushCallback(y,_)}onIdTokenChanged(y,_,x){return this.registerStateListener(this.idTokenSubscription,y,_,x)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,_){var x=this;return(0,l.Z)(function*(){const W=yield x.getOrInitRedirectPersistenceManager(_);return null===y?W.removeCurrentUser():W.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const x=y&&Ge(y)||_._popupRedirectResolver;ie(x,_,"argument-error"),_.redirectPersistenceManager=yield Ee.create(_,[Ge(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(y){var _=this;return(0,l.Z)(function*(){var x,W;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===y?_._currentUser:(null===(W=_.redirectUser)||void 0===W?void 0:W._redirectEventId)===y?_.redirectUser:null})()}_persistUserIfCurrent(y){var _=this;return(0,l.Z)(function*(){if(y===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,_,x,W){if(this._deleted)return()=>{};const ae="function"==typeof _?_:_.next.bind(_),ft=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ft,this,"internal-error"),ft.then(()=>ae(this.currentUser)),"function"==typeof _?y.addObserver(_,x,W):y.addObserver(_)}directlySetCurrentUser(y){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==y&&_._currentUser._stopProactiveRefresh(),y&&_.isProactiveRefreshEnabled&&y._startProactiveRefresh(),_.currentUser=y,y?yield _.assertedPersistence.setCurrentUser(y):yield _.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,l.Z)(function*(){var _;const x={"X-Client-Version":y.clientVersion};y.app.options.appId&&(x["X-Firebase-gmpid"]=y.app.options.appId);const W=yield null===(_=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return W&&(x["X-Firebase-Client"]=W),x})()}}function cr(C){return(0,v.m9)(C)}class ei{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,v.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cs(C,y,_){const x=cr(C);ie(x._canInitEmulator,x,"emulator-config-failed"),ie(/^https?:\/\//.test(y),x,"invalid-emulator-scheme");const W=!(null==_||!_.disableWarnings),ae=Fi(y),{host:ft,port:Ft}=function zn(C){const y=Fi(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(x);if(W){const ae=W[1];return{host:ae,port:Vr(x.substr(ae.length+1))}}{const[ae,ft]=x.split(":");return{host:ae,port:Vr(ft)}}}(y);x.config.emulator={url:`${ae}//${ft}${null===Ft?"":`:${Ft}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:ft,port:Ft,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Ar(){function C(){const y=document.createElement("p"),_=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Fi(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function Vr(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Pr{constructor(y,_){this.providerId=y,this.signInMethod=_}toJSON(){return be("not implemented")}_getIdTokenResponse(y){return be("not implemented")}_linkToIdToken(y,_){return be("not implemented")}_getReauthenticationResolver(y){return be("not implemented")}}function zr(C,y){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:resetPassword",Ie(C,y))})).apply(this,arguments)}function ts(C,y){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:update",Ie(C,y))})).apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(C,y){return tn(C,"POST","/v1/accounts:signInWithPassword",Ie(C,y))})).apply(this,arguments)}function Gr(C,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:sendOobCode",Ie(C,y))})).apply(this,arguments)}function de(){return(de=(0,l.Z)(function*(C,y){return Gr(C,y)})).apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(C,y){return Gr(C,y)})).apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(C,y){return Gr(C,y)})).apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(C,y){return Gr(C,y)})).apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(C,y){return tn(C,"POST","/v1/accounts:signInWithEmailLink",Ie(C,y))})).apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(C,y){return tn(C,"POST","/v1/accounts:signInWithEmailLink",Ie(C,y))})).apply(this,arguments)}class Mn extends Pr{constructor(y,_,x,W=null){super("password",x),this._email=y,this._password=_,this._tenantId=W}static _fromEmailAndPassword(y,_){return new Mn(y,_,"password")}static _fromEmailAndCode(y,_,x=null){return new Mn(y,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(y){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Nn(C,y){return Or.apply(this,arguments)}(y,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function bt(C,y){return Dt.apply(this,arguments)}(y,{email:_._email,oobCode:_._password});default:et(y,"internal-error")}})()}_linkToIdToken(y,_){var x=this;return(0,l.Z)(function*(){switch(x.signInMethod){case"password":return ts(y,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function $t(C,y){return ln.apply(this,arguments)}(y,{idToken:_,email:x._email,oobCode:x._password});default:et(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Zn(C,y){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(C,y){return tn(C,"POST","/v1/accounts:signInWithIdp",Ie(C,y))})).apply(this,arguments)}class Sn extends Pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const _=new Sn(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(_.idToken=y.idToken),y.accessToken&&(_.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(_.nonce=y.nonce),y.pendingToken&&(_.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(_.accessToken=y.oauthToken,_.secret=y.oauthTokenSecret):et("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:x,signInMethod:W}=_,ae=(0,Ne._T)(_,["providerId","signInMethod"]);if(!x||!W)return null;const ft=new Sn(x,W);return ft.idToken=ae.idToken||void 0,ft.accessToken=ae.accessToken||void 0,ft.secret=ae.secret,ft.nonce=ae.nonce,ft.pendingToken=ae.pendingToken||null,ft}_getIdTokenResponse(y){return Zn(y,this.buildRequest())}_linkToIdToken(y,_){const x=this.buildRequest();return x.idToken=_,Zn(y,x)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Zn(y,_)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),y.postBody=(0,v.xO)(_)}return y}}function ds(){return(ds=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:sendVerificationCode",Ie(C,y))})).apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(C,y){return tn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,y))})).apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(C,y){const _=yield tn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,y));if(_.temporaryProof)throw jn(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ri={USER_NOT_FOUND:"user-not-found"};function _i(){return(_i=(0,l.Z)(function*(C,y){return tn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ie(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Ri)})).apply(this,arguments)}class ci extends Pr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,_){return new ci({verificationId:y,verificationCode:_})}static _fromTokenResponse(y,_){return new ci({phoneNumber:y,temporaryProof:_})}_getIdTokenResponse(y){return function ns(C,y){return hs.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,_){return function Hi(C,y){return fs.apply(this,arguments)}(y,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Lo(C,y){return _i.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:_,verificationId:x,verificationCode:W}=this.params;return y&&_?{temporaryProof:y,phoneNumber:_}:{sessionInfo:x,code:W}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:_,verificationCode:x,phoneNumber:W,temporaryProof:ae}=y;return x||_||W||ae?new ci({verificationId:_,verificationCode:x,phoneNumber:W,temporaryProof:ae}):null}}class Li{constructor(y){var _,x,W,ae,ft,Ft;const wn=(0,v.zd)((0,v.pd)(y)),hn=null!==(_=wn.apiKey)&&void 0!==_?_:null,mr=null!==(x=wn.oobCode)&&void 0!==x?x:null,Ni=function $o(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=wn.mode)&&void 0!==W?W:null);ie(hn&&mr&&Ni,"argument-error"),this.apiKey=hn,this.operation=Ni,this.code=mr,this.continueUrl=null!==(ae=wn.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(ft=wn.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==(Ft=wn.tenantId)&&void 0!==Ft?Ft:null}static parseLink(y){const _=function bo(C){const y=(0,v.zd)((0,v.pd)(C)).link,_=y?(0,v.zd)((0,v.pd)(y)).deep_link_id:null,x=(0,v.zd)((0,v.pd)(C)).deep_link_id;return(x?(0,v.zd)((0,v.pd)(x)).link:null)||x||_||y||C}(y);try{return new Li(_)}catch(x){return null}}}let Gs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,x){return Mn._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const W=Li.parseLink(x);return ie(W,"argument-error"),Mn._fromEmailAndCode(_,W.code,W.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Gi{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ps extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Ii extends Ps{static credentialFromJSON(y){const _="string"==typeof y?JSON.parse(y):y;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),Sn._fromParams(_)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ie(y.idToken||y.accessToken,"argument-error"),Sn._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Ii.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Ii.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:W,pendingToken:ae,nonce:ft,providerId:Ft}=y;if(!x&&!W&&!_&&!ae||!Ft)return null;try{return new Ii(Ft)._credential({idToken:_,accessToken:x,nonce:ft,pendingToken:ae})}catch(wn){return null}}}let so=(()=>{class C extends Ps{constructor(){super("facebook.com")}static credential(_){return Sn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(x){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),oo=(()=>{class C extends Ps{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return Sn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:W}=_;if(!x&&!W)return null;try{return C.credential(x,W)}catch(ae){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ca=(()=>{class C extends Ps{constructor(){super("github.com")}static credential(_){return Sn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(x){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class rs extends Pr{constructor(y,_){super(y,y),this.pendingToken=_}_getIdTokenResponse(y){return Zn(y,this.buildRequest())}_linkToIdToken(y,_){const x=this.buildRequest();return x.idToken=_,Zn(y,x)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Zn(y,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:x,signInMethod:W,pendingToken:ae}=_;return x&&W&&ae&&x===W?new rs(x,ae):null}static _create(y,_){return new rs(y,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $i extends Gi{constructor(y){ie(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return $i.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return $i.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const _=rs.fromJSON(y);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:_,providerId:x}=y;if(!_||!x)return null;try{return rs._create(x,_)}catch(W){return null}}}let is=(()=>{class C extends Ps{constructor(){super("twitter.com")}static credential(_,x){return Sn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:W}=_;if(!x||!W)return null;try{return C.credential(x,W)}catch(ae){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Io(C,y){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(C,y){return tn(C,"POST","/v1/accounts:signUp",Ie(C,y))})).apply(this,arguments)}class Di{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,_,x,W=!1){return(0,l.Z)(function*(){const ae=yield bn._fromIdTokenResponse(y,x,W),ft=Do(x);return new Di({user:ae,providerId:ft,_tokenResponse:x,operationType:_})})()}static _forOperation(y,_,x){return(0,l.Z)(function*(){yield y._updateTokensIfNecessary(x,!0);const W=Do(x);return new Di({user:y,providerId:W,_tokenResponse:x,operationType:_})})()}}function Do(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ws(C){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(C){var y;const _=cr(C);if(yield _._initializationPromise,null!==(y=_.currentUser)&&void 0!==y&&y.isAnonymous)return new Di({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield Io(_,{returnSecureToken:!0}),W=yield Di._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(W.user),W})).apply(this,arguments)}class lo extends v.ZR{constructor(y,_,x,W){var ae;super(_.code,_.message),this.operationType=x,this.user=W,Object.setPrototypeOf(this,lo.prototype),this.customData={appName:y.name,tenantId:null!==(ae=y.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(y,_,x,W){return new lo(y,_,x,W)}}function Bi(C,y,_,x){return("reauthenticate"===y?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?lo._fromErrorAndOperation(C,ae,y,x):ae})}function qs(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function ti(C,y){return Ts.apply(this,arguments)}function Ts(){return Ts=(0,l.Z)(function*(C,y){const _=(0,v.m9)(C);yield Ci(!0,_,y);const{providerUserInfo:x}=yield function on(C,y){return An.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[y]}),W=qs(x||[]);return _.providerData=_.providerData.filter(ae=>W.has(ae.providerId)),W.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Ts.apply(this,arguments)}function Ss(C,y){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(C,y,_=!1){const x=yield ir(C,y._linkToIdToken(C.auth,yield C.getIdToken()),_);return Di._forOperation(C,"link",x)})).apply(this,arguments)}function Ci(C,y,_){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(C,y,_){yield Lr(y);const W=!1===C?"provider-already-linked":"no-such-provider";ie(qs(y.providerData).has(_)===C,y.auth,W)})).apply(this,arguments)}function As(C,y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(C,y,_=!1){const{auth:x}=C,W="reauthenticate";try{const ae=yield ir(C,Bi(x,W,y,C),_);ie(ae.idToken,x,"internal-error");const ft=Jt(ae.idToken);ie(ft,x,"internal-error");const{sub:Ft}=ft;return ie(C.uid===Ft,x,"user-mismatch"),Di._forOperation(C,W,ae)}catch(ae){throw"auth/user-not-found"===(null==ae?void 0:ae.code)&&et(x,"user-mismatch"),ae}})).apply(this,arguments)}function Vo(C,y){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(C,y,_=!1){const x="signIn",W=yield Bi(C,x,y),ae=yield Di._fromIdTokenResponse(C,x,W);return _||(yield C._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Co(C,y){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(C,y){return Vo(cr(C),y)})).apply(this,arguments)}function di(C,y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(C,y){const _=(0,v.m9)(C);return yield Ci(!1,_,y.providerId),Ss(_,y)})).apply(this,arguments)}function si(C,y){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(C,y){return As((0,v.m9)(C),y)})).apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(C,y){return tn(C,"POST","/v1/accounts:signInWithCustomToken",Ie(C,y))})).apply(this,arguments)}function So(C,y){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,l.Z)(function*(C,y){const _=cr(C),x=yield function Ns(C,y){return ni.apply(this,arguments)}(_,{token:y,returnSecureToken:!0}),W=yield Di._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(W.user),W}),Fs.apply(this,arguments)}class ps{constructor(y,_){this.factorId=y,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(y,_){return"phoneInfo"in _?pi._fromServerResponse(y,_):et(y,"internal-error")}}class pi extends ps{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,_){return new pi(_)}}function Ei(C,y,_){var x;ie((null===(x=_.url)||void 0===x?void 0:x.length)>0,C,"invalid-continue-uri"),ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=_.url,y.dynamicLinkDomain=_.dynamicLinkDomain,y.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=_.android.installApp,y.androidMinimumVersionCode=_.android.minimumVersion,y.androidPackageName=_.android.packageName)}function Zo(C,y,_){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),W={requestType:"PASSWORD_RESET",email:y};_&&Ei(x,W,_),yield function qe(C,y){return ot.apply(this,arguments)}(x,W)}),Ms.apply(this,arguments)}function gs(C,y,_){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(C,y,_){yield zr((0,v.m9)(C),{oobCode:y,newPassword:_})})).apply(this,arguments)}function ca(C,y){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,l.Z)(function*(C,y){yield function ui(C,y){return Gt.apply(this,arguments)}((0,v.m9)(C),{oobCode:y})}),Fn.apply(this,arguments)}function Qo(C,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(C,y){const _=(0,v.m9)(C),x=yield zr(_,{oobCode:y}),W=x.requestType;switch(ie(W,_,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(x.mfaInfo,_,"internal-error");default:ie(x.email,_,"internal-error")}let ae=null;return x.mfaInfo&&(ae=ps._fromServerResponse(cr(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:ae},operation:W}})).apply(this,arguments)}function Ks(C,y){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(C,y){const{data:_}=yield Qo((0,v.m9)(C),y);return _.email})).apply(this,arguments)}function Wa(C,y,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(C,y,_){const x=cr(C),W=yield Io(x,{returnSecureToken:!0,email:y,password:_}),ae=yield Di._fromIdTokenResponse(x,"signIn",W);return yield x._updateCurrentUser(ae.user),ae})).apply(this,arguments)}function Ho(C,y,_){return Co((0,v.m9)(C),Gs.credential(y,_))}function $(C,y,_){return d.apply(this,arguments)}function d(){return d=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),W={requestType:"EMAIL_SIGNIN",email:y};ie(_.handleCodeInApp,x,"argument-error"),_&&Ei(x,W,_),yield function wt(C,y){return te.apply(this,arguments)}(x,W)}),d.apply(this,arguments)}function m(C,y){const _=Li.parseLink(y);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function f(C,y,_){return M.apply(this,arguments)}function M(){return(M=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),W=Gs.credentialWithLink(y,_||ne());return ie(W._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Co(x,W)})).apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:createAuthUri",Ie(C,y))})).apply(this,arguments)}function Lt(C,y){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,l.Z)(function*(C,y){const x={identifier:y,continueUri:De()?ne():"http://localhost"},{signinMethods:W}=yield function H(C,y){return ut.apply(this,arguments)}((0,v.m9)(C),x);return W||[]}),Wt.apply(this,arguments)}function Rn(C,y){return nr.apply(this,arguments)}function nr(){return nr=(0,l.Z)(function*(C,y){const _=(0,v.m9)(C),W={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Ei(_.auth,W,y);const{email:ae}=yield function q(C,y){return de.apply(this,arguments)}(_.auth,W);ae!==C.email&&(yield C.reload())}),nr.apply(this,arguments)}function $r(C,y,_){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};_&&Ei(x.auth,ae,_);const{email:ft}=yield function Ye(C,y){return lt.apply(this,arguments)}(x.auth,ae);ft!==C.email&&(yield C.reload())}),Gn.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(C,y){return tt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function oi(C,y){return uo.apply(this,arguments)}function uo(){return uo=(0,l.Z)(function*(C,{displayName:y,photoURL:_}){if(void 0===y&&void 0===_)return;const x=(0,v.m9)(C),ae={idToken:yield x.getIdToken(),displayName:y,photoUrl:_,returnSecureToken:!0},ft=yield ir(x,function Ut(C,y){return dr.apply(this,arguments)}(x.auth,ae));x.displayName=ft.displayName||null,x.photoURL=ft.photoUrl||null;const Ft=x.providerData.find(({providerId:wn})=>"password"===wn);Ft&&(Ft.displayName=x.displayName,Ft.photoURL=x.photoURL),yield x._updateTokensIfNecessary(ft)}),uo.apply(this,arguments)}function ms(C,y){return co((0,v.m9)(C),y,null)}function os(C,y){return co((0,v.m9)(C),null,y)}function co(C,y,_){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(C,y,_){const{auth:x}=C,ae={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(ae.email=y),_&&(ae.password=_);const ft=yield ir(C,ts(x,ae));yield C._updateTokensIfNecessary(ft,!0)})).apply(this,arguments)}class da{constructor(y,_,x={}){this.isNewUser=y,this.providerId=_,this.profile=x}}class Xo extends da{constructor(y,_,x,W){super(y,_,x),this.username=W}}class Ta extends da{constructor(y,_){super(y,"facebook.com",_)}}class Yi extends Xo{constructor(y,_){super(y,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ao extends da{constructor(y,_){super(y,"google.com",_)}}class Au extends Xo{constructor(y,_,x){super(y,"twitter.com",_,x)}}function Sa(C){const{user:y,_tokenResponse:_}=C;return y.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function qa(C){var y,_;if(!C)return null;const{providerId:x}=C,W=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ae=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!x&&null!=C&&C.idToken){const ft=null===(_=null===(y=Jt(C.idToken))||void 0===y?void 0:y.firebase)||void 0===_?void 0:_.sign_in_provider;if(ft)return new da(ae,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!x)return null;switch(x){case"facebook.com":return new Ta(ae,W);case"github.com":return new Yi(ae,W);case"google.com":return new Ao(ae,W);case"twitter.com":return new Au(ae,W,C.screenName||null);case"custom":case"anonymous":return new da(ae,null);default:return new da(ae,x,W)}}(_)}class yi{constructor(y,_,x){this.type=y,this.credential=_,this.auth=x}static _fromIdtoken(y,_){return new yi("enroll",y,_)}static _fromMfaPendingCredential(y){return new yi("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var _,x;if(null!=y&&y.multiFactorSession){if(null!==(_=y.multiFactorSession)&&void 0!==_&&_.pendingCredential)return yi._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(x=y.multiFactorSession)&&void 0!==x&&x.idToken)return yi._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Qt{constructor(y,_,x){this.session=y,this.hints=_,this.signInResolver=x}static _fromError(y,_){const x=cr(y),W=_.customData._serverResponse,ae=(W.mfaInfo||[]).map(Ft=>ps._fromServerResponse(x,Ft));ie(W.mfaPendingCredential,x,"internal-error");const ft=yi._fromMfaPendingCredential(W.mfaPendingCredential);return new Qt(ft,ae,function(){var Ft=(0,l.Z)(function*(wn){const hn=yield wn._process(x,ft);delete W.mfaInfo,delete W.mfaPendingCredential;const mr=Object.assign(Object.assign({},W),{idToken:hn.idToken,refreshToken:hn.refreshToken});switch(_.operationType){case"signIn":const Ni=yield Di._fromIdTokenResponse(x,_.operationType,mr);return yield x._updateCurrentUser(Ni.user),Ni;case"reauthenticate":return ie(_.user,x,"internal-error"),Di._forOperation(_.user,_.operationType,mr);default:et(x,"internal-error")}});return function(wn){return Ft.apply(this,arguments)}}())}resolveSignIn(y){var _=this;return(0,l.Z)(function*(){return _.signInResolver(y)})()}}function ml(C,y){var _;const x=(0,v.m9)(C),W=y;return ie(y.customData.operationType,x,"argument-error"),ie(null===(_=W.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),Qt._fromError(x,W)}class ea{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>ps._fromServerResponse(y.auth,x)))})}static _fromUser(y){return new ea(y)}getSession(){var y=this;return(0,l.Z)(function*(){return yi._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,_){var x=this;return(0,l.Z)(function*(){const W=y,ae=yield x.getSession(),ft=yield ir(x.user,W._process(x.user.auth,ae,_));return yield x.user._updateTokensIfNecessary(ft),x.user.reload()})()}unenroll(y){var _=this;return(0,l.Z)(function*(){const x="string"==typeof y?y:y.uid,W=yield _.user.getIdToken();try{const ae=yield ir(_.user,function yl(C,y){return tt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(C,y))}(_.user.auth,{idToken:W,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ft})=>ft!==x),yield _.user._updateTokensIfNecessary(ae),yield _.user.reload()}catch(ae){throw ae}})()}}const Nl=new WeakMap;function ta(C){const y=(0,v.m9)(C);return Nl.has(y)||Nl.set(y,ea._fromUser(y)),Nl.get(y)}const ha="__sak";class R{constructor(y,_){this.storageRetriever=y,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,_){return this.storage.setItem(y,JSON.stringify(_)),Promise.resolve()}_get(y){const _=this.storage.getItem(y);return Promise.resolve(_?JSON.parse(_):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const ct=(()=>{class C extends R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function j(){const C=(0,v.z$)();return Y(C)||ht(C)}()&&function vi(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Dr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const W=this.storage.getItem(x),ae=this.localCache[x];W!==ae&&_(x,ae,W)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((Ft,wn,hn)=>{this.notifyListeners(Ft,hn)});const W=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ft=this.storage.getItem(W);if(_.newValue!==Ft)null!==_.newValue?this.storage.setItem(W,_.newValue):this.storage.removeItem(W);else if(this.localCache[W]===_.newValue&&!x)return}const ae=()=>{const Ft=this.storage.getItem(W);!x&&this.localCache[W]===Ft||this.notifyListeners(W,Ft)},ft=this.storage.getItem(W);!function cn(){return(0,v.w1)()&&10===document.documentMode}()||ft===_.newValue||_.newValue===_.oldValue?ae():setTimeout(ae,10)}notifyListeners(_,x){this.localCache[_]=x;const W=this.listeners[_];if(W)for(const ae of Array.from(W))ae(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var W=()=>super._set,ae=this;return(0,l.Z)(function*(){yield W().call(ae,_,x),ae.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,W=this;return(0,l.Z)(function*(){const ae=yield x().call(W,_);return W.localCache[_]=JSON.stringify(ae),ae})()}_remove(_){var x=()=>super._remove,W=this;return(0,l.Z)(function*(){yield x().call(W,_),delete W.localCache[_]})()}}return C.type="LOCAL",C})(),yn=(()=>{class C extends R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return C.type="SESSION",C})();let Cr=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(ae=>ae.isListeningto(_));if(x)return x;const W=new C(_);return this.receivers.push(W),W}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,l.Z)(function*(){const W=_,{eventId:ae,eventType:ft,data:Ft}=W.data,wn=x.handlersMap[ft];if(null==wn||!wn.size)return;W.ports[0].postMessage({status:"ack",eventId:ae,eventType:ft});const hn=Array.from(wn).map(function(){var Ni=(0,l.Z)(function*(al){return al(W.origin,Ft)});return function(al){return Ni.apply(this,arguments)}}()),mr=yield function wr(C){return Promise.all(C.map(function(){var y=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return y.apply(this,arguments)}}()))}(hn);W.ports[0].postMessage({status:"done",eventId:ae,eventType:ft,response:mr})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Ln(C="",y=10){let _="";for(let x=0;x<y;x++)_+=Math.floor(10*Math.random());return C+_}class pr{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,_,x=50){var W=this;return(0,l.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let ft,Ft;return new Promise((wn,hn)=>{const mr=Ln("",20);ae.port1.start();const Ni=setTimeout(()=>{hn(new Error("unsupported_event"))},x);Ft={messageChannel:ae,onMessage(al){const ll=al;if(ll.data.eventId===mr)switch(ll.data.status){case"ack":clearTimeout(Ni),ft=setTimeout(()=>{hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),wn(ll.data.response);break;default:clearTimeout(Ni),clearTimeout(ft),hn(new Error("invalid_response"))}}},W.handlers.add(Ft),ae.port1.addEventListener("message",Ft.onMessage),W.target.postMessage({eventType:y,eventId:mr,data:_},[ae.port2])}).finally(()=>{Ft&&W.removeMessageHandler(Ft)})})()}}function rr(){return window}function ri(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}function ai(){return(ai=(0,l.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const na="firebaseLocalStorageDb",Oi=1,Go="firebaseLocalStorage",ra="fbase_key";class ia{constructor(y){this.request=y}toPromise(){return new Promise((y,_)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ho(C,y){return C.transaction([Go],y?"readwrite":"readonly").objectStore(Go)}function Wo(){const C=indexedDB.open(na,Oi);return new Promise((y,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const x=C.result;try{x.createObjectStore(Go,{keyPath:ra})}catch(W){_(W)}}),C.addEventListener("success",(0,l.Z)(function*(){const x=C.result;x.objectStoreNames.contains(Go)?y(x):(x.close(),yield function Fl(){const C=indexedDB.deleteDatabase(na);return new ia(C).toPromise()}(),y(yield Wo()))}))})}function Ya(C,y,_){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(C,y,_){const x=ho(C,!0).put({[ra]:y,value:_});return new ia(x).toPromise()})).apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(C,y){const _=ho(C,!1).get(y),x=yield new ia(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Ma(C,y){const _=ho(C,!0).delete(y);return new ia(_).toPromise()}const qo=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Wo()),_.db})()}_withRetries(_){var x=this;return(0,l.Z)(function*(){let W=0;for(;;)try{const ae=yield x._openDb();return yield _(ae)}catch(ae){if(W++>3)throw ae;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return ri()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Cr._getInstance(function Zs(){return ri()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,l.Z)(function*(W,ae){return{keyProcessed:(yield _._poll()).includes(ae.key)}});return function(W,ae){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,l.Z)(function*(W,ae){return["keyChanged"]});return function(W,ae){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var x,W;if(_.activeServiceWorker=yield function $s(){return ai.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new pr(_.activeServiceWorker);const ae=yield _.sender._send("ping",{},800);ae&&null!==(x=ae[0])&&void 0!==x&&x.fulfilled&&null!==(W=ae[0])&&void 0!==W&&W.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,l.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function ys(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch(W){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Wo();return yield Ya(_,ha,"1"),yield Ma(_,ha),!0}catch(_){}return!1})()}_withPendingWrite(_){var x=this;return(0,l.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var W=this;return(0,l.Z)(function*(){return W._withPendingWrite((0,l.Z)(function*(){return yield W._withRetries(ae=>Ya(ae,_,x)),W.localCache[_]=x,W.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,l.Z)(function*(){const W=yield x._withRetries(ae=>function Qs(C,y){return vl.apply(this,arguments)}(ae,_));return x.localCache[_]=W,W})()}_remove(_){var x=this;return(0,l.Z)(function*(){return x._withPendingWrite((0,l.Z)(function*(){return yield x._withRetries(W=>Ma(W,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const x=yield _._withRetries(ft=>{const Ft=ho(ft,!1).getAll();return new ia(Ft).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const W=[],ae=new Set;for(const{fbase_key:ft,value:Ft}of x)ae.add(ft),JSON.stringify(_.localCache[ft])!==JSON.stringify(Ft)&&(_.notifyListeners(ft,Ft),W.push(ft));for(const ft of Object.keys(_.localCache))_.localCache[ft]&&!ae.has(ft)&&(_.notifyListeners(ft,null),W.push(ft));return W})()}notifyListeners(_,x){this.localCache[_]=x;const W=this.listeners[_];if(W)for(const ae of Array.from(W))ae(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function fo(){return(fo=(0,l.Z)(function*(C){return(yield tt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zi(C){return new Promise((y,_)=>{const x=document.createElement("script");x.setAttribute("src",C),x.onload=y,x.onerror=W=>{const ae=ze("internal-error");ae.customData=W,_(ae)},x.type="text/javascript",x.charset="UTF-8",function Qa(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(x)})}function sa(C){return`__${C}${Math.floor(1e6*Math.random())}`}const vs=1e12;class Ra{constructor(y){this.auth=y,this.counter=vs,this._widgets=new Map}render(y,_){const x=this.counter;return this._widgets.set(x,new Oa(y,this.auth.name,_||{})),this.counter++,x}reset(y){var _;const x=y||vs;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(y){var _;return(null===(_=this._widgets.get(y||vs))||void 0===_?void 0:_.getResponse())||""}execute(y){var _=this;return(0,l.Z)(function*(){var x;return null===(x=_._widgets.get(y||vs))||void 0===x||x.execute(),""})()}}class Oa{constructor(y,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof y?document.getElementById(y):y;ie(W,"argument-error",{appName:_}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ru(C){const y=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<C;x++)y.push(_.charAt(Math.floor(Math.random()*_.length)));return y.join("")}(50);const{callback:y,"expired-callback":_}=this.params;if(y)try{y(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xa=sa("rcb"),_l=new Ae(3e4,6e4);class Bs{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=rr().grecaptcha)||void 0===y||!y.render)}load(y,_=""){return ie(function Ja(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),y,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(rr().grecaptcha):new Promise((x,W)=>{const ae=rr().setTimeout(()=>{W(ze(y,"network-request-failed"))},_l.get());rr()[Xa]=()=>{rr().clearTimeout(ae),delete rr()[Xa];const Ft=rr().grecaptcha;if(!Ft)return void W(ze(y,"internal-error"));const wn=Ft.render;Ft.render=(hn,mr)=>{const Ni=wn(hn,mr);return this.counter++,Ni},this.hostLanguage=_,x(Ft)},Zi(`https://www.google.com/recaptcha/api.js??${(0,v.xO)({onload:Xa,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ae),W(ze(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var _;return!(null===(_=rr().grecaptcha)||void 0===_||!_.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mo{load(y){return(0,l.Z)(function*(){return new Ra(y)})()}clearedOneInstance(){}}const Pa="recaptcha",ka={theme:"light",type:"image"};class pa{constructor(y,_=Object.assign({},ka),x){this.parameters=_,this.type=Pa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cr(x),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof y?document.getElementById(y):y;ie(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mo:new Bs,this.validateStartingState()}verify(){var y=this;return(0,l.Z)(function*(){y.assertNotDestroyed();const _=yield y.render(),x=y.getAssertedRecaptcha();return x.getResponse(_)||new Promise(ae=>{const ft=Ft=>{Ft&&(y.tokenChangeListeners.delete(ft),ae(Ft))};y.tokenChangeListeners.add(ft),y.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof y)y(_);else if("string"==typeof y){const x=rr()[y];"function"==typeof x&&x(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,l.Z)(function*(){if(yield y.init(),!y.widgetId){let _=y.container;if(!y.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}y.widgetId=y.getAssertedRecaptcha().render(_,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,l.Z)(function*(){ie(De()&&!ri(),y.auth,"internal-error"),yield function el(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const _=yield function xu(C){return fo.apply(this,arguments)}(y.auth);ie(_,y.auth,"internal-error"),y.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ko{constructor(y,_){this.verificationId=y,this.onConfirmation=_}confirm(y){const _=ci._fromVerification(this.verificationId,y);return this.onConfirmation(_)}}function ad(C,y,_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,l.Z)(function*(C,y,_){const x=cr(C),W=yield nu(x,y,(0,v.m9)(_));return new Ko(W,ae=>Co(x,ae))})).apply(this,arguments)}function sr(C,y,_){return tl.apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);yield Ci(!1,x,"phone");const W=yield nu(x.auth,y,(0,v.m9)(_));return new Ko(W,ae=>di(x,ae))})).apply(this,arguments)}function $l(C,y,_){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C),W=yield nu(x.auth,y,(0,v.m9)(_));return new Ko(W,ae=>si(x,ae))})).apply(this,arguments)}function nu(C,y,_){return ru.apply(this,arguments)}function ru(){return ru=(0,l.Z)(function*(C,y,_){var x;const W=yield _.verify();try{let ae;if(ie("string"==typeof W,C,"argument-error"),ie(_.type===Pa,C,"argument-error"),ae="string"==typeof y?{phoneNumber:y}:y,"session"in ae){const ft=ae.session;if("phoneNumber"in ae)return ie("enroll"===ft.type,C,"internal-error"),(yield function Cn(C,y){return tt(C,"POST","/v2/accounts/mfaEnrollment:start",Ie(C,y))}(C,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ie("signin"===ft.type,C,"internal-error");const Ft=(null===(x=ae.multiFactorHint)||void 0===x?void 0:x.uid)||ae.multiFactorUid;return ie(Ft,C,"missing-multi-factor-info"),(yield function eu(C,y){return tt(C,"POST","/v2/accounts/mfaSignIn:start",Ie(C,y))}(C,{mfaPendingCredential:ft.credential,mfaEnrollmentId:Ft,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield function Ds(C,y){return ds.apply(this,arguments)}(C,{phoneNumber:ae.phoneNumber,recaptchaToken:W});return ft}}finally{_._reset()}}),ru.apply(this,arguments)}function hc(C,y){return fc.apply(this,arguments)}function fc(){return(fc=(0,l.Z)(function*(C,y){yield Ss((0,v.m9)(C),y)})).apply(this,arguments)}let El=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=cr(_)}verifyPhoneNumber(_,x){return nu(this.auth,_,(0,v.m9)(x))}static credential(_,x){return ci._fromVerification(_,x)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:W}=_;return x&&W?ci._fromTokenResponse(x,W):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function ga(C,y){return y?Ge(y):(ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class pc extends Pr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Zn(y,this._buildIdpRequest())}_linkToIdToken(y,_){return Zn(y,this._buildIdpRequest(_))}_getReauthenticationResolver(y){return Zn(y,this._buildIdpRequest())}_buildIdpRequest(y){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(_.idToken=y),_}}function li(C){return Vo(C.auth,new pc(C),C.bypassAuthState)}function Bl(C){const{auth:y,user:_}=C;return ie(_,y,"internal-error"),As(_,new pc(C),C.bypassAuthState)}function nl(C){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(C){const{auth:y,user:_}=C;return ie(_,y,"internal-error"),Ss(_,new pc(C),C.bypassAuthState)})).apply(this,arguments)}class as{constructor(y,_,x,W,ae=!1){this.auth=y,this.resolver=x,this.user=W,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var y=this;return new Promise(function(){var _=(0,l.Z)(function*(x,W){y.pendingPromise={resolve:x,reject:W};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(ae){y.reject(ae)}});return function(x,W){return _.apply(this,arguments)}}())}onAuthEvent(y){var _=this;return(0,l.Z)(function*(){const{urlResponse:x,sessionId:W,postBody:ae,tenantId:ft,error:Ft,type:wn}=y;if(Ft)return void _.reject(Ft);const hn={auth:_.auth,requestUri:x,sessionId:W,tenantId:ft||void 0,postBody:ae||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(wn)(hn))}catch(mr){_.reject(mr)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return li;case"linkViaPopup":case"linkViaRedirect":return nl;case"reauthViaPopup":case"reauthViaRedirect":return Bl;default:et(this.auth,"internal-error")}}resolve(y){We(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){We(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xo=new Ae(2e3,1e4);function bl(C,y,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(C,y,_){const x=cr(C);Ke(C,y,Gi);const W=ga(x,_);return new Ul(x,"signInViaPopup",y,W).executeNotNull()})).apply(this,arguments)}function Ro(C,y,_){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);Ke(x.auth,y,Gi);const W=ga(x.auth,_);return new Ul(x.auth,"reauthViaPopup",y,W,x).executeNotNull()})).apply(this,arguments)}function ld(C,y,_){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);Ke(x.auth,y,Gi);const W=ga(x.auth,_);return new Ul(x.auth,"linkViaPopup",y,W,x).executeNotNull()})).apply(this,arguments)}let Ul=(()=>{class C extends as{constructor(_,x,W,ae,ft){super(_,x,ae,ft),this.provider=W,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const x=yield _.execute();return ie(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,l.Z)(function*(){We(1===_.filter.length,"Popup operations only handle one event");const x=Ln();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(W=>{_.reject(W)}),_.resolver._isIframeWebStorageSupported(_.auth,W=>{W||_.reject(ze(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,W;this.pollId=null!==(W=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,xo.get())};_()}}return C.currentPopupAction=null,C})();const go="pendingRedirect",I=new Map;class D extends as{constructor(y,_,x=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var y=()=>super.execute,_=this;return(0,l.Z)(function*(){let x=I.get(_.auth._key());if(!x){try{const ae=(yield function E(C,y){return T.apply(this,arguments)}(_.resolver,_.auth))?yield y().call(_):null;x=()=>Promise.resolve(ae)}catch(W){x=()=>Promise.reject(W)}I.set(_.auth._key(),x)}return _.bypassAuthState||I.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(y){var _=()=>super.onAuthEvent,x=this;return(0,l.Z)(function*(){if("signInViaRedirect"===y.type)return _().call(x,y);if("unknown"!==y.type){if(y.eventId){const W=yield x.auth._redirectUserForId(y.eventId);if(W)return x.user=W,_().call(x,y);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,l.Z)(function*(C,y){const _=qt(y),x=_t(C);if(!(yield x._isAvailable()))return!1;const W="true"===(yield x._get(_));return yield x._remove(_),W})).apply(this,arguments)}function L(C,y){return G.apply(this,arguments)}function G(){return(G=(0,l.Z)(function*(C,y){return _t(C)._set(qt(y),"true")})).apply(this,arguments)}function J(){I.clear()}function Ze(C,y){I.set(C._key(),y)}function _t(C){return Ge(C._redirectPersistence)}function qt(C){return ke(go,C.config.apiKey,C.name)}function Xt(C,y,_){return function un(C,y,_){return xr.apply(this,arguments)}(C,y,_)}function xr(){return(xr=(0,l.Z)(function*(C,y,_){const x=cr(C);Ke(C,y,Gi),yield x._initializationPromise;const W=ga(x,_);return yield L(W,x),W._openRedirect(x,y,"signInViaRedirect")})).apply(this,arguments)}function ii(C,y,_){return function k(C,y,_){return B.apply(this,arguments)}(C,y,_)}function B(){return(B=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);Ke(x.auth,y,Gi),yield x.auth._initializationPromise;const W=ga(x.auth,_);yield L(W,x.auth);const ae=yield xn(x);return W._openRedirect(x.auth,y,"reauthViaRedirect",ae)})).apply(this,arguments)}function K(C,y,_){return function xe(C,y,_){return st.apply(this,arguments)}(C,y,_)}function st(){return(st=(0,l.Z)(function*(C,y,_){const x=(0,v.m9)(C);Ke(x.auth,y,Gi),yield x.auth._initializationPromise;const W=ga(x.auth,_);yield Ci(!1,x,y.providerId),yield L(W,x.auth);const ae=yield xn(x);return W._openRedirect(x.auth,y,"linkViaRedirect",ae)})).apply(this,arguments)}function yt(C,y){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(C,y){return yield cr(C)._initializationPromise,En(C,y,!1)})).apply(this,arguments)}function En(C,y){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(C,y,_=!1){const x=cr(C),W=ga(x,y),ft=yield new D(x,W,_).execute();return ft&&!_&&(delete ft.user._redirectEventId,yield x._persistUserIfCurrent(ft.user),yield x._setRedirectUser(null,y)),ft})).apply(this,arguments)}function xn(C){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(C){const y=Ln(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class mo{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(y,x)&&(_=!0,this.sendToConsumer(y,x),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function gc(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wl(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=y,_=!0)),_}sendToConsumer(y,_){var x;if(y.error&&!wl(y)){const W=(null===(x=y.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(ze(this.auth,W))}else _.onAuthEvent(y)}isEventForConsumer(y,_){const x=null===_.eventId||!!y.eventId&&y.eventId===_.eventId;return _.filter.includes(y.type)&&x}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ki(y))}saveEventToCache(y){this.cachedEventUids.add(ki(y)),this.lastProcessedEventTime=Date.now()}}function ki(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function wl({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Il(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(C,y={}){return tt(C,"GET","/v1/projects",y)})).apply(this,arguments)}const il=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Na=/^https?/;function Pu(){return(Pu=(0,l.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield Il(C);for(const _ of y)try{if(ku(_))return}catch(x){}et(C,"unauthorized-domain")})).apply(this,arguments)}function ku(C){const y=ne(),{protocol:_,hostname:x}=new URL(y);if(C.startsWith("chrome-extension://")){const ft=new URL(C);return""===ft.hostname&&""===x?"chrome-extension:"===_&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===_&&ft.hostname===x}if(!Na.test(_))return!1;if(il.test(C))return x===C;const W=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(x)}const Nu=new Ae(3e4,6e4);function mc(){const C=rr().___jsl;if(null!=C&&C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let ud=null;const cd=new Ae(5e3,15e3),Jv="__/auth/iframe",Fu="emulator/auth/iframe",Fa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ph(C){const y=C.config;ie(y.authDomain,C,"auth-domain-config-required");const _=y.emulator?$e(y,Fu):`https://${C.config.authDomain}/${Jv}`,x={apiKey:y.apiKey,appName:C.name,v:F.SDK_VERSION},W=fh.get(C.config.apiHost);W&&(x.eid=W);const ae=C._getFrameworks();return ae.length&&(x.fw=ae.join(",")),`${_}?${(0,v.xO)(x).slice(1)}`}function Si(){return Si=(0,l.Z)(function*(C){const y=yield function Zf(C){return ud=ud||function Xv(C){return new Promise((y,_)=>{var x,W,ae;function ft(){mc(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{mc(),_(ze(C,"network-request-failed"))},timeout:Nu.get()})}if(null!==(W=null===(x=rr().gapi)||void 0===x?void 0:x.iframes)&&void 0!==W&&W.Iframe)y(gapi.iframes.getContext());else{if(null===(ae=rr().gapi)||void 0===ae||!ae.load){const Ft=sa("iframefcb");return rr()[Ft]=()=>{gapi.load?ft():_(ze(C,"network-request-failed"))},Zi(`https://apis.google.com/js/api.js?onload=${Ft}`).catch(wn=>_(wn))}ft()}}).catch(y=>{throw ud=null,y})}(C),ud}(C),_=rr().gapi;return ie(_,C,"internal-error"),y.open({where:document.body,url:ph(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fa,dontclear:!0},x=>new Promise(function(){var W=(0,l.Z)(function*(ae,ft){yield x.restyle({setHideOnLeave:!1});const Ft=ze(C,"network-request-failed"),wn=rr().setTimeout(()=>{ft(Ft)},cd.get());function hn(){rr().clearTimeout(wn),ae(x)}x.ping(hn).then(hn,()=>{ft(Ft)})});return function(ae,ft){return W.apply(this,arguments)}}()))}),Si.apply(this,arguments)}const gh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yc=500,Lu=600,mh="_blank",yh="http://localhost";class vh{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}const jg="__/auth/handler",vc="emulator/auth/handler";function ol(C,y,_,x,W,ae){ie(C.config.authDomain,C,"auth-domain-config-required"),ie(C.config.apiKey,C,"invalid-api-key");const ft={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:x,v:F.SDK_VERSION,eventId:W};if(y instanceof Gi){y.setDefaultLanguage(C.languageCode),ft.providerId=y.providerId||"",(0,v.xb)(y.getCustomParameters())||(ft.customParameters=JSON.stringify(y.getCustomParameters()));for(const[wn,hn]of Object.entries(ae||{}))ft[wn]=hn}if(y instanceof Ps){const wn=y.getScopes().filter(hn=>""!==hn);wn.length>0&&(ft.scopes=wn.join(","))}C.tenantId&&(ft.tid=C.tenantId);const Ft=ft;for(const wn of Object.keys(Ft))void 0===Ft[wn]&&delete Ft[wn];return`${function _h({config:C}){return C.emulator?$e(C,vc):`https://${C.authDomain}/${jg}`}(C)}?${(0,v.xO)(Ft).slice(1)}`}const $u="webStorageSupport",iu=class Xf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yn,this._completeRedirectFn=En,this._overrideRedirectResult=Ze}_openPopup(y,_,x,W){var ae=this;return(0,l.Z)(function*(){var ft;We(null===(ft=ae.eventManagers[y._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const Ft=ol(y,_,x,ne(),W);return function Qf(C,y,_,x=yc,W=Lu){const ae=Math.max((window.screen.availHeight-W)/2,0).toString(),ft=Math.max((window.screen.availWidth-x)/2,0).toString();let Ft="";const wn=Object.assign(Object.assign({},gh),{width:x.toString(),height:W.toString(),top:ae,left:ft}),hn=(0,v.z$)().toLowerCase();_&&(Ft=nt(hn)?mh:_),re(hn)&&(y=y||yh,wn.scrollbars="yes");const mr=Object.entries(wn).reduce((al,[ll,su])=>`${al}${ll}=${su},`,"");if(function sn(C=(0,v.z$)()){var y;return ht(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(hn)&&"_self"!==Ft)return function sl(C,y){const _=document.createElement("a");_.href=C,_.target=y;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(y||"",Ft),new vh(null);const Ni=window.open(y||"",Ft,mr);ie(Ni,C,"popup-blocked");try{Ni.focus()}catch(al){}return new vh(Ni)}(y,Ft,Ln())})()}_openRedirect(y,_,x,W){var ae=this;return(0,l.Z)(function*(){return yield ae._originValidation(y),function Zr(C){rr().location.href=C}(ol(y,_,x,ne(),W)),new Promise(()=>{})})()}_initialize(y){const _=y._key();if(this.eventManagers[_]){const{manager:W,promise:ae}=this.eventManagers[_];return W?Promise.resolve(W):(We(ae,"If manager is not set, promise should be"),ae)}const x=this.initAndGetManager(y);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(y){var _=this;return(0,l.Z)(function*(){const x=yield function Ug(C){return Si.apply(this,arguments)}(y),W=new mo(y);return x.register("authEvent",ae=>(ie(null==ae?void 0:ae.authEvent,y,"invalid-auth-event"),{status:W.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[y._key()]={manager:W},_.iframes[y._key()]=x,W})()}_isIframeWebStorageSupported(y,_){this.iframes[y._key()].send($u,{type:$u},W=>{var ae;const ft=null===(ae=null==W?void 0:W[0])||void 0===ae?void 0:ae[$u];void 0!==ft&&_(!!ft),et(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function hh(C){return Pu.apply(this,arguments)}(y)),this.originValidationPromises[_]}get _shouldInitProactively(){return Dr()||Y()||ht()}};class Hg{constructor(y){this.factorId=y}_process(y,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(y,_.credential,x);case"signin":return this._finalizeSignIn(y,_.credential);default:return be("unexpected MultiFactorSessionType")}}}class dd extends Hg{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new dd(y)}_finalizeEnroll(y,_,x){return function Ka(C,y){return tt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(C,y))}(y,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,_){return function fa(C,y){return tt(C,"POST","/v2/accounts/mfaSignIn:finalize",Ie(C,y))}(y,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jf=(()=>{class C{constructor(){}static assertion(_){return dd._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var ep="@firebase/auth";class hd{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const _=this.auth.onIdTokenChanged(x=>{y((null==x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,_),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const _=this.internalListeners.get(y);_&&(this.internalListeners.delete(y),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bu=(0,v.Pz)("authIdTokenMaxAge")||300;let Ec=null;const tp=C=>function(){var y=(0,l.Z)(function*(_){const x=_&&(yield _.getIdTokenResult()),W=x&&((new Date).getTime()-Date.parse(x.issuedAtTime))/1e3;if(W&&W>Bu)return;const ae=null==x?void 0:x.token;Ec!==ae&&(Ec=ae,yield fetch(C,{method:ae?"POST":"DELETE",headers:ae?{Authorization:`Bearer ${ae}`}:{}}))});return function(_){return y.apply(this,arguments)}}();function zg(C=(0,F.getApp)()){const y=(0,F._getProvider)(C,"auth");if(y.isInitialized())return y.getImmediate();const _=function Qe(C,y){const _=(0,F._getProvider)(C,"auth");if(_.isInitialized()){const W=_.getImmediate(),ae=_.getOptions();if((0,v.vZ)(ae,null!=y?y:{}))return W;et(W,"already-initialized")}return _.initialize({options:y})}(C,{popupRedirectResolver:iu,persistence:[qo,ct,yn]}),x=(0,v.Pz)("authTokenSyncURL");if(x){const ae=tp(x);(function gl(C,y,_){(0,v.m9)(C).beforeAuthStateChanged(y,_)})(_,ae,()=>ae(_.currentUser)),function dc(C,y,_,x){(0,v.m9)(C).onIdTokenChanged(y,_,x)}(_,ft=>ae(ft))}const W=(0,v.q4)("auth");return W&&cs(_,`http://${W}`),_}!function _c(C){(0,F._registerComponent)(new Le.wA("auth",(y,{options:_})=>{const x=y.getProvider("app").getImmediate(),W=y.getProvider("heartbeat"),{apiKey:ae,authDomain:ft}=x.options;return((Ft,wn)=>{ie(ae&&!ae.includes(":"),"invalid-api-key",{appName:Ft.name}),ie(!(null!=ft&&ft.includes(":")),"argument-error",{appName:Ft.name});const hn={apiKey:ae,authDomain:ft,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wi(C)},mr=new Hr(Ft,wn,hn);return function Pe(C,y){const _=(null==y?void 0:y.persistence)||[],x=(Array.isArray(_)?_:[_]).map(Ge);null!=y&&y.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(x,null==y?void 0:y.popupRedirectResolver)}(mr,_),mr})(x,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,_,x)=>{y.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new Le.wA("auth-internal",y=>{const _=cr(y.getProvider("auth").getImmediate());return new hd(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(ep,"0.21.5",function fd(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,F.registerVersion)(ep,"0.21.5","esm2017")}("Browser")},2090:(jt,at,V)=>{"use strict";V.d(at,{$s:()=>mn,BH:()=>Ke,G6:()=>he,L:()=>Ue,LL:()=>X,P0:()=>et,Pz:()=>Se,Sg:()=>Re,UG:()=>We,US:()=>Le,ZB:()=>_e,ZR:()=>Te,aH:()=>ze,b$:()=>Qe,eu:()=>Ae,hl:()=>ue,jU:()=>rt,m9:()=>ur,ne:()=>pn,pd:()=>Br,q4:()=>je,r3:()=>jn,ru:()=>Ge,tV:()=>ye,uI:()=>be,vZ:()=>An,w1:()=>ne,xO:()=>Yn,xb:()=>vr,z$:()=>ie,zI:()=>$e,zd:()=>er});const Ce=function(ke){const Ee=[];let ee=0;for(let re=0;re<ke.length;re++){let Y=ke.charCodeAt(re);Y<128?Ee[ee++]=Y:Y<2048?(Ee[ee++]=Y>>6|192,Ee[ee++]=63&Y|128):55296==(64512&Y)&&re+1<ke.length&&56320==(64512&ke.charCodeAt(re+1))?(Y=65536+((1023&Y)<<10)+(1023&ke.charCodeAt(++re)),Ee[ee++]=Y>>18|240,Ee[ee++]=Y>>12&63|128,Ee[ee++]=Y>>6&63|128,Ee[ee++]=63&Y|128):(Ee[ee++]=Y>>12|224,Ee[ee++]=Y>>6&63|128,Ee[ee++]=63&Y|128)}return Ee},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ke,Ee){if(!Array.isArray(ke))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let Y=0;Y<ke.length;Y+=3){const nt=ke[Y],oe=Y+1<ke.length,we=oe?ke[Y+1]:0,se=Y+2<ke.length,He=se?ke[Y+2]:0;let sn=(15&we)<<2|He>>6,cn=63&He;se||(cn=64,oe||(sn=64)),re.push(ee[nt>>2],ee[(3&nt)<<4|we>>4],ee[sn],ee[cn])}return re.join("")},encodeString(ke,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(ke):this.encodeByteArray(Ce(ke),Ee)},decodeString(ke,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(ke):function(ke){const Ee=[];let ee=0,re=0;for(;ee<ke.length;){const Y=ke[ee++];if(Y<128)Ee[re++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const nt=ke[ee++];Ee[re++]=String.fromCharCode((31&Y)<<6|63&nt)}else if(Y>239&&Y<365){const se=((7&Y)<<18|(63&ke[ee++])<<12|(63&ke[ee++])<<6|63&ke[ee++])-65536;Ee[re++]=String.fromCharCode(55296+(se>>10)),Ee[re++]=String.fromCharCode(56320+(1023&se))}else{const nt=ke[ee++],oe=ke[ee++];Ee[re++]=String.fromCharCode((15&Y)<<12|(63&nt)<<6|63&oe)}}return Ee.join("")}(this.decodeStringToByteArray(ke,Ee))},decodeStringToByteArray(ke,Ee){this.init_();const ee=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let Y=0;Y<ke.length;){const nt=ee[ke.charAt(Y++)],we=Y<ke.length?ee[ke.charAt(Y)]:0;++Y;const He=Y<ke.length?ee[ke.charAt(Y)]:64;++Y;const At=Y<ke.length?ee[ke.charAt(Y)]:64;if(++Y,null==nt||null==we||null==He||null==At)throw new ve;re.push(nt<<2|we>>4),64!==He&&(re.push(we<<4&240|He>>2),64!==At&&re.push(He<<6&192|At))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ke=0;ke<this.ENCODED_VALS.length;ke++)this.byteToCharMap_[ke]=this.ENCODED_VALS.charAt(ke),this.charToByteMap_[this.byteToCharMap_[ke]]=ke,this.byteToCharMapWebSafe_[ke]=this.ENCODED_VALS_WEBSAFE.charAt(ke),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ke]]=ke,ke>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ke)]=ke,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ke)]=ke)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(ke){return function(ke){const Ee=Ce(ke);return Le.encodeByteArray(Ee,!0)}(ke).replace(/\./g,"")},ye=function(ke){try{return Le.decodeString(ke,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function _e(ke,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===ke&&(ke={});break;case Array:ke=[];break;default:return Ee}for(const ee in Ee)!Ee.hasOwnProperty(ee)||!Fe(ee)||(ke[ee]=_e(ke[ee],Ee[ee]));return ke}function Fe(ke){return"__proto__"!==ke}const pe=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ke=process.env.__FIREBASE_DEFAULTS__;return ke?JSON.parse(ke):void 0})()||(()=>{if(typeof document>"u")return;let ke;try{ke=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ee){return}const Ee=ke&&ye(ke[1]);return Ee&&JSON.parse(Ee)})()}catch(ke){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ke}`)}},je=ke=>{var Ee,ee;return null===(ee=null===(Ee=pe())||void 0===Ee?void 0:Ee.emulatorHosts)||void 0===ee?void 0:ee[ke]},et=ke=>{const Ee=je(ke);if(!Ee)return;const ee=Ee.lastIndexOf(":");if(ee<=0||ee+1===Ee.length)throw new Error(`Invalid host ${Ee} with no separate hostname and port!`);const re=parseInt(Ee.substring(ee+1),10);return"["===Ee[0]?[Ee.substring(1,ee-1),re]:[Ee.substring(0,ee),re]},ze=()=>{var ke;return null===(ke=pe())||void 0===ke?void 0:ke.config},Se=ke=>{var Ee;return null===(Ee=pe())||void 0===Ee?void 0:Ee[`_${ke}`]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,ee)=>{this.resolve=Ee,this.reject=ee})}wrapCallback(Ee){return(ee,re)=>{ee?this.reject(ee):this.resolve(re),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(ee):Ee(ee,re))}}}function Re(ke,Ee){if(ke.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=Ee||"demo-project",Y=ke.iat||0,nt=ke.sub||ke.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:Y,exp:Y+3600,auth_time:Y,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},ke);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(oe)),""].join(".")}function ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function We(){var ke;const Ee=null===(ke=pe())||void 0===ke?void 0:ke.forceEnvironment;if("node"===Ee)return!0;if("browser"===Ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ee){return!1}}function rt(){return"object"==typeof self&&self.self===self}function Ge(){const ke="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ke&&void 0!==ke.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ne(){const ke=ie();return ke.indexOf("MSIE ")>=0||ke.indexOf("Trident/")>=0}function he(){return!We()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch(ke){return!1}}function Ae(){return new Promise((ke,Ee)=>{try{let ee=!0;const re="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(re);Y.onsuccess=()=>{Y.result.close(),ee||self.indexedDB.deleteDatabase(re),ke(!0)},Y.onupgradeneeded=()=>{ee=!1},Y.onerror=()=>{var nt;Ee((null===(nt=Y.error)||void 0===nt?void 0:nt.message)||"")}}catch(ee){Ee(ee)}})}function $e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Te extends Error{constructor(Ee,ee,re){super(ee),this.code=Ee,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(Ee,ee,re){this.service=Ee,this.serviceName=ee,this.errors=re}create(Ee,...ee){const re=ee[0]||{},Y=`${this.service}/${Ee}`,nt=this.errors[Ee],oe=nt?function Ie(ke,Ee){return ke.replace(tt,(ee,re)=>{const Y=Ee[re];return null!=Y?String(Y):`<${re}?>`})}(nt,re):"Error";return new Te(Y,`${this.serviceName}: ${oe} (${Y}).`,re)}}const tt=/\{\$([^}]+)}/g;function jn(ke,Ee){return Object.prototype.hasOwnProperty.call(ke,Ee)}function vr(ke){for(const Ee in ke)if(Object.prototype.hasOwnProperty.call(ke,Ee))return!1;return!0}function An(ke,Ee){if(ke===Ee)return!0;const ee=Object.keys(ke),re=Object.keys(Ee);for(const Y of ee){if(!re.includes(Y))return!1;const nt=ke[Y],oe=Ee[Y];if(Ot(nt)&&Ot(oe)){if(!An(nt,oe))return!1}else if(nt!==oe)return!1}for(const Y of re)if(!ee.includes(Y))return!1;return!0}function Ot(ke){return null!==ke&&"object"==typeof ke}function Yn(ke){const Ee=[];for(const[ee,re]of Object.entries(ke))Array.isArray(re)?re.forEach(Y=>{Ee.push(encodeURIComponent(ee)+"="+encodeURIComponent(Y))}):Ee.push(encodeURIComponent(ee)+"="+encodeURIComponent(re));return Ee.length?"&"+Ee.join("&"):""}function er(ke){const Ee={};return ke.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[Y,nt]=re.split("=");Ee[decodeURIComponent(Y)]=decodeURIComponent(nt)}}),Ee}function Br(ke){const Ee=ke.indexOf("?");if(!Ee)return"";const ee=ke.indexOf("#",Ee);return ke.substring(Ee,ee>0?ee:void 0)}function pn(ke,Ee){const ee=new Jt(ke,Ee);return ee.subscribe.bind(ee)}class Jt{constructor(Ee,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{Ee(this)}).catch(re=>{this.error(re)})}next(Ee){this.forEachObserver(ee=>{ee.next(Ee)})}error(Ee){this.forEachObserver(ee=>{ee.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,ee,re){let Y;if(void 0===Ee&&void 0===ee&&void 0===re)throw new Error("Missing Observer.");Y=function ir(ke,Ee){if("object"!=typeof ke||null===ke)return!1;for(const ee of Ee)if(ee in ke&&"function"==typeof ke[ee])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:ee,complete:re},void 0===Y.next&&(Y.next=an),void 0===Y.error&&(Y.error=an),void 0===Y.complete&&(Y.complete=an);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(oe){}}),this.observers.push(Y),nt}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,Ee)}sendOne(Ee,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{ee(this.observers[Ee])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}const Sr=1e3,Nt=2,Ct=144e5,Zt=.5;function mn(ke,Ee=Sr,ee=Nt){const re=Ee*Math.pow(ee,ke),Y=Math.round(Zt*re*(Math.random()-.5)*2);return Math.min(Ct,re+Y)}function ur(ke){return ke&&ke._delegate?ke._delegate:ke}},2078:(jt,at,V)=>{"use strict";V.d(at,{w:()=>er,dr:()=>Dn,oU:()=>vn,cs:()=>Wi,Sm:()=>mn,nz:()=>ee,W2:()=>nt,Gu:()=>cn,pK:()=>Hr,Ie:()=>cr,Q$:()=>Ar,q_:()=>Pr,yh:()=>zr,z0:()=>kr,fG:()=>ts,zc:()=>gi,uN:()=>Nn,d8:()=>ni,jP:()=>Ci,jI:()=>Sn,yW:()=>ns,wd:()=>fs,sr:()=>Lo,Pc:()=>$,r4:()=>xs,_q:()=>Ei,YI:()=>qi,Fo:()=>Co,j9:()=>Jt});var l=V(4650),v=V(433),F=V(655),Ce=V(8421),Ne=V(9751),Le=V(5577),ve=V(1144),Oe=V(576),Ue=V(3268);const ye=["addListener","removeListener"],me=["addEventListener","removeEventListener"],_e=["on","off"];function Fe(d,m,f,M){if((0,Oe.m)(f)&&(M=f,f=void 0),M)return Fe(d,m,f).pipe((0,Ue.Z)(M));const[H,ut]=function Me(d){return(0,Oe.m)(d.addEventListener)&&(0,Oe.m)(d.removeEventListener)}(d)?me.map(Lt=>Wt=>d[Lt](m,Wt,f)):function it(d){return(0,Oe.m)(d.addListener)&&(0,Oe.m)(d.removeListener)}(d)?ye.map(Be(d,m)):function mt(d){return(0,Oe.m)(d.on)&&(0,Oe.m)(d.off)}(d)?_e.map(Be(d,m)):[];if(!H&&(0,ve.z)(d))return(0,Le.z)(Lt=>Fe(Lt,m,f))((0,Ce.Xf)(d));if(!H)throw new TypeError("Invalid event target");return new Ne.y(Lt=>{const Wt=(...Rn)=>Lt.next(1<Rn.length?Rn:Rn[0]);return H(Wt),()=>ut(Wt)})}function Be(d,m){return f=>M=>d[f](m,M)}var pe=V(7579),je=V(1135),et=V(2435),ie=(V(181),V(6439),V(7838),V(1898),V(5179)),be=V(5730),We=V(1843),rt=V(6369),Ge=V(3539),ne=(V(3457),V(4349),V(1308)),$e=V(9300),le=V(3900),Te=V(1884),X=V(6895);const tt=ie.i,vt=["*"];function jn(d,m){if(1&d&&l.GkF(0,1),2&d){const f=l.oxw();l.Q6J("ngTemplateOutlet",f.template)}}const fr=d=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(d):"function"==typeof requestAnimationFrame?requestAnimationFrame(d):setTimeout(d),vr=d=>!!d.resolveComponentFactory;let on=(()=>{class d{constructor(f,M){this.injector=f,this.el=M,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(f){this.el.nativeElement.value=this.lastValue=null==f?"":f,An(this.el)}handleChangeEvent(f,M){f===this.el.nativeElement&&(M!==this.lastValue&&(this.lastValue=M,this.onChange(M)),An(this.el))}_handleBlurEvent(f){f===this.el.nativeElement&&(this.onTouched(),An(this.el))}registerOnChange(f){this.onChange=f}registerOnTouched(f){this.onTouched=f}setDisabledState(f){this.el.nativeElement.disabled=f}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let f;try{f=this.injector.get(v.a5)}catch(H){}if(!f)return;f.statusChanges&&(this.statusChanges=f.statusChanges.subscribe(()=>An(this.el)));const M=f.control;M&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(ut=>{if(typeof M[ut]<"u"){const Lt=M[ut].bind(M);M[ut]=(...Wt)=>{Lt(...Wt),An(this.el)}}})}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.zs3),l.Y36(l.SBq))},d.\u0275dir=l.lG2({type:d,hostBindings:function(f,M){1&f&&l.NdJ("ionBlur",function(ut){return M._handleBlurEvent(ut.target)})}}),d})();const An=d=>{fr(()=>{const m=d.nativeElement,f=null!=m.value&&m.value.toString().length>0,M=Ot(m);Vn(m,M);const H=m.closest("ion-item");H&&Vn(H,f?[...M,"item-has-value"]:M)})},Ot=d=>{const m=d.classList,f=[];for(let M=0;M<m.length;M++){const H=m.item(M);null!==H&&Yn(H,"ng-")&&f.push(`ion-${H.substring(3)}`)}return f},Vn=(d,m)=>{const f=d.classList;f.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),f.add(...m)},Yn=(d,m)=>d.substring(0,m.length)===m;let er=(()=>{class d extends on{constructor(f,M){super(f,M)}writeValue(f){this.el.nativeElement.checked=this.lastValue=null!=f&&f,An(this.el)}_handleIonChange(f){this.handleChangeEvent(f,f.checked)}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.zs3),l.Y36(l.SBq))},d.\u0275dir=l.lG2({type:d,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(f,M){1&f&&l.NdJ("ionChange",function(ut){return M._handleIonChange(ut.target)})},features:[l._Bn([{provide:v.JU,useExisting:d,multi:!0}]),l.qOj]}),d})(),Jt=(()=>{class d extends on{constructor(f,M){super(f,M)}_handleInputEvent(f){this.handleChangeEvent(f,f.value)}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.zs3),l.Y36(l.SBq))},d.\u0275dir=l.lG2({type:d,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(f,M){1&f&&l.NdJ("ionChange",function(ut){return M._handleInputEvent(ut.target)})},features:[l._Bn([{provide:v.JU,useExisting:d,multi:!0}]),l.qOj]}),d})();const dn=(d,m)=>{const f=d.prototype;m.forEach(M=>{Object.defineProperty(f,M,{get(){return this.el[M]},set(H){this.z.runOutsideAngular(()=>this.el[M]=H)}})})},ir=(d,m)=>{const f=d.prototype;m.forEach(M=>{f[M]=function(){const H=arguments;return this.z.runOutsideAngular(()=>this.el[M].apply(this.el,H))}})},an=(d,m,f)=>{f.forEach(M=>d[M]=Fe(m,M))};function St(d){return function(f){const{defineCustomElementFn:M,inputs:H,methods:ut}=d;return void 0!==M&&M(),H&&dn(f,H),ut&&ir(f,ut),f}}let Dn=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-app"]],ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0})],d),d})(),vn=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],d),d})(),mn=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["collapse"]})],d),d})(),ee=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,an(this,this.el,["ionChange","ionFocus","ionBlur"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],d),d})(),nt=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,an(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],d),d})(),cn=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],d),d})(),Hr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,an(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],d),d})(),cr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],d),d})(),Ar=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],d),d})(),Pr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],d),d})(),zr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],d),d})(),kr=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,an(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],d),d})(),ts=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],d),d})(),gi=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],d),d})(),Nn=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})(),Sn=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement,an(this,this.el,["ionSplitPaneVisible"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],d),d})(),ns=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})(),fs=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["color","size"]})],d),d})(),Lo=(()=>{let d=class{constructor(f,M,H){this.z=H,f.detach(),this.el=M.nativeElement}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(f,M){1&f&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({defineCustomElementFn:void 0,inputs:["color","mode"]})],d),d})();class _i{constructor(m={}){this.data=m}get(m){return this.data[m]}}let ci=(()=>{class d{constructor(f,M){this.zone=f,this.appRef=M}create(f,M,H,ut){return new $o(f,M,H,this.appRef,this.zone,ut)}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(l.R0b),l.LFG(l.z2F))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac}),d})();class $o{constructor(m,f,M,H,ut,Lt){this.resolverOrInjector=m,this.injector=f,this.location=M,this.appRef=H,this.zone=ut,this.elementReferenceKey=Lt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(m,f,M,H){return this.zone.run(()=>new Promise(ut=>{const Lt=Object.assign({},M);void 0!==this.elementReferenceKey&&(Lt[this.elementReferenceKey]=m),ut(bo(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,m,f,Lt,H))}))}removeViewFromDom(m,f){return this.zone.run(()=>new Promise(M=>{const H=this.elRefMap.get(f);if(H){H.destroy(),this.elRefMap.delete(f);const ut=this.elEventsMap.get(f);ut&&(ut(),this.elEventsMap.delete(f))}M()}))}}const bo=(d,m,f,M,H,ut,Lt,Wt,Rn,nr,$r)=>{let Gn;const Ut=l.zs3.create({providers:Gi(nr),parent:f});if(m&&vr(m)){const ms=m.resolveComponentFactory(Rn);Gn=M?M.createComponent(ms,M.length,Ut):ms.create(Ut)}else{if(!M)return null;Gn=M.createComponent(Rn,{index:M.indexOf,injector:Ut,environmentInjector:m})}const dr=Gn.instance,oi=Gn.location.nativeElement;if(nr&&Object.assign(dr,nr),$r)for(const ms of $r)oi.classList.add(ms);const uo=zi(d,dr,oi);return Wt.appendChild(oi),M||H.attachView(Gn.hostView),Gn.changeDetectorRef.reattach(),ut.set(oi,Gn),Lt.set(oi,uo),oi},Li=[We.L,We.a,We.b,We.c,We.d],zi=(d,m,f)=>d.run(()=>{const M=Li.filter(H=>"function"==typeof m[H]).map(H=>{const ut=Lt=>m[H](Lt.detail);return f.addEventListener(H,ut),()=>f.removeEventListener(H,ut)});return()=>M.forEach(H=>H())}),Gs=new l.OlP("NavParamsToken"),Gi=d=>[{provide:Gs,useValue:d},{provide:_i,useFactory:Ps,deps:[Gs]}],Ps=d=>new _i(d),so=(d,m)=>((d=d.filter(f=>f.stackId!==m.stackId)).push(m),d),wo=(d,m)=>{const f=d.createUrlTree(["."],{relativeTo:m});return d.serializeUrl(f)},Bo=(d,m)=>{if(!d)return;const f=$i(m);for(let M=0;M<f.length;M++){if(M>=d.length)return f[M];if(f[M]!==d[M])return}},$i=d=>d.split("/").map(m=>m.trim()).filter(m=>""!==m),is=d=>{d&&(d.ref.destroy(),d.unlistenEvents())};class Io{constructor(m,f,M,H,ut,Lt){this.containerEl=f,this.router=M,this.navCtrl=H,this.zone=ut,this.location=Lt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==m?$i(m):void 0}createView(m,f){var M;const H=wo(this.router,f),ut=null===(M=null==m?void 0:m.location)||void 0===M?void 0:M.nativeElement,Lt=zi(this.zone,m.instance,ut);return{id:this.nextId++,stackId:Bo(this.tabsPrefix,H),unlistenEvents:Lt,element:ut,ref:m,url:H}}getExistingView(m){const f=wo(this.router,m),M=this.views.find(H=>H.url===f);return M&&M.ref.changeDetectorRef.reattach(),M}setActive(m){var f,M;const H=this.navCtrl.consumeTransition();let{direction:ut,animation:Lt,animationBuilder:Wt}=H;const Rn=this.activeView,nr=((d,m)=>!m||d.stackId!==m.stackId)(m,Rn);nr&&(ut="back",Lt=void 0);const $r=this.views.slice();let Gn;const Ut=this.router;Ut.getCurrentNavigation?Gn=Ut.getCurrentNavigation():!(null===(f=Ut.navigations)||void 0===f)&&f.value&&(Gn=Ut.navigations.value),null!==(M=null==Gn?void 0:Gn.extras)&&void 0!==M&&M.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const dr=this.views.includes(m),oi=this.insertView(m,ut);dr||m.ref.changeDetectorRef.detectChanges();const uo=m.animationBuilder;return void 0===Wt&&"back"===ut&&!nr&&void 0!==uo&&(Wt=uo),Rn&&(Rn.animationBuilder=Wt),this.zone.runOutsideAngular(()=>this.wait(()=>(Rn&&Rn.ref.changeDetectorRef.detach(),m.ref.changeDetectorRef.reattach(),this.transition(m,Rn,Lt,this.canGoBack(1),!1,Wt).then(()=>ao(m,oi,$r,this.location,this.zone)).then(()=>({enteringView:m,direction:ut,animation:Lt,tabSwitch:nr})))))}canGoBack(m,f=this.getActiveStackId()){return this.getStack(f).length>m}pop(m,f=this.getActiveStackId()){return this.zone.run(()=>{var M,H;const ut=this.getStack(f);if(ut.length<=m)return Promise.resolve(!1);const Lt=ut[ut.length-m-1];let Wt=Lt.url;const Rn=Lt.savedData;if(Rn){const $r=Rn.get("primary");null!==(H=null===(M=null==$r?void 0:$r.route)||void 0===M?void 0:M._routerState)&&void 0!==H&&H.snapshot.url&&(Wt=$r.route._routerState.snapshot.url)}const{animationBuilder:nr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Wt,Object.assign(Object.assign({},Lt.savedExtras),{animation:nr})).then(()=>!0)})}startBackTransition(){const m=this.activeView;if(m){const f=this.getStack(m.stackId),M=f[f.length-2],H=M.animationBuilder;return this.wait(()=>this.transition(M,m,"back",this.canGoBack(2),!0,H))}return Promise.resolve()}endBackTransition(m){m?(this.skipTransition=!0,this.pop(1)):this.activeView&&Di(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(m){const f=this.getStack(m);return f.length>0?f[f.length-1]:void 0}getRootUrl(m){const f=this.getStack(m);return f.length>0?f[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(is),this.activeView=void 0,this.views=[]}getStack(m){return this.views.filter(f=>f.stackId===m)}insertView(m,f){return this.activeView=m,this.views=((d,m,f)=>"root"===f?so(d,m):"forward"===f?((d,m)=>(d.indexOf(m)>=0?d=d.filter(M=>M.stackId!==m.stackId||M.id<=m.id):d.push(m),d))(d,m):((d,m)=>d.indexOf(m)>=0?d.filter(M=>M.stackId!==m.stackId||M.id<=m.id):so(d,m))(d,m))(this.views,m,f),this.views.slice()}transition(m,f,M,H,ut,Lt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(f===m)return Promise.resolve(!1);const Wt=m?m.element:void 0,Rn=f?f.element:void 0,nr=this.containerEl;return Wt&&Wt!==Rn&&(Wt.classList.add("ion-page"),Wt.classList.add("ion-page-invisible"),Wt.parentElement!==nr&&nr.appendChild(Wt),nr.commit)?nr.commit(Wt,Rn,{deepWait:!0,duration:void 0===M?0:void 0,direction:M,showGoBack:H,progressAnimation:ut,animationBuilder:Lt}):Promise.resolve(!1)}wait(m){return(0,F.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const f=this.runningTask=m();return f.finally(()=>this.runningTask=void 0),f})}}const ao=(d,m,f,M,H)=>"function"==typeof requestAnimationFrame?new Promise(ut=>{requestAnimationFrame(()=>{Di(d,m,f,M,H),ut()})}):Promise.resolve(),Di=(d,m,f,M,H)=>{H.run(()=>f.filter(ut=>!m.includes(ut)).forEach(is)),m.forEach(ut=>{const Wt=M.path().split("?")[0].split("#")[0];if(ut!==d&&ut.url!==Wt){const Rn=ut.element;Rn.setAttribute("aria-hidden","true"),Rn.classList.add("ion-page-hidden"),ut.ref.changeDetectorRef.detach()}})};let Do=(()=>{class d{get(f,M){const H=Cs();return H?H.get(f,M):null}getBoolean(f,M){const H=Cs();return!!H&&H.getBoolean(f,M)}getNumber(f,M){const H=Cs();return H?H.getNumber(f,M):0}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Ws=new l.OlP("USERCONFIG"),Cs=()=>{if(typeof window<"u"){const d=window.Ionic;if(null!=d&&d.config)return d.config}return null};let lo=(()=>{class d{constructor(f,M){this.doc=f,this.backButton=new pe.x,this.keyboardDidShow=new pe.x,this.keyboardDidHide=new pe.x,this.pause=new pe.x,this.resume=new pe.x,this.resize=new pe.x,M.run(()=>{var H;let ut;this.win=f.defaultView,this.backButton.subscribeWithPriority=function(Lt,Wt){return this.subscribe(Rn=>Rn.register(Lt,nr=>M.run(()=>Wt(nr))))},qs(this.pause,f,"pause"),qs(this.resume,f,"resume"),qs(this.backButton,f,"ionBackButton"),qs(this.resize,this.win,"resize"),qs(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),qs(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Lt=>{ut=Lt}),null!==(H=this.win)&&void 0!==H&&H.cordova?f.addEventListener("deviceready",()=>{ut("cordova")},{once:!0}):ut("dom")})}is(f){return(0,ie.a)(this.win,f)}platforms(){return(0,ie.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(f){return Bi(this.win.location.href,f)}isLandscape(){return!this.isPortrait()}isPortrait(){var f,M;return null===(M=(f=this.win).matchMedia)||void 0===M?void 0:M.call(f,"(orientation: portrait)").matches}testUserAgent(f){const M=this.win.navigator;return!!(null!=M&&M.userAgent&&M.userAgent.indexOf(f)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(X.K0),l.LFG(l.R0b))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Bi=(d,m)=>{m=m.replace(/[[\]\\]/g,"\\$&");const M=new RegExp("[\\?&]"+m+"=([^&#]*)").exec(d);return M?decodeURIComponent(M[1].replace(/\+/g," ")):null},qs=(d,m,f)=>{m&&m.addEventListener(f,M=>{d.next(null!=M?M.detail:void 0)})};let ti=(()=>{class d{constructor(f,M,H,ut){this.location=M,this.serializer=H,this.router=ut,this.direction=Ss,this.animated=ks,this.guessDirection="forward",this.lastNavId=-1,ut&&ut.events.subscribe(Lt=>{if(Lt instanceof et.OD){const Wt=Lt.restoredState?Lt.restoredState.navigationId:Lt.id;this.guessDirection=Wt<this.lastNavId?"back":"forward",this.guessAnimation=Lt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Lt.id:Wt}}),f.backButton.subscribeWithPriority(0,Lt=>{this.pop(),Lt()})}navigateForward(f,M={}){return this.setDirection("forward",M.animated,M.animationDirection,M.animation),this.navigate(f,M)}navigateBack(f,M={}){return this.setDirection("back",M.animated,M.animationDirection,M.animation),this.navigate(f,M)}navigateRoot(f,M={}){return this.setDirection("root",M.animated,M.animationDirection,M.animation),this.navigate(f,M)}back(f={animated:!0,animationDirection:"back"}){return this.setDirection("back",f.animated,f.animationDirection,f.animation),this.location.back()}pop(){return(0,F.mG)(this,void 0,void 0,function*(){let f=this.topOutlet;for(;f&&!(yield f.pop());)f=f.parentOutlet})}setDirection(f,M,H,ut){this.direction=f,this.animated=Ts(f,M,H),this.animationBuilder=ut}setTopOutlet(f){this.topOutlet=f}consumeTransition(){let M,f="root";const H=this.animationBuilder;return"auto"===this.direction?(f=this.guessDirection,M=this.guessAnimation):(M=this.animated,f=this.direction),this.direction=Ss,this.animated=ks,this.animationBuilder=void 0,{direction:f,animation:M,animationBuilder:H}}navigate(f,M){if(Array.isArray(f))return this.router.navigate(f,M);{const H=this.serializer.parse(f.toString());return void 0!==M.queryParams&&(H.queryParams=Object.assign({},M.queryParams)),void 0!==M.fragment&&(H.fragment=M.fragment),this.router.navigateByUrl(H,M)}}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(lo),l.LFG(X.Ye),l.LFG(et.Hx),l.LFG(et.F0,8))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Ts=(d,m,f)=>{if(!1!==m){if(void 0!==f)return f;if("forward"===d||"back"===d)return d;if("root"===d&&!0===m)return"forward"}},Ss="auto",ks=void 0;let Ci=(()=>{class d{constructor(f,M,H,ut,Lt,Wt,Rn,nr,$r,Gn,Ut,dr,oi){this.parentContexts=f,this.location=M,this.config=Lt,this.navCtrl=Wt,this.componentFactoryResolver=Rn,this.parentOutlet=oi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new je.X(null),this.stackEvents=new l.vpe,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.nativeEl=$r.nativeElement,this.name=H||et.eC,this.tabsPrefix="true"===ut?wo(Gn,dr):void 0,this.stackCtrl=new Io(this.tabsPrefix,this.nativeEl,Gn,Wt,Ut,nr),f.onChildOutletCreated(this.name,this)}set animation(f){this.nativeEl.animation=f}set animated(f){this.nativeEl.animated=f}set swipeGesture(f){this._swipeGesture=f,this.nativeEl.swipeHandler=f?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:M=>this.stackCtrl.endBackTransition(M)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const f=this.getContext();null!=f&&f.route&&this.activateWith(f.route,f.resolver||null)}new Promise(f=>(0,be.c)(this.nativeEl,f)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(f,M){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const M=this.getContext();this.activatedView.savedData=new Map(M.children.contexts);const H=this.activatedView.savedData.get("primary");if(H&&M.route&&(H.route=Object.assign({},M.route)),this.activatedView.savedExtras={},M.route){const ut=M.route.snapshot;this.activatedView.savedExtras.queryParams=ut.queryParams,this.activatedView.savedExtras.fragment=ut.fragment}}const f=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,M){var H;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=f;let ut,Lt=this.stackCtrl.getExistingView(f);if(Lt){ut=this.activated=Lt.ref;const Wt=Lt.savedData;Wt&&(this.getContext().children.contexts=Wt),this.updateActivatedRouteProxy(ut.instance,f)}else{const Wt=f._futureSnapshot;if(null==Wt.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const Rn=this.parentContexts.getOrCreateContext(this.name).children,nr=new je.X(null),$r=this.createActivatedRouteProxy(nr,f),Gn=new ss($r,Rn,this.location.injector),Ut=null!==(H=Wt.routeConfig.component)&&void 0!==H?H:Wt.component;if((M=M||this.componentFactoryResolver)&&vr(M)){const dr=M.resolveComponentFactory(Ut);ut=this.activated=this.location.createComponent(dr,this.location.length,Gn)}else ut=this.activated=this.location.createComponent(Ut,{index:this.location.length,injector:Gn,environmentInjector:null!=M?M:this.environmentInjector});nr.next(ut.instance),Lt=this.stackCtrl.createView(this.activated,f),this.proxyMap.set(ut.instance,$r),this.currentActivatedRoute$.next({component:ut.instance,activatedRoute:f})}this.activatedView=Lt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Lt).then(Wt=>{this.activateEvents.emit(ut.instance),this.stackEvents.emit(Wt)})}canGoBack(f=1,M){return this.stackCtrl.canGoBack(f,M)}pop(f=1,M){return this.stackCtrl.pop(f,M)}getLastUrl(f){const M=this.stackCtrl.getLastUrl(f);return M?M.url:void 0}getLastRouteView(f){return this.stackCtrl.getLastUrl(f)}getRootView(f){return this.stackCtrl.getRootUrl(f)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(f,M){const H=new et.gz;return H._futureSnapshot=M._futureSnapshot,H._routerState=M._routerState,H.snapshot=M.snapshot,H.outlet=M.outlet,H.component=M.component,H._paramMap=this.proxyObservable(f,"paramMap"),H._queryParamMap=this.proxyObservable(f,"queryParamMap"),H.url=this.proxyObservable(f,"url"),H.params=this.proxyObservable(f,"params"),H.queryParams=this.proxyObservable(f,"queryParams"),H.fragment=this.proxyObservable(f,"fragment"),H.data=this.proxyObservable(f,"data"),H}proxyObservable(f,M){return f.pipe((0,$e.h)(H=>!!H),(0,le.w)(H=>this.currentActivatedRoute$.pipe((0,$e.h)(ut=>null!==ut&&ut.component===H),(0,le.w)(ut=>ut&&ut.activatedRoute[M]),(0,Te.x)())))}updateActivatedRouteProxy(f,M){const H=this.proxyMap.get(f);if(!H)throw new Error("Could not find activated route proxy for view");H._futureSnapshot=M._futureSnapshot,H._routerState=M._routerState,H.snapshot=M.snapshot,H.outlet=M.outlet,H.component=M.component,this.currentActivatedRoute$.next({component:f,activatedRoute:M})}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(et.y6),l.Y36(l.s_b),l.$8M("name"),l.$8M("tabs"),l.Y36(Do),l.Y36(ti),l.Y36(l._Vd,8),l.Y36(X.Ye),l.Y36(l.SBq),l.Y36(et.F0),l.Y36(l.R0b),l.Y36(et.gz),l.Y36(d,12))},d.\u0275dir=l.lG2({type:d,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),d})();class ss{constructor(m,f,M){this.route=m,this.childContexts=f,this.parent=M}get(m,f){return m===et.gz?this.route:m===et.y6?this.childContexts:this.parent.get(m,f)}}let Wi=(()=>{class d{constructor(f,M,H){this.routerOutlet=f,this.navCtrl=M,this.config=H}onClick(f){var M;const H=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(M=this.routerOutlet)&&void 0!==M&&M.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),f.preventDefault()):null!=H&&(this.navCtrl.navigateBack(H,{animation:this.routerAnimation}),f.preventDefault())}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(Ci,8),l.Y36(ti),l.Y36(Do))},d.\u0275dir=l.lG2({type:d,selectors:[["ion-back-button"]],hostBindings:function(f,M){1&f&&l.NdJ("click",function(ut){return M.onClick(ut)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),d})(),qi=(()=>{class d{constructor(f,M,H,ut,Lt){this.locationStrategy=f,this.navCtrl=M,this.elementRef=H,this.router=ut,this.routerLink=Lt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var f;if(null!==(f=this.routerLink)&&void 0!==f&&f.urlTree){const M=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=M}}onClick(f){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),f.preventDefault()}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(X.S$),l.Y36(ti),l.Y36(l.SBq),l.Y36(et.F0),l.Y36(et.rH,8))},d.\u0275dir=l.lG2({type:d,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(f,M){1&f&&l.NdJ("click",function(ut){return M.onClick(ut)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[l.TTD]}),d})(),Co=(()=>{class d{constructor(f,M,H,ut,Lt){this.locationStrategy=f,this.navCtrl=M,this.elementRef=H,this.router=ut,this.routerLink=Lt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var f;if(null!==(f=this.routerLink)&&void 0!==f&&f.urlTree){const M=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=M}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return d.\u0275fac=function(f){return new(f||d)(l.Y36(X.S$),l.Y36(ti),l.Y36(l.SBq),l.Y36(et.F0),l.Y36(et.rH,8))},d.\u0275dir=l.lG2({type:d,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(f,M){1&f&&l.NdJ("click",function(){return M.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[l.TTD]}),d})(),ni=(()=>{let d=class{constructor(f,M,H){this.z=H,this.isCmpOpen=!1,this.el=M.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,f.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,f.detectChanges()}),an(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return d.\u0275fac=function(f){return new(f||d)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ion-popover"]],contentQueries:function(f,M,H){if(1&f&&l.Suo(H,l.Rgc,5),2&f){let ut;l.iGM(ut=l.CRH())&&(M.template=ut.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(f,M){1&f&&l.YNc(0,jn,1,1,"ng-container",0),2&f&&l.Q6J("ngIf",M.isCmpOpen||M.keepContentsMounted)},dependencies:[X.O5,X.tP],encapsulation:2,changeDetection:0}),d=(0,F.gn)([St({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],d),d})();class So{constructor(m){this.ctrl=m}create(m){return this.ctrl.create(m||{})}dismiss(m,f,M){return this.ctrl.dismiss(m,f,M)}getTop(){return this.ctrl.getTop()}}let Ei=(()=>{class d{open(f){return rt.m.open(f)}close(f){return rt.m.close(f)}toggle(f){return rt.m.toggle(f)}enable(f,M){return rt.m.enable(f,M)}swipeGesture(f,M){return rt.m.swipeGesture(f,M)}isOpen(f){return rt.m.isOpen(f)}isEnabled(f){return rt.m.isEnabled(f)}get(f){return rt.m.get(f)}getOpen(){return rt.m.getOpen()}getMenus(){return rt.m.getMenus()}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();class Ms{}let gs=(()=>{class d extends So{constructor(f,M,H,ut){super(Ge.m),this.angularDelegate=f,this.resolver=M,this.injector=H,this.environmentInjector=ut}create(f){var M;return super.create(Object.assign(Object.assign({},f),{delegate:this.angularDelegate.create(null!==(M=this.resolver)&&void 0!==M?M:this.environmentInjector,this.injector,void 0,"modal")}))}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(ci),l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(Ms,8))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac}),d})(),Ti=(()=>{class d extends So{constructor(f,M,H,ut){super(Ge.c),this.angularDelegate=f,this.resolver=M,this.injector=H,this.environmentInjector=ut}create(f){var M;return super.create(Object.assign(Object.assign({},f),{delegate:this.angularDelegate.create(null!==(M=this.resolver)&&void 0!==M?M:this.environmentInjector,this.injector,void 0,"popover")}))}}return d.\u0275fac=function(f){return new(f||d)(l.LFG(ci),l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(Ms,8))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac}),d})();class xs{shouldDetach(m){return!1}shouldAttach(m){return!1}store(m,f){}retrieve(m){return null}shouldReuseRoute(m,f){if(m.routeConfig!==f.routeConfig)return!1;const M=m.params,H=f.params,ut=Object.keys(M),Lt=Object.keys(H);if(ut.length!==Lt.length)return!1;for(const Wt of ut)if(H[Wt]!==M[Wt])return!1;return!0}}const Wa=(d,m,f)=>()=>{if(m.defaultView&&typeof window<"u"){(d=>{const m=window,f=m.Ionic;f&&f.config&&"Object"!==f.config.constructor.name||(m.Ionic=m.Ionic||{},m.Ionic.config=Object.assign(Object.assign({},m.Ionic.config),d))})(Object.assign(Object.assign({},d),{_zoneGate:ut=>f.run(ut)}));const H="__zone_symbol__addEventListener"in m.body?"__zone_symbol__addEventListener":"addEventListener";return function Ie(){var d=[];if(typeof window<"u"){var m=window;(!m.customElements||m.Element&&(!m.Element.prototype.closest||!m.Element.prototype.matches||!m.Element.prototype.remove||!m.Element.prototype.getRootNode))&&d.push(V.e(6748).then(V.t.bind(V,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||m.NodeList&&!m.NodeList.prototype.forEach||!m.fetch||!function(){try{var M=new URL("b","http://a");return M.pathname="c%20d","http://a/c%20d"===M.href&&M.searchParams}catch(H){return!1}}()||typeof WeakMap>"u")&&d.push(V.e(2214).then(V.t.bind(V,4144,23)))}return Promise.all(d)}().then(()=>((d,m)=>typeof window>"u"?Promise.resolve():(0,ne.p)().then(()=>(tt(),(0,ne.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),m))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:fr,jmp:ut=>f.runOutsideAngular(ut),ael(ut,Lt,Wt,Rn){ut[H](Lt,Wt,Rn)},rel(ut,Lt,Wt,Rn){ut.removeEventListener(Lt,Wt,Rn)}}))}};let $=(()=>{class d{static forRoot(f){return{ngModule:d,providers:[{provide:Ws,useValue:f},{provide:l.ip1,useFactory:Wa,multi:!0,deps:[Ws,X.K0,l.R0b]}]}}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({providers:[ci,gs,Ti],imports:[[X.ez]]}),d})()},181:(jt,at,V)=>{"use strict";V.d(at,{c:()=>mt});var l=V(5730),v=V(3457);let F;const Ne=Me=>Me.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Le=Me=>(void 0===F&&(F=void 0===Me.style.animationName&&void 0!==Me.style.webkitAnimationName?"-webkit-":""),F),ve=(Me,pe,je)=>{const et=pe.startsWith("animation")?Le(Me):"";Me.style.setProperty(et+pe,je)},Oe=(Me,pe)=>{const je=pe.startsWith("animation")?Le(Me):"";Me.style.removeProperty(je+pe)},me=[],it=(Me=[],pe)=>{if(void 0!==pe){const je=Array.isArray(pe)?pe:[pe];return[...Me,...je]}return Me},mt=Me=>{let pe,je,et,ze,Se,Ke,rt,ue,Ae,$e,le,tt,gt,Re=[],ie=[],be=[],We=!1,Ge={},Qe=[],Pe=[],ne={},De=0,Ve=!1,he=!1,Te=!0,X=!1,Ie=!0,en=!1;const vt=Me,tn=[],In=[],rn=[],zt=[],jn=[],fr=[],vr=[],on=[],An=[],Ot=[],Vn="function"==typeof AnimationEffect||void 0!==v.w&&"function"==typeof v.w.AnimationEffect,Yn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Vn,Br=()=>Ot,ir=(te,Ye)=>((null!=Ye&&Ye.oneTimeCallback?In:tn).push({c:te,o:Ye}),gt),Hn=()=>{if(Yn)Ot.forEach(te=>{te.cancel()}),Ot.length=0;else{const te=rn.slice();(0,l.r)(()=>{te.forEach(Ye=>{Oe(Ye,"animation-name"),Oe(Ye,"animation-duration"),Oe(Ye,"animation-timing-function"),Oe(Ye,"animation-iteration-count"),Oe(Ye,"animation-delay"),Oe(Ye,"animation-play-state"),Oe(Ye,"animation-fill-mode"),Oe(Ye,"animation-direction")})})}},St=()=>{jn.forEach(te=>{null!=te&&te.parentNode&&te.parentNode.removeChild(te)}),jn.length=0},kn=()=>void 0!==Se?Se:rt?rt.getFill():"both",ur=()=>void 0!==Ae?Ae:void 0!==Ke?Ke:rt?rt.getDirection():"normal",ke=()=>Ve?"linear":void 0!==et?et:rt?rt.getEasing():"linear",Ee=()=>he?0:void 0!==$e?$e:void 0!==je?je:rt?rt.getDuration():0,ee=()=>void 0!==ze?ze:rt?rt.getIterations():1,re=()=>void 0!==le?le:void 0!==pe?pe:rt?rt.getDelay():0,Hr=()=>{0!==De&&(De--,0===De&&((()=>{Gt(),on.forEach(Dt=>Dt()),An.forEach(Dt=>Dt());const te=Te?1:0,Ye=Qe,lt=Pe,bt=ne;rn.forEach(Dt=>{const $t=Dt.classList;Ye.forEach(ln=>$t.add(ln)),lt.forEach(ln=>$t.remove(ln));for(const ln in bt)bt.hasOwnProperty(ln)&&ve(Dt,ln,bt[ln])}),tn.forEach(Dt=>Dt.c(te,gt)),In.forEach(Dt=>Dt.c(te,gt)),In.length=0,Ie=!0,Te&&(X=!0),Te=!0})(),rt&&rt.animationFinish()))},cr=(te=!0)=>{St();const Ye=(Me=>(Me.forEach(pe=>{for(const je in pe)if(pe.hasOwnProperty(je)){const et=pe[je];if("easing"===je)pe["animation-timing-function"]=et,delete pe[je];else{const ze=Ne(je);ze!==je&&(pe[ze]=et,delete pe[je])}}}),Me))(Re);rn.forEach(lt=>{if(Ye.length>0){const bt=((Me=[])=>Me.map(pe=>{const je=pe.offset,et=[];for(const ze in pe)pe.hasOwnProperty(ze)&&"offset"!==ze&&et.push(`${ze}: ${pe[ze]};`);return`${100*je}% { ${et.join(" ")} }`}).join(" "))(Ye);tt=void 0!==Me?Me:(Me=>{let pe=me.indexOf(Me);return pe<0&&(pe=me.push(Me)-1),`ion-animation-${pe}`})(bt);const Dt=((Me,pe,je)=>{var et;const ze=(Me=>{const pe=void 0!==Me.getRootNode?Me.getRootNode():Me;return pe.head||pe})(je),Se=Le(je),Ke=ze.querySelector("#"+Me);if(Ke)return Ke;const Re=(null!==(et=je.ownerDocument)&&void 0!==et?et:document).createElement("style");return Re.id=Me,Re.textContent=`@${Se}keyframes ${Me} { ${pe} } @${Se}keyframes ${Me}-alt { ${pe} }`,ze.appendChild(Re),Re})(tt,bt,lt);jn.push(Dt),ve(lt,"animation-duration",`${Ee()}ms`),ve(lt,"animation-timing-function",ke()),ve(lt,"animation-delay",`${re()}ms`),ve(lt,"animation-fill-mode",kn()),ve(lt,"animation-direction",ur());const $t=ee()===1/0?"infinite":ee().toString();ve(lt,"animation-iteration-count",$t),ve(lt,"animation-play-state","paused"),te&&ve(lt,"animation-name",`${Dt.id}-alt`),(0,l.r)(()=>{ve(lt,"animation-name",Dt.id||null)})}})},cs=(te=!0)=>{(()=>{fr.forEach(bt=>bt()),vr.forEach(bt=>bt());const te=ie,Ye=be,lt=Ge;rn.forEach(bt=>{const Dt=bt.classList;te.forEach($t=>Dt.add($t)),Ye.forEach($t=>Dt.remove($t));for(const $t in lt)lt.hasOwnProperty($t)&&ve(bt,$t,lt[$t])})})(),Re.length>0&&(Yn?(rn.forEach(te=>{const Ye=te.animate(Re,{id:vt,delay:re(),duration:Ee(),easing:ke(),iterations:ee(),fill:kn(),direction:ur()});Ye.pause(),Ot.push(Ye)}),Ot.length>0&&(Ot[0].onfinish=()=>{Hr()})):cr(te)),We=!0},Fi=te=>{if(te=Math.min(Math.max(te,0),.9999),Yn)Ot.forEach(Ye=>{Ye.currentTime=Ye.effect.getComputedTiming().delay+Ee()*te,Ye.pause()});else{const Ye=`-${Ee()*te}ms`;rn.forEach(lt=>{Re.length>0&&(ve(lt,"animation-delay",Ye),ve(lt,"animation-play-state","paused"))})}},zn=te=>{Ot.forEach(Ye=>{Ye.effect.updateTiming({delay:re(),duration:Ee(),easing:ke(),iterations:ee(),fill:kn(),direction:ur()})}),void 0!==te&&Fi(te)},Vr=(te=!0,Ye)=>{(0,l.r)(()=>{rn.forEach(lt=>{ve(lt,"animation-name",tt||null),ve(lt,"animation-duration",`${Ee()}ms`),ve(lt,"animation-timing-function",ke()),ve(lt,"animation-delay",void 0!==Ye?`-${Ye*Ee()}ms`:`${re()}ms`),ve(lt,"animation-fill-mode",kn()||null),ve(lt,"animation-direction",ur()||null);const bt=ee()===1/0?"infinite":ee().toString();ve(lt,"animation-iteration-count",bt),te&&ve(lt,"animation-name",`${tt}-alt`),(0,l.r)(()=>{ve(lt,"animation-name",tt||null)})})})},Ar=(te=!1,Ye=!0,lt)=>(te&&zt.forEach(bt=>{bt.update(te,Ye,lt)}),Yn?zn(lt):Vr(Ye,lt),gt),ts=()=>{We&&(Yn?Ot.forEach(te=>{te.pause()}):rn.forEach(te=>{ve(te,"animation-play-state","paused")}),en=!0)},ui=()=>{ue=void 0,Hr()},Gt=()=>{ue&&clearTimeout(ue)},q=te=>new Promise(Ye=>{null!=te&&te.sync&&(he=!0,ir(()=>he=!1,{oneTimeCallback:!0})),We||cs(),X&&(Yn?(Fi(0),zn()):Vr(),X=!1),Ie&&(De=zt.length+1,Ie=!1),ir(()=>Ye(),{oneTimeCallback:!0}),zt.forEach(lt=>{lt.play()}),Yn?(Ot.forEach(te=>{te.play()}),(0===Re.length||0===rn.length)&&Hr()):(()=>{if(Gt(),(0,l.r)(()=>{rn.forEach(te=>{Re.length>0&&ve(te,"animation-play-state","running")})}),0===Re.length||0===rn.length)Hr();else{const te=re()||0,Ye=Ee()||0,lt=ee()||1;isFinite(lt)&&(ue=setTimeout(ui,te+Ye*lt+100)),((Me,pe)=>{let je;const et={passive:!0},Se=Ke=>{Me===Ke.target&&(je&&je(),Gt(),(0,l.r)(()=>{rn.forEach(te=>{Oe(te,"animation-duration"),Oe(te,"animation-delay"),Oe(te,"animation-play-state")}),(0,l.r)(Hr)}))};Me&&(Me.addEventListener("webkitAnimationEnd",Se,et),Me.addEventListener("animationend",Se,et),je=()=>{Me.removeEventListener("webkitAnimationEnd",Se,et),Me.removeEventListener("animationend",Se,et)})})(rn[0])}})(),en=!1}),qe=(te,Ye)=>{const lt=Re[0];return void 0===lt||void 0!==lt.offset&&0!==lt.offset?Re=[{offset:0,[te]:Ye},...Re]:lt[te]=Ye,gt};return gt={parentAnimation:rt,elements:rn,childAnimations:zt,id:vt,animationFinish:Hr,from:qe,to:(te,Ye)=>{const lt=Re[Re.length-1];return void 0===lt||void 0!==lt.offset&&1!==lt.offset?Re=[...Re,{offset:1,[te]:Ye}]:lt[te]=Ye,gt},fromTo:(te,Ye,lt)=>qe(te,Ye).to(te,lt),parent:te=>(rt=te,gt),play:q,pause:()=>(zt.forEach(te=>{te.pause()}),ts(),gt),stop:()=>{zt.forEach(te=>{te.stop()}),We&&(Hn(),We=!1),Ve=!1,he=!1,Ie=!0,Ae=void 0,$e=void 0,le=void 0,De=0,X=!1,Te=!0,en=!1},destroy:te=>(zt.forEach(Ye=>{Ye.destroy(te)}),(te=>{Hn(),te&&St()})(te),rn.length=0,zt.length=0,Re.length=0,tn.length=0,In.length=0,We=!1,Ie=!0,gt),keyframes:te=>{const Ye=Re!==te;return Re=te,Ye&&(te=>{Yn?Br().forEach(Ye=>{if(Ye.effect.setKeyframes)Ye.effect.setKeyframes(te);else{const lt=new KeyframeEffect(Ye.effect.target,te,Ye.effect.getTiming());Ye.effect=lt}}):cr()})(Re),gt},addAnimation:te=>{if(null!=te)if(Array.isArray(te))for(const Ye of te)Ye.parent(gt),zt.push(Ye);else te.parent(gt),zt.push(te);return gt},addElement:te=>{if(null!=te)if(1===te.nodeType)rn.push(te);else if(te.length>=0)for(let Ye=0;Ye<te.length;Ye++)rn.push(te[Ye]);else console.error("Invalid addElement value");return gt},update:Ar,fill:te=>(Se=te,Ar(!0),gt),direction:te=>(Ke=te,Ar(!0),gt),iterations:te=>(ze=te,Ar(!0),gt),duration:te=>(!Yn&&0===te&&(te=1),je=te,Ar(!0),gt),easing:te=>(et=te,Ar(!0),gt),delay:te=>(pe=te,Ar(!0),gt),getWebAnimations:Br,getKeyframes:()=>Re,getFill:kn,getDirection:ur,getDelay:re,getIterations:ee,getEasing:ke,getDuration:Ee,afterAddRead:te=>(on.push(te),gt),afterAddWrite:te=>(An.push(te),gt),afterClearStyles:(te=[])=>{for(const Ye of te)ne[Ye]="";return gt},afterStyles:(te={})=>(ne=te,gt),afterRemoveClass:te=>(Pe=it(Pe,te),gt),afterAddClass:te=>(Qe=it(Qe,te),gt),beforeAddRead:te=>(fr.push(te),gt),beforeAddWrite:te=>(vr.push(te),gt),beforeClearStyles:(te=[])=>{for(const Ye of te)Ge[Ye]="";return gt},beforeStyles:(te={})=>(Ge=te,gt),beforeRemoveClass:te=>(be=it(be,te),gt),beforeAddClass:te=>(ie=it(ie,te),gt),onFinish:ir,isRunning:()=>0!==De&&!en,progressStart:(te=!1,Ye)=>(zt.forEach(lt=>{lt.progressStart(te,Ye)}),ts(),Ve=te,We||cs(),Ar(!1,!0,Ye),gt),progressStep:te=>(zt.forEach(Ye=>{Ye.progressStep(te)}),Fi(te),gt),progressEnd:(te,Ye,lt)=>(Ve=!1,zt.forEach(bt=>{bt.progressEnd(te,Ye,lt)}),void 0!==lt&&($e=lt),X=!1,Te=!0,0===te?(Ae="reverse"===ur()?"normal":"reverse","reverse"===Ae&&(Te=!1),Yn?(Ar(),Fi(1-Ye)):(le=(1-Ye)*Ee()*-1,Ar(!1,!1))):1===te&&(Yn?(Ar(),Fi(Ye)):(le=Ye*Ee()*-1,Ar(!1,!1))),void 0!==te&&(ir(()=>{$e=void 0,Ae=void 0,le=void 0},{oneTimeCallback:!0}),rt||q()),gt)}}},4349:(jt,at,V)=>{"use strict";V.d(at,{G:()=>Ne});class v{constructor(ve,Oe,Ue,ye,me){this.id=Oe,this.name=Ue,this.disableScroll=me,this.priority=1e6*ye+Oe,this.ctrl=ve}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ve=this.ctrl.capture(this.name,this.id,this.priority);return ve&&this.disableScroll&&this.ctrl.disableScroll(this.id),ve}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class F{constructor(ve,Oe,Ue,ye){this.id=Oe,this.disable=Ue,this.disableScroll=ye,this.ctrl=ve}block(){if(this.ctrl){if(this.disable)for(const ve of this.disable)this.ctrl.disableGesture(ve,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ve of this.disable)this.ctrl.enableGesture(ve,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ce="backdrop-no-scroll",Ne=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ve){var Oe;return new v(this,this.newID(),ve.name,null!==(Oe=ve.priority)&&void 0!==Oe?Oe:0,!!ve.disableScroll)}createBlocker(ve={}){return new F(this,this.newID(),ve.disable,!!ve.disableScroll)}start(ve,Oe,Ue){return this.canStart(ve)?(this.requestedStart.set(Oe,Ue),!0):(this.requestedStart.delete(Oe),!1)}capture(ve,Oe,Ue){if(!this.start(ve,Oe,Ue))return!1;const ye=this.requestedStart;let me=-1e4;if(ye.forEach(_e=>{me=Math.max(me,_e)}),me===Ue){this.capturedId=Oe,ye.clear();const _e=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ve}});return document.dispatchEvent(_e),!0}return ye.delete(Oe),!1}release(ve){this.requestedStart.delete(ve),this.capturedId===ve&&(this.capturedId=void 0)}disableGesture(ve,Oe){let Ue=this.disabledGestures.get(ve);void 0===Ue&&(Ue=new Set,this.disabledGestures.set(ve,Ue)),Ue.add(Oe)}enableGesture(ve,Oe){const Ue=this.disabledGestures.get(ve);void 0!==Ue&&Ue.delete(Oe)}disableScroll(ve){this.disabledScroll.add(ve),1===this.disabledScroll.size&&document.body.classList.add(Ce)}enableScroll(ve){this.disabledScroll.delete(ve),0===this.disabledScroll.size&&document.body.classList.remove(Ce)}canStart(ve){return!(void 0!==this.capturedId||this.isDisabled(ve))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ve){const Oe=this.disabledGestures.get(ve);return!!(Oe&&Oe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(jt,at,V)=>{"use strict";V.r(at),V.d(at,{MENU_BACK_BUTTON_PRIORITY:()=>Ne,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ce,blockHardwareBackButton:()=>v,startHardwareBackButton:()=>F});var l=V(5861);const v=()=>{document.addEventListener("backbutton",()=>{})},F=()=>{const Le=document;let ve=!1;Le.addEventListener("backbutton",()=>{if(ve)return;let Oe=0,Ue=[];const ye=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Fe,Be){Ue.push({priority:Fe,handler:Be,id:Oe++})}}});Le.dispatchEvent(ye);const me=function(){var Fe=(0,l.Z)(function*(Be){try{if(null!=Be&&Be.handler){const it=Be.handler(_e);null!=it&&(yield it)}}catch(it){console.error(it)}});return function(it){return Fe.apply(this,arguments)}}(),_e=()=>{if(Ue.length>0){let Fe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ue.forEach(Be=>{Be.priority>=Fe.priority&&(Fe=Be)}),ve=!0,Ue=Ue.filter(Be=>Be.id!==Fe.id),me(Fe).then(()=>ve=!1)}};_e()})},Ce=100,Ne=99},5730:(jt,at,V)=>{"use strict";V.d(at,{a:()=>ve,b:()=>Oe,c:()=>F,d:()=>Be,e:()=>it,f:()=>Fe,g:()=>Ue,h:()=>ze,i:()=>Le,j:()=>Ce,k:()=>_e,l:()=>mt,m:()=>me,n:()=>Me,o:()=>et,p:()=>je,q:()=>Se,r:()=>ye,s:()=>Ke,t:()=>l,u:()=>pe});const l=(Re,ie=0)=>new Promise(be=>{v(Re,ie,be)}),v=(Re,ie=0,be)=>{let We,rt;const Ge={passive:!0},Pe=()=>{We&&We()},ne=De=>{(void 0===De||Re===De.target)&&(Pe(),be(De))};return Re&&(Re.addEventListener("webkitTransitionEnd",ne,Ge),Re.addEventListener("transitionend",ne,Ge),rt=setTimeout(ne,ie+500),We=()=>{rt&&(clearTimeout(rt),rt=void 0),Re.removeEventListener("webkitTransitionEnd",ne,Ge),Re.removeEventListener("transitionend",ne,Ge)}),Pe},F=(Re,ie)=>{Re.componentOnReady?Re.componentOnReady().then(be=>ie(be)):ye(()=>ie(Re))},Ce=(Re,ie=[])=>{const be={};return ie.forEach(We=>{Re.hasAttribute(We)&&(null!==Re.getAttribute(We)&&(be[We]=Re.getAttribute(We)),Re.removeAttribute(We))}),be},Ne=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Le=(Re,ie)=>{let be=Ne;return ie&&ie.length>0&&(be=be.filter(We=>!ie.includes(We))),Ce(Re,be)},ve=(Re,ie,be,We)=>{var rt;if(typeof window<"u"){const Ge=window,Qe=null===(rt=null==Ge?void 0:Ge.Ionic)||void 0===rt?void 0:rt.config;if(Qe){const Pe=Qe.get("_ael");if(Pe)return Pe(Re,ie,be,We);if(Qe._ael)return Qe._ael(Re,ie,be,We)}}return Re.addEventListener(ie,be,We)},Oe=(Re,ie,be,We)=>{var rt;if(typeof window<"u"){const Ge=window,Qe=null===(rt=null==Ge?void 0:Ge.Ionic)||void 0===rt?void 0:rt.config;if(Qe){const Pe=Qe.get("_rel");if(Pe)return Pe(Re,ie,be,We);if(Qe._rel)return Qe._rel(Re,ie,be,We)}}return Re.removeEventListener(ie,be,We)},Ue=(Re,ie=Re)=>Re.shadowRoot||ie,ye=Re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Re):"function"==typeof requestAnimationFrame?requestAnimationFrame(Re):setTimeout(Re),me=Re=>!!Re.shadowRoot&&!!Re.attachShadow,_e=Re=>{const ie=Re.closest("ion-item");return ie?ie.querySelector("ion-label"):null},Fe=Re=>{if(Re.focus(),Re.classList.contains("ion-focusable")){const ie=Re.closest("ion-app");ie&&ie.setFocus([Re])}},Be=(Re,ie)=>{let be;const We=Re.getAttribute("aria-labelledby"),rt=Re.id;let Ge=null!==We&&""!==We.trim()?We:ie+"-lbl",Qe=null!==We&&""!==We.trim()?document.getElementById(We):_e(Re);return Qe?(null===We&&(Qe.id=Ge),be=Qe.textContent,Qe.setAttribute("aria-hidden","true")):""!==rt.trim()&&(Qe=document.querySelector(`label[for="${rt}"]`),Qe&&(""!==Qe.id?Ge=Qe.id:Qe.id=Ge=`${rt}-lbl`,be=Qe.textContent)),{label:Qe,labelId:Ge,labelText:be}},it=(Re,ie,be,We,rt)=>{if(Re||me(ie)){let Ge=ie.querySelector("input.aux-input");Ge||(Ge=ie.ownerDocument.createElement("input"),Ge.type="hidden",Ge.classList.add("aux-input"),ie.appendChild(Ge)),Ge.disabled=rt,Ge.name=be,Ge.value=We||""}},mt=(Re,ie,be)=>Math.max(Re,Math.min(ie,be)),Me=(Re,ie)=>{if(!Re){const be="ASSERT: "+ie;throw console.error(be),new Error(be)}},pe=Re=>Re.timeStamp||Date.now(),je=Re=>{if(Re){const ie=Re.changedTouches;if(ie&&ie.length>0){const be=ie[0];return{x:be.clientX,y:be.clientY}}if(void 0!==Re.pageX)return{x:Re.pageX,y:Re.pageY}}return{x:0,y:0}},et=Re=>{const ie="rtl"===document.dir;switch(Re){case"start":return ie;case"end":return!ie;default:throw new Error(`"${Re}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ze=(Re,ie)=>{const be=Re._original||Re;return{_original:Re,emit:Se(be.emit.bind(be),ie)}},Se=(Re,ie=0)=>{let be;return(...We)=>{clearTimeout(be),be=setTimeout(Re,ie,...We)}},Ke=(Re,ie)=>{if(null!=Re||(Re={}),null!=ie||(ie={}),Re===ie)return!0;const be=Object.keys(Re);if(be.length!==Object.keys(ie).length)return!1;for(const We of be)if(!(We in ie)||Re[We]!==ie[We])return!1;return!0}},1843:(jt,at,V)=>{"use strict";V.d(at,{L:()=>Ce,a:()=>Ne,b:()=>Le,c:()=>ve,d:()=>Oe,e:()=>ie,g:()=>rt,l:()=>Ke,s:()=>be,t:()=>me});var l=V(5861),v=V(1308),F=V(5730);const Ce="ionViewWillEnter",Ne="ionViewDidEnter",Le="ionViewWillLeave",ve="ionViewDidLeave",Oe="ionViewWillUnload",me=Ge=>new Promise((Qe,Pe)=>{(0,v.c)(()=>{_e(Ge),Fe(Ge).then(ne=>{ne.animation&&ne.animation.destroy(),Be(Ge),Qe(ne)},ne=>{Be(Ge),Pe(ne)})})}),_e=Ge=>{const Qe=Ge.enteringEl,Pe=Ge.leavingEl;We(Qe,Pe,Ge.direction),Ge.showGoBack?Qe.classList.add("can-go-back"):Qe.classList.remove("can-go-back"),be(Qe,!1),Qe.style.setProperty("pointer-events","none"),Pe&&(be(Pe,!1),Pe.style.setProperty("pointer-events","none"))},Fe=function(){var Ge=(0,l.Z)(function*(Qe){const Pe=yield it(Qe);return Pe&&v.B.isBrowser?mt(Pe,Qe):Me(Qe)});return function(Pe){return Ge.apply(this,arguments)}}(),Be=Ge=>{const Qe=Ge.enteringEl,Pe=Ge.leavingEl;Qe.classList.remove("ion-page-invisible"),Qe.style.removeProperty("pointer-events"),void 0!==Pe&&(Pe.classList.remove("ion-page-invisible"),Pe.style.removeProperty("pointer-events"))},it=function(){var Ge=(0,l.Z)(function*(Qe){return Qe.leavingEl&&Qe.animated&&0!==Qe.duration?Qe.animationBuilder?Qe.animationBuilder:"ios"===Qe.mode?(yield Promise.resolve().then(V.bind(V,6439))).iosTransitionAnimation:(yield Promise.resolve().then(V.bind(V,7838))).mdTransitionAnimation:void 0});return function(Pe){return Ge.apply(this,arguments)}}(),mt=function(){var Ge=(0,l.Z)(function*(Qe,Pe){yield pe(Pe,!0);const ne=Qe(Pe.baseEl,Pe);ze(Pe.enteringEl,Pe.leavingEl);const De=yield et(ne,Pe);return Pe.progressCallback&&Pe.progressCallback(void 0),De&&Se(Pe.enteringEl,Pe.leavingEl),{hasCompleted:De,animation:ne}});return function(Pe,ne){return Ge.apply(this,arguments)}}(),Me=function(){var Ge=(0,l.Z)(function*(Qe){const Pe=Qe.enteringEl,ne=Qe.leavingEl;return yield pe(Qe,!1),ze(Pe,ne),Se(Pe,ne),{hasCompleted:!0}});return function(Pe){return Ge.apply(this,arguments)}}(),pe=function(){var Ge=(0,l.Z)(function*(Qe,Pe){const De=(void 0!==Qe.deepWait?Qe.deepWait:Pe)?[ie(Qe.enteringEl),ie(Qe.leavingEl)]:[Re(Qe.enteringEl),Re(Qe.leavingEl)];yield Promise.all(De),yield je(Qe.viewIsReady,Qe.enteringEl)});return function(Pe,ne){return Ge.apply(this,arguments)}}(),je=function(){var Ge=(0,l.Z)(function*(Qe,Pe){Qe&&(yield Qe(Pe))});return function(Pe,ne){return Ge.apply(this,arguments)}}(),et=(Ge,Qe)=>{const Pe=Qe.progressCallback,ne=new Promise(De=>{Ge.onFinish(Ve=>De(1===Ve))});return Pe?(Ge.progressStart(!0),Pe(Ge)):Ge.play(),ne},ze=(Ge,Qe)=>{Ke(Qe,Le),Ke(Ge,Ce)},Se=(Ge,Qe)=>{Ke(Ge,Ne),Ke(Qe,ve)},Ke=(Ge,Qe)=>{if(Ge){const Pe=new CustomEvent(Qe,{bubbles:!1,cancelable:!1});Ge.dispatchEvent(Pe)}},Re=Ge=>Ge?new Promise(Qe=>(0,F.c)(Ge,Qe)):Promise.resolve(),ie=function(){var Ge=(0,l.Z)(function*(Qe){const Pe=Qe;if(Pe){if(null!=Pe.componentOnReady){if(null!=(yield Pe.componentOnReady()))return}else if(null!=Pe.__registerHost)return void(yield new Promise(De=>(0,F.r)(De)));yield Promise.all(Array.from(Pe.children).map(ie))}});return function(Pe){return Ge.apply(this,arguments)}}(),be=(Ge,Qe)=>{Qe?(Ge.setAttribute("aria-hidden","true"),Ge.classList.add("ion-page-hidden")):(Ge.hidden=!1,Ge.removeAttribute("aria-hidden"),Ge.classList.remove("ion-page-hidden"))},We=(Ge,Qe,Pe)=>{void 0!==Ge&&(Ge.style.zIndex="back"===Pe?"99":"101"),void 0!==Qe&&(Qe.style.zIndex="100")},rt=Ge=>Ge.classList.contains("ion-page")?Ge:Ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ge},6369:(jt,at,V)=>{"use strict";V.d(at,{m:()=>me});var l=V(5861),v=V(7593),F=V(5730),Ce=V(5179),Ne=V(181);const Le=_e=>(0,Ne.c)().duration(_e?400:300),ve=_e=>{let Fe,Be;const it=_e.width+8,mt=(0,Ne.c)(),Me=(0,Ne.c)();_e.isEndSide?(Fe=it+"px",Be="0px"):(Fe=-it+"px",Be="0px"),mt.addElement(_e.menuInnerEl).fromTo("transform",`translateX(${Fe})`,`translateX(${Be})`);const je="ios"===(0,Ce.b)(_e),et=je?.2:.25;return Me.addElement(_e.backdropEl).fromTo("opacity",.01,et),Le(je).addAnimation([mt,Me])},Oe=_e=>{let Fe,Be;const it=(0,Ce.b)(_e),mt=_e.width;_e.isEndSide?(Fe=-mt+"px",Be=mt+"px"):(Fe=mt+"px",Be=-mt+"px");const Me=(0,Ne.c)().addElement(_e.menuInnerEl).fromTo("transform",`translateX(${Be})`,"translateX(0px)"),pe=(0,Ne.c)().addElement(_e.contentEl).fromTo("transform","translateX(0px)",`translateX(${Fe})`),je=(0,Ne.c)().addElement(_e.backdropEl).fromTo("opacity",.01,.32);return Le("ios"===it).addAnimation([Me,pe,je])},Ue=_e=>{const Fe=(0,Ce.b)(_e),Be=_e.width*(_e.isEndSide?-1:1)+"px",it=(0,Ne.c)().addElement(_e.contentEl).fromTo("transform","translateX(0px)",`translateX(${Be})`);return Le("ios"===Fe).addAnimation(it)},me=(()=>{const _e=new Map,Fe=[],Be=function(){var ue=(0,l.Z)(function*(Ae){const $e=yield ze(Ae);return!!$e&&$e.open()});return function($e){return ue.apply(this,arguments)}}(),it=function(){var ue=(0,l.Z)(function*(Ae){const $e=yield void 0!==Ae?ze(Ae):Se();return void 0!==$e&&$e.close()});return function($e){return ue.apply(this,arguments)}}(),mt=function(){var ue=(0,l.Z)(function*(Ae){const $e=yield ze(Ae);return!!$e&&$e.toggle()});return function($e){return ue.apply(this,arguments)}}(),Me=function(){var ue=(0,l.Z)(function*(Ae,$e){const le=yield ze($e);return le&&(le.disabled=!Ae),le});return function($e,le){return ue.apply(this,arguments)}}(),pe=function(){var ue=(0,l.Z)(function*(Ae,$e){const le=yield ze($e);return le&&(le.swipeGesture=Ae),le});return function($e,le){return ue.apply(this,arguments)}}(),je=function(){var ue=(0,l.Z)(function*(Ae){if(null!=Ae){const $e=yield ze(Ae);return void 0!==$e&&$e.isOpen()}return void 0!==(yield Se())});return function($e){return ue.apply(this,arguments)}}(),et=function(){var ue=(0,l.Z)(function*(Ae){const $e=yield ze(Ae);return!!$e&&!$e.disabled});return function($e){return ue.apply(this,arguments)}}(),ze=function(){var ue=(0,l.Z)(function*(Ae){return yield he(),"start"===Ae||"end"===Ae?Ve(Te=>Te.side===Ae&&!Te.disabled)||Ve(Te=>Te.side===Ae):null!=Ae?Ve(le=>le.menuId===Ae):Ve(le=>!le.disabled)||(Fe.length>0?Fe[0].el:void 0)});return function($e){return ue.apply(this,arguments)}}(),Se=function(){var ue=(0,l.Z)(function*(){return yield he(),Pe()});return function(){return ue.apply(this,arguments)}}(),Ke=function(){var ue=(0,l.Z)(function*(){return yield he(),ne()});return function(){return ue.apply(this,arguments)}}(),Re=function(){var ue=(0,l.Z)(function*(){return yield he(),De()});return function(){return ue.apply(this,arguments)}}(),ie=(ue,Ae)=>{_e.set(ue,Ae)},rt=ue=>{const Ae=ue.side;Fe.filter($e=>$e.side===Ae&&$e!==ue).forEach($e=>$e.disabled=!0)},Ge=function(){var ue=(0,l.Z)(function*(Ae,$e,le){if(De())return!1;if($e){const Te=yield Se();Te&&Ae.el!==Te&&(yield Te.setOpen(!1,!1))}return Ae._setOpen($e,le)});return function($e,le,Te){return ue.apply(this,arguments)}}(),Pe=()=>Ve(ue=>ue._isOpen),ne=()=>Fe.map(ue=>ue.el),De=()=>Fe.some(ue=>ue.isAnimating),Ve=ue=>{const Ae=Fe.find(ue);if(void 0!==Ae)return Ae.el},he=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ue=>new Promise(Ae=>(0,F.c)(ue,Ae))));return ie("reveal",Ue),ie("push",Oe),ie("overlay",ve),typeof document<"u"&&document.addEventListener("ionBackButton",ue=>{const Ae=Pe();Ae&&ue.detail.register(v.MENU_BACK_BUTTON_PRIORITY,()=>Ae.close())}),{registerAnimation:ie,get:ze,getMenus:Ke,getOpen:Se,isEnabled:et,swipeGesture:pe,isAnimating:Re,isOpen:je,enable:Me,toggle:mt,close:it,open:Be,_getOpenSync:Pe,_createAnimation:(ue,Ae)=>{const $e=_e.get(ue);if(!$e)throw new Error("animation not registered");return $e(Ae)},_register:ue=>{Fe.indexOf(ue)<0&&(ue.disabled||rt(ue),Fe.push(ue))},_unregister:ue=>{const Ae=Fe.indexOf(ue);Ae>-1&&Fe.splice(Ae,1)},_setOpen:Ge,_setActiveMenu:rt}})()},3457:(jt,at,V)=>{"use strict";V.d(at,{w:()=>l});const l=typeof window<"u"?window:void 0},1898:(jt,at,V)=>{"use strict";V.r(at),V.d(at,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>Ue});var l=V(4349);const v=(Fe,Be,it,mt)=>{const Me=F(Fe)?{capture:!!mt.capture,passive:!!mt.passive}:!!mt.capture;let pe,je;return Fe.__zone_symbol__addEventListener?(pe="__zone_symbol__addEventListener",je="__zone_symbol__removeEventListener"):(pe="addEventListener",je="removeEventListener"),Fe[pe](Be,it,Me),()=>{Fe[je](Be,it,Me)}},F=Fe=>{if(void 0===Ce)try{const Be=Object.defineProperty({},"passive",{get:()=>{Ce=!0}});Fe.addEventListener("optsTest",()=>{},Be)}catch(Be){Ce=!1}return!!Ce};let Ce;const ve=Fe=>Fe instanceof Document?Fe:Fe.ownerDocument,Ue=Fe=>{let Be=!1,it=!1,mt=!0,Me=!1;const pe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Fe),je=pe.canStart,et=pe.onWillStart,ze=pe.onStart,Se=pe.onEnd,Ke=pe.notCaptured,Re=pe.onMove,ie=pe.threshold,be=pe.passive,We=pe.blurOnStart,rt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ge=((Fe,Be,it)=>{const mt=it*(Math.PI/180),Me="x"===Fe,pe=Math.cos(mt),je=Be*Be;let et=0,ze=0,Se=!1,Ke=0;return{start(Re,ie){et=Re,ze=ie,Ke=0,Se=!0},detect(Re,ie){if(!Se)return!1;const be=Re-et,We=ie-ze,rt=be*be+We*We;if(rt<je)return!1;const Ge=Math.sqrt(rt),Qe=(Me?be:We)/Ge;return Ke=Qe>pe?1:Qe<-pe?-1:0,Se=!1,!0},isGesture:()=>0!==Ke,getDirection:()=>Ke}})(pe.direction,pe.threshold,pe.maxAngle),Qe=l.G.createGesture({name:Fe.gestureName,priority:Fe.gesturePriority,disableScroll:Fe.disableScroll}),De=()=>{Be&&(Me=!1,Re&&Re(rt))},Ve=()=>!!Qe.capture()&&(Be=!0,mt=!1,rt.startX=rt.currentX,rt.startY=rt.currentY,rt.startTime=rt.currentTime,et?et(rt).then(ue):ue(),!0),ue=()=>{We&&(()=>{if(typeof document<"u"){const X=document.activeElement;null!=X&&X.blur&&X.blur()}})(),ze&&ze(rt),mt=!0},Ae=()=>{Be=!1,it=!1,Me=!1,mt=!0,Qe.release()},$e=X=>{const Ie=Be,tt=mt;if(Ae(),tt){if(ye(rt,X),Ie)return void(Se&&Se(rt));Ke&&Ke(rt)}},le=((Fe,Be,it,mt,Me)=>{let pe,je,et,ze,Se,Ke,Re,ie=0;const be=he=>{ie=Date.now()+2e3,Be(he)&&(!je&&it&&(je=v(Fe,"touchmove",it,Me)),et||(et=v(he.target,"touchend",rt,Me)),ze||(ze=v(he.target,"touchcancel",rt,Me)))},We=he=>{ie>Date.now()||Be(he)&&(!Ke&&it&&(Ke=v(ve(Fe),"mousemove",it,Me)),Re||(Re=v(ve(Fe),"mouseup",Ge,Me)))},rt=he=>{Qe(),mt&&mt(he)},Ge=he=>{Pe(),mt&&mt(he)},Qe=()=>{je&&je(),et&&et(),ze&&ze(),je=et=ze=void 0},Pe=()=>{Ke&&Ke(),Re&&Re(),Ke=Re=void 0},ne=()=>{Qe(),Pe()},De=(he=!0)=>{he?(pe||(pe=v(Fe,"touchstart",be,Me)),Se||(Se=v(Fe,"mousedown",We,Me))):(pe&&pe(),Se&&Se(),pe=Se=void 0,ne())};return{enable:De,stop:ne,destroy:()=>{De(!1),mt=it=Be=void 0}}})(pe.el,X=>{const Ie=_e(X);return!(it||!mt||(me(X,rt),rt.startX=rt.currentX,rt.startY=rt.currentY,rt.startTime=rt.currentTime=Ie,rt.velocityX=rt.velocityY=rt.deltaX=rt.deltaY=0,rt.event=X,je&&!1===je(rt))||(Qe.release(),!Qe.start()))&&(it=!0,0===ie?Ve():(Ge.start(rt.startX,rt.startY),!0))},X=>{Be?!Me&&mt&&(Me=!0,ye(rt,X),requestAnimationFrame(De)):(ye(rt,X),Ge.detect(rt.currentX,rt.currentY)&&(!Ge.isGesture()||!Ve())&&Te())},$e,{capture:!1,passive:be}),Te=()=>{Ae(),le.stop(),Ke&&Ke(rt)};return{enable(X=!0){X||(Be&&$e(void 0),Ae()),le.enable(X)},destroy(){Qe.destroy(),le.destroy()}}},ye=(Fe,Be)=>{if(!Be)return;const it=Fe.currentX,mt=Fe.currentY,Me=Fe.currentTime;me(Be,Fe);const pe=Fe.currentX,je=Fe.currentY,ze=(Fe.currentTime=_e(Be))-Me;if(ze>0&&ze<100){const Ke=(je-mt)/ze;Fe.velocityX=(pe-it)/ze*.7+.3*Fe.velocityX,Fe.velocityY=.7*Ke+.3*Fe.velocityY}Fe.deltaX=pe-Fe.startX,Fe.deltaY=je-Fe.startY,Fe.event=Be},me=(Fe,Be)=>{let it=0,mt=0;if(Fe){const Me=Fe.changedTouches;if(Me&&Me.length>0){const pe=Me[0];it=pe.clientX,mt=pe.clientY}else void 0!==Fe.pageX&&(it=Fe.pageX,mt=Fe.pageY)}Be.currentX=it,Be.currentY=mt},_e=Fe=>Fe.timeStamp||Date.now()},1308:(jt,at,V)=>{"use strict";V.d(at,{B:()=>Mi,H:()=>rn,a:()=>Te,b:()=>wi,c:()=>Gr,e:()=>_n,f:()=>Or,g:()=>X,h:()=>tn,i:()=>vn,j:()=>ur,k:()=>jr,p:()=>mt,r:()=>ei,s:()=>Be});var l=V(5861);let F,Ce,Ne,Le=!1,ve=!1,Oe=!1,Ue=!1,ye=!1;const me=typeof window<"u"?window:{},_e=me.document||{head:{}},Fe={$flags$:0,$resourcesUrl$:"",jmp:q=>q(),raf:q=>requestAnimationFrame(q),ael:(q,de,qe,ot)=>q.addEventListener(de,qe,ot),rel:(q,de,qe,ot)=>q.removeEventListener(de,qe,ot),ce:(q,de)=>new CustomEvent(q,de)},Be=q=>{Object.assign(Fe,q)},mt=q=>Promise.resolve(q),Me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(q){}return!1})(),pe=(q,de,qe,ot)=>{qe&&qe.map(([wt,te,Ye])=>{const lt=et(q,wt),bt=je(de,Ye),Dt=ze(wt);Fe.ael(lt,te,bt,Dt),(de.$rmListeners$=de.$rmListeners$||[]).push(()=>Fe.rel(lt,te,bt,Dt))})},je=(q,de)=>qe=>{try{256&q.$flags$?q.$lazyInstance$[de](qe):(q.$queuedListeners$=q.$queuedListeners$||[]).push([de,qe])}catch(ot){zn(ot)}},et=(q,de)=>4&de?_e:8&de?me:16&de?_e.body:q,ze=q=>0!=(2&q),be="s-id",We="sty-id",Qe="http://www.w3.org/1999/xlink",De=new WeakMap,Ve=(q,de,qe)=>{let ot=Pr.get(q);Me&&qe?(ot=ot||new CSSStyleSheet,"string"==typeof ot?ot=de:ot.replaceSync(de)):ot=de,Pr.set(q,ot)},he=(q,de,qe,ot)=>{let wt=Ae(de,qe);const te=Pr.get(wt);if(q=11===q.nodeType?q:_e,te)if("string"==typeof te){let lt,Ye=De.get(q=q.head||q);Ye||De.set(q,Ye=new Set),Ye.has(wt)||(q.host&&(lt=q.querySelector(`[${We}="${wt}"]`))?lt.innerHTML=te:(lt=_e.createElement("style"),lt.innerHTML=te,q.insertBefore(lt,q.querySelector("link"))),Ye&&Ye.add(wt))}else q.adoptedStyleSheets.includes(te)||(q.adoptedStyleSheets=[...q.adoptedStyleSheets,te]);return wt},Ae=(q,de)=>"sc-"+(de&&32&q.$flags$?q.$tagName$+"-"+de:q.$tagName$),$e=q=>q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Te=q=>zr.push(q),X=q=>cr(q).$modeName$,Ie={},vt=q=>"object"==(q=typeof q)||"function"===q,tn=(q,de,...qe)=>{let ot=null,wt=null,te=null,Ye=!1,lt=!1;const bt=[],Dt=ln=>{for(let Mn=0;Mn<ln.length;Mn++)ot=ln[Mn],Array.isArray(ot)?Dt(ot):null!=ot&&"boolean"!=typeof ot&&((Ye="function"!=typeof q&&!vt(ot))&&(ot=String(ot)),Ye&&lt?bt[bt.length-1].$text$+=ot:bt.push(Ye?In(null,ot):ot),lt=Ye)};if(Dt(qe),de){de.key&&(wt=de.key),de.name&&(te=de.name);{const ln=de.className||de.class;ln&&(de.class="object"!=typeof ln?ln:Object.keys(ln).filter(Mn=>ln[Mn]).join(" "))}}if("function"==typeof q)return q(null===de?{}:de,bt,jn);const $t=In(q,null);return $t.$attrs$=de,bt.length>0&&($t.$children$=bt),$t.$key$=wt,$t.$name$=te,$t},In=(q,de)=>({$flags$:0,$tag$:q,$text$:de,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),rn={},jn={forEach:(q,de)=>q.map(fr).forEach(de),map:(q,de)=>q.map(fr).map(de).map(vr)},fr=q=>({vattrs:q.$attrs$,vchildren:q.$children$,vkey:q.$key$,vname:q.$name$,vtag:q.$tag$,vtext:q.$text$}),vr=q=>{if("function"==typeof q.vtag){const qe=Object.assign({},q.vattrs);return q.vkey&&(qe.key=q.vkey),q.vname&&(qe.name=q.vname),tn(q.vtag,qe,...q.vchildren||[])}const de=In(q.vtag,q.vtext);return de.$attrs$=q.vattrs,de.$children$=q.vchildren,de.$key$=q.vkey,de.$name$=q.vname,de},on=(q,de,qe,ot,wt,te)=>{if(qe!==ot){let Ye=Fi(q,de),lt=de.toLowerCase();if("class"===de){const bt=q.classList,Dt=Ot(qe),$t=Ot(ot);bt.remove(...Dt.filter(ln=>ln&&!$t.includes(ln))),bt.add(...$t.filter(ln=>ln&&!Dt.includes(ln)))}else if("style"===de){for(const bt in qe)(!ot||null==ot[bt])&&(bt.includes("-")?q.style.removeProperty(bt):q.style[bt]="");for(const bt in ot)(!qe||ot[bt]!==qe[bt])&&(bt.includes("-")?q.style.setProperty(bt,ot[bt]):q.style[bt]=ot[bt])}else if("key"!==de)if("ref"===de)ot&&ot(q);else if(Ye||"o"!==de[0]||"n"!==de[1]){const bt=vt(ot);if((Ye||bt&&null!==ot)&&!wt)try{if(q.tagName.includes("-"))q[de]=ot;else{const $t=null==ot?"":ot;"list"===de?Ye=!1:(null==qe||q[de]!=$t)&&(q[de]=$t)}}catch($t){}let Dt=!1;lt!==(lt=lt.replace(/^xlink\:?/,""))&&(de=lt,Dt=!0),null==ot||!1===ot?(!1!==ot||""===q.getAttribute(de))&&(Dt?q.removeAttributeNS(Qe,de):q.removeAttribute(de)):(!Ye||4&te||wt)&&!bt&&(ot=!0===ot?"":ot,Dt?q.setAttributeNS(Qe,de,ot):q.setAttribute(de,ot))}else de="-"===de[2]?de.slice(3):Fi(me,lt)?lt.slice(2):lt[2]+de.slice(3),qe&&Fe.rel(q,de,qe,!1),ot&&Fe.ael(q,de,ot,!1)}},An=/\s/,Ot=q=>q?q.split(An):[],Vn=(q,de,qe,ot)=>{const wt=11===de.$elm$.nodeType&&de.$elm$.host?de.$elm$.host:de.$elm$,te=q&&q.$attrs$||Ie,Ye=de.$attrs$||Ie;for(ot in te)ot in Ye||on(wt,ot,te[ot],void 0,qe,de.$flags$);for(ot in Ye)on(wt,ot,te[ot],Ye[ot],qe,de.$flags$)},Yn=(q,de,qe,ot)=>{const wt=de.$children$[qe];let Ye,lt,bt,te=0;if(Le||(Oe=!0,"slot"===wt.$tag$&&(F&&ot.classList.add(F+"-s"),wt.$flags$|=wt.$children$?2:1)),null!==wt.$text$)Ye=wt.$elm$=_e.createTextNode(wt.$text$);else if(1&wt.$flags$)Ye=wt.$elm$=_e.createTextNode("");else{if(Ue||(Ue="svg"===wt.$tag$),Ye=wt.$elm$=_e.createElementNS(Ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&wt.$flags$?"slot-fb":wt.$tag$),Ue&&"foreignObject"===wt.$tag$&&(Ue=!1),Vn(null,wt,Ue),(q=>null!=q)(F)&&Ye["s-si"]!==F&&Ye.classList.add(Ye["s-si"]=F),wt.$children$)for(te=0;te<wt.$children$.length;++te)lt=Yn(q,wt,te,Ye),lt&&Ye.appendChild(lt);"svg"===wt.$tag$?Ue=!1:"foreignObject"===Ye.tagName&&(Ue=!0)}return Ye["s-hn"]=Ne,3&wt.$flags$&&(Ye["s-sr"]=!0,Ye["s-cr"]=Ce,Ye["s-sn"]=wt.$name$||"",bt=q&&q.$children$&&q.$children$[qe],bt&&bt.$tag$===wt.$tag$&&q.$elm$&&er(q.$elm$,!1)),Ye},er=(q,de)=>{Fe.$flags$|=1;const qe=q.childNodes;for(let ot=qe.length-1;ot>=0;ot--){const wt=qe[ot];wt["s-hn"]!==Ne&&wt["s-ol"]&&(ir(wt).insertBefore(wt,dn(wt)),wt["s-ol"].remove(),wt["s-ol"]=void 0,Oe=!0),de&&er(wt,de)}Fe.$flags$&=-2},Br=(q,de,qe,ot,wt,te)=>{let lt,Ye=q["s-cr"]&&q["s-cr"].parentNode||q;for(Ye.shadowRoot&&Ye.tagName===Ne&&(Ye=Ye.shadowRoot);wt<=te;++wt)ot[wt]&&(lt=Yn(null,qe,wt,q),lt&&(ot[wt].$elm$=lt,Ye.insertBefore(lt,dn(de))))},tr=(q,de,qe,ot,wt)=>{for(;de<=qe;++de)(ot=q[de])&&(wt=ot.$elm$,Dn(ot),ve=!0,wt["s-ol"]?wt["s-ol"].remove():er(wt,!0),wt.remove())},Jt=(q,de)=>q.$tag$===de.$tag$&&("slot"===q.$tag$?q.$name$===de.$name$:q.$key$===de.$key$),dn=q=>q&&q["s-ol"]||q,ir=q=>(q["s-ol"]?q["s-ol"]:q).parentNode,an=(q,de)=>{const qe=de.$elm$=q.$elm$,ot=q.$children$,wt=de.$children$,te=de.$tag$,Ye=de.$text$;let lt;null===Ye?(Ue="svg"===te||"foreignObject"!==te&&Ue,"slot"===te||Vn(q,de,Ue),null!==ot&&null!==wt?((q,de,qe,ot)=>{let fi,xi,wt=0,te=0,Ye=0,lt=0,bt=de.length-1,Dt=de[0],$t=de[bt],ln=ot.length-1,Mn=ot[0],Zn=ot[ln];for(;wt<=bt&&te<=ln;)if(null==Dt)Dt=de[++wt];else if(null==$t)$t=de[--bt];else if(null==Mn)Mn=ot[++te];else if(null==Zn)Zn=ot[--ln];else if(Jt(Dt,Mn))an(Dt,Mn),Dt=de[++wt],Mn=ot[++te];else if(Jt($t,Zn))an($t,Zn),$t=de[--bt],Zn=ot[--ln];else if(Jt(Dt,Zn))("slot"===Dt.$tag$||"slot"===Zn.$tag$)&&er(Dt.$elm$.parentNode,!1),an(Dt,Zn),q.insertBefore(Dt.$elm$,$t.$elm$.nextSibling),Dt=de[++wt],Zn=ot[--ln];else if(Jt($t,Mn))("slot"===Dt.$tag$||"slot"===Zn.$tag$)&&er($t.$elm$.parentNode,!1),an($t,Mn),q.insertBefore($t.$elm$,Dt.$elm$),$t=de[--bt],Mn=ot[++te];else{for(Ye=-1,lt=wt;lt<=bt;++lt)if(de[lt]&&null!==de[lt].$key$&&de[lt].$key$===Mn.$key$){Ye=lt;break}Ye>=0?(xi=de[Ye],xi.$tag$!==Mn.$tag$?fi=Yn(de&&de[te],qe,Ye,q):(an(xi,Mn),de[Ye]=void 0,fi=xi.$elm$),Mn=ot[++te]):(fi=Yn(de&&de[te],qe,te,q),Mn=ot[++te]),fi&&ir(Dt.$elm$).insertBefore(fi,dn(Dt.$elm$))}wt>bt?Br(q,null==ot[ln+1]?null:ot[ln+1].$elm$,qe,ot,te,ln):te>ln&&tr(de,wt,bt)})(qe,ot,de,wt):null!==wt?(null!==q.$text$&&(qe.textContent=""),Br(qe,null,de,wt,0,wt.length-1)):null!==ot&&tr(ot,0,ot.length-1),Ue&&"svg"===te&&(Ue=!1)):(lt=qe["s-cr"])?lt.parentNode.textContent=Ye:q.$text$!==Ye&&(qe.data=Ye)},Hn=q=>{const de=q.childNodes;let qe,ot,wt,te,Ye,lt;for(ot=0,wt=de.length;ot<wt;ot++)if(qe=de[ot],1===qe.nodeType){if(qe["s-sr"])for(Ye=qe["s-sn"],qe.hidden=!1,te=0;te<wt;te++)if(lt=de[te].nodeType,de[te]["s-hn"]!==qe["s-hn"]||""!==Ye){if(1===lt&&Ye===de[te].getAttribute("slot")){qe.hidden=!0;break}}else if(1===lt||3===lt&&""!==de[te].textContent.trim()){qe.hidden=!0;break}Hn(qe)}},St=[],_r=q=>{let de,qe,ot,wt,te,Ye,lt=0;const bt=q.childNodes,Dt=bt.length;for(;lt<Dt;lt++){if(de=bt[lt],de["s-sr"]&&(qe=de["s-cr"])&&qe.parentNode)for(ot=qe.parentNode.childNodes,wt=de["s-sn"],Ye=ot.length-1;Ye>=0;Ye--)qe=ot[Ye],!qe["s-cn"]&&!qe["s-nr"]&&qe["s-hn"]!==de["s-hn"]&&(Lr(qe,wt)?(te=St.find($t=>$t.$nodeToRelocate$===qe),ve=!0,qe["s-sn"]=qe["s-sn"]||wt,te?te.$slotRefNode$=de:St.push({$slotRefNode$:de,$nodeToRelocate$:qe}),qe["s-sr"]&&St.map($t=>{Lr($t.$nodeToRelocate$,qe["s-sn"])&&(te=St.find(ln=>ln.$nodeToRelocate$===qe),te&&!$t.$slotRefNode$&&($t.$slotRefNode$=te.$slotRefNode$))})):St.some($t=>$t.$nodeToRelocate$===qe)||St.push({$nodeToRelocate$:qe}));1===de.nodeType&&_r(de)}},Lr=(q,de)=>1===q.nodeType?null===q.getAttribute("slot")&&""===de||q.getAttribute("slot")===de:q["s-sn"]===de||""===de,Dn=q=>{q.$attrs$&&q.$attrs$.ref&&q.$attrs$.ref(null),q.$children$&&q.$children$.map(Dn)},vn=q=>cr(q).$hostElement$,_n=(q,de,qe)=>{const ot=vn(q);return{emit:wt=>Sr(ot,de,{bubbles:!!(4&qe),composed:!!(2&qe),cancelable:!!(1&qe),detail:wt})}},Sr=(q,de,qe)=>{const ot=Fe.ce(de,qe);return q.dispatchEvent(ot),ot},Nt=(q,de)=>{de&&!q.$onRenderResolve$&&de["s-p"]&&de["s-p"].push(new Promise(qe=>q.$onRenderResolve$=qe))},Ct=(q,de)=>{if(q.$flags$|=16,!(4&q.$flags$))return Nt(q,q.$ancestorComponent$),Gr(()=>Zt(q,de));q.$flags$|=512},Zt=(q,de)=>{const ot=q.$lazyInstance$;let wt;return de&&(q.$flags$|=256,q.$queuedListeners$&&(q.$queuedListeners$.map(([te,Ye])=>Ee(ot,te,Ye)),q.$queuedListeners$=null),wt=Ee(ot,"componentWillLoad")),wt=ee(wt,()=>Ee(ot,"componentWillRender")),ee(wt,()=>mn(q,ot,de))},mn=function(){var q=(0,l.Z)(function*(de,qe,ot){const wt=de.$hostElement$,Ye=wt["s-rc"];ot&&(q=>{const de=q.$cmpMeta$,qe=q.$hostElement$,ot=de.$flags$,te=he(qe.shadowRoot?qe.shadowRoot:qe.getRootNode(),de,q.$modeName$);10&ot&&(qe["s-sc"]=te,qe.classList.add(te+"-h"),2&ot&&qe.classList.add(te+"-s"))})(de);bn(de,qe),Ye&&(Ye.map(bt=>bt()),wt["s-rc"]=void 0);{const bt=wt["s-p"],Dt=()=>kn(de);0===bt.length?Dt():(Promise.all(bt).then(Dt),de.$flags$|=4,bt.length=0)}});return function(qe,ot,wt){return q.apply(this,arguments)}}(),bn=(q,de,qe)=>{try{de=de.render&&de.render(),q.$flags$&=-17,q.$flags$|=2,((q,de)=>{const qe=q.$hostElement$,ot=q.$cmpMeta$,wt=q.$vnode$||In(null,null),te=(q=>q&&q.$tag$===rn)(de)?de:tn(null,null,de);if(Ne=qe.tagName,ot.$attrsToReflect$&&(te.$attrs$=te.$attrs$||{},ot.$attrsToReflect$.map(([Ye,lt])=>te.$attrs$[lt]=qe[Ye])),te.$tag$=null,te.$flags$|=4,q.$vnode$=te,te.$elm$=wt.$elm$=qe.shadowRoot||qe,F=qe["s-sc"],Ce=qe["s-cr"],Le=0!=(1&ot.$flags$),ve=!1,an(wt,te),Fe.$flags$|=1,Oe){_r(te.$elm$);let Ye,lt,bt,Dt,$t,ln,Mn=0;for(;Mn<St.length;Mn++)Ye=St[Mn],lt=Ye.$nodeToRelocate$,lt["s-ol"]||(bt=_e.createTextNode(""),bt["s-nr"]=lt,lt.parentNode.insertBefore(lt["s-ol"]=bt,lt));for(Mn=0;Mn<St.length;Mn++)if(Ye=St[Mn],lt=Ye.$nodeToRelocate$,Ye.$slotRefNode$){for(Dt=Ye.$slotRefNode$.parentNode,$t=Ye.$slotRefNode$.nextSibling,bt=lt["s-ol"];bt=bt.previousSibling;)if(ln=bt["s-nr"],ln&&ln["s-sn"]===lt["s-sn"]&&Dt===ln.parentNode&&(ln=ln.nextSibling,!ln||!ln["s-nr"])){$t=ln;break}(!$t&&Dt!==lt.parentNode||lt.nextSibling!==$t)&&lt!==$t&&(!lt["s-hn"]&&lt["s-ol"]&&(lt["s-hn"]=lt["s-ol"].parentNode.nodeName),Dt.insertBefore(lt,$t))}else 1===lt.nodeType&&(lt.hidden=!0)}ve&&Hn(te.$elm$),Fe.$flags$&=-2,St.length=0})(q,de)}catch(ot){zn(ot,q.$hostElement$)}return null},kn=q=>{const qe=q.$hostElement$,wt=q.$lazyInstance$,te=q.$ancestorComponent$;Ee(wt,"componentDidRender"),64&q.$flags$?Ee(wt,"componentDidUpdate"):(q.$flags$|=64,re(qe),Ee(wt,"componentDidLoad"),q.$onReadyResolve$(qe),te||ke()),q.$onInstanceResolve$(qe),q.$onRenderResolve$&&(q.$onRenderResolve$(),q.$onRenderResolve$=void 0),512&q.$flags$&&Nn(()=>Ct(q,!1)),q.$flags$&=-517},ur=q=>{{const de=cr(q),qe=de.$hostElement$.isConnected;return qe&&2==(18&de.$flags$)&&Ct(de,!1),qe}},ke=q=>{re(_e.documentElement),Nn(()=>Sr(me,"appload",{detail:{namespace:"ionic"}}))},Ee=(q,de,qe)=>{if(q&&q[de])try{return q[de](qe)}catch(ot){zn(ot)}},ee=(q,de)=>q&&q.then?q.then(de):de(),re=q=>q.classList.add("hydrated"),nt=(q,de,qe,ot,wt,te,Ye)=>{let lt,bt,Dt,$t;if(1===te.nodeType){for(lt=te.getAttribute("c-id"),lt&&(bt=lt.split("."),(bt[0]===Ye||"0"===bt[0])&&(Dt={$flags$:0,$hostId$:bt[0],$nodeId$:bt[1],$depth$:bt[2],$index$:bt[3],$tag$:te.tagName.toLowerCase(),$elm$:te,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},de.push(Dt),te.removeAttribute("c-id"),q.$children$||(q.$children$=[]),q.$children$[Dt.$index$]=Dt,q=Dt,ot&&"0"===Dt.$depth$&&(ot[Dt.$index$]=Dt.$elm$))),$t=te.childNodes.length-1;$t>=0;$t--)nt(q,de,qe,ot,wt,te.childNodes[$t],Ye);if(te.shadowRoot)for($t=te.shadowRoot.childNodes.length-1;$t>=0;$t--)nt(q,de,qe,ot,wt,te.shadowRoot.childNodes[$t],Ye)}else if(8===te.nodeType)bt=te.nodeValue.split("."),(bt[1]===Ye||"0"===bt[1])&&(lt=bt[0],Dt={$flags$:0,$hostId$:bt[1],$nodeId$:bt[2],$depth$:bt[3],$index$:bt[4],$elm$:te,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===lt?(Dt.$elm$=te.nextSibling,Dt.$elm$&&3===Dt.$elm$.nodeType&&(Dt.$text$=Dt.$elm$.textContent,de.push(Dt),te.remove(),q.$children$||(q.$children$=[]),q.$children$[Dt.$index$]=Dt,ot&&"0"===Dt.$depth$&&(ot[Dt.$index$]=Dt.$elm$))):Dt.$hostId$===Ye&&("s"===lt?(Dt.$tag$="slot",te["s-sn"]=bt[5]?Dt.$name$=bt[5]:"",te["s-sr"]=!0,ot&&(Dt.$elm$=_e.createElement(Dt.$tag$),Dt.$name$&&Dt.$elm$.setAttribute("name",Dt.$name$),te.parentNode.insertBefore(Dt.$elm$,te),te.remove(),"0"===Dt.$depth$&&(ot[Dt.$index$]=Dt.$elm$)),qe.push(Dt),q.$children$||(q.$children$=[]),q.$children$[Dt.$index$]=Dt):"r"===lt&&(ot?te.remove():(wt["s-cr"]=te,te["s-cn"]=!0))));else if(q&&"style"===q.$tag$){const ln=In(null,te.textContent);ln.$elm$=te,ln.$index$="0",q.$children$=[ln]}},oe=(q,de)=>{if(1===q.nodeType){let qe=0;for(;qe<q.childNodes.length;qe++)oe(q.childNodes[qe],de);if(q.shadowRoot)for(qe=0;qe<q.shadowRoot.childNodes.length;qe++)oe(q.shadowRoot.childNodes[qe],de)}else if(8===q.nodeType){const qe=q.nodeValue.split(".");"o"===qe[0]&&(de.set(qe[1]+"."+qe[2],q),q.nodeValue="",q["s-en"]=qe[3])}},ht=(q,de,qe)=>{if(de.$members$){q.watchers&&(de.$watchers$=q.watchers);const ot=Object.entries(de.$members$),wt=q.prototype;if(ot.map(([te,[Ye]])=>{31&Ye||2&qe&&32&Ye?Object.defineProperty(wt,te,{get(){return((q,de)=>cr(this).$instanceValues$.get(de))(0,te)},set(lt){((q,de,qe,ot)=>{const wt=cr(q),te=wt.$hostElement$,Ye=wt.$instanceValues$.get(de),lt=wt.$flags$,bt=wt.$lazyInstance$;qe=((q,de)=>null==q||vt(q)?q:4&de?"false"!==q&&(""===q||!!q):2&de?parseFloat(q):1&de?String(q):q)(qe,ot.$members$[de][0]);const Dt=Number.isNaN(Ye)&&Number.isNaN(qe);if((!(8&lt)||void 0===Ye)&&qe!==Ye&&!Dt&&(wt.$instanceValues$.set(de,qe),bt)){if(ot.$watchers$&&128&lt){const ln=ot.$watchers$[de];ln&&ln.map(Mn=>{try{bt[Mn](qe,Ye,de)}catch(Zn){zn(Zn,te)}})}2==(18&lt)&&Ct(wt,!1)}})(this,te,lt,de)},configurable:!0,enumerable:!0}):1&qe&&64&Ye&&Object.defineProperty(wt,te,{value(...lt){const bt=cr(this);return bt.$onInstancePromise$.then(()=>bt.$lazyInstance$[te](...lt))}})}),1&qe){const te=new Map;wt.attributeChangedCallback=function(Ye,lt,bt){Fe.jmp(()=>{const Dt=te.get(Ye);if(this.hasOwnProperty(Dt))bt=this[Dt],delete this[Dt];else if(wt.hasOwnProperty(Dt)&&"number"==typeof this[Dt]&&this[Dt]==bt)return;this[Dt]=(null!==bt||"boolean"!=typeof this[Dt])&&bt})},q.observedAttributes=ot.filter(([Ye,lt])=>15&lt[0]).map(([Ye,lt])=>{const bt=lt[1]||Ye;return te.set(bt,Ye),512&lt[0]&&de.$attrsToReflect$.push([Ye,bt]),bt})}}return q},At=function(){var q=(0,l.Z)(function*(de,qe,ot,wt,te){if(!(32&qe.$flags$)){{if(qe.$flags$|=32,(te=Ar(ot)).then){const Dt=()=>{};te=yield te,Dt()}te.isProxied||(ot.$watchers$=te.watchers,ht(te,ot,2),te.isProxied=!0);const bt=()=>{};qe.$flags$|=8;try{new te(qe)}catch(Dt){zn(Dt)}qe.$flags$&=-9,qe.$flags$|=128,bt(),sn(qe.$lazyInstance$)}if(te.style){let bt=te.style;"string"!=typeof bt&&(bt=bt[qe.$modeName$=(q=>zr.map(de=>de(q)).find(de=>!!de))(de)]);const Dt=Ae(ot,qe.$modeName$);if(!Pr.has(Dt)){const $t=()=>{};Ve(Dt,bt,!!(1&ot.$flags$)),$t()}}}const Ye=qe.$ancestorComponent$,lt=()=>Ct(qe,!0);Ye&&Ye["s-rc"]?Ye["s-rc"].push(lt):lt()});return function(qe,ot,wt,te,Ye){return q.apply(this,arguments)}}(),sn=q=>{Ee(q,"connectedCallback")},Dr=q=>{const de=q["s-cr"]=_e.createComment("");de["s-cn"]=!0,q.insertBefore(de,q.firstChild)},wi=(q,de={})=>{const ot=[],wt=de.exclude||[],te=me.customElements,Ye=_e.head,lt=Ye.querySelector("meta[charset]"),bt=_e.createElement("style"),Dt=[],$t=_e.querySelectorAll(`[${We}]`);let ln,Mn=!0,Zn=0;for(Object.assign(Fe,de),Fe.$resourcesUrl$=new URL(de.resourcesUrl||"./",_e.baseURI).href,Fe.$flags$|=2;Zn<$t.length;Zn++)Ve($t[Zn].getAttribute(We),$e($t[Zn].innerHTML),!0);q.map(fi=>{fi[1].map(xi=>{const Sn={$flags$:xi[0],$tagName$:xi[1],$members$:xi[2],$listeners$:xi[3]};Sn.$members$=xi[2],Sn.$listeners$=xi[3],Sn.$attrsToReflect$=[],Sn.$watchers$={};const Ds=Sn.$tagName$,ds=class extends HTMLElement{constructor(ns){super(ns),cs(ns=this,Sn),1&Sn.$flags$&&ns.attachShadow({mode:"open",delegatesFocus:!!(16&Sn.$flags$)})}connectedCallback(){ln&&(clearTimeout(ln),ln=null),Mn?Dt.push(this):Fe.jmp(()=>(q=>{if(!(1&Fe.$flags$)){const de=cr(q),qe=de.$cmpMeta$,ot=()=>{};if(1&de.$flags$)pe(q,de,qe.$listeners$),sn(de.$lazyInstance$);else{let wt;if(de.$flags$|=1,wt=q.getAttribute(be),wt){if(1&qe.$flags$){const te=he(q.shadowRoot,qe,q.getAttribute("s-mode"));q.classList.remove(te+"-h",te+"-s")}((q,de,qe,ot)=>{const te=q.shadowRoot,Ye=[],bt=te?[]:null,Dt=ot.$vnode$=In(de,null);Fe.$orgLocNodes$||oe(_e.body,Fe.$orgLocNodes$=new Map),q[be]=qe,q.removeAttribute(be),nt(Dt,Ye,[],bt,q,q,qe),Ye.map($t=>{const ln=$t.$hostId$+"."+$t.$nodeId$,Mn=Fe.$orgLocNodes$.get(ln),Zn=$t.$elm$;Mn&&""===Mn["s-en"]&&Mn.parentNode.insertBefore(Zn,Mn.nextSibling),te||(Zn["s-hn"]=de,Mn&&(Zn["s-ol"]=Mn,Zn["s-ol"]["s-nr"]=Zn)),Fe.$orgLocNodes$.delete(ln)}),te&&bt.map($t=>{$t&&te.appendChild($t)})})(q,qe.$tagName$,wt,de)}wt||12&qe.$flags$&&Dr(q);{let te=q;for(;te=te.parentNode||te.host;)if(1===te.nodeType&&te.hasAttribute("s-id")&&te["s-p"]||te["s-p"]){Nt(de,de.$ancestorComponent$=te);break}}qe.$members$&&Object.entries(qe.$members$).map(([te,[Ye]])=>{if(31&Ye&&q.hasOwnProperty(te)){const lt=q[te];delete q[te],q[te]=lt}}),Nn(()=>At(q,de,qe))}ot()}})(this))}disconnectedCallback(){Fe.jmp(()=>(q=>{if(!(1&Fe.$flags$)){const de=cr(this),qe=de.$lazyInstance$;de.$rmListeners$&&(de.$rmListeners$.map(ot=>ot()),de.$rmListeners$=void 0),Ee(qe,"disconnectedCallback")}})())}componentOnReady(){return cr(this).$onReadyPromise$}};Sn.$lazyBundleId$=fi[0],!wt.includes(Ds)&&!te.get(Ds)&&(ot.push(Ds),te.define(Ds,ht(ds,Sn,1)))})}),bt.innerHTML=ot+"{visibility:hidden}.hydrated{visibility:inherit}",bt.setAttribute("data-styles",""),Ye.insertBefore(bt,lt?lt.nextSibling:Ye.firstChild),Mn=!1,Dt.length?Dt.map(fi=>fi.connectedCallback()):Fe.jmp(()=>ln=setTimeout(ke,30))},jr=q=>{const de=new URL(q,Fe.$resourcesUrl$);return de.origin!==me.location.origin?de.href:de.pathname},Hr=new WeakMap,cr=q=>Hr.get(q),ei=(q,de)=>Hr.set(de.$lazyInstance$=q,de),cs=(q,de)=>{const qe={$flags$:0,$hostElement$:q,$cmpMeta$:de,$instanceValues$:new Map};return qe.$onInstancePromise$=new Promise(ot=>qe.$onInstanceResolve$=ot),qe.$onReadyPromise$=new Promise(ot=>qe.$onReadyResolve$=ot),q["s-p"]=[],q["s-rc"]=[],pe(q,qe,de.$listeners$),Hr.set(q,qe)},Fi=(q,de)=>de in q,zn=(q,de)=>(0,console.error)(q,de),Vr=new Map,Ar=(q,de,qe)=>{const ot=q.$tagName$.replace(/-/g,"_"),wt=q.$lazyBundleId$,te=Vr.get(wt);return te?te[ot]:V(863)(`./${wt}.entry.js`).then(Ye=>(Vr.set(wt,Ye),Ye[ot]),zn)},Pr=new Map,zr=[],kr=[],ts=[],gi=(q,de)=>qe=>{q.push(qe),ye||(ye=!0,de&&4&Fe.$flags$?Nn(Gt):Fe.raf(Gt))},ui=q=>{for(let de=0;de<q.length;de++)try{q[de](performance.now())}catch(qe){zn(qe)}q.length=0},Gt=()=>{ui(kr),ui(ts),(ye=kr.length>0)&&Fe.raf(Gt)},Nn=q=>mt().then(q),Or=gi(kr,!1),Gr=gi(ts,!0),Mi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(jt,at,V)=>{"use strict";V.d(at,{a:()=>me,b:()=>De,c:()=>F,g:()=>ye,i:()=>Ve});var l=V(1308);class v{constructor(){this.m=new Map}reset(ue){this.m=new Map(Object.entries(ue))}get(ue,Ae){const $e=this.m.get(ue);return void 0!==$e?$e:Ae}getBoolean(ue,Ae=!1){const $e=this.m.get(ue);return void 0===$e?Ae:"string"==typeof $e?"true"===$e:!!$e}getNumber(ue,Ae){const $e=parseFloat(this.m.get(ue));return isNaN($e)?void 0!==Ae?Ae:NaN:$e}set(ue,Ae){this.m.set(ue,Ae)}}const F=new v,Ue="ionic-persist-config",ye=he=>_e(he),me=(he,ue)=>("string"==typeof he&&(ue=he,he=void 0),ye(he).includes(ue)),_e=(he=window)=>{if(typeof he>"u")return[];he.Ionic=he.Ionic||{};let ue=he.Ionic.platforms;return null==ue&&(ue=he.Ionic.platforms=Fe(he),ue.forEach(Ae=>he.document.documentElement.classList.add(`plt-${Ae}`))),ue},Fe=he=>{const ue=F.get("platform");return Object.keys(Pe).filter(Ae=>{const $e=null==ue?void 0:ue[Ae];return"function"==typeof $e?$e(he):Pe[Ae](he)})},it=he=>!!(Ge(he,/iPad/i)||Ge(he,/Macintosh/i)&&Se(he)),pe=he=>Ge(he,/android|sink/i),Se=he=>Qe(he,"(any-pointer:coarse)"),Re=he=>ie(he)||be(he),ie=he=>!!(he.cordova||he.phonegap||he.PhoneGap),be=he=>{const ue=he.Capacitor;return!(null==ue||!ue.isNative)},Ge=(he,ue)=>ue.test(he.navigator.userAgent),Qe=(he,ue)=>{var Ae;return null===(Ae=he.matchMedia)||void 0===Ae?void 0:Ae.call(he,ue).matches},Pe={ipad:it,iphone:he=>Ge(he,/iPhone/i),ios:he=>Ge(he,/iPhone|iPod/i)||it(he),android:pe,phablet:he=>{const ue=he.innerWidth,Ae=he.innerHeight,$e=Math.min(ue,Ae),le=Math.max(ue,Ae);return $e>390&&$e<520&&le>620&&le<800},tablet:he=>{const ue=he.innerWidth,Ae=he.innerHeight,$e=Math.min(ue,Ae),le=Math.max(ue,Ae);return it(he)||(he=>pe(he)&&!Ge(he,/mobile/i))(he)||$e>460&&$e<820&&le>780&&le<1400},cordova:ie,capacitor:be,electron:he=>Ge(he,/electron/i),pwa:he=>{var ue;return!!(null!==(ue=he.matchMedia)&&void 0!==ue&&ue.call(he,"(display-mode: standalone)").matches||he.navigator.standalone)},mobile:Se,mobileweb:he=>Se(he)&&!Re(he),desktop:he=>!Se(he),hybrid:Re};let ne;const De=he=>he&&(0,l.g)(he)||ne,Ve=(he={})=>{if(typeof window>"u")return;const ue=window.document,Ae=window,$e=Ae.Ionic=Ae.Ionic||{},le={};he._ael&&(le.ael=he._ael),he._rel&&(le.rel=he._rel),he._ce&&(le.ce=he._ce),(0,l.s)(le);const Te=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(he=>{try{const ue=he.sessionStorage.getItem(Ue);return null!==ue?JSON.parse(ue):{}}catch(ue){return{}}})(Ae)),{persistConfig:!1}),$e.config),(he=>{const ue={};return he.location.search.slice(1).split("&").map(Ae=>Ae.split("=")).map(([Ae,$e])=>[decodeURIComponent(Ae),decodeURIComponent($e)]).filter(([Ae])=>((he,ue)=>he.substr(0,ue.length)===ue)(Ae,"ionic:")).map(([Ae,$e])=>[Ae.slice("ionic:".length),$e]).forEach(([Ae,$e])=>{ue[Ae]=$e}),ue})(Ae)),he);F.reset(Te),F.getBoolean("persistConfig")&&((he,ue)=>{try{he.sessionStorage.setItem(Ue,JSON.stringify(ue))}catch(Ae){return}})(Ae,Te),_e(Ae),$e.config=F,$e.mode=ne=F.get("mode",ue.documentElement.getAttribute("mode")||(me(Ae,"ios")?"ios":"md")),F.set("mode",ne),ue.documentElement.setAttribute("mode",ne),ue.documentElement.classList.add(ne),F.getBoolean("_testing")&&F.set("animated",!1);const X=tt=>{var gt;return null===(gt=tt.tagName)||void 0===gt?void 0:gt.startsWith("ION-")},Ie=tt=>["ios","md"].includes(tt);(0,l.a)(tt=>{for(;tt;){const gt=tt.mode||tt.getAttribute("mode");if(gt){if(Ie(gt))return gt;X(tt)&&console.warn('Invalid ionic mode: "'+gt+'", expected: "ios" or "md"')}tt=tt.parentElement}return ne})}},6439:(jt,at,V)=>{"use strict";V.r(at),V.d(at,{iosTransitionAnimation:()=>Fe,shadow:()=>ve});var l=V(181),v=V(1843);V(3457),V(1308);const Le=Be=>document.querySelector(`${Be}.ion-cloned-element`),ve=Be=>Be.shadowRoot||Be,Oe=Be=>{const it="ION-TABS"===Be.tagName?Be:Be.querySelector("ion-tabs"),mt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=it){const Me=it.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Me?Me.querySelector(mt):null}return Be.querySelector(mt)},Ue=(Be,it)=>{const mt="ION-TABS"===Be.tagName?Be:Be.querySelector("ion-tabs");let Me=[];if(null!=mt){const pe=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=pe&&(Me=pe.querySelectorAll("ion-buttons"))}else Me=Be.querySelectorAll("ion-buttons");for(const pe of Me){const je=pe.closest("ion-header"),et=je&&!je.classList.contains("header-collapse-condense-inactive"),ze=pe.querySelector("ion-back-button"),Se=pe.classList.contains("buttons-collapse");if(null!==ze&&("start"===pe.slot||""===pe.slot)&&(Se&&et&&it||!Se))return ze}return null},me=(Be,it,mt,Me,pe,je)=>{const et=it?`calc(100% - ${je.right+4}px)`:je.left-4+"px",ze=it?"7px":"-7px",Se=it?"-4px":"4px",Ke=it?"-4px":"4px",Re=it?"right":"left",ie=it?"left":"right",rt=mt?[{offset:0,opacity:1,transform:`translate3d(${Se}, ${je.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ze}, ${pe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ze}, ${pe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Se}, ${je.top-46}px, 0) scale(1)`}],Pe=mt?[{offset:0,opacity:1,transform:`translate3d(${Ke}, ${je.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ke}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ke}, ${je.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ke}, ${je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ke}, ${je.top-46}px, 0) scale(1)`}],ne=(0,l.c)(),De=(0,l.c)(),Ve=Le("ion-back-button"),he=ve(Ve).querySelector(".button-text"),ue=ve(Ve).querySelector("ion-icon");Ve.text=Me.text,Ve.mode=Me.mode,Ve.icon=Me.icon,Ve.color=Me.color,Ve.disabled=Me.disabled,Ve.style.setProperty("display","block"),Ve.style.setProperty("position","fixed"),De.addElement(ue),ne.addElement(he),ne.beforeStyles({"transform-origin":`${Re} center`}).beforeAddWrite(()=>{Me.style.setProperty("display","none"),Ve.style.setProperty(Re,et)}).afterAddWrite(()=>{Me.style.setProperty("display",""),Ve.style.setProperty("display","none"),Ve.style.removeProperty(Re)}).keyframes(rt),De.beforeStyles({"transform-origin":`${ie} center`}).keyframes(Pe),Be.addAnimation([ne,De])},_e=(Be,it,mt,Me,pe,je)=>{const et=it?`calc(100% - ${pe.right}px)`:`${pe.left}px`,ze=it?"-18px":"18px",Se=it?"right":"left",ie=mt?[{offset:0,opacity:0,transform:`translate3d(${ze}, ${je.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${pe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${pe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ze}, ${je.top-4}px, 0) scale(0.5)`}],be=Le("ion-title"),We=(0,l.c)();be.innerText=Me.innerText,be.size=Me.size,be.color=Me.color,We.addElement(be),We.beforeStyles({"transform-origin":`${Se} center`,height:"46px",display:"",position:"relative",[Se]:et}).beforeAddWrite(()=>{Me.style.setProperty("display","none")}).afterAddWrite(()=>{Me.style.setProperty("display",""),be.style.setProperty("display","none")}).keyframes(ie),Be.addAnimation(We)},Fe=(Be,it)=>{var mt;try{const Me="cubic-bezier(0.32,0.72,0,1)",pe="opacity",je="transform",et="0%",Se="rtl"===Be.ownerDocument.dir,Ke=Se?"-99.5%":"99.5%",Re=Se?"33%":"-33%",ie=it.enteringEl,be=it.leavingEl,We="back"===it.direction,rt=ie.querySelector(":scope > ion-content"),Ge=ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Qe=ie.querySelectorAll(":scope > ion-header > ion-toolbar"),Pe=(0,l.c)(),ne=(0,l.c)();if(Pe.addElement(ie).duration((null!==(mt=it.duration)&&void 0!==mt?mt:0)||540).easing(it.easing||Me).fill("both").beforeRemoveClass("ion-page-invisible"),be&&null!=Be){const ue=(0,l.c)();ue.addElement(Be),Pe.addAnimation(ue)}if(rt||0!==Qe.length||0!==Ge.length?(ne.addElement(rt),ne.addElement(Ge)):ne.addElement(ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pe.addAnimation(ne),We?ne.beforeClearStyles([pe]).fromTo("transform",`translateX(${Re})`,`translateX(${et})`).fromTo(pe,.8,1):ne.beforeClearStyles([pe]).fromTo("transform",`translateX(${Ke})`,`translateX(${et})`),rt){const ue=ve(rt).querySelector(".transition-effect");if(ue){const Ae=ue.querySelector(".transition-cover"),$e=ue.querySelector(".transition-shadow"),le=(0,l.c)(),Te=(0,l.c)(),X=(0,l.c)();le.addElement(ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Te.addElement(Ae).beforeClearStyles([pe]).fromTo(pe,0,.1),X.addElement($e).beforeClearStyles([pe]).fromTo(pe,.03,.7),le.addAnimation([Te,X]),ne.addAnimation([le])}}const De=ie.querySelector("ion-header.header-collapse-condense"),{forward:Ve,backward:he}=((Be,it,mt,Me,pe)=>{const je=Ue(Me,mt),et=Oe(pe),ze=Oe(Me),Se=Ue(pe,mt),Ke=null!==je&&null!==et&&!mt,Re=null!==ze&&null!==Se&&mt;if(Ke){const ie=et.getBoundingClientRect(),be=je.getBoundingClientRect();_e(Be,it,mt,et,ie,be),me(Be,it,mt,je,ie,be)}else if(Re){const ie=ze.getBoundingClientRect(),be=Se.getBoundingClientRect();_e(Be,it,mt,ze,ie,be),me(Be,it,mt,Se,ie,be)}return{forward:Ke,backward:Re}})(Pe,Se,We,ie,be);if(Qe.forEach(ue=>{const Ae=(0,l.c)();Ae.addElement(ue),Pe.addAnimation(Ae);const $e=(0,l.c)();$e.addElement(ue.querySelector("ion-title"));const le=(0,l.c)(),Te=Array.from(ue.querySelectorAll("ion-buttons,[menuToggle]")),X=ue.closest("ion-header"),Ie=null==X?void 0:X.classList.contains("header-collapse-condense-inactive");let tt;tt=Te.filter(We?In=>{const rn=In.classList.contains("buttons-collapse");return rn&&!Ie||!rn}:In=>!In.classList.contains("buttons-collapse")),le.addElement(tt);const gt=(0,l.c)();gt.addElement(ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const en=(0,l.c)();en.addElement(ve(ue).querySelector(".toolbar-background"));const vt=(0,l.c)(),tn=ue.querySelector("ion-back-button");if(tn&&vt.addElement(tn),Ae.addAnimation([$e,le,gt,en,vt]),le.fromTo(pe,.01,1),gt.fromTo(pe,.01,1),We)Ie||$e.fromTo("transform",`translateX(${Re})`,`translateX(${et})`).fromTo(pe,.01,1),gt.fromTo("transform",`translateX(${Re})`,`translateX(${et})`),vt.fromTo(pe,.01,1);else if(De||$e.fromTo("transform",`translateX(${Ke})`,`translateX(${et})`).fromTo(pe,.01,1),gt.fromTo("transform",`translateX(${Ke})`,`translateX(${et})`),en.beforeClearStyles([pe,"transform"]),(null==X?void 0:X.translucent)?en.fromTo("transform",Se?"translateX(-100%)":"translateX(100%)","translateX(0px)"):en.fromTo(pe,.01,"var(--opacity)"),Ve||vt.fromTo(pe,.01,1),tn&&!Ve){const rn=(0,l.c)();rn.addElement(ve(tn).querySelector(".button-text")).fromTo("transform",Se?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ae.addAnimation(rn)}}),be){const ue=(0,l.c)(),Ae=be.querySelector(":scope > ion-content"),$e=be.querySelectorAll(":scope > ion-header > ion-toolbar"),le=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ae||0!==$e.length||0!==le.length?(ue.addElement(Ae),ue.addElement(le)):ue.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pe.addAnimation(ue),We){ue.beforeClearStyles([pe]).fromTo("transform",`translateX(${et})`,Se?"translateX(-100%)":"translateX(100%)");const Te=(0,v.g)(be);Pe.afterAddWrite(()=>{"normal"===Pe.getDirection()&&Te.style.setProperty("display","none")})}else ue.fromTo("transform",`translateX(${et})`,`translateX(${Re})`).fromTo(pe,1,.8);if(Ae){const Te=ve(Ae).querySelector(".transition-effect");if(Te){const X=Te.querySelector(".transition-cover"),Ie=Te.querySelector(".transition-shadow"),tt=(0,l.c)(),gt=(0,l.c)(),en=(0,l.c)();tt.addElement(Te).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),gt.addElement(X).beforeClearStyles([pe]).fromTo(pe,.1,0),en.addElement(Ie).beforeClearStyles([pe]).fromTo(pe,.7,.03),tt.addAnimation([gt,en]),ue.addAnimation([tt])}}$e.forEach(Te=>{const X=(0,l.c)();X.addElement(Te);const Ie=(0,l.c)();Ie.addElement(Te.querySelector("ion-title"));const tt=(0,l.c)(),gt=Te.querySelectorAll("ion-buttons,[menuToggle]"),en=Te.closest("ion-header"),vt=null==en?void 0:en.classList.contains("header-collapse-condense-inactive"),tn=Array.from(gt).filter(vr=>{const on=vr.classList.contains("buttons-collapse");return on&&!vt||!on});tt.addElement(tn);const In=(0,l.c)(),rn=Te.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");rn.length>0&&In.addElement(rn);const zt=(0,l.c)();zt.addElement(ve(Te).querySelector(".toolbar-background"));const jn=(0,l.c)(),fr=Te.querySelector("ion-back-button");if(fr&&jn.addElement(fr),X.addAnimation([Ie,tt,In,jn,zt]),Pe.addAnimation(X),jn.fromTo(pe,.99,0),tt.fromTo(pe,.99,0),In.fromTo(pe,.99,0),We){if(vt||Ie.fromTo("transform",`translateX(${et})`,Se?"translateX(-100%)":"translateX(100%)").fromTo(pe,.99,0),In.fromTo("transform",`translateX(${et})`,Se?"translateX(-100%)":"translateX(100%)"),zt.beforeClearStyles([pe,"transform"]),(null==en?void 0:en.translucent)?zt.fromTo("transform","translateX(0px)",Se?"translateX(-100%)":"translateX(100%)"):zt.fromTo(pe,"var(--opacity)",0),fr&&!he){const on=(0,l.c)();on.addElement(ve(fr).querySelector(".button-text")).fromTo("transform",`translateX(${et})`,`translateX(${(Se?-124:124)+"px"})`),X.addAnimation(on)}}else vt||Ie.fromTo("transform",`translateX(${et})`,`translateX(${Re})`).fromTo(pe,.99,0).afterClearStyles([je,pe]),In.fromTo("transform",`translateX(${et})`,`translateX(${Re})`).afterClearStyles([je,pe]),jn.afterClearStyles([pe]),Ie.afterClearStyles([pe]),tt.afterClearStyles([pe])})}return Pe}catch(Me){throw Me}}},7838:(jt,at,V)=>{"use strict";V.r(at),V.d(at,{mdTransitionAnimation:()=>Ne});var l=V(181),v=V(1843);V(3457),V(1308);const Ne=(Le,ve)=>{var Oe,Ue,ye;const Fe="back"===ve.direction,it=ve.leavingEl,mt=(0,v.g)(ve.enteringEl),Me=mt.querySelector("ion-toolbar"),pe=(0,l.c)();if(pe.addElement(mt).fill("both").beforeRemoveClass("ion-page-invisible"),Fe?pe.duration((null!==(Oe=ve.duration)&&void 0!==Oe?Oe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):pe.duration((null!==(Ue=ve.duration)&&void 0!==Ue?Ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Me){const je=(0,l.c)();je.addElement(Me),pe.addAnimation(je)}if(it&&Fe){pe.duration((null!==(ye=ve.duration)&&void 0!==ye?ye:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const je=(0,l.c)();je.addElement((0,v.g)(it)).onFinish(et=>{1===et&&je.elements.length>0&&je.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),pe.addAnimation(je)}return pe}},3539:(jt,at,V)=>{"use strict";V.d(at,{B:()=>Ae,G:()=>$e,a:()=>Oe,b:()=>Ue,c:()=>Fe,d:()=>We,e:()=>it,f:()=>Ge,g:()=>ne,h:()=>Le,i:()=>Ve,j:()=>pe,k:()=>ie,m:()=>me,s:()=>ue});var l=V(5861),v=V(5179),F=V(7593),Ce=V(5730);let Ne=0;const Le=new WeakMap,ve=le=>({create:Te=>mt(le,Te),dismiss:(Te,X,Ie)=>Ke(document,Te,X,le,Ie),getTop:()=>(0,l.Z)(function*(){return ie(document,le)})()}),Oe=ve("ion-alert"),Ue=ve("ion-action-sheet"),me=ve("ion-modal"),Fe=ve("ion-popover"),it=le=>{typeof document<"u"&&Se(document);const Te=Ne++;le.overlayIndex=Te,le.hasAttribute("id")||(le.id=`ion-overlay-${Te}`)},mt=(le,Te)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(le).then(()=>{const X=document.createElement(le);return X.classList.add("overlay-hidden"),Object.assign(X,Object.assign(Object.assign({},Te),{hasController:!0})),Qe(document).appendChild(X),new Promise(Ie=>(0,Ce.c)(X,Ie))}):Promise.resolve(),Me='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',pe=(le,Te)=>{let X=le.querySelector(Me);const Ie=null==X?void 0:X.shadowRoot;Ie&&(X=Ie.querySelector(Me)||X),X?(0,Ce.f)(X):Te.focus()},et=(le,Te)=>{const X=Array.from(le.querySelectorAll(Me));let Ie=X.length>0?X[X.length-1]:null;const tt=null==Ie?void 0:Ie.shadowRoot;tt&&(Ie=tt.querySelector(Me)||Ie),Ie?Ie.focus():Te.focus()},Se=le=>{0===Ne&&(Ne=1,le.addEventListener("focus",Te=>{((le,Te)=>{const X=ie(Te,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ie=le.target;X&&Ie&&!X.classList.contains("ion-disable-focus-trap")&&(X.shadowRoot?(()=>{if(X.contains(Ie))X.lastFocus=Ie;else{const en=X.lastFocus;pe(X,X),en===Te.activeElement&&et(X,X),X.lastFocus=Te.activeElement}})():(()=>{if(X===Ie)X.lastFocus=void 0;else{const en=(0,Ce.g)(X);if(!en.contains(Ie))return;const vt=en.querySelector(".ion-overlay-wrapper");if(!vt)return;if(vt.contains(Ie))X.lastFocus=Ie;else{const tn=X.lastFocus;pe(vt,X),tn===Te.activeElement&&et(vt,X),X.lastFocus=Te.activeElement}}})())})(Te,le)},!0),le.addEventListener("ionBackButton",Te=>{const X=ie(le);null!=X&&X.backdropDismiss&&Te.detail.register(F.OVERLAY_BACK_BUTTON_PRIORITY,()=>X.dismiss(void 0,Ae))}),le.addEventListener("keyup",Te=>{if("Escape"===Te.key){const X=ie(le);null!=X&&X.backdropDismiss&&X.dismiss(void 0,Ae)}}))},Ke=(le,Te,X,Ie,tt)=>{const gt=ie(le,Ie,tt);return gt?gt.dismiss(Te,X):Promise.reject("overlay does not exist")},ie=(le,Te,X)=>{const Ie=((le,Te)=>(void 0===Te&&(Te="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(le.querySelectorAll(Te)).filter(X=>X.overlayIndex>0)))(le,Te).filter(tt=>!(le=>le.classList.contains("overlay-hidden"))(tt));return void 0===X?Ie[Ie.length-1]:Ie.find(tt=>tt.id===X)},be=(le=!1)=>{const X=Qe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");X&&(le?X.setAttribute("aria-hidden","true"):X.removeAttribute("aria-hidden"))},We=function(){var le=(0,l.Z)(function*(Te,X,Ie,tt,gt){var en,vt;if(Te.presented)return;be(!0),Te.presented=!0,Te.willPresent.emit(),null===(en=Te.willPresentShorthand)||void 0===en||en.emit();const tn=(0,v.b)(Te),In=Te.enterAnimation?Te.enterAnimation:v.c.get(X,"ios"===tn?Ie:tt);(yield Pe(Te,In,Te.el,gt))&&(Te.didPresent.emit(),null===(vt=Te.didPresentShorthand)||void 0===vt||vt.emit()),"ION-TOAST"!==Te.el.tagName&&rt(Te.el),Te.keyboardClose&&(null===document.activeElement||!Te.el.contains(document.activeElement))&&Te.el.focus()});return function(X,Ie,tt,gt,en){return le.apply(this,arguments)}}(),rt=function(){var le=(0,l.Z)(function*(Te){let X=document.activeElement;if(!X)return;const Ie=null==X?void 0:X.shadowRoot;Ie&&(X=Ie.querySelector(Me)||X),yield Te.onDidDismiss(),X.focus()});return function(X){return le.apply(this,arguments)}}(),Ge=function(){var le=(0,l.Z)(function*(Te,X,Ie,tt,gt,en,vt){var tn,In;if(!Te.presented)return!1;be(!1),Te.presented=!1;try{Te.el.style.setProperty("pointer-events","none"),Te.willDismiss.emit({data:X,role:Ie}),null===(tn=Te.willDismissShorthand)||void 0===tn||tn.emit({data:X,role:Ie});const rn=(0,v.b)(Te),zt=Te.leaveAnimation?Te.leaveAnimation:v.c.get(tt,"ios"===rn?gt:en);Ie!==$e&&(yield Pe(Te,zt,Te.el,vt)),Te.didDismiss.emit({data:X,role:Ie}),null===(In=Te.didDismissShorthand)||void 0===In||In.emit({data:X,role:Ie}),Le.delete(Te),Te.el.classList.add("overlay-hidden"),Te.el.style.removeProperty("pointer-events"),void 0!==Te.el.lastFocus&&(Te.el.lastFocus=void 0)}catch(rn){console.error(rn)}return Te.el.remove(),!0});return function(X,Ie,tt,gt,en,vt,tn){return le.apply(this,arguments)}}(),Qe=le=>le.querySelector("ion-app")||le.body,Pe=function(){var le=(0,l.Z)(function*(Te,X,Ie,tt){Ie.classList.remove("overlay-hidden");const en=X(Te.el,tt);(!Te.animated||!v.c.getBoolean("animated",!0))&&en.duration(0),Te.keyboardClose&&en.beforeAddWrite(()=>{const tn=Ie.ownerDocument.activeElement;null!=tn&&tn.matches("input,ion-input, ion-textarea")&&tn.blur()});const vt=Le.get(Te)||[];return Le.set(Te,[...vt,en]),yield en.play(),!0});return function(X,Ie,tt,gt){return le.apply(this,arguments)}}(),ne=(le,Te)=>{let X;const Ie=new Promise(tt=>X=tt);return De(le,Te,tt=>{X(tt.detail)}),Ie},De=(le,Te,X)=>{const Ie=tt=>{(0,Ce.b)(le,Te,Ie),X(tt)};(0,Ce.a)(le,Te,Ie)},Ve=le=>"cancel"===le||le===Ae,he=le=>le(),ue=(le,Te)=>{if("function"==typeof le)return v.c.get("_zoneGate",he)(()=>{try{return le(Te)}catch(Ie){throw Ie}})},Ae="backdrop",$e="gesture"},6095:(jt,at,V)=>{"use strict";var l=V(1481),v=V(4650),F=V(7340);function Ne(n){return new v.vHH(3e3,!1)}function Ie(){return typeof window<"u"&&typeof window.document<"u"}function tt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gt(n){switch(n.length){case 0:return new F.ZN;case 1:return n[0];default:return new F.ZE(n)}}function en(n,e,t,r,a=new Map,c=new Map){const p=[],b=[];let S=-1,N=null;if(r.forEach(z=>{const ce=z.get("offset"),Je=ce==S,pt=Je&&N||new Map;z.forEach((Et,xt)=>{let Yt=xt,Bn=Et;if("offset"!==xt)switch(Yt=e.normalizePropertyName(Yt,p),Bn){case F.k1:Bn=a.get(xt);break;case F.l3:Bn=c.get(xt);break;default:Bn=e.normalizeStyleValue(xt,Yt,Bn,p)}pt.set(Yt,Bn)}),Je||b.push(pt),N=pt,S=ce}),p.length)throw function Ge(n){return new v.vHH(3502,!1)}();return b}function vt(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&tn(t,"start",n)));break;case"done":n.onDone(()=>r(t&&tn(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&tn(t,"destroy",n)))}}function tn(n,e,t){const r=t.totalTime,c=In(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),p=n._data;return null!=p&&(c._data=p),c}function In(n,e,t,r,a="",c=0,p){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:a,totalTime:c,disabled:!!p}}function rn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function zt(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let jn=(n,e)=>!1,fr=(n,e,t)=>[],vr=null;function on(n){const e=n.parentNode||n.host;return e===vr?null:e}(tt()||typeof Element<"u")&&(Ie()?(vr=(()=>document.documentElement)(),jn=(n,e)=>{for(;e;){if(e===n)return!0;e=on(e)}return!1}):jn=(n,e)=>n.contains(e),fr=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Vn=null,Yn=!1;const pn=jn,Jt=fr;let ir=(()=>{class n{validateStyleProperty(t){return function er(n){Vn||(Vn=function tr(){return typeof document<"u"?document.body:null}()||{},Yn=!!Vn.style&&"WebkitAppearance"in Vn.style);let e=!0;return Vn.style&&!function Ot(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vn.style,!e&&Yn&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vn.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return pn(t,r)}getParentElement(t){return on(t)}query(t,r,a){return Jt(t,r,a)}computeStyle(t,r,a){return a||""}animate(t,r,a,c,p,b=[],S){return new F.ZN(a,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),an=(()=>{class n{}return n.NOOP=new ir,n})();const Hn=1e3,Lr="ng-enter",Dn="ng-leave",Er="ng-trigger",vn=".ng-trigger",_n="ng-animating",Sr=".ng-animating";function Nt(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ct(parseFloat(e[1]),e[2])}function Ct(n,e){return"s"===e?n*Hn:n}function Zt(n,e,t){return n.hasOwnProperty("duration")?n:function mn(n,e,t){let a,c=0,p="";if("string"==typeof n){const b=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===b)return e.push(Ne()),{duration:0,delay:0,easing:""};a=Ct(parseFloat(b[1]),b[2]);const S=b[3];null!=S&&(c=Ct(parseFloat(S),b[4]));const N=b[5];N&&(p=N)}else a=n;if(!t){let b=!1,S=e.length;a<0&&(e.push(function Le(){return new v.vHH(3100,!1)}()),b=!0),c<0&&(e.push(function ve(){return new v.vHH(3101,!1)}()),b=!0),b&&e.splice(S,0,Ne())}return{duration:a,delay:c,easing:p}}(n,e,t)}function bn(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function kn(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ee(n,e=new Map,t){if(t)for(let[r,a]of t)e.set(r,a);for(let[r,a]of n)e.set(r,a);return e}function ee(n,e,t){return t?e+":"+t+";":""}function re(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ee(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ee(0,Dr(t),n.style[t]));n.setAttribute("style",e)}function Y(n,e,t){n.style&&(e.forEach((r,a)=>{const c=cn(a);t&&!t.has(a)&&t.set(a,n.style[c]),n.style[c]=r}),tt()&&re(n))}function nt(n,e){n.style&&(e.forEach((t,r)=>{const a=cn(r);n.style[a]=""}),tt()&&re(n))}function oe(n){return Array.isArray(n)?1==n.length?n[0]:(0,F.vP)(n):n}const se=new RegExp("{{\\s*(.+?)\\s*}}","g");function He(n){let e=[];if("string"==typeof n){let t;for(;t=se.exec(n);)e.push(t[1]);se.lastIndex=0}return e}function ht(n,e,t){const r=n.toString(),a=r.replace(se,(c,p)=>{let b=e[p];return null==b&&(t.push(function Ue(n){return new v.vHH(3003,!1)}()),b=""),b.toString()});return a==r?n:a}function At(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const sn=/-+([a-z0-9])/g;function cn(n){return n.replace(sn,(...e)=>e[1].toUpperCase())}function Dr(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ye(n){return new v.vHH(3004,!1)}()}}function Hr(n,e){return window.getComputedStyle(n)[e]}const Pr="*";function zr(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function kr(n,e,t){if(":"==n[0]){const S=function ts(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function ie(n){return new v.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof S)return void e.push(S);n=S}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Re(n){return new v.vHH(3015,!1)}()),e;const a=r[1],c=r[2],p=r[3];e.push(Gt(a,p));"<"==c[0]&&!(a==Pr&&p==Pr)&&e.push(Gt(p,a))}(r,t,e)):t.push(n),t}const gi=new Set(["true","1"]),ui=new Set(["false","0"]);function Gt(n,e){const t=gi.has(n)||ui.has(n),r=gi.has(e)||ui.has(e);return(a,c)=>{let p=n==Pr||n==a,b=e==Pr||e==c;return!p&&t&&"boolean"==typeof a&&(p=a?gi.has(n):ui.has(n)),!b&&r&&"boolean"==typeof c&&(b=c?gi.has(e):ui.has(e)),p&&b}}const Or=new RegExp("s*:selfs*,?","g");function Gr(n,e,t,r){return new q(n).build(e,t,r)}class q{constructor(e){this._driver=e}build(e,t,r){const a=new ot(t);return this._resetContextStyleTimingState(a),jr(this,oe(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,a=t.depCount=0;const c=[],p=[];return"@"==e.name.charAt(0)&&t.errors.push(function _e(){return new v.vHH(3006,!1)}()),e.definitions.forEach(b=>{if(this._resetContextStyleTimingState(t),0==b.type){const S=b,N=S.name;N.toString().split(/\s*,\s*/).forEach(z=>{S.name=z,c.push(this.visitState(S,t))}),S.name=N}else if(1==b.type){const S=this.visitTransition(b,t);r+=S.queryCount,a+=S.depCount,p.push(S)}else t.errors.push(function Fe(){return new v.vHH(3007,!1)}())}),{type:7,name:e.name,states:c,transitions:p,queryCount:r,depCount:a,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,p=a||{};r.styles.forEach(b=>{b instanceof Map&&b.forEach(S=>{He(S).forEach(N=>{p.hasOwnProperty(N)||c.add(N)})})}),c.size&&(At(c.values()),t.errors.push(function Be(n,e){return new v.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=jr(this,oe(e.animation),t);return{type:1,matchers:zr(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ye(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>jr(this,r,t)),options:Ye(e.options)}}visitGroup(e,t){const r=t.currentTime;let a=0;const c=e.steps.map(p=>{t.currentTime=r;const b=jr(this,p,t);return a=Math.max(a,t.currentTime),b});return t.currentTime=a,{type:3,steps:c,options:Ye(e.options)}}visitAnimate(e,t){const r=function te(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lt(Zt(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=lt(0,0,"");return c.dynamic=!0,c.strValue=t,c}const a=Zt(t,e);return lt(a.duration,a.delay,a.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let a,c=e.styles?e.styles:(0,F.oB)({});if(5==c.type)a=this.visitKeyframes(c,t);else{let p=e.styles,b=!1;if(!p){b=!0;const N={};r.easing&&(N.easing=r.easing),p=(0,F.oB)(N)}t.currentTime+=r.duration+r.delay;const S=this.visitStyle(p,t);S.isEmptyStep=b,a=S}return t.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let b of a)"string"==typeof b?b===F.l3?r.push(b):t.errors.push(new v.vHH(3002,!1)):r.push(kn(b));let c=!1,p=null;return r.forEach(b=>{if(b instanceof Map&&(b.has("easing")&&(p=b.get("easing"),b.delete("easing")),!c))for(let S of b.values())if(S.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:p,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let a=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(p=>{"string"!=typeof p&&p.forEach((b,S)=>{const N=t.collectedStyles.get(t.currentQuerySelector),z=N.get(S);let ce=!0;z&&(c!=a&&c>=z.startTime&&a<=z.endTime&&(t.errors.push(function Me(n,e,t,r,a){return new v.vHH(3010,!1)}()),ce=!1),c=z.startTime),ce&&N.set(S,{startTime:c,endTime:a}),t.options&&function we(n,e,t){const r=e.params||{},a=He(n);a.length&&a.forEach(c=>{r.hasOwnProperty(c)||t.push(function Oe(n){return new v.vHH(3001,!1)}())})}(b,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function pe(){return new v.vHH(3011,!1)}()),r;let c=0;const p=[];let b=!1,S=!1,N=0;const z=e.steps.map(Bn=>{const Fr=this._makeStyleAst(Bn,t);let qn=null!=Fr.offset?Fr.offset:function wt(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Fr.styles),Kn=0;return null!=qn&&(c++,Kn=Fr.offset=qn),S=S||Kn<0||Kn>1,b=b||Kn<N,N=Kn,p.push(Kn),Fr});S&&t.errors.push(function je(){return new v.vHH(3012,!1)}()),b&&t.errors.push(function et(){return new v.vHH(3200,!1)}());const ce=e.steps.length;let Je=0;c>0&&c<ce?t.errors.push(function ze(){return new v.vHH(3202,!1)}()):0==c&&(Je=1/(ce-1));const pt=ce-1,Et=t.currentTime,xt=t.currentAnimateTimings,Yt=xt.duration;return z.forEach((Bn,Fr)=>{const qn=Je>0?Fr==pt?1:Je*Fr:p[Fr],Kn=qn*Yt;t.currentTime=Et+xt.delay+Kn,xt.duration=Kn,this._validateStyleAst(Bn,t),Bn.offset=qn,r.styles.push(Bn)}),r}visitReference(e,t){return{type:8,animation:jr(this,oe(e.animation),t),options:Ye(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ye(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ye(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[c,p]=function de(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Or,"")),n=n.replace(/@\*/g,vn).replace(/@\w+/g,t=>vn+"-"+t.slice(1)).replace(/:animating/g,Sr),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,rn(t.collectedStyles,t.currentQuerySelector,new Map);const b=jr(this,oe(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:b,originalSelector:e.selector,options:Ye(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Se(){return new v.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Zt(e.timings,t.errors,!0);return{type:12,animation:jr(this,oe(e.animation),t),timings:r,options:null}}}class ot{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ye(n){return n?(n=bn(n)).params&&(n.params=function qe(n){return n?bn(n):null}(n.params)):n={},n}function lt(n,e,t){return{duration:n,delay:e,easing:t}}function bt(n,e,t,r,a,c,p=null,b=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:a,delay:c,totalTime:a+c,easing:p,subTimeline:b}}class Dt{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Mn=new RegExp(":enter","g"),fi=new RegExp(":leave","g");function xi(n,e,t,r,a,c=new Map,p=new Map,b,S,N=[]){return(new Sn).buildKeyframes(n,e,t,r,a,c,p,b,S,N)}class Sn{buildKeyframes(e,t,r,a,c,p,b,S,N,z=[]){N=N||new Dt;const ce=new ds(e,t,N,a,c,z,[]);ce.options=S;const Je=S.delay?Nt(S.delay):0;ce.currentTimeline.delayNextStep(Je),ce.currentTimeline.setStyles([p],null,ce.errors,S),jr(this,r,ce);const pt=ce.timelines.filter(Et=>Et.containsAnimation());if(pt.length&&b.size){let Et;for(let xt=pt.length-1;xt>=0;xt--){const Yt=pt[xt];if(Yt.element===t){Et=Yt;break}}Et&&!Et.allowOnlyTimelineStyles()&&Et.setStyles([b],null,ce.errors,S)}return pt.length?pt.map(Et=>Et.buildKeyframes()):[bt(t,[],[],[],0,Je,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const a=t.createSubContext(e.options),c=t.currentTimeline.currentTime,p=this._visitSubInstructions(r,a,a.options);c!=p&&t.transformIntoNewTimeline(p)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const c of e){const p=null==c?void 0:c.delay;if(p){var a;const b="number"==typeof p?p:Nt(ht(p,null!==(a=null==c?void 0:c.params)&&void 0!==a?a:{},t.errors));r.delayNextStep(b)}}}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const p=null!=r.duration?Nt(r.duration):null,b=null!=r.delay?Nt(r.delay):null;return 0!==p&&e.forEach(S=>{const N=t.appendInstructionToTimeline(S,p,b);c=Math.max(c,N.duration+N.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),jr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let a=t;const c=e.options;if(c&&(c.params||c.delay)&&(a=t.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ds);const p=Nt(c.delay);a.delayNextStep(p)}e.steps.length&&(e.steps.forEach(p=>jr(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let a=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?Nt(e.options.delay):0;e.steps.forEach(p=>{const b=t.createSubContext(e.options);c&&b.delayNextStep(c),jr(this,p,b),a=Math.max(a,b.currentTimeline.currentTime),r.push(b.currentTimeline)}),r.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Zt(t.params?ht(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),a.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,a=t.currentAnimateTimings;!a&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,a=t.currentTimeline.duration,c=r.duration,b=t.createSubContext().currentTimeline;b.easing=r.easing,e.styles.forEach(S=>{b.forwardTime((S.offset||0)*c),b.setStyles(S.styles,S.easing,t.errors,t.options),b.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(b),t.transformIntoNewTimeline(a+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,a=e.options||{},c=a.delay?Nt(a.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ds);let p=r;const b=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=b.length;let S=null;b.forEach((N,z)=>{t.currentQueryIndex=z;const ce=t.createSubContext(e.options,N);c&&ce.delayNextStep(c),N===t.element&&(S=ce.currentTimeline),jr(this,e.animation,ce),ce.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,ce.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),S&&(t.currentTimeline.mergeTimelineCollectedStyles(S),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,a=t.currentTimeline,c=e.timings,p=Math.abs(c.duration),b=p*(t.currentQueryTotal-1);let S=p*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":S=b-S;break;case"full":S=r.currentStaggerTime}const z=t.currentTimeline;S&&z.delayNextStep(S);const ce=z.currentTime;jr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=a.currentTime-ce+(a.startTime-r.currentTimeline.startTime)}}const Ds={};class ds{constructor(e,t,r,a,c,p,b,S){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=c,this.errors=p,this.timelines=b,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ds,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=S||new ns(this._driver,t,0),b.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=Nt(r.duration)),null!=r.delay&&(a.delay=Nt(r.delay));const c=r.params;if(c){let p=a.params;p||(p=this.options.params={}),Object.keys(c).forEach(b=>{(!t||!p.hasOwnProperty(b))&&(p[b]=ht(c[b],p,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(a=>{r[a]=t[a]})}}return e}createSubContext(e=null,t,r){const a=t||this.element,c=new ds(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=Ds,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},c=new hs(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,a,c,p){let b=[];if(a&&b.push(this.element),e.length>0){e=(e=e.replace(Mn,"."+this._enterClassName)).replace(fi,"."+this._leaveClassName);let N=this._driver.query(this.element,e,1!=r);0!==r&&(N=r<0?N.slice(N.length+r,N.length):N.slice(0,r)),b.push(...N)}return!c&&0==b.length&&p.push(function Ke(n){return new v.vHH(3014,!1)}()),b}}class ns{constructor(e,t,r,a){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ns(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||F.l3),this._currentKeyframe.set(t,F.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,a){t&&this._previousKeyframe.set("easing",t);const c=a&&a.params||{},p=function fs(n,e){const t=new Map;let r;return n.forEach(a=>{if("*"===a){r=r||e.keys();for(let c of r)t.set(c,F.l3)}else Ee(a,t)}),t}(e,this._globalTimelineStyles);for(let[S,N]of p){const z=ht(N,c,r);var b;this._pendingStyles.set(S,z),this._localTimelineStyles.has(S)||this._backFill.set(S,null!==(b=this._globalTimelineStyles.get(S))&&void 0!==b?b:F.l3),this._updateStyle(S,z)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const a=this._styleSummary.get(r);(!a||t.time>a.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((b,S)=>{const N=Ee(b,new Map,this._backFill);N.forEach((z,ce)=>{z===F.k1?e.add(ce):z===F.l3&&t.add(ce)}),r||N.set("offset",S/this.duration),a.push(N)});const c=e.size?At(e.values()):[],p=t.size?At(t.values()):[];if(r){const b=a[0],S=new Map(b);b.set("offset",0),S.set("offset",1),a=[b,S]}return bt(this.element,a,c,p,this.duration,this.startTime,this.easing,!1)}}class hs extends ns{constructor(e,t,r,a,c,p,b=!1){super(e,t,p.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=b,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],p=r+t,b=t/p,S=Ee(e[0]);S.set("offset",0),c.push(S);const N=Ee(e[0]);N.set("offset",Hi(b)),c.push(N);const z=e.length-1;for(let ce=1;ce<=z;ce++){let Je=Ee(e[ce]);const pt=Je.get("offset");Je.set("offset",Hi((t+pt*r)/p)),c.push(Je)}r=p,t=0,a="",e=c}return bt(this.element,e,this.preStyleProps,this.postStyleProps,r,t,a,!0)}}function Hi(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Lo{}const ci=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $o extends Lo{normalizePropertyName(e,t){return cn(e)}normalizeStyleValue(e,t,r,a){let c="";const p=r.toString().trim();if(ci.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const b=r.match(/^[+-]?[\d\.]+([a-z]*)$/);b&&0==b[1].length&&a.push(function me(n,e){return new v.vHH(3005,!1)}())}return p+c}}function bo(n,e,t,r,a,c,p,b,S,N,z,ce,Je){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:c,toState:r,toStyles:p,timelines:b,queriedElements:S,preStyleProps:N,postStyleProps:z,totalTime:ce,errors:Je}}const Li={};class zi{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,a){return function Gi(n,e,t,r,a){return n.some(c=>c(e,t,r,a))}(this.ast.matchers,e,t,r,a)}buildStyles(e,t,r){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(null==e?void 0:e.toString())||a),a?a.buildStyles(t,r):new Map}build(e,t,r,a,c,p,b,S,N,z){var ce;const Je=[],pt=this.ast.options&&this.ast.options.params||Li,xt=this.buildStyles(r,b&&b.params||Li,Je),Yt=S&&S.params||Li,Bn=this.buildStyles(a,Yt,Je),Fr=new Set,qn=new Map,Kn=new Map,or="void"===a,hr={params:Ps(Yt,pt),delay:null===(ce=this.ast.options)||void 0===ce?void 0:ce.delay},hi=z?[]:xi(e,t,this.ast.animation,c,p,xt,Bn,hr,N,Je);let io=0;if(hi.forEach(Su=>{io=Math.max(Su.duration+Su.delay,io)}),Je.length)return bo(t,this._triggerName,r,a,or,xt,Bn,[],[],qn,Kn,io,Je);hi.forEach(Su=>{const Yv=Su.element,Zv=rn(qn,Yv,new Set);Su.preStyleProps.forEach(Vg=>Zv.add(Vg));const Qv=rn(Kn,Yv,new Set);Su.postStyleProps.forEach(Vg=>Qv.add(Vg)),Yv!==t&&Fr.add(Yv)});const lb=At(Fr.values());return bo(t,this._triggerName,r,a,or,xt,Bn,hi,lb,qn,Kn,io)}}function Ps(n,e){const t=bn(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Ii{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,a=bn(this.defaultParams);return Object.keys(e).forEach(c=>{const p=e[c];null!==p&&(a[c]=p)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,b)=>{p&&(p=ht(p,a,t));const S=this.normalizer.normalizePropertyName(b,t);p=this.normalizer.normalizeStyleValue(b,S,p,t),r.set(b,p)})}),r}}class oo{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new Ii(a.style,a.options&&a.options.params||{},r))}),wo(this.states,"true","1"),wo(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new zi(e,a,this.states))}),this.fallbackTransition=function Ca(n,e,t){return new zi(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,b)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,a){return this.transitionFactories.find(p=>p.match(e,t,r,a))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function wo(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rs=new Dt;class Bo{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=[],c=Gr(this._driver,t,r,a);if(r.length)throw function Qe(n){return new v.vHH(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,r){const a=e.element,c=en(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(a,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const a=[],c=this._animations.get(e);let p;const b=new Map;if(c?(p=xi(this._driver,t,c,Lr,Dn,new Map,new Map,r,rs,a),p.forEach(z=>{const ce=rn(b,z.element,new Map);z.postStyleProps.forEach(Je=>ce.set(Je,null))})):(a.push(function Pe(){return new v.vHH(3300,!1)}()),p=[]),a.length)throw function ne(n){return new v.vHH(3504,!1)}();b.forEach((z,ce)=>{z.forEach((Je,pt)=>{z.set(pt,this._driver.computeStyle(ce,pt,F.l3))})});const N=gt(p.map(z=>{const ce=b.get(z.element);return this._buildPlayer(z,new Map,ce)}));return this._playersById.set(e,N),N.onDestroy(()=>this.destroy(e)),this.players.push(N),N}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function De(n){return new v.vHH(3301,!1)}();return t}listen(e,t,r,a){const c=In(t,"","","");return vt(this._getPlayer(e),r,c,a),()=>{}}command(e,t,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,t,a[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const $i="ng-animate-queued",Io="ng-animate-disabled",Ws=[],Cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bi="__ng_removed";class qs{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function As(n){return null!=n?n:null}(r?e.value:e),r){const c=bn(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(a=>{null==r[a]&&(r[a]=t[a])})}}}const ti="void",Ts=new qs(ti);class Ss{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,di(t,this._hostClassName)}listen(e,t,r,a){if(!this._triggers.has(t))throw function Ve(n,e){return new v.vHH(3302,!1)}();if(null==r||0==r.length)throw function he(n){return new v.vHH(3303,!1)}();if(!function Vo(n){return"start"==n||"done"==n}(r))throw function ue(n,e){return new v.vHH(3400,!1)}();const c=rn(this._elementListeners,e,[]),p={name:t,phase:r,callback:a};c.push(p);const b=rn(this._engine.statesByElement,e,new Map);return b.has(t)||(di(e,Er),di(e,Er+"-"+t),b.set(t,Ts)),()=>{this._engine.afterFlush(()=>{const S=c.indexOf(p);S>=0&&c.splice(S,1),this._triggers.has(t)||b.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ae(n){return new v.vHH(3401,!1)}();return t}trigger(e,t,r,a=!0){const c=this._getTrigger(t),p=new Ci(this.id,t,e);let b=this._engine.statesByElement.get(e);b||(di(e,Er),di(e,Er+"-"+t),this._engine.statesByElement.set(e,b=new Map));let S=b.get(t);const N=new qs(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&S&&N.absorbOptions(S.options),b.set(t,N),S||(S=Ts),N.value!==ti&&S.value===N.value){if(!function ni(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let a=0;a<t.length;a++){const c=t[a];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(S.params,N.params)){const xt=[],Yt=c.matchStyles(S.value,S.params,xt),Bn=c.matchStyles(N.value,N.params,xt);xt.length?this._engine.reportError(xt):this._engine.afterFlush(()=>{nt(e,Yt),Y(e,Bn)})}return}const Je=rn(this._engine.playersByElement,e,[]);Je.forEach(xt=>{xt.namespaceId==this.id&&xt.triggerName==t&&xt.queued&&xt.destroy()});let pt=c.matchTransition(S.value,N.value,e,N.params),Et=!1;if(!pt){if(!a)return;pt=c.fallbackTransition,Et=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:pt,fromState:S,toState:N,player:p,isFallbackTransition:Et}),Et||(di(e,$i),p.onStart(()=>{Ki(e,$i)})),p.onDone(()=>{let xt=this.players.indexOf(p);xt>=0&&this.players.splice(xt,1);const Yt=this._engine.playersByElement.get(e);if(Yt){let Bn=Yt.indexOf(p);Bn>=0&&Yt.splice(Bn,1)}}),this.players.push(p),Je.push(p),p}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,vn,!0);r.forEach(a=>{if(a[Bi])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(p=>p.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,a){const c=this._engine.statesByElement.get(e),p=new Map;if(c){const b=[];if(c.forEach((S,N)=>{if(p.set(N,S.value),this._triggers.has(N)){const z=this.trigger(e,N,ti,a);z&&b.push(z)}}),b.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,p),r&&gt(b).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const a=new Set;t.forEach(c=>{const p=c.name;if(a.has(p))return;a.add(p);const S=this._triggers.get(p).fallbackTransition,N=r.get(p)||Ts,z=new qs(ti),ce=new Ci(this.id,p,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:p,transition:S,fromState:N,toState:z,player:ce,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)a=!0;else{let p=e;for(;p=p.parentNode;)if(r.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[Bi];(!c||c===Cs)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){di(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const c=r.element,p=this._elementListeners.get(c);p&&p.forEach(b=>{if(b.name==r.triggerName){const S=In(c,r.triggerName,r.fromState.value,r.toState.value);S._data=e,vt(r.player,b.phase,S,b.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(r)}),this._queue=[],t.sort((r,a)=>{const c=r.transition.ast.depCount,p=a.transition.ast.depCount;return 0==c||0==p?c-p:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ks{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,c)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Ss(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,a=this.namespacesByHostElement;if(r.length-1>=0){let p=!1,b=this.driver.getParentElement(t);for(;b;){const S=a.get(b);if(S){const N=r.indexOf(S);r.splice(N+1,0,e),p=!0;break}b=this.driver.getParentElement(b)}p||r.unshift(e)}else r.push(e);return a.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let a=this._namespaceLookup[e];a&&a.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let a of r.values())if(a.namespaceId){const c=this._fetchNamespace(a.namespaceId);c&&t.add(c)}return t}trigger(e,t,r,a){if(Wi(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,a),!0}return!1}insertNode(e,t,r,a){if(!Wi(t))return;const c=t[Bi];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(e){const p=this._fetchNamespace(e);p&&p.insertNode(t,r)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),di(e,Io)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ki(e,Io))}removeNode(e,t,r,a){if(Wi(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),r){const p=this.namespacesByHostElement.get(t);p&&p.id!==e&&p.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,r,a,c){this.collectedLeaveElements.push(t),t[Bi]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,r,a,c){return Wi(t)?this._fetchNamespace(e).listen(t,r,a,c):()=>{}}_buildInstruction(e,t,r,a,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,vn,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Sr,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gt(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Bi];if(r&&r.setForRemoval){if(e[Bi]=Cs,r.namespaceId){this.destroyInnerAnimations(e);const a=this._fetchNamespace(r.namespaceId);a&&a.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}null!==(t=e.classList)&&void 0!==t&&t.contains(Io)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)di(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?gt(t).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw function $e(n){return new v.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Dt,a=[],c=new Map,p=[],b=new Map,S=new Map,N=new Map,z=new Set;this.disabledNodes.forEach(Un=>{z.add(Un);const Jn=this.driver.query(Un,".ng-animate-queued",!0);for(let lr=0;lr<Jn.length;lr++)z.add(Jn[lr])});const ce=this.bodyNode,Je=Array.from(this.statesByElement.keys()),pt=br(Je,this.collectedEnterElements),Et=new Map;let xt=0;pt.forEach((Un,Jn)=>{const lr=Lr+xt++;Et.set(Jn,lr),Un.forEach(Yr=>di(Yr,lr))});const Yt=[],Bn=new Set,Fr=new Set;for(let Un=0;Un<this.collectedLeaveElements.length;Un++){const Jn=this.collectedLeaveElements[Un],lr=Jn[Bi];lr&&lr.setForRemoval&&(Yt.push(Jn),Bn.add(Jn),lr.hasAnimation?this.driver.query(Jn,".ng-star-inserted",!0).forEach(Yr=>Bn.add(Yr)):Fr.add(Jn))}const qn=new Map,Kn=br(Je,Array.from(Bn));Kn.forEach((Un,Jn)=>{const lr=Dn+xt++;qn.set(Jn,lr),Un.forEach(Yr=>di(Yr,lr))}),e.push(()=>{pt.forEach((Un,Jn)=>{const lr=Et.get(Jn);Un.forEach(Yr=>Ki(Yr,lr))}),Kn.forEach((Un,Jn)=>{const lr=qn.get(Jn);Un.forEach(Yr=>Ki(Yr,lr))}),Yt.forEach(Un=>{this.processLeaveNode(Un)})});const or=[],hr=[];for(let Un=this._namespaceList.length-1;Un>=0;Un--)this._namespaceList[Un].drainQueuedTransitions(t).forEach(lr=>{const Yr=lr.player,zs=lr.element;if(or.push(Yr),this.collectedEnterElements.length){const Da=zs[Bi];if(Da&&Da.setForMove){if(Da.previousTriggersValues&&Da.previousTriggersValues.has(lr.triggerName)){const Yf=Da.previousTriggersValues.get(lr.triggerName),Jl=this.statesByElement.get(lr.element);if(Jl&&Jl.has(lr.triggerName)){const ub=Jl.get(lr.triggerName);ub.value=Yf,Jl.set(lr.triggerName,ub)}}return void Yr.destroy()}}const cc=!ce||!this.driver.containsElement(ce,zs),kl=qn.get(zs),dh=Et.get(zs),Os=this._buildInstruction(lr,r,dh,kl,cc);if(Os.errors&&Os.errors.length)return void hr.push(Os);if(cc)return Yr.onStart(()=>nt(zs,Os.fromStyles)),Yr.onDestroy(()=>Y(zs,Os.toStyles)),void a.push(Yr);if(lr.isFallbackTransition)return Yr.onStart(()=>nt(zs,Os.fromStyles)),Yr.onDestroy(()=>Y(zs,Os.toStyles)),void a.push(Yr);const tC=[];Os.timelines.forEach(Da=>{Da.stretchStartingKeyframe=!0,this.disabledNodes.has(Da.element)||tC.push(Da)}),Os.timelines=tC,r.append(zs,Os.timelines),p.push({instruction:Os,player:Yr,element:zs}),Os.queriedElements.forEach(Da=>rn(b,Da,[]).push(Yr)),Os.preStyleProps.forEach((Da,Yf)=>{if(Da.size){let Jl=S.get(Yf);Jl||S.set(Yf,Jl=new Set),Da.forEach((ub,YI)=>Jl.add(YI))}}),Os.postStyleProps.forEach((Da,Yf)=>{let Jl=N.get(Yf);Jl||N.set(Yf,Jl=new Set),Da.forEach((ub,YI)=>Jl.add(YI))})});if(hr.length){const Un=[];hr.forEach(Jn=>{Un.push(function Te(n,e){return new v.vHH(3505,!1)}())}),or.forEach(Jn=>Jn.destroy()),this.reportError(Un)}const hi=new Map,io=new Map;p.forEach(Un=>{const Jn=Un.element;r.has(Jn)&&(io.set(Jn,Jn),this._beforeAnimationBuild(Un.player.namespaceId,Un.instruction,hi))}),a.forEach(Un=>{const Jn=Un.element;this._getPreviousPlayers(Jn,!1,Un.namespaceId,Un.triggerName,null).forEach(Yr=>{rn(hi,Jn,[]).push(Yr),Yr.destroy()})});const lb=Yt.filter(Un=>So(Un,S,N)),Su=new Map;Co(Su,this.driver,Fr,N,F.l3).forEach(Un=>{So(Un,S,N)&&lb.push(Un)});const Zv=new Map;pt.forEach((Un,Jn)=>{Co(Zv,this.driver,new Set(Un),S,F.k1)}),lb.forEach(Un=>{var Jn,lr;const Yr=Su.get(Un),zs=Zv.get(Un);Su.set(Un,new Map([...Array.from(null!==(Jn=null==Yr?void 0:Yr.entries())&&void 0!==Jn?Jn:[]),...Array.from(null!==(lr=null==zs?void 0:zs.entries())&&void 0!==lr?lr:[])]))});const Qv=[],Vg=[],eC={};p.forEach(Un=>{const{element:Jn,player:lr,instruction:Yr}=Un;if(r.has(Jn)){if(z.has(Jn))return lr.onDestroy(()=>Y(Jn,Yr.toStyles)),lr.disabled=!0,lr.overrideTotalTime(Yr.totalTime),void a.push(lr);let zs=eC;if(io.size>1){let kl=Jn;const dh=[];for(;kl=kl.parentNode;){const Os=io.get(kl);if(Os){zs=Os;break}dh.push(kl)}dh.forEach(Os=>io.set(Os,zs))}const cc=this._buildAnimation(lr.namespaceId,Yr,hi,c,Zv,Su);if(lr.setRealPlayer(cc),zs===eC)Qv.push(lr);else{const kl=this.playersByElement.get(zs);kl&&kl.length&&(lr.parentPlayer=gt(kl)),a.push(lr)}}else nt(Jn,Yr.fromStyles),lr.onDestroy(()=>Y(Jn,Yr.toStyles)),Vg.push(lr),z.has(Jn)&&a.push(lr)}),Vg.forEach(Un=>{const Jn=c.get(Un.element);if(Jn&&Jn.length){const lr=gt(Jn);Un.setRealPlayer(lr)}}),a.forEach(Un=>{Un.parentPlayer?Un.syncPlayerEvents(Un.parentPlayer):Un.destroy()});for(let Un=0;Un<Yt.length;Un++){const Jn=Yt[Un],lr=Jn[Bi];if(Ki(Jn,Dn),lr&&lr.hasAnimation)continue;let Yr=[];if(b.size){let cc=b.get(Jn);cc&&cc.length&&Yr.push(...cc);let kl=this.driver.query(Jn,Sr,!0);for(let dh=0;dh<kl.length;dh++){let Os=b.get(kl[dh]);Os&&Os.length&&Yr.push(...Os)}}const zs=Yr.filter(cc=>!cc.destroyed);zs.length?si(this,Jn,zs):this.processLeaveNode(Jn)}return Yt.length=0,Qv.forEach(Un=>{this.players.push(Un),Un.onDone(()=>{Un.destroy();const Jn=this.players.indexOf(Un);this.players.splice(Jn,1)}),Un.play()}),Qv}elementContainsData(e,t){let r=!1;const a=t[Bi];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,a,c){let p=[];if(t){const b=this.playersByQueriedElement.get(e);b&&(p=b)}else{const b=this.playersByElement.get(e);if(b){const S=!c||c==ti;b.forEach(N=>{N.queued||!S&&N.triggerName!=a||p.push(N)})}}return(r||a)&&(p=p.filter(b=>!(r&&r!=b.namespaceId||a&&a!=b.triggerName))),p}_beforeAnimationBuild(e,t,r){const c=t.element,p=t.isRemovalTransition?void 0:e,b=t.isRemovalTransition?void 0:t.triggerName;for(const S of t.timelines){const N=S.element,z=N!==c,ce=rn(r,N,[]);this._getPreviousPlayers(N,z,p,b,t.toState).forEach(pt=>{const Et=pt.getRealPlayer();Et.beforeDestroy&&Et.beforeDestroy(),pt.destroy(),ce.push(pt)})}nt(c,t.fromStyles)}_buildAnimation(e,t,r,a,c,p){const b=t.triggerName,S=t.element,N=[],z=new Set,ce=new Set,Je=t.timelines.map(Et=>{const xt=Et.element;z.add(xt);const Yt=xt[Bi];if(Yt&&Yt.removedBeforeQueried)return new F.ZN(Et.duration,Et.delay);const Bn=xt!==S,Fr=function To(n){const e=[];return Ns(n,e),e}((r.get(xt)||Ws).map(hi=>hi.getRealPlayer())).filter(hi=>!!hi.element&&hi.element===xt),qn=c.get(xt),Kn=p.get(xt),or=en(0,this._normalizer,0,Et.keyframes,qn,Kn),hr=this._buildPlayer(Et,or,Fr);if(Et.subTimeline&&a&&ce.add(xt),Bn){const hi=new Ci(e,b,xt);hi.setRealPlayer(hr),N.push(hi)}return hr});N.forEach(Et=>{rn(this.playersByQueriedElement,Et.element,[]).push(Et),Et.onDone(()=>function ss(n,e,t){let r=n.get(e);if(r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Et.element,Et))}),z.forEach(Et=>di(Et,_n));const pt=gt(Je);return pt.onDestroy(()=>{z.forEach(Et=>Ki(Et,_n)),Y(S,t.toStyles)}),ce.forEach(Et=>{rn(a,Et,[]).push(pt)}),pt}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new F.ZN(e.duration,e.delay)}}class Ci{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new F.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(a=>vt(e,r,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){rn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Wi(n){return n&&1===n.nodeType}function qi(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Co(n,e,t,r,a){const c=[];t.forEach(S=>c.push(qi(S)));const p=[];r.forEach((S,N)=>{const z=new Map;S.forEach(ce=>{const Je=e.computeStyle(N,ce,a);z.set(ce,Je),(!Je||0==Je.length)&&(N[Bi]=lo,p.push(N))}),n.set(N,z)});let b=0;return t.forEach(S=>qi(S,c[b++])),p}function br(n,e){const t=new Map;if(n.forEach(b=>t.set(b,[])),0==e.length)return t;const r=1,a=new Set(e),c=new Map;function p(b){if(!b)return r;let S=c.get(b);if(S)return S;const N=b.parentNode;return S=t.has(N)?N:a.has(N)?r:p(N),c.set(b,S),S}return e.forEach(b=>{const S=p(b);S!==r&&t.get(S).push(b)}),t}function di(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ki(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function si(n,e,t){gt(t).onDone(()=>n.processLeaveNode(e))}function Ns(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof F.ZE?Ns(r.players,e):e.push(r)}}function So(n,e,t){const r=t.get(n);if(!r)return!1;let a=e.get(n);return a?r.forEach(c=>a.add(c)):e.set(n,r),t.delete(n),!0}class Fs{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,c)=>{},this._transitionEngine=new ks(e,t,r),this._timelineEngine=new Bo(e,t,r),this._transitionEngine.onRemovalComplete=(a,c)=>this.onRemovalComplete(a,c)}registerTrigger(e,t,r,a,c){const p=e+"-"+a;let b=this._triggerCache[p];if(!b){const S=[],N=[],z=Gr(this._driver,c,S,N);if(S.length)throw function rt(n,e){return new v.vHH(3404,!1)}();b=function so(n,e,t){return new oo(n,e,t)}(a,z,this._normalizer),this._triggerCache[p]=b}this._transitionEngine.registerTrigger(t,a,b)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,a){this._transitionEngine.insertNode(e,t,r,a)}onRemove(e,t,r,a){this._transitionEngine.removeNode(e,t,a||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,a){if("@"==r.charAt(0)){const[c,p]=zt(r);this._timelineEngine.command(c,t,p,a)}else this._transitionEngine.trigger(e,t,r,a)}listen(e,t,r,a,c){if("@"==r.charAt(0)){const[p,b]=zt(r);return this._timelineEngine.listen(p,t,b,c)}return this._transitionEngine.listen(e,t,r,a,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pi=(()=>{class n{constructor(t,r,a){this._element=t,this._startStyles=r,this._endStyles=a,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Y(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Y(this._element,this._initialStyles),this._endStyles&&(Y(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nt(this._element,this._endStyles),this._endStyles=null),Y(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ei(n){let e=null;return n.forEach((t,r)=>{(function Zo(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Ms{constructor(e,t,r,a){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,a)=>{"offset"!==a&&e.set(a,this._finished?r:Hr(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gs{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return pn(e,t)}getParentElement(e){return on(e)}query(e,t,r){return Jt(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,a,c,p=[]){const S={duration:r,delay:a,fill:0==a?"both":"forwards"};c&&(S.easing=c);const N=new Map,z=p.filter(pt=>pt instanceof Ms);(function vi(n,e){return 0===n||0===e})(r,a)&&z.forEach(pt=>{pt.currentSnapshot.forEach((Et,xt)=>N.set(xt,Et))});let ce=function ur(n){return n.length?n[0]instanceof Map?n:n.map(e=>kn(e)):[]}(t).map(pt=>Ee(pt));ce=function wi(n,e,t){if(t.size&&e.length){let r=e[0],a=[];if(t.forEach((c,p)=>{r.has(p)||a.push(p),r.set(p,c)}),a.length)for(let c=1;c<e.length;c++){let p=e[c];a.forEach(b=>p.set(b,Hr(n,b)))}}return e}(e,ce,N);const Je=function ps(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Ei(e[0]),e.length>1&&(r=Ei(e[e.length-1]))):e instanceof Map&&(t=Ei(e)),t||r?new pi(n,t,r):null}(e,ce);return new Ms(e,ce,S,Je)}}var Ti=V(6895);let ca=(()=>{class n extends F._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?(0,F.vP)(t):t;return Uo(this._renderer,null,r,"register",[a]),new Fn(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(Ti.K0))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class Fn extends F.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Qo(this._id,e,t||{},this._renderer)}}class Qo{constructor(e,t,r,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Uo(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Uo(n,e,t,r,a){return n.setProperty(e,`@@${t}:${r}`,a)}const xs="@.disabled";let Wa=(()=>{class n{constructor(t,r,a){this.delegate=t,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,p)=>{const b=null==p?void 0:p.parentNode(c);b&&p.removeChild(b,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let z=this._rendererCache.get(c);return z||(z=new jo("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,z)),z}const p=r.id,b=r.id+"-"+this._currentId;this._currentId++,this.engine.register(b,t);const S=z=>{Array.isArray(z)?z.forEach(S):this.engine.registerTrigger(p,b,t,z.name,z)};return r.data.animation.forEach(S),new Ho(this,b,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,a){t>=0&&t<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[p,b]=c;p(b)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(Fs),v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class jo{constructor(e,t,r,a){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=a,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,a=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,a){this.delegate.setAttribute(e,t,r,a)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,a){this.delegate.setStyle(e,t,r,a)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==xs?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ho extends jo{constructor(e,t,r,a,c){super(t,r,a,c),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==xs?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const a=function $(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),p="";return"@"!=c.charAt(0)&&([c,p]=function d(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,a,c,p,b=>{this.factory.scheduleListenerCallback(b._data||-1,r,b)})}return this.delegate.listen(e,t,r)}}let m=(()=>{class n extends Fs{constructor(t,r,a,c){super(t.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Ti.K0),v.LFG(an),v.LFG(Lo),v.LFG(v.z2F))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const H=[{provide:F._j,useClass:ca},{provide:Lo,useFactory:function f(){return new $o}},{provide:Fs,useClass:m},{provide:v.FYo,useFactory:function M(n,e,t){return new Wa(n,e,t)},deps:[l.se,Fs,v.R0b]}],ut=[{provide:an,useFactory:()=>new gs},{provide:v.QbO,useValue:"BrowserAnimations"},...H],Lt=[{provide:an,useClass:ir},{provide:v.QbO,useValue:"NoopAnimations"},...H];let Wt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Lt:ut}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:ut,imports:[l.b2]}),n})();var Gn=V(2435),Ut=V(2078),dr=V(655),oi=V(3515),uo=V(4986),ms=V(9751),os=V(8996),co=V(9646),Mr=V(2122),qa=V(8675),da=V(4482),Xo=V(5403);function Ta(){return(0,da.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xo.x)(e,a=>{const c=t;t=a,r&&e.next([c,a]),r=!0}))})}var Qt,Yi=V(4004),Ao=V(5026),Au=V(1884),Sa=V(9300),Ys=V(2011),gl=(V(9568),V(3942)),Mt=V(5861),zo=V(9681),Jo=V(4859),Ls=V(1877),Nr=V(2090),mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yi={},ml=ml||{},Cn=mi||self;function Ka(){}function yl(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ea(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ta="closure_uid_"+(1e9*Math.random()>>>0),ha=0;function R(n,e,t){return n.call.apply(n.bind,arguments)}function j(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function P(n,e,t){return(P=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R:j).apply(null,arguments)}function Z(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fe(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,a,c){for(var p=Array(arguments.length-2),b=2;b<arguments.length;b++)p[b-2]=arguments[b];return e.prototype[a].apply(r,p)}}function ct(){this.s=this.s,this.o=this.o}ct.prototype.s=!1,ct.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Nl(n){Object.prototype.hasOwnProperty.call(n,ta)&&n[ta]||(n[ta]=++ha)}(this)},ct.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yn=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function wr(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Cr(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(yl(r)){const a=n.length||0,c=r.length||0;n.length=a+c;for(let p=0;p<c;p++)n[a+p]=r[p]}else n.push(r)}}function Ln(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ln.prototype.h=function(){this.defaultPrevented=!0};var pr=function(){if(!Cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Cn.addEventListener("test",Ka,e),Cn.removeEventListener("test",Ka,e)}catch(t){}return n}();function rr(n){return/^[\s\xa0]*$/.test(n)}var Zr=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ri(n,e){return n<e?-1:n>e?1:0}function $s(){var n=Cn.navigator;return n&&(n=n.userAgent)?n:""}function ai(n){return-1!=$s().indexOf(n)}function ys(n){return ys[" "](n),n}ys[" "]=Ka;var Wo,n,na=ai("Opera"),Oi=ai("Trident")||ai("MSIE"),Go=ai("Edge"),ra=Go||Oi,ia=ai("Gecko")&&!(-1!=$s().toLowerCase().indexOf("webkit")&&!ai("Edge"))&&!(ai("Trident")||ai("MSIE"))&&!ai("Edge"),ho=-1!=$s().toLowerCase().indexOf("webkit")&&!ai("Edge");function Fl(){var n=Cn.document;return n?n.documentMode:void 0}e:{var Ya="",Aa=(n=$s(),ia?/rv:([^\);]+)(\)|;)/.exec(n):Go?/Edge\/([\d\.]+)/.exec(n):Oi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ho?/WebKit\/(\S+)/.exec(n):na?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Aa&&(Ya=Aa?Aa[1]:""),Oi){var Qs=Fl();if(null!=Qs&&Qs>parseFloat(Ya)){Wo=String(Qs);break e}}Wo=Ya}var vl={};var Mu=Cn.document&&Oi&&(Fl()||parseInt(Wo,10))||void 0;function qo(n,e){if(Ln.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ia){e:{try{ys(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eu[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qo.X.h.call(this)}}fe(qo,Ln);var eu={2:"touch",3:"pen",4:"mouse"};qo.prototype.h=function(){qo.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fa="closure_listenable_"+(1e6*Math.random()|0),xu=0;function fo(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=a,this.key=++xu,this.ba=this.ea=!1}function Qa(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Zi(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function sa(n){const e={};for(const t in n)e[t]=n[t];return e}const po="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ll(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let c=0;c<po.length;c++)t=po[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vs(n){this.src=n,this.g={},this.h=0}function Ra(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],a=yn(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(Qa(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Oa(n,e,t,r){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==r)return a}return-1}vs.prototype.add=function(n,e,t,r,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var p=Oa(n,e,r,a);return-1<p?(e=n[p],t||(e.ea=!1)):((e=new fo(e,this.src,c,!!r,a)).ea=t,n.push(e)),e};var Ru="closure_lm_"+(1e6*Math.random()|0),Xa={};function _l(n,e,t,r,a){if(r&&r.once)return Ja(n,e,t,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)_l(n,e[c],t,r,a);return null}return t=ad(t),n&&n[fa]?n.N(e,t,ea(r)?!!r.capture:!!r,a):tu(n,e,t,!1,r,a)}function tu(n,e,t,r,a,c){if(!e)throw Error("Invalid event type");var p=ea(a)?!!a.capture:!!a,b=el(n);if(b||(n[Ru]=b=new vs(n)),(t=b.add(e,t,r,p,c)).proxy)return t;if(r=function Bs(){const e=pa;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pr||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(ka(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ja(n,e,t,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ja(n,e[c],t,r,a);return null}return t=ad(t),n&&n[fa]?n.O(e,t,ea(r)?!!r.capture:!!r,a):tu(n,e,t,!0,r,a)}function Mo(n,e,t,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Mo(n,e[c],t,r,a);else r=ea(r)?!!r.capture:!!r,t=ad(t),n&&n[fa]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Oa(c=n.g[e],t,r,a))&&(Qa(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=el(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Oa(e,t,r,a)),(t=-1<n?e[n]:null)&&Pa(t))}function Pa(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[fa])Ra(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ka(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=el(e))?(Ra(t,n),0==t.h&&(t.src=null,e[Ru]=null)):Qa(n)}}}function ka(n){return n in Xa?Xa[n]:Xa[n]="on"+n}function pa(n,e){if(n.ba)n=!0;else{e=new qo(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Pa(n),n=t.call(r,e)}return n}function el(n){return(n=n[Ru])instanceof vs?n:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function ad(n){return"function"==typeof n?n:(n[Ko]||(n[Ko]=function(e){return n.handleEvent(e)}),n[Ko])}function Pi(){ct.call(this),this.i=new vs(this),this.P=this,this.I=null}function sr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ln(e,n);else if(e instanceof Ln)e.target=e.target||n;else{var a=e;Ll(e=new Ln(r,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=tl(p,r,!0,e)&&a}if(a=tl(p=e.g=n,r,!0,e)&&a,a=tl(p,r,!1,e)&&a,t)for(c=0;c<t.length;c++)a=tl(p=e.g=t[c],r,!1,e)&&a}function tl(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.ba&&p.capture==t){var b=p.listener,S=p.ha||p.src;p.ea&&Ra(n.i,p),a=!1!==b.call(S,r)&&a}}return a&&!r.defaultPrevented}fe(Pi,ct),Pi.prototype[fa]=!0,Pi.prototype.removeEventListener=function(n,e,t,r){Mo(this,n,e,t,r)},Pi.prototype.M=function(){if(Pi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qa(t[r]);delete n.g[e],n.h--}}this.I=null},Pi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var $l=Cn.JSON.stringify;function Ou(){var n=Bl;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ga,ru=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new hc,n=>n.reset());class hc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fc(n){Cn.setTimeout(()=>{throw n},0)}function El(n,e){ga||function pc(){var n=Cn.Promise.resolve(void 0);ga=function(){n.then(nl)}}(),li||(ga(),li=!0),Bl.add(n,e)}var li=!1,Bl=new class nu{constructor(){this.h=this.g=null}add(e,t){const r=ru.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function nl(){for(var n;n=Ou();){try{n.h.call(n.g)}catch(t){fc(t)}var e=ru;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}li=!1}function ma(n,e){Pi.call(this),this.h=n||1,this.g=e||Cn,this.j=P(this.lb,this),this.l=Date.now()}function as(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function xo(n,e,t){if("function"==typeof n)t&&(n=P(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=P(n.handleEvent,n)}return 2147483647<Number(e)?-1:Cn.setTimeout(n,e||0)}function bl(n){n.g=xo(()=>{n.g=null,n.i&&(n.i=!1,bl(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fe(ma,Pi),(Qt=ma.prototype).ca=!1,Qt.R=null,Qt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),sr(this,"tick"),this.ca&&(as(this),this.start()))}},Qt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qt.M=function(){ma.X.M.call(this),as(this),delete this.g};class ya extends ct{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bl(this)}M(){super.M(),this.g&&(Cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ro(n){ct.call(this),this.h=n,this.g={}}fe(Ro,ct);var rl=[];function ld(n,e,t,r){Array.isArray(t)||(t&&(rl[0]=t.toString()),t=rl);for(var a=0;a<t.length;a++){var c=_l(e,t[a],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function Vl(n){Zi(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pa(e)},n),n.g={}}function Ul(){this.g=!0}function D(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function T(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return $l(t)}catch(b){return e}}(n,t)+(r?" "+r:"")})}Ro.prototype.M=function(){Ro.X.M.call(this),Vl(this)},Ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ul.prototype.Aa=function(){this.g=!1},Ul.prototype.info=function(){};var L={},G=null;function J(){return G=G||new Pi}function Ze(n){Ln.call(this,L.Pa,n)}function _t(n){const e=J();sr(e,new Ze(e))}function qt(n,e){Ln.call(this,L.STAT_EVENT,n),this.stat=e}function Xt(n){const e=J();sr(e,new qt(e,n))}function un(n,e){Ln.call(this,L.Qa,n),this.size=e}function xr(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Cn.setTimeout(function(){n()},e)}L.Pa="serverreachability",fe(Ze,Ln),L.STAT_EVENT="statevent",fe(qt,Ln),L.Qa="timingevent",fe(un,Ln);var ii={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},k={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function B(){}function xe(){}B.prototype.h=null;var En,st={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yt(){Ln.call(this,"d")}function kt(){Ln.call(this,"c")}function On(){}function xn(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ro(this),this.O=ar,this.T=new ma(n=ra?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gr}function gr(){this.i=null,this.g="",this.h=!1}fe(yt,Ln),fe(kt,Ln),fe(On,B),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},En=new On;var ar=45e3,mo={},ki={};function wl(n,e,t){n.K=1,n.v=gh(Fa(e)),n.s=t,n.P=!0,gc(n,null)}function gc(n,e){n.F=Date.now(),Na(n),n.A=Fa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Xf(t.i,"t",r),n.C=0,t=n.l.H,n.h=new gr,n.g=Yg(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ya(P(n.La,n,n.g),n.N)),ld(n.S,n.g,"readystatechange",n.ib),e=n.H?sa(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),_t(),function go(n,e,t,r,a,c){n.info(function(){if(n.g)if(c)for(var p="",b=c.split("&"),S=0;S<b.length;S++){var N=b[S].split("=");if(1<N.length){var z=N[0];N=N[1];var ce=z.split("_");p=2<=ce.length&&"type"==ce[1]?p+(z+"=")+N+"&":p+(z+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Il(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function yo(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=il(n,t),a==ki){4==e&&(n.o=4,Xt(14),r=!1),D(n.j,n.m,null,"[Incomplete Response]");break}if(a==mo){n.o=4,Xt(15),D(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}D(n.j,n.m,a,null),mc(n,a)}Il(n)&&a!=ki&&a!=mo&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xt(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),au(e),e.K=!0,Xt(11))):(D(n.j,n.m,t,"[Invalid Chunked Response]"),Nu(n),ku(n))}function il(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ki:(t=Number(e.substring(t,r)),isNaN(t)?mo:(r+=1)+t>e.length?ki:(e=e.substr(r,t),n.C=r+t,e))}function Na(n){n.V=Date.now()+n.O,hh(n,n.O)}function hh(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xr(P(n.gb,n),e)}function Pu(n){n.B&&(Cn.clearTimeout(n.B),n.B=null)}function ku(n){0==n.l.G||n.I||n_(n.l,n)}function Nu(n){Pu(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,as(n.T),Vl(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function mc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||fd(t.h,n)))if(!n.J&&fd(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(N){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;wh(t),md(t)}ip(t),Xt(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=xr(P(t.cb,t),6e3));if(1>=hd(t.h)&&t.ja){try{t.ja()}catch(N){}t.ja=void 0}}else jl(t,11)}else if((n.J||t.g==n)&&wh(t),!rr(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let N=a[e];if(t.T=N[0],N=N[1],2==t.G)if("c"==N[0]){t.I=N[1],t.ka=N[2];const z=N[3];null!=z&&(t.ma=z,t.j.info("VER="+t.ma));const ce=N[4];null!=ce&&(t.Ca=ce,t.j.info("SVER="+t.Ca));const Je=N[5];null!=Je&&"number"==typeof Je&&0<Je&&(t.J=r=1.5*Je,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const pt=n.g;if(pt){const Et=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Et){var c=r.h;c.g||-1==Et.indexOf("spdy")&&-1==Et.indexOf("quic")&&-1==Et.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(_c(c,c.h),c.h=null))}if(r.D){const xt=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;xt&&(r.za=xt,Si(r.F,r.D,xt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var p=n;if((r=t).sa=Kg(r,r.H?r.ka:null,r.V),p.J){Xs(r.h,p);var b=p,S=r.J;S&&b.setTimeout(S),b.B&&(Pu(b),Na(b)),r.g=p}else Wg(r);0<t.i.length&&yd(t)}else"stop"!=N[0]&&"close"!=N[0]||jl(t,7);else 3==t.G&&("stop"==N[0]||"close"==N[0]?"stop"==N[0]?jl(t,7):Ic(t):"noop"!=N[0]&&t.l&&t.l.wa(N),t.A=0)}_t()}catch(N){}}function Zf(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yl(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ud(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yl(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Xv(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yl(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length,c=0;c<a;c++)e.call(void 0,r[c],t&&t[c],n)}(Qt=xn.prototype).setTimeout=function(n){this.O=n},Qt.ib=function(n){n=n.target;const e=this.L;e&&3==La(n)?e.l():this.La(n)},Qt.La=function(n){try{if(n==this.g)e:{const z=La(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>z)&&(3!=z||ra||this.g&&(this.h.h||this.g.fa()||bc(this.g)))){this.I||4!=z||7==e||_t(),Pu(this);var t=this.g.aa();this.Y=t;t:if(Il(this)){var r=bc(this.g);n="";var a=r.length,c=4==La(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nu(this),ku(this);var p="";break t}this.h.i=new Cn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==t,function I(n,e,t,r,a,c,p){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.U,z,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,S=this.g;if((b=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rr(b)){var N=b;break t}}N=null}if(!(t=N)){this.i=!1,this.o=3,Xt(12),Nu(this),ku(this);break e}D(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mc(this,t)}this.P?(yo(this,z,p),ra&&this.i&&3==z&&(ld(this.S,this.T,"tick",this.hb),this.T.start())):(D(this.j,this.m,p,null),mc(this,p)),4==z&&Nu(this),this.i&&!this.I&&(4==z?n_(this.l,this):(this.i=!1,Na(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Xt(12)):(this.o=0,Xt(13)),Nu(this),ku(this)}}}catch(z){}},Qt.hb=function(){if(this.g){var n=La(this.g),e=this.g.fa();this.C<e.length&&(Pu(this),yo(this,n,e),this.i&&4!=n&&Na(this))}},Qt.cancel=function(){this.I=!0,Nu(this)},Qt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function E(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_t(),Xt(17)),Nu(this),this.o=2,ku(this)):hh(this,this.V-n)};var cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fu){this.h=void 0!==e?e:n.h,fh(this,n.j),this.s=n.s,this.g=n.g,ph(this,n.m),this.l=n.l,e=n.i;var t=new vc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ug(this,t),this.o=n.o}else n&&(t=String(n).match(cd))?(this.h=!!e,fh(this,t[1]||"",!0),this.s=yc(t[2]||""),this.g=yc(t[3]||"",!0),ph(this,t[4]),this.l=yc(t[5]||"",!0),Ug(this,t[6]||"",!0),this.o=yc(t[7]||"")):(this.h=!!e,this.i=new vc(null,this.h))}function Fa(n){return new Fu(n)}function fh(n,e,t){n.j=t?yc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ph(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ug(n,e,t){e instanceof vc?(n.i=e,function Hg(n,e){e&&!n.j&&(ol(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(_h(this,r),Xf(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Lu(e,sl)),n.i=new vc(e,n.h))}function Si(n,e,t){n.i.set(e,t)}function gh(n){return Si(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function yc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Lu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mh),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mh(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Lu(e,yh,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Lu(e,yh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Lu(t,"/"==t.charAt(0)?Qf:vh,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Lu(t,jg)),n.join("")};var yh=/[#\/\?@]/g,vh=/[#\?:]/g,Qf=/[#\?]/g,sl=/[#\?@]/g,jg=/#/g;function vc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ol(n){n.g||(n.g=new Map,n.h=0,n.i&&function Jv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var c=n[t].substring(0,r);a=n[t].substring(r+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _h(n,e){ol(n),e=iu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function $u(n,e){return ol(n),e=iu(n,e),n.g.has(e)}function Xf(n,e,t){_h(n,e),0<t.length&&(n.i=null,n.g.set(iu(n,e),wr(t)),n.h+=t.length)}function iu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Jf(n){this.l=n||ep,n=Cn.PerformanceNavigationTiming?0<(n=Cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Cn.g&&Cn.g.Ga&&Cn.g.Ga()&&Cn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qt=vc.prototype).add=function(n,e){ol(this),this.i=null,n=iu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qt.forEach=function(n,e){ol(this),this.g.forEach(function(t,r){t.forEach(function(a){n.call(e,a,r,this)},this)},this)},Qt.oa=function(){ol(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const a=n[r];for(let c=0;c<a.length;c++)t.push(e[r])}return t},Qt.W=function(n){ol(this);let e=[];if("string"==typeof n)$u(this,n)&&(e=e.concat(this.g.get(iu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qt.set=function(n,e){return ol(this),this.i=null,$u(this,n=iu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),p=this.W(r);for(r=0;r<p.length;r++){var a=c;""!==p[r]&&(a+="="+encodeURIComponent(String(p[r]))),n.push(a)}}return this.i=n.join("&")};var ep=10;function vo(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hd(n){return n.h?1:n.g?n.g.size:0}function fd(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _c(n,e){n.g?n.g.add(e):n.h=e}function Xs(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Bu(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return wr(n.i)}function Ec(){}function tp(){this.g=new Ec}function zg(n,e,t){const r=t||"";try{Zf(n,function(a,c){let p=a;ea(a)&&(p=$l(a)),e.push(r+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function y(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(c){}}function _(n){this.l=n.ac||null,this.j=n.jb||!1}function x(n,e){Pi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=W,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jf.prototype.cancel=function(){if(this.i=Bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ec.prototype.stringify=function(n){return Cn.JSON.stringify(n,void 0)},Ec.prototype.parse=function(n){return Cn.JSON.parse(n,void 0)},fe(_,B),_.prototype.g=function(){return new x(this.l,this.j)},_.prototype.i=function(n){return function(){return n}}({}),fe(x,Pi);var W=0;function ae(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ft(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ft(n)}function Ft(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qt=x.prototype).open=function(n,e){if(this.readyState!=W)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ft(this)},Qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Cn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ft(this)),this.readyState=W},Qt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ft(this)),this.g&&(this.readyState=3,Ft(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ae(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Qt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ft(this):Ft(this),3==this.readyState&&ae(this)}},Qt.Va=function(n){this.g&&(this.response=this.responseText=n,ft(this))},Qt.Ua=function(n){this.g&&(this.response=n,ft(this))},Qt.ga=function(){this.g&&ft(this)},Qt.setRequestHeader=function(n,e){this.v.append(n,e)},Qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(x.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wn=Cn.JSON.parse;function hn(n){Pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mr,this.K=this.L=!1}fe(hn,Pi);var mr="",Ni=/^https?$/i,al=["POST","PUT"];function su(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,pd(n),ou(n)}function pd(n){n.D||(n.D=!0,sr(n,"complete"),sr(n,"error"))}function Dl(n){if(n.h&&typeof ml<"u"&&(!n.C[1]||4!=La(n)||2!=n.aa()))if(n.v&&4==La(n))xo(n.Ha,0,n);else if(sr(n,"readystatechange"),4==La(n)){n.h=!1;try{const b=n.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===b){var a=String(n.H).match(cd)[1]||null;if(!a&&Cn.self&&Cn.self.location){var c=Cn.self.location.protocol;a=c.substr(0,c.length-1)}r=!Ni.test(a?a.toLowerCase():"")}t=r}if(t)sr(n,"complete"),sr(n,"success");else{n.m=6;try{var p=2<La(n)?n.g.statusText:""}catch(S){p=""}n.j=p+" ["+n.aa()+"]",pd(n)}}finally{ou(n)}}}function ou(n,e){if(n.g){gd(n);const t=n.g,r=n.C[0]?Ka:null;n.g=null,n.C=null,e||sr(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function gd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Cn.clearTimeout(n.A),n.A=null)}function La(n){return n.g?n.g.readyState:0}function bc(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case mr:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Eh(n){let e="";return Zi(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function wc(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Eh(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Si(n,e,t))}function Vu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function np(n){this.Ca=0,this.i=[],this.j=new Ul,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vu("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vu("baseRetryDelayMs",5e3,n),this.bb=Vu("retryDelaySeedMs",1e4,n),this.$a=Vu("forwardChannelMaxRetries",2,n),this.ta=Vu("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Jf(n&&n.concurrentRequestLimit),this.Fa=new tp,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ic(n){if(Gg(n),3==n.G){var e=n.U++,t=Fa(n.F);Si(t,"SID",n.I),Si(t,"RID",e),Si(t,"TYPE","terminate"),bh(n,t),(e=new xn(n,n.j,e,void 0)).K=2,e.v=gh(Fa(t)),t=!1,Cn.navigator&&Cn.navigator.sendBeacon&&(t=Cn.navigator.sendBeacon(e.v.toString(),"")),!t&&Cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Yg(e.l,null),e.g.da(e.v)),e.F=Date.now(),Na(e)}r_(n)}function md(n){n.g&&(au(n),n.g.cancel(),n.g=null)}function Gg(n){md(n),n.u&&(Cn.clearTimeout(n.u),n.u=null),wh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Cn.clearTimeout(n.m),n.m=null)}function yd(n){vo(n.h)||n.m||(n.m=!0,El(n.Ja,n),n.C=0)}function rp(n,e){var t;t=e?e.m:n.U++;const r=Fa(n.F);Si(r,"SID",n.I),Si(r,"RID",t),Si(r,"AID",n.T),bh(n,r),n.o&&n.s&&wc(r,n.o,n.s),t=new xn(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=t_(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),_c(n.h,t),wl(t,r,e)}function bh(n,e){n.ia&&Zi(n.ia,function(t,r){Si(e,r,t)}),n.l&&Zf({},function(t,r){Si(e,r,t)})}function t_(n,e,t){t=Math.min(n.i.length,t);var r=n.l?P(n.l.Ra,n.l,n):null;e:{var a=n.i;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let b=!0;for(let S=0;S<t;S++){let N=a[S].h;const z=a[S].g;if(N-=c,0>N)c=Math.max(0,a[S].h-100),b=!1;else try{zg(z,p,"req"+N+"_")}catch(ce){r&&r(z)}}if(b){r=p.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Wg(n){n.g||n.u||(n.Z=1,El(n.Ia,n),n.A=0)}function ip(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=xr(P(n.Ia,n),cb(n,n.A)),n.A++,0))}function au(n){null!=n.B&&(Cn.clearTimeout(n.B),n.B=null)}function qg(n){n.g=new xn(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Fa(n.sa);Si(e,"RID","rpc"),Si(e,"SID",n.I),Si(e,"CI",n.L?"0":"1"),Si(e,"AID",n.T),Si(e,"TYPE","xmlhttp"),bh(n,e),n.o&&n.s&&wc(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=gh(Fa(e)),t.s=null,t.P=!0,gc(t,n)}function wh(n){null!=n.v&&(Cn.clearTimeout(n.v),n.v=null)}function n_(n,e){var t=null;if(n.g==e){wh(n),au(n),n.g=null;var r=2}else{if(!fd(n.h,e))return;t=e.D,Xs(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;sr(r=J(),new un(r,t)),yd(n)}else Wg(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==r&&function e_(n,e){return!(hd(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=xr(P(n.Ja,n,e),cb(n,n.C)),n.C++,0)))}(n,e)||2==r&&ip(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:jl(n,5);break;case 4:jl(n,10);break;case 3:jl(n,6);break;default:jl(n,2)}}function cb(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function jl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=P(n.kb,n);t||(t=new Fu("//www.google.com/images/cleardot.gif"),Cn.location&&"http"==Cn.location.protocol||fh(t,"https"),gh(t)),function C(n,e){const t=new Ul;if(Cn.Image){const r=new Image;r.onload=Z(y,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Z(y,t,r,"TestLoadImage: error",!1,e),r.onabort=Z(y,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Z(y,t,r,"TestLoadImage: timeout",!1,e),Cn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Xt(2);n.G=0,n.l&&n.l.va(e),r_(n),Gg(n)}function r_(n){if(n.G=0,n.la=[],n.l){const e=Bu(n.h);(0!=e.length||0!=n.i.length)&&(Cr(n.la,e),Cr(n.la,n.i),n.h.i.length=0,wr(n.i),n.i.length=0),n.l.ua()}}function Kg(n,e,t){var r=t instanceof Fu?Fa(t):new Fu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ph(r,r.m);else{var a=Cn.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Fu(null,void 0);r&&fh(c,r),e&&(c.g=e),a&&ph(c,a),t&&(c.l=t),r=c}return e=n.za,(t=n.D)&&e&&Si(r,t,e),Si(r,"VER",n.ma),bh(n,r),r}function Yg(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hn(t&&n.Da&&!n.ra?new _({jb:!0}):n.ra)).Ka(n.H),e}function Zg(){}function vd(){if(Oi&&!(10<=Number(Mu)))throw Error("Environmental error: no available transport.")}function va(n,e){Pi.call(this),this.g=new np(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!rr(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rr(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Dc(this)}function Ih(n){yt.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Dh(){kt.call(this),this.status=1}function Dc(n){this.g=n}(Qt=hn.prototype).Ka=function(n){this.L=n},Qt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():En.g(),this.C=function K(n){return n.h||(n.h=n.i())}(this.u?this.u:En),this.g.onreadystatechange=P(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void su(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)t.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=Cn.FormData&&n instanceof Cn.FormData,!(0<=yn(al,e))||r||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gd(this),0<this.B&&((this.K=function ll(n){return Oi&&function Ma(){return function Zs(n){var e=vl;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Zr(String(Wo)).split("."),t=Zr("9").split("."),r=Math.max(e.length,t.length);for(let p=0;0==n&&p<r;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=ri(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||ri(0==a[2].length,0==c[2].length)||ri(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=P(this.qa,this)):this.A=xo(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){su(this,c)}},Qt.qa=function(){typeof ml<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sr(this,"timeout"),this.abort(8))},Qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,sr(this,"complete"),sr(this,"abort"),ou(this))},Qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ou(this,!0)),hn.X.M.call(this)},Qt.Ha=function(){this.s||(this.F||this.v||this.l?Dl(this):this.fb())},Qt.fb=function(){Dl(this)},Qt.aa=function(){try{return 2<La(this)?this.g.status:-1}catch(n){return-1}},Qt.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Qt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),wn(e)}},Qt.Ea=function(){return this.m},Qt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qt=np.prototype).ma=8,Qt.G=1,Qt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new xn(this,this.j,n,void 0);let c=this.s;if(this.S&&(c?(c=sa(c),Ll(c,this.S)):c=this.S),null!==this.o||this.N||(a.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=t_(this,a,e),Si(t=Fa(this.F),"RID",n),Si(t,"CVER",22),this.D&&Si(t,"X-HTTP-Session-Id",this.D),bh(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Eh(c)))+"&"+e:this.o&&wc(t,this.o,c)),_c(this.h,a),this.Ya&&Si(t,"TYPE","init"),this.O?(Si(t,"$req",e),Si(t,"SID","null"),a.Z=!0,wl(a,t,null)):wl(a,t,e),this.G=2}}else 3==this.G&&(n?rp(this,n):0==this.i.length||vo(this.h)||rp(this))},Qt.Ia=function(){if(this.u=null,qg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=xr(P(this.eb,this),n)}},Qt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Xt(10),md(this),qg(this))},Qt.cb=function(){null!=this.v&&(this.v=null,md(this),ip(this),Xt(19))},Qt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))},(Qt=Zg.prototype).xa=function(){},Qt.wa=function(){},Qt.va=function(){},Qt.ua=function(){},Qt.Ra=function(){},vd.prototype.g=function(n,e){return new va(n,e)},fe(va,Pi),va.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Xt(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Kg(n,null,n.V),yd(n)},va.prototype.close=function(){Ic(this.g)},va.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=$l(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&yd(e)},va.prototype.M=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,va.X.M.call(this)},fe(Ih,yt),fe(Dh,kt),fe(Dc,Zg),Dc.prototype.xa=function(){sr(this.g,"a")},Dc.prototype.wa=function(n){sr(this.g,new Ih(n))},Dc.prototype.va=function(n){sr(this.g,new Dh)},Dc.prototype.ua=function(){sr(this.g,"b")},vd.prototype.createWebChannel=vd.prototype.g,va.prototype.send=va.prototype.u,va.prototype.open=va.prototype.m,va.prototype.close=va.prototype.close,ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,k.COMPLETE="complete",xe.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",Pi.prototype.listen=Pi.prototype.N,hn.prototype.listenOnce=hn.prototype.O,hn.prototype.getLastError=hn.prototype.Oa,hn.prototype.getLastErrorCode=hn.prototype.Ea,hn.prototype.getStatus=hn.prototype.aa,hn.prototype.getResponseJson=hn.prototype.Sa,hn.prototype.getResponseText=hn.prototype.fa,hn.prototype.send=hn.prototype.da,hn.prototype.setWithCredentials=hn.prototype.Ka;var Qg=yi.createWebChannelTransport=function(){return new vd},Xg=yi.getStatEventTarget=function(){return J()},Ch=yi.ErrorCode=ii,Th=yi.EventType=k,db=yi.Event=L,Jg=yi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},hb=yi.FetchXmlHttpFactory=_,sp=yi.WebChannel=xe,fb=yi.XhrIo=hn;const em="@firebase/firestore";class Js{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Js.UNAUTHENTICATED=new Js(null),Js.GOOGLE_CREDENTIALS=new Js("google-credentials-uid"),Js.FIRST_PARTY=new Js("first-party-uid"),Js.MOCK_USER=new Js("mock-user");let lu="9.18.0";const Hl=new Ls.Yd("@firebase/firestore");function Uu(){return Hl.logLevel}function Kt(n,...e){if(Hl.logLevel<=Ls.in.DEBUG){const t=e.map(Sh);Hl.debug(`Firestore (${lu}): ${n}`,...t)}}function Vs(n,...e){if(Hl.logLevel<=Ls.in.ERROR){const t=e.map(Sh);Hl.error(`Firestore (${lu}): ${n}`,...t)}}function Cc(n,...e){if(Hl.logLevel<=Ls.in.WARN){const t=e.map(Sh);Hl.warn(`Firestore (${lu}): ${n}`,...t)}}function Sh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Tn(n="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+n;throw Vs(e),new Error(e)}function $n(n,e){n||Tn()}function fn(n,e){return n}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends Nr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Us{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ju{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Js.UNAUTHENTICATED))}shutdown(){}}class mb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yb{constructor(e){this.t=e,this.currentUser=Js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const c=N=>this.i!==a?(a=this.i,t(N)):Promise.resolve();let p=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Us,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const N=p;e.enqueueRetryable((0,Mt.Z)(function*(){yield N.promise,yield c(r.currentUser)}))},S=N=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=N,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(N=>S(N)),setTimeout(()=>{if(!this.auth){const N=this.t.getImmediate({optional:!0});N?S(N):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Us)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($n("string"==typeof r.accessToken),new ju(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $n(null===e||"string"==typeof e),new Js(e)}}class vb{constructor(e,t,r,a){this.h=e,this.l=t,this.m=r,this.g=a,this.type="FirstParty",this.user=Js.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($n(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class _b{constructor(e,t,r,a){this.h=e,this.l=t,this.m=r,this.g=a}getToken(){return Promise.resolve(new vb(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Js.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _d{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=c=>{null!=c.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.A;return this.A=c.token,Kt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const a=c=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?a(c):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($n("string"==typeof t.token),this.A=t.token,new zl(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Eb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class i_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=Eb(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<t&&(r+=e.charAt(a[c]%e.length))}return r}}function Tr(n,e){return n<e?-1:n>e?1:0}function Ed(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function s_(n){return n+"\0"}class Vi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tr(this.nanoseconds,e.nanoseconds):Tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wn(e)}static min(){return new Wn(new Vi(0,0))}static max(){return new Wn(new Vi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ah{constructor(e,t,r){void 0===t?t=0:t>e.length&&Tn(),void 0===r?r=e.length-t:r>e.length-t&&Tn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ah.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ah?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qr extends Ah{construct(e,t,r){return new Qr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Bt(Tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Qr(t)}static emptyPath(){return new Qr([])}}const bb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends Ah{construct(e,t,r){return new Ui(e,t,r)}static isValidIdentifier(e){return bb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const c=()=>{if(0===r.length)throw new Bt(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let p=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new Bt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[a+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new Bt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=S,a+=2}else"`"===b?(p=!p,a++):"."!==b||p?(r+=b,a++):(c(),a++)}if(c(),p)throw new Bt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ui(t)}static emptyPath(){return new Ui([])}}class nn{constructor(e){this.path=e}static fromPath(e){return new nn(Qr.fromString(e))}static fromName(e){return new nn(Qr.fromString(e).popFirst(5))}static empty(){return new nn(Qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new Qr(e.slice()))}}class Hu{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function ap(n){return n.fields.find(e=>2===e.kind)}function zu(n){return n.fields.filter(e=>2!==e.kind)}Hu.UNKNOWN_ID=-1;class tm{constructor(e,t){this.fieldPath=e,this.kind=t}}class lp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new lp(0,ul.min())}}function up(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Wn.fromTimestamp(1e9===r?new Vi(t+1,0):new Vi(t,r));return new ul(a,nn.empty(),e)}function cp(n){return new ul(n.readTime,n.key,-1)}class ul{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ul(Wn.min(),nn.empty(),-1)}static max(){return new ul(Wn.max(),nn.empty(),-1)}}function a_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nn.comparator(n.documentKey,e.documentKey),0!==t?t:Tr(n.largestBatchId,e.largestBatchId))}const nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gu(n){return rm.apply(this,arguments)}function rm(){return rm=(0,Mt.Z)(function*(n){if(n.code!==Tt.FAILED_PRECONDITION||n.message!==nm)throw n;Kt("LocalStore","Unexpectedly lost primary lease")}),rm.apply(this,arguments)}class It{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new It((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof It?t:It.resolve(t)}catch(t){return It.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):It.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):It.reject(t)}static resolve(e){return new It((t,r)=>{t(e)})}static reject(e){return new It((t,r)=>{r(e)})}static waitFor(e){return new It((t,r)=>{let a=0,c=0,p=!1;e.forEach(b=>{++a,b.next(()=>{++c,p&&c===a&&t()},S=>r(S))}),p=!0,c===a&&t()})}static or(e){let t=It.resolve(!1);for(const r of e)t=t.next(a=>a?It.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,c)=>{r.push(t.call(this,a,c))}),this.waitFor(r)}static mapArray(e,t){return new It((r,a)=>{const c=e.length,p=new Array(c);let b=0;for(let S=0;S<c;S++){const N=S;t(e[N]).next(z=>{p[N]=z,++b,b===c&&r(p)},z=>a(z))}})}static doWhile(e,t){return new It((r,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):r()};c()})}}class Mh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Us,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Tc(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const a=xh(r.target.error);this.P.reject(new Tc(e,a))}}static open(e,t,r,a){try{return new Mh(t,e.transaction(a,r))}catch(c){throw new Tc(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Rs(t)}}class _a{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===_a.D((0,Nr.z$)())&&Vs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),qu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Nr.hl)())return!1;if(_a.N())return!0;const e=(0,Nr.z$)(),t=_a.D(e),r=0<t&&t<10,a=_a.k(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.$)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,Mt.Z)(function*(){return t.db||(Kt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=p=>{r(p.target.result)},c.onblocked=()=>{a(new Tc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=p=>{const b=p.target.error;a("VersionError"===b.name?new Bt(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Bt(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new Tc(e,b))},c.onupgradeneeded=p=>{Kt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.S.F(p.target.result,c.transaction,p.oldVersion,t.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var c=this;return(0,Mt.Z)(function*(){const p="readonly"===t;let b=0;for(;;){++b;try{c.db=yield c.O(e);const S=Mh.open(c.db,e,p?"readonly":"readwrite",r),N=a(S).next(z=>(S.V(),z)).catch(z=>(S.abort(z),It.reject(z))).toPromise();return N.catch(()=>{}),yield S.v,N}catch(S){const N=S,z="FirebaseError"!==N.name&&b<3;if(Kt("SimpleDb","Transaction failed with error:",N.message,"Retrying:",z),c.close(),!z)return Promise.reject(N)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class u_{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return qu(this.q.delete())}}class Tc extends Bt{constructor(e,t){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wu(n){return"IndexedDbTransactionError"===n.name}class Rs{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Kt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qu(r)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),qu(this.store.add(e))}get(e){return qu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Kt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),qu(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),qu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const a=this.cursor(r),c=[];return this.H(a,(p,b)=>{c.push(b)}).next(()=>c)}{const a=this.store.getAll(r.range);return new It((c,p)=>{a.onerror=b=>{p(b.target.error)},a.onsuccess=b=>{c(b.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new It((a,c)=>{r.onerror=p=>{c(p.target.error)},r.onsuccess=p=>{a(p.target.result)}})}Y(e,t){Kt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Z=!1;const a=this.cursor(r);return this.H(a,(c,p,b)=>b.delete())}X(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.H(a,t)}tt(e){const t=this.cursor({});return new It((r,a)=>{t.onerror=c=>{const p=xh(c.target.error);a(p)},t.onsuccess=c=>{const p=c.target.result;p?e(p.primaryKey,p.value).next(b=>{b?p.continue():r()}):r()}})}H(e,t){const r=[];return new It((a,c)=>{e.onerror=p=>{c(p.target.error)},e.onsuccess=p=>{const b=p.target.result;if(!b)return void a();const S=new u_(b),N=t(b.primaryKey,b.value,S);if(N instanceof It){const z=N.catch(ce=>(S.done(),It.reject(ce)));r.push(z)}S.isDone?a():null===S.G?b.continue():b.continue(S.G)}}).next(()=>It.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qu(n){return new It((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=xh(r.target.error);t(a)}})}let c_=!1;function xh(n){const e=_a.D((0,Nr.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return c_||(c_=!0,setTimeout(()=>{throw r},0)),r}}return n}class d_{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Mt.Z)(function*(){t.task=null;try{Kt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Wu(r)?Kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Gu(r)}yield t.nt(6e4)}))}}class wb{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Mt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let a=t,c=!0;return It.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!r.has(p))return Kt("IndexBackiller",`Processing collection: ${p}`),this.rt(e,p,a).next(b=>{a-=b,r.add(p)});c=!1})).next(()=>t-a)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next(c=>{const p=c.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ot(a,c)).next(b=>(Kt("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,t,b))).next(()=>p.size)}))}ot(e,t){let r=e;return t.changes.forEach((a,c)=>{const p=cp(c);a_(p,r)>0&&(r=p)}),new ul(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let $a=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>r.writeSequenceNumber(a))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class XI{constructor(e,t,r,a,c,p,b,S){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.useFetchStreams=S}}class Sc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}function bd(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wd(n){return null==n}function Id(n){return 0===n&&1/n==-1/0}function Db(n){return"number"==typeof n&&Number.isInteger(n)&&!Id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class js{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw a instanceof DOMException?new Cb("Invalid base64 string: "+a):a}}(e);return new js(t)}static fromUint8Array(e){const t=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new js(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}js.EMPTY_BYTE_STRING=new js("");const om=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(n){if($n(!!n),"string"==typeof n){let e=0;const t=om.exec(n);if($n(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mc(n){return"string"==typeof n?js.fromBase64String(n):js.fromUint8Array(n)}function Rh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function am(n){const e=n.mapValue.fields.__previous_value__;return Rh(e)?am(e):e}function Dd(n){const e=Ac(n.mapValue.fields.__local_write_time__.timestampValue);return new Vi(e.seconds,e.nanos)}const Ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dp={nullValue:"NULL_VALUE"};function cu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rh(n)?4:p_(n)?9007199254740991:10:Tn()}function Ba(n,e){if(n===e)return!0;const t=cu(n);if(t!==cu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dd(n).isEqual(Dd(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=Ac(r.timestampValue),p=Ac(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Mc(n.bytesValue).isEqual(Mc(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Qi(r.geoPointValue.latitude)===Qi(a.geoPointValue.latitude)&&Qi(r.geoPointValue.longitude)===Qi(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Qi(r.integerValue)===Qi(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=Qi(r.doubleValue),p=Qi(a.doubleValue);return c===p?Id(c)===Id(p):isNaN(c)&&isNaN(p)}return!1}(n,e);case 9:return Ed(n.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:return function(r,a){const c=r.mapValue.fields||{},p=a.mapValue.fields||{};if(bd(c)!==bd(p))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===p[b]||!Ba(c[b],p[b])))return!1;return!0}(n,e);default:return Tn()}var a}function Oh(n,e){return void 0!==(n.values||[]).find(t=>Ba(t,e))}function Gl(n,e){if(n===e)return 0;const t=cu(n),r=cu(e);if(t!==r)return Tr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Tr(n.booleanValue,e.booleanValue);case 2:return function(a,c){const p=Qi(a.integerValue||a.doubleValue),b=Qi(c.integerValue||c.doubleValue);return p<b?-1:p>b?1:p===b?0:isNaN(p)?isNaN(b)?0:-1:1}(n,e);case 3:return Ph(n.timestampValue,e.timestampValue);case 4:return Ph(Dd(n),Dd(e));case 5:return Tr(n.stringValue,e.stringValue);case 6:return function(a,c){const p=Mc(a),b=Mc(c);return p.compareTo(b)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),b=c.split("/");for(let S=0;S<p.length&&S<b.length;S++){const N=Tr(p[S],b[S]);if(0!==N)return N}return Tr(p.length,b.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const p=Tr(Qi(a.latitude),Qi(c.latitude));return 0!==p?p:Tr(Qi(a.longitude),Qi(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],b=c.values||[];for(let S=0;S<p.length&&S<b.length;++S){const N=Gl(p[S],b[S]);if(N)return N}return Tr(p.length,b.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Ea.mapValue&&c===Ea.mapValue)return 0;if(a===Ea.mapValue)return 1;if(c===Ea.mapValue)return-1;const p=a.fields||{},b=Object.keys(p),S=c.fields||{},N=Object.keys(S);b.sort(),N.sort();for(let z=0;z<b.length&&z<N.length;++z){const ce=Tr(b[z],N[z]);if(0!==ce)return ce;const Je=Gl(p[b[z]],S[N[z]]);if(0!==Je)return Je}return Tr(b.length,N.length)}(n.mapValue,e.mapValue);default:throw Tn()}}function Ph(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Tr(n,e);const t=Ac(n),r=Ac(e),a=Tr(t.seconds,r.seconds);return 0!==a?a:Tr(t.nanos,r.nanos)}function cl(n){return hp(n)}function hp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=Ac(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mc(n.bytesValue).toBase64():"referenceValue"in n?nn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",c=!0;for(const p of r.values||[])c?c=!1:a+=",",a+=hp(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",p=!0;for(const b of a)p?p=!1:c+=",",c+=`${b}:${hp(r.fields[b])}`;return c+"}"}(n.mapValue):Tn();var e}function du(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lm(n){return!!n&&"integerValue"in n}function kh(n){return!!n&&"arrayValue"in n}function um(n){return!!n&&"nullValue"in n}function xc(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fp(n){return!!n&&"mapValue"in n}function Nh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function p_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function cm(n){return"nullValue"in n?dp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?du(Sc.empty(),nn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Tn()}function Tb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?du(Sc.empty(),nn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ea:Tn()}function dm(n,e){const t=Gl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function g_(n,e){const t=Gl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hu{constructor(e,t){this.position=e,this.inclusive=t}}function Sb(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const c=e[a],p=n.position[a];if(r=c.field.isKeyField()?nn.comparator(nn.fromName(p.referenceValue),t.key):Gl(p,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function m_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ba(n.position[t],e.position[t]))return!1;return!0}class Cd{}class Wr extends Cd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new mm(e,t,r):"array-contains"===t?new Fh(e,r):"in"===t?new __(e,r):"not-in"===t?new Mb(e,r):"array-contains-any"===t?new xb(e,r):new Wr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ym(e,r):new Ab(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gl(t,this.value)):null!==t&&cu(this.value)===cu(t)&&this.matchesComparison(Gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xr extends Cd{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new Xr(e,t)}matches(e){return Wl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wl(n){return"and"===n.op}function hm(n){return"or"===n.op}function pp(n){return y_(n)&&Wl(n)}function y_(n){for(const e of n.filters)if(e instanceof Xr)return!1;return!0}function fm(n){if(n instanceof Wr)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(pp(n))return n.filters.map(e=>fm(e)).join(",");{const e=n.filters.map(t=>fm(t)).join(",");return`${n.op}(${e})`}}function v_(n,e){return n instanceof Wr?(t=n,(r=e)instanceof Wr&&t.op===r.op&&t.field.isEqual(r.field)&&Ba(t.value,r.value)):n instanceof Xr?function(t,r){return r instanceof Xr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((a,c,p)=>a&&v_(c,r.filters[p]),!0)}(n,e):void Tn();var t,r}function pm(n,e){const t=n.filters.concat(e);return Xr.create(t,n.op)}function gm(n){return n instanceof Wr?`${(e=n).field.canonicalString()} ${e.op} ${cl(e.value)}`:n instanceof Xr?function(e){return e.op.toString()+" {"+e.getFilters().map(gm).join(" ,")+"}"}(n):"Filter";var e}class mm extends Wr{constructor(e,t,r){super(e,t,r),this.key=nn.fromName(r.referenceValue)}matches(e){const t=nn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ym extends Wr{constructor(e,t){super(e,"in",t),this.keys=gp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ab extends Wr{constructor(e,t){super(e,"not-in",t),this.keys=gp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gp(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nn.fromName(r.referenceValue))}class Fh extends Wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kh(t)&&Oh(t.arrayValue,this.value)}}class __ extends Wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Oh(this.value.arrayValue,t)}}class Mb extends Wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Oh(this.value.arrayValue,t)}}class xb extends Wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Oh(this.value.arrayValue,r))}}class Td{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class _s{constructor(e,t){this.comparator=e,this.root=t||Es.EMPTY}insert(e,t){return new _s(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new _s(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mp(this.root,e,this.comparator,!0)}}class mp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Es{constructor(e,t,r,a,c){this.key=e,this.value=t,this.color=null!=r?r:Es.RED,this.left=null!=a?a:Es.EMPTY,this.right=null!=c?c:Es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,c){return new Es(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Es.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tn();const e=this.left.check();if(e!==this.right.check())throw Tn();return e+(this.isRed()?0:1)}}Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1,Es.EMPTY=new class{constructor(){this.size=0}get key(){throw Tn()}get value(){throw Tn()}get color(){throw Tn()}get left(){throw Tn()}get right(){throw Tn()}copy(n,e,t,r,a){return this}insert(n,e,t){return new Es(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qr{constructor(e){this.comparator=e,this.data=new _s(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qr(this.comparator);return t.data=e,t}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sd(n){return n.hasNext()?n.getNext():void 0}class Va{constructor(e){this.fields=e,e.sort(Ui.comparator)}static empty(){return new Va([])}unionWith(e){let t=new qr(Ui.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ed(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Oo{constructor(e){this.value=e}static empty(){return new Oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(t)}setAll(e){let t=Ui.emptyPath(),r={},a=[];e.forEach((p,b)=>{if(!t.isImmediateParentOf(b)){const S=this.getFieldsMap(t);this.applyChanges(S,r,a),r={},a=[],t=b.popLast()}p?r[b.lastSegment()]=Nh(p):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,a)}delete(e){const t=this.field(e.popLast());fp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];fp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){uu(t,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new Oo(Nh(this.value))}}function vm(n){const e=[];return uu(n.fields,(t,r)=>{const a=new Ui([t]);if(fp(r)){const c=vm(r.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new Va(e)}class Xi{constructor(e,t,r,a,c,p,b){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Xi(e,0,Wn.min(),Wn.min(),Wn.min(),Oo.empty(),0)}static newFoundDocument(e,t,r,a){return new Xi(e,1,t,Wn.min(),r,a,0)}static newNoDocument(e,t){return new Xi(e,2,t,Wn.min(),Wn.min(),Oo.empty(),0)}static newUnknownDocument(e,t){return new Xi(e,3,t,Wn.min(),Wn.min(),Oo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class b_{constructor(e,t=null,r=[],a=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=p,this.endAt=b,this._t=null}}function yp(n,e=null,t=[],r=[],a=null,c=null,p=null){return new b_(n,e,t,r,a,c,p)}function Rc(n){const e=fn(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cl(r)).join(",")),e._t=t}return e._t}function Ad(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Rb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m_(n.startAt,e.startAt)&&m_(n.endAt,e.endAt)}function vp(n){return nn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _p(n,e){return n.filters.filter(t=>t instanceof Wr&&t.field.isEqual(e))}function dl(n,e,t){let r=dp,a=!0;for(const c of _p(n,e)){let p=dp,b=!0;switch(c.op){case"<":case"<=":p=cm(c.value);break;case"==":case"in":case">=":p=c.value;break;case">":p=c.value,b=!1;break;case"!=":case"not-in":p=dp}dm({value:r,inclusive:a},{value:p,inclusive:b})<0&&(r=p,a=b)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const p=t.position[c];dm({value:r,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(r=p,a=t.inclusive);break}return{value:r,inclusive:a}}function w_(n,e,t){let r=Ea,a=!0;for(const c of _p(n,e)){let p=Ea,b=!0;switch(c.op){case">=":case">":p=Tb(c.value),b=!1;break;case"==":case"in":case"<=":p=c.value;break;case"<":p=c.value,b=!1;break;case"!=":case"not-in":p=Ea}g_({value:r,inclusive:a},{value:p,inclusive:b})>0&&(r=p,a=b)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const p=t.position[c];g_({value:r,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(r=p,a=t.inclusive);break}return{value:r,inclusive:a}}class ql{constructor(e,t=null,r=[],a=[],c=null,p="F",b=null,S=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=S,this.wt=null,this.gt=null}}function I_(n,e,t,r,a,c,p,b){return new ql(n,e,t,r,a,c,p,b)}function Md(n){return new ql(n)}function D_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function _m(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Lh(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Em(n){return null!==n.collectionGroup}function Oc(n){const e=fn(n);if(null===e.wt){e.wt=[];const t=Lh(e),r=_m(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Td(t)),e.wt.push(new Td(Ui.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Td(Ui.keyField(),c))}}}return e.wt}function oa(n){const e=fn(n);if(!e.gt)if("F"===e.limitType)e.gt=yp(e.path,e.collectionGroup,Oc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Oc(e))t.push(new Td(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new hu(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new hu(e.startAt.position,e.startAt.inclusive):null;e.gt=yp(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.gt}function Ir(n,e){e.getFirstInequalityField(),Lh(n);const t=n.filters.concat([e]);return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $h(n,e,t){return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xd(n,e){return Ad(oa(n),oa(e))&&n.limitType===e.limitType}function bm(n){return`${Rc(oa(n))}|lt:${n.limitType}`}function wm(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>gm(r)).join(", ")}]`),wd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cl(r)).join(",")),`Target(${t})`}(oa(n))}; limitType=${n.limitType})`}function Bh(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):nn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of Oc(t))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(a,c,p){const b=Sb(a,c,p);return a.inclusive?b<=0:b<0}(t.startAt,Oc(t),r)||t.endAt&&!function(a,c,p){const b=Sb(a,c,p);return a.inclusive?b>=0:b>0}(t.endAt,Oc(t),r)));var t,r}function Im(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function C_(n){return(e,t)=>{let r=!1;for(const a of Oc(n)){const c=T_(a,e,t);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function T_(n,e,t){const r=n.field.isKeyField()?nn.comparator(e.key,t.key):function(a,c,p){const b=c.data.field(a),S=p.data.field(a);return null!==b&&null!==S?Gl(b,S):Tn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Tn()}}function S_(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function A_(n){return{integerValue:""+n}}function Ob(n,e){return Db(e)?A_(e):S_(n,e)}class Vh{constructor(){this._=void 0}}function M_(n,e,t){return n instanceof Ku?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof fu?R_(n,e):n instanceof Rd?Pb(n,e):function(r,a){const c=x_(r,a),p=O_(c)+O_(r.It);return lm(c)&&lm(r.It)?A_(p):S_(r.Tt,p)}(n,e)}function Pc(n,e,t){return n instanceof fu?R_(n,e):n instanceof Rd?Pb(n,e):t}function x_(n,e){return n instanceof Uh?lm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ku extends Vh{}class fu extends Vh{constructor(e){super(),this.elements=e}}function R_(n,e){const t=Dm(e);for(const r of n.elements)t.some(a=>Ba(a,r))||t.push(r);return{arrayValue:{values:t}}}class Rd extends Vh{constructor(e){super(),this.elements=e}}function Pb(n,e){let t=Dm(e);for(const r of n.elements)t=t.filter(a=>!Ba(a,r));return{arrayValue:{values:t}}}class Uh extends Vh{constructor(e,t){super(),this.Tt=e,this.It=t}}function O_(n){return Qi(n.integerValue||n.doubleValue)}function Dm(n){return kh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ep{constructor(e,t){this.field=e,this.transform=t}}class Od{constructor(e,t){this.version=e,this.transformResults=t}}class Ji{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class kc{}function P_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Nc(n.key,Ji.none()):new Pd(n.key,n.data,Ji.none());{const t=n.data,r=Oo.empty();let a=new qr(Ui.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?r.delete(c):r.set(c,p),a=a.add(c)}return new pu(n.key,r,new Va(a.toArray()),Ji.none())}}function k_(n,e,t){n instanceof Pd?function(r,a,c){const p=r.value.clone(),b=F_(r.fieldTransforms,a,c.transformResults);p.setAll(b),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):n instanceof pu?function(r,a,c){if(!jh(r.precondition,a))return void a.convertToUnknownDocument(c.version);const p=F_(r.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(Cm(r)),b.setAll(p),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hh(n,e,t,r){return n instanceof Pd?function(a,c,p,b){if(!jh(a.precondition,c))return p;const S=a.value.clone(),N=Tm(a.fieldTransforms,b,c);return S.setAll(N),c.convertToFoundDocument(c.version,S).setHasLocalMutations(),null}(n,e,t,r):n instanceof pu?function(a,c,p,b){if(!jh(a.precondition,c))return p;const S=Tm(a.fieldTransforms,b,c),N=c.data;return N.setAll(Cm(a)),N.setAll(S),c.convertToFoundDocument(c.version,N).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(z=>z.field))}(n,e,t,r):(p=t,jh(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function Nb(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),c=x_(r.transform,a||null);null!=c&&(null===t&&(t=Oo.empty()),t.set(r.field,c))}return t||null}function N_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ed(t,r,(a,c)=>function kb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof fu&&r instanceof fu||t instanceof Rd&&r instanceof Rd?Ed(t.elements,r.elements,Ba):t instanceof Uh&&r instanceof Uh?Ba(t.It,r.It):t instanceof Ku&&r instanceof Ku);var t,r}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Pd extends kc{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class pu extends kc{constructor(e,t,r,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Cm(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function F_(n,e,t){const r=new Map;$n(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],p=c.transform,b=e.data.field(c.field);r.set(c.field,Pc(p,b,t[a]))}return r}function Tm(n,e,t){const r=new Map;for(const a of n){const c=a.transform,p=t.data.field(a.field);r.set(a.field,M_(c,p,e))}return r}class Nc extends kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zh extends kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JI{constructor(e){this.count=e}}var bs,Jr;function Fb(n){switch(n){default:return Tn();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function Fc(n){if(void 0===n)return Vs("GRPC error has no .code"),Tt.UNKNOWN;switch(n){case bs.OK:return Tt.OK;case bs.CANCELLED:return Tt.CANCELLED;case bs.UNKNOWN:return Tt.UNKNOWN;case bs.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case bs.INTERNAL:return Tt.INTERNAL;case bs.UNAVAILABLE:return Tt.UNAVAILABLE;case bs.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case bs.NOT_FOUND:return Tt.NOT_FOUND;case bs.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case bs.ABORTED:return Tt.ABORTED;case bs.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case bs.DATA_LOSS:return Tt.DATA_LOSS;default:return Tn()}}(Jr=bs||(bs={}))[Jr.OK=0]="OK",Jr[Jr.CANCELLED=1]="CANCELLED",Jr[Jr.UNKNOWN=2]="UNKNOWN",Jr[Jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jr[Jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jr[Jr.NOT_FOUND=5]="NOT_FOUND",Jr[Jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jr[Jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jr[Jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jr[Jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jr[Jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jr[Jr.ABORTED=10]="ABORTED",Jr[Jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jr[Jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jr[Jr.INTERNAL=13]="INTERNAL",Jr[Jr.UNAVAILABLE=14]="UNAVAILABLE",Jr[Jr.DATA_LOSS=15]="DATA_LOSS";class gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,(t,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return sm(this.inner)}size(){return this.innerSize}}const Lb=new _s(nn.comparator);function aa(){return Lb}const L_=new _s(nn.comparator);function Gh(...n){let e=L_;for(const t of n)e=e.insert(t.key,t);return e}function Wh(n){let e=L_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function la(){return mu()}function bp(){return mu()}function mu(){return new gu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Sm=new _s(nn.comparator),wp=new qr(nn.comparator);function Rr(...n){let e=wp;for(const t of n)e=e.add(t);return e}const Am=new qr(Tr);function kd(){return Am}class Lc{constructor(e,t,r,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lc(Wn.min(),a,kd(),aa(),Rr())}}class Nd{constructor(e,t,r,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nd(r,t,Rr(),Rr(),Rr())}}class Fd{constructor(e,t,r,a){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=a}}class $_{constructor(e,t){this.targetId=e,this.Rt=t}}class B_{constructor(e,t,r=js.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Mm{constructor(){this.Pt=0,this.vt=Rm(),this.bt=js.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Rr(),t=Rr(),r=Rr();return this.vt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Tn()}}),new Nd(this.bt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=Rm()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class $b{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=aa(),this.Kt=xm(),this.Gt=new qr(Tr)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:Tn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,a)=>{this.Jt(a)&&t(a)})}Zt(e){const t=e.targetId,r=e.Rt.count,a=this.Xt(t);if(a){const c=a.target;if(vp(c))if(0===r){const p=new nn(c.path);this.zt(t,p,Xi.newNoDocument(p,Wn.min()))}else $n(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((c,p)=>{const b=this.Xt(p);if(b){if(c.current&&vp(b.target)){const S=new nn(b.target.path);null!==this.Ut.get(S)||this.ne(p,S)||this.zt(p,S,Xi.newNoDocument(S,e))}c.Ct&&(t.set(p,c.Nt()),c.kt())}});let r=Rr();this.Kt.forEach((c,p)=>{let b=!0;p.forEachWhile(S=>{const N=this.Xt(S);return!N||2===N.purpose||(b=!1,!1)}),b&&(r=r.add(c))}),this.Ut.forEach((c,p)=>p.setReadTime(e));const a=new Lc(e,t,this.Gt,this.Ut,r);return this.Ut=aa(),this.Kt=xm(),this.Gt=new qr(Tr),a}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const a=this.Ht(e);this.ne(e,t)?a.$t(t,1):a.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new Mm,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new qr(Tr),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Kt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Mm),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function xm(){return new _s(nn.comparator)}function Rm(){return new _s(nn.comparator)}const Bb={asc:"ASCENDING",desc:"DESCENDING"},Vb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ua={and:"AND",or:"OR"};class V_{constructor(e,t){this.databaseId=e,this.yt=t}}function Ld(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ub(n,e){return n.yt?e.toBase64():e.toUint8Array()}function Om(n,e){return Ld(n,e.toTimestamp())}function ws(n){return $n(!!n),Wn.fromTimestamp(function(e){const t=Ac(e);return new Vi(t.seconds,t.nanos)}(n))}function Pm(n,e){return(t=n,new Qr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function U_(n){const e=Qr.fromString(n);return $n(Dp(e)),e}function qh(n,e){return Pm(n.databaseId,e.path)}function Cl(n,e){const t=U_(e);if(t.get(1)!==n.databaseId.projectId)throw new Bt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Bt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nn(H_(t))}function km(n,e){return Pm(n.databaseId,e)}function j_(n){const e=U_(n);return 4===e.length?Qr.emptyPath():H_(e)}function $c(n){return new Qr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function H_(n){return $n(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function z_(n,e,t){return{name:qh(n,e),fields:t.value.mapValue.fields}}function G_(n,e,t){const r=Cl(n,e.name),a=ws(e.updateTime),c=e.createTime?ws(e.createTime):Wn.min(),p=new Oo({mapValue:{fields:e.fields}}),b=Xi.newFoundDocument(r,a,c,p);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function ba(n,e){let t;if(e instanceof Pd)t={update:z_(n,e.key,e.value)};else if(e instanceof Nc)t={delete:qh(n,e.key)};else if(e instanceof pu)t={update:z_(n,e.key,e.data),updateMask:eD(e.fieldMask)};else{if(!(e instanceof zh))return Tn();t={verify:qh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const p=c.transform;if(p instanceof Ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Rd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Uh)return{fieldPath:c.field.canonicalString(),increment:p.It};throw Tn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Om(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Tn()),t;var a}function Kh(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Ji.updateTime(ws(a.updateTime)):void 0!==a.exists?Ji.exists(a.exists):Ji.none():Ji.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,p){let b=null;"setToServerValue"in p?($n("REQUEST_TIME"===p.setToServerValue),b=new Ku):"appendMissingElements"in p?b=new fu(p.appendMissingElements.values||[]):"removeAllFromArray"in p?b=new Rd(p.removeAllFromArray.values||[]):"increment"in p?b=new Uh(c,p.increment):Tn();const S=Ui.fromServerFormat(p.fieldPath);return new Ep(S,b)}(n,a)):[];var a;if(e.update){const a=Cl(n,e.update.name),c=new Oo({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Va((e.updateMask.fieldPaths||[]).map(N=>Ui.fromServerFormat(N)));return new pu(a,c,p,t,r)}return new Pd(a,c,t,r)}if(e.delete){const a=Cl(n,e.delete);return new Nc(a,t)}if(e.verify){const a=Cl(n,e.verify);return new zh(a,t)}return Tn()}function W_(n,e){return{documents:[km(n,e.path)]}}function Ip(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=km(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=km(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(S){if(0!==S.length)return Yh(Xr.create(S,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(S){if(0!==S.length)return S.map(N=>{return{field:Tl((z=N).field),direction:Nm(z.dir)};var z})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=(N=e.limit,n.yt||wd(N)?N:{value:N});var N,b,S;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(S=e.endAt).inclusive,values:S.position}),t}function q_(n){let e=j_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){$n(1===r);const z=t.from[0];z.allDescendants?a=z.collectionId:e=e.child(z.collectionId)}let c=[];t.where&&(c=function(z){const ce=K_(z);return ce instanceof Xr&&pp(ce)?ce.getFilters():[ce]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(z=>{return new Td(Yu((ce=z).field),function(Je){switch(Je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ce.direction));var ce}));let b=null;t.limit&&(b=function(z){let ce;return ce="object"==typeof z?z.value:z,wd(ce)?null:ce}(t.limit));let S=null;var z;t.startAt&&(S=new hu((z=t.startAt).values||[],!!z.before));let N=null;return t.endAt&&(N=function(z){return new hu(z.values||[],!z.before)}(t.endAt)),I_(e,a,p,c,b,"F",S,N)}function K_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yu(e.unaryFilter.field);return Wr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Yu(e.unaryFilter.field);return Wr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yu(e.unaryFilter.field);return Wr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yu(e.unaryFilter.field);return Wr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Tn()}}(n):void 0!==n.fieldFilter?Wr.create(Yu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Xr.create(e.compositeFilter.filters.map(t=>K_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Tn()}}(e.compositeFilter.op))}(n):Tn();var e}function Nm(n){return Bb[n]}function Wb(n){return Vb[n]}function qb(n){return Ua[n]}function Tl(n){return{fieldPath:n.canonicalString()}}function Yu(n){return Ui.fromServerFormat(n.fieldPath)}function Yh(n){return n instanceof Wr?function(e){if("=="===e.op){if(xc(e.value))return{unaryFilter:{field:Tl(e.field),op:"IS_NAN"}};if(um(e.value))return{unaryFilter:{field:Tl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xc(e.value))return{unaryFilter:{field:Tl(e.field),op:"IS_NOT_NAN"}};if(um(e.value))return{unaryFilter:{field:Tl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(e.field),op:Wb(e.op),value:e.value}}}(n):n instanceof Xr?function(e){const t=e.getFilters().map(r=>Yh(r));return 1===t.length?t[0]:{compositeFilter:{op:qb(e.op),filters:t}}}(n):Tn()}function eD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Dp(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function wa(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fm(e)),e=Y_(n.get(t),e);return Fm(e)}function Y_(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Fm(n){return n+"\x01\x01"}function Sl(n){const e=n.length;if($n(e>=2),2===e)return $n("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qr.emptyPath();const t=e-2,r=[];let a="";for(let c=0;c<e;){const p=n.indexOf("\x01",c);switch((p<0||p>t)&&Tn(),n.charAt(p+1)){case"\x01":const b=n.substring(c,p);let S;0===a.length?S=b:(a+=b,S=a,a=""),r.push(S);break;case"\x10":a+=n.substring(c,p),a+="\0";break;case"\x11":a+=n.substring(c,p+1);break;default:Tn()}c=p+2}return new Qr(r)}const Lm=["userId","batchId"];function $d(n,e){return[n,wa(e)]}function Kl(n,e,t){return[n,wa(e),t]}const Cp={},Tp=["prefixPath","collectionGroup","readTime","documentId"],Zh=["prefixPath","collectionGroup","documentId"],Kb=["collectionGroup","readTime","prefixPath","documentId"],Z_=["canonicalId","targetId"],Q_=["targetId","path"],Yb=["path","targetId"],Zb=["collectionId","parent"],Qh=["indexId","uid"],Qb=["uid","sequenceNumber"],tD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xb=["indexId","uid","orderedDocumentKey"],Jb=["userId","collectionPath","documentId"],ew=["userId","collectionPath","largestBatchId"],tw=["userId","collectionGroup","largestBatchId"],X_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nw=[...X_,"documentOverlays"],J_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$m=J_,Bm=[...$m,"indexConfiguration","indexState","indexEntries"];class Vm extends l_{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function Hs(n,e){const t=fn(n);return _a.M(t.re,e)}class Um{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&k_(c,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bp();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=t.has(a.key)?null:b;const S=P_(p,b);null!==S&&r.set(a.key,S),p.isValidDocument()||p.convertToNoDocument(Wn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rr())}isEqual(e){return this.batchId===e.batchId&&Ed(this.mutations,e.mutations,(t,r)=>N_(t,r))&&Ed(this.baseMutations,e.baseMutations,(t,r)=>N_(t,r))}}class jm{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){$n(e.mutations.length===r.length);let a=Sm;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,r[p].version);return new jm(e,t,r,a)}}class Hm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zu{constructor(e,t,r,a,c=Wn.min(),p=Wn.min(),b=js.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b}withSequenceNumber(e){return new Zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class e0{constructor(e){this.oe=e}}function t0(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Xh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:qh(a=n.oe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Ld(a,c.version.toTimestamp()),createTime:Ld(a,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Qu(e.version)};else{if(!e.isUnknownDocument())return Tn();r.unknownDocument={path:t.path.toArray(),version:Qu(e.version)}}var a,c;return r}function Xh(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bc(n){const e=new Vi(n.seconds,n.nanoseconds);return Wn.fromTimestamp(e)}function Bd(n,e){const t=(e.baseMutations||[]).map(c=>Kh(n.oe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>Kh(n.oe,c)),a=Vi.fromMillis(e.localWriteTimeMs);return new Um(e.batchId,a,t,r)}function Vd(n){const e=Bc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bc(n.lastLimboFreeSnapshotVersion):Wn.min();let r;var a;return void 0!==n.query.documents?($n(1===(a=n.query).documents.length),r=oa(Md(j_(a.documents[0])))):r=oa(q_(n.query)),new Zu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,js.fromBase64String(n.resumeToken))}function iw(n,e){const t=Qu(e.snapshotVersion),r=Qu(e.lastLimboFreeSnapshotVersion);let a;a=vp(e.target)?W_(n.oe,e.target):Ip(n.oe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rc(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function Ud(n){const e=q_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$h(e,e.limit,"L"):e}function zm(n,e){return new Hm(e.largestBatchId,Kh(n.oe,e.overlayMutation))}function n0(n,e){const t=e.path.lastSegment();return[n,wa(e.path.popLast()),t]}function Sp(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Qu(r.readTime),documentKey:wa(r.documentKey.path),largestBatchId:r.largestBatchId}}class sw{getBundleMetadata(e,t){return Al(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Bc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Al(e).put({bundleId:(r=t).id,createTime:Qu(ws(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return jd(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:Ud(a.bundledQuery),readTime:Bc(a.readTime)};var a})}saveNamedQuery(e,t){return jd(e).put({name:(r=t).name,readTime:Qu(ws(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Al(n){return Hs(n,"bundles")}function jd(n){return Hs(n,"namedQueries")}class eo{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new eo(e,t.uid||"")}getOverlay(e,t){return Ml(e).get(n0(this.userId,t)).next(r=>r?zm(this.Tt,r):null)}getOverlays(e,t){const r=la();return It.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,t,r){const a=[];return r.forEach((c,p)=>{const b=new Hm(t,p);a.push(this.ce(e,b))}),It.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach(p=>a.add(wa(p.getCollectionPath())));const c=[];return a.forEach(p=>{const b=IDBKeyRange.bound([this.userId,p,r],[this.userId,p,r+1],!1,!0);c.push(Ml(e).Y("collectionPathOverlayIndex",b))}),It.waitFor(c)}getOverlaysForCollection(e,t,r){const a=la(),c=wa(t),p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Ml(e).W("collectionPathOverlayIndex",p).next(b=>{for(const S of b){const N=zm(this.Tt,S);a.set(N.getKey(),N)}return a})}getOverlaysForCollectionGroup(e,t,r,a){const c=la();let p;const b=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ml(e).X({index:"collectionGroupOverlayIndex",range:b},(S,N,z)=>{const ce=zm(this.Tt,N);c.size()<a||ce.largestBatchId===p?(c.set(ce.getKey(),ce),p=ce.largestBatchId):z.done()}).next(()=>c)}ce(e,t){return Ml(e).put(function(r,a,c){const[p,b,S]=n0(a,c.mutation.key);return{userId:a,collectionPath:b,documentId:S,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:ba(r.oe,c.mutation)}}(this.Tt,this.userId,t))}}function Ml(n){return Hs(n,"documentOverlays")}class Yl{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Qi(e.integerValue));else if("doubleValue"in e){const r=Qi(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),Id(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Mc(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?p_(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Tn()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const a of Object.keys(r))this.we(a,t),this.he(r[a],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const a of r)this.he(a,t)}ye(e,t){this.fe(t,37),nn.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function hl(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Ap(n){const e=64-function(t){let r=0;for(let a=0;a<8;++a){const c=hl(255&t[a]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}Yl.Ee=new Yl;class Hd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.Pe()}ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Ve()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const a=t.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}this.Pe()}De(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const a=t.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}this.Ve()}Ce(e){const t=this.xe(e),r=Ap(t);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}ke(e){const t=this.xe(e),r=Ap(t);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}be(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class zd{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}}class Gd{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}}class Zl{constructor(){this.Le=new Hd,this.qe=new zd(this.Le),this.Ue=new Gd(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class fl{constructor(e,t,r,a){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=a}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fl(this.indexId,this.documentKey,this.arrayValue,r)}}function ja(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Vc(n.arrayValue,e.arrayValue),0!==t?t:(t=Vc(n.directionalValue,e.directionalValue),0!==t?t:nn.comparator(n.documentKey,e.documentKey)))}function Vc(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Wd{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const r=t;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){$n(e.collectionGroup===this.collectionId);const t=ap(e);if(void 0!==t&&!this.He(t))return!1;const r=zu(e);let a=0,c=0;for(;a<r.length&&this.He(r[a]);++a);if(a===r.length)return!0;if(void 0!==this.ze){const p=r[a];if(!this.Je(this.ze,p)||!this.Ye(this.Qe[c++],p))return!1;++a}for(;a<r.length;++a)if(c>=this.Qe.length||!this.Ye(this.Qe[c++],r[a]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Uc(n){var e,t;if($n(n instanceof Wr||n instanceof Xr),n instanceof Wr){if(n instanceof __){const a=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Wr.create(n.field,"==",c)))||[];return Xr.create(a,"or")}return n}const r=n.filters.map(a=>Uc(a));return Xr.create(r,n.op)}function r0(n){if(0===n.getFilters().length)return[];const e=Rp(Uc(n));return $n(Gm(e)),Mp(e)||xp(e)?[e]:e.getFilters()}function Mp(n){return n instanceof Wr}function xp(n){return n instanceof Xr&&pp(n)}function Gm(n){return Mp(n)||xp(n)||function(e){if(e instanceof Xr&&hm(e)){for(const t of e.getFilters())if(!Mp(t)&&!xp(t))return!1;return!0}return!1}(n)}function Rp(n){if($n(n instanceof Wr||n instanceof Xr),n instanceof Wr)return n;if(1===n.filters.length)return Rp(n.filters[0]);const e=n.filters.map(r=>Rp(r));let t=Xr.create(e,n.op);return t=Jh(t),Gm(t)?t:($n(t instanceof Xr),$n(Wl(t)),$n(t.filters.length>1),t.filters.reduce((r,a)=>Op(r,a)))}function Op(n,e){let t;return $n(n instanceof Wr||n instanceof Xr),$n(e instanceof Wr||e instanceof Xr),t=n instanceof Wr?e instanceof Wr?Xr.create([n,e],"and"):Wm(n,e):e instanceof Wr?Wm(e,n):function(r,a){if($n(r.filters.length>0&&a.filters.length>0),Wl(r)&&Wl(a))return pm(r,a.getFilters());const c=hm(r)?r:a,p=hm(r)?a:r,b=c.filters.map(S=>Op(S,p));return Xr.create(b,"or")}(n,e),Jh(t)}function Wm(n,e){if(Wl(e))return pm(e,n.getFilters());{const t=e.filters.map(r=>Op(n,r));return Xr.create(t,"or")}}function Jh(n){if($n(n instanceof Wr||n instanceof Xr),n instanceof Wr)return n;const e=n.getFilters();if(1===e.length)return Jh(e[0]);if(y_(n))return n;const t=e.map(a=>Jh(a)),r=[];return t.forEach(a=>{a instanceof Wr?r.push(a):a instanceof Xr&&(a.op===n.op?r.push(...a.filters):r.push(a))}),1===r.length?r[0]:Xr.create(r,n.op)}class s0{constructor(){this.Ze=new qm}addToCollectionParentIndex(e,t){return this.Ze.add(t),It.resolve()}getCollectionParents(e,t){return It.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return It.resolve()}deleteFieldIndex(e,t){return It.resolve()}getDocumentsMatchingTarget(e,t){return It.resolve(null)}getIndexType(e,t){return It.resolve(0)}getFieldIndexes(e,t){return It.resolve([])}getNextCollectionGroupToUpdate(e){return It.resolve(null)}getMinOffset(e,t){return It.resolve(ul.min())}getMinOffsetFromCollectionGroup(e,t){return It.resolve(ul.min())}updateCollectionGroup(e,t,r){return It.resolve()}updateIndexEntries(e,t){return It.resolve()}}class qm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new qr(Qr.comparator),c=!a.has(r);return this.index[t]=a.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new qr(Qr.comparator)).toArray()}}const Pp=new Uint8Array(0);class o0{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new qm,this.tn=new gu(r=>Rc(r),(r,a)=>Ad(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const c={collectionId:r,parent:wa(a)};return a0(e).put(c)}return It.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[s_(t),""],!1,!0);return a0(e).W(a).next(c=>{for(const p of c){if(p.collectionId!==t)break;r.push(Sl(p.parent))}return r})}addFieldIndex(e,t){const r=qd(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var p;delete a.indexId;const c=r.add(a);if(t.indexState){const p=jc(e);return c.next(b=>{p.put(Sp(b,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=qd(e),a=jc(e),c=ef(e);return r.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ef(e);let a=!0;const c=new Map;return It.forEach(this.en(t),p=>this.nn(e,p).next(b=>{a&&(a=!!b),c.set(p,b)})).next(()=>{if(a){let p=Rr();const b=[];return It.forEach(c,(S,N)=>{var z;Kt("IndexedDbIndexManager",`Using index ${z=S,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(qn=>`${qn.fieldPath}:${qn.kind}`).join(",")}`} to execute ${Rc(t)}`);const ce=function(qn,Kn){const or=ap(Kn);if(void 0===or)return null;for(const hr of _p(qn,or.fieldPath))switch(hr.op){case"array-contains-any":return hr.value.arrayValue.values||[];case"array-contains":return[hr.value]}return null}(N,S),Je=function(qn,Kn){const or=new Map;for(const hr of zu(Kn))for(const hi of _p(qn,hr.fieldPath))switch(hi.op){case"==":case"in":or.set(hr.fieldPath.canonicalString(),hi.value);break;case"not-in":case"!=":return or.set(hr.fieldPath.canonicalString(),hi.value),Array.from(or.values())}return null}(N,S),pt=function(qn,Kn){const or=[];let hr=!0;for(const hi of zu(Kn)){const io=0===hi.kind?dl(qn,hi.fieldPath,qn.startAt):w_(qn,hi.fieldPath,qn.startAt);or.push(io.value),hr&&(hr=io.inclusive)}return new hu(or,hr)}(N,S),Et=function(qn,Kn){const or=[];let hr=!0;for(const hi of zu(Kn)){const io=0===hi.kind?w_(qn,hi.fieldPath,qn.endAt):dl(qn,hi.fieldPath,qn.endAt);or.push(io.value),hr&&(hr=io.inclusive)}return new hu(or,hr)}(N,S),xt=this.sn(S,N,pt),Yt=this.sn(S,N,Et),Bn=this.rn(S,N,Je),Fr=this.on(S.indexId,ce,xt,pt.inclusive,Yt,Et.inclusive,Bn);return It.forEach(Fr,qn=>r.J(qn,t.limit).next(Kn=>{Kn.forEach(or=>{const hr=nn.fromSegments(or.documentKey);p.has(hr)||(p=p.add(hr),b.push(hr))})}))}).next(()=>b)}return It.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:r0(Xr.create(e.filters,"and")).map(r=>yp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,r,a,c,p,b){const S=(null!=t?t.length:1)*Math.max(r.length,c.length),N=S/(null!=t?t.length:1),z=[];for(let ce=0;ce<S;++ce){const Je=t?this.un(t[ce/N]):Pp,pt=this.cn(e,Je,r[ce%N],a),Et=this.an(e,Je,c[ce%N],p),xt=b.map(Yt=>this.cn(e,Je,Yt,!0));z.push(...this.createRange(pt,Et,xt))}return z}cn(e,t,r,a){const c=new fl(e,nn.empty(),t,r);return a?c:c.Ge()}an(e,t,r,a){const c=new fl(e,nn.empty(),t,r);return a?c.Ge():c}nn(e,t){const r=new Wd(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let p=null;for(const b of c)r.We(b)&&(!p||b.fields.length>p.fields.length)&&(p=b);return p})}getIndexType(e,t){let r=2;const a=this.en(t);return It.forEach(a,c=>this.nn(e,c).next(p=>{p?0!==r&&p.fields.length<function(b){let S=new qr(Ui.comparator),N=!1;for(const z of b.filters)for(const ce of z.getFlattenedFilters())ce.field.isKeyField()||("array-contains"===ce.op||"array-contains-any"===ce.op?N=!0:S=S.add(ce.field));for(const z of b.orderBy)z.field.isKeyField()||(S=S.add(z.field));return S.size+(N?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&a.length>1&&2===r?1:r)}hn(e,t){const r=new Zl;for(const a of zu(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const p=r.Ke(a.kind);Yl.Ee.ae(c,p)}return r.Be()}un(e){const t=new Zl;return Yl.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const r=new Zl;return Yl.Ee.ae(du(this.databaseId,t),r.Ke(function(a){const c=zu(a);return 0===c.length?0:c[c.length-1].kind}(e))),r.Be()}rn(e,t,r){if(null===r)return[];let a=[];a.push(new Zl);let c=0;for(const p of zu(e)){const b=r[c++];for(const S of a)if(this.fn(t,p.fieldPath)&&kh(b))a=this.dn(a,p,b);else{const N=S.Ke(p.kind);Yl.Ee.ae(b,N)}}return this._n(a)}sn(e,t,r){return this.rn(e,t,r.position)}_n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Be();return t}dn(e,t,r){const a=[...e],c=[];for(const p of r.arrayValue.values||[])for(const b of a){const S=new Zl;S.seed(b.Be()),Yl.Ee.ae(p,S.Ke(t.kind)),c.push(S)}return c}fn(e,t){return!!e.filters.find(r=>r instanceof Wr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=qd(e),a=jc(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const p=[];return It.forEach(c,b=>a.get([b.indexId,this.uid]).next(S=>{p.push(function(N,z){const ce=z?new lp(z.sequenceNumber,new ul(Bc(z.readTime),new nn(Sl(z.documentKey)),z.largestBatchId)):lp.empty(),Je=N.fields.map(([pt,Et])=>new tm(Ui.fromServerFormat(pt),Et));return new Hu(N.indexId,N.collectionGroup,Je,ce)}(b,S))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,a)=>{const c=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:Tr(r.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const a=qd(e),c=jc(e);return this.wn(e).next(p=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(b=>It.forEach(b,S=>c.put(Sp(S.indexId,this.user,p,r)))))}updateIndexEntries(e,t){const r=new Map;return It.forEach(t,(a,c)=>{const p=r.get(a.collectionGroup);return(p?It.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(b=>(r.set(a.collectionGroup,b),It.forEach(b,S=>this.mn(e,a,S).next(N=>{const z=this.gn(c,S);return N.isEqual(z)?It.resolve():this.yn(e,c,S,N,z)}))))})}pn(e,t,r,a){return ef(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.ln(r,t.key),documentKey:t.key.path.toArray()})}In(e,t,r,a){return ef(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.ln(r,t.key),t.key.path.toArray()])}mn(e,t,r){const a=ef(e);let c=new qr(ja);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,t)])},(p,b)=>{c=c.add(new fl(r.indexId,t,b.arrayValue,b.directionalValue))}).next(()=>c)}gn(e,t){let r=new qr(ja);const a=this.hn(t,e);if(null==a)return r;const c=ap(t);if(null!=c){const p=e.data.field(c.fieldPath);if(kh(p))for(const b of p.arrayValue.values||[])r=r.add(new fl(t.indexId,e.key,this.un(b),a))}else r=r.add(new fl(t.indexId,e.key,Pp,a));return r}yn(e,t,r,a,c){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(b,S,N,z,ce){const Je=b.getIterator(),pt=S.getIterator();let Et=Sd(Je),xt=Sd(pt);for(;Et||xt;){let Yt=!1,Bn=!1;if(Et&&xt){const Fr=N(Et,xt);Fr<0?Bn=!0:Fr>0&&(Yt=!0)}else null!=Et?Bn=!0:Yt=!0;Yt?(z(xt),xt=Sd(pt)):Bn?(ce(Et),Et=Sd(Je)):(Et=Sd(Je),xt=Sd(pt))}}(a,c,ja,b=>{p.push(this.pn(e,t,r,b))},b=>{p.push(this.In(e,t,r,b))}),It.waitFor(p)}wn(e){let t=1;return jc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((p,b)=>ja(p,b)).filter((p,b,S)=>!b||0!==ja(p,S[b-1]));const a=[];a.push(e);for(const p of r){const b=ja(p,e),S=ja(p,t);if(0===b)a[0]=e.Ge();else if(b>0&&S<0)a.push(p),a.push(p.Ge());else if(S>0)break}a.push(t);const c=[];for(let p=0;p<a.length;p+=2){if(this.Tn(a[p],a[p+1]))return[];c.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,Pp,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,Pp,[]]))}return c}Tn(e,t){return ja(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(l0)}getMinOffset(e,t){return It.mapArray(this.en(t),r=>this.nn(e,r).next(a=>a||Tn())).next(l0)}}function a0(n){return Hs(n,"collectionParents")}function ef(n){return Hs(n,"indexEntries")}function qd(n){return Hs(n,"indexConfiguration")}function jc(n){return Hs(n,"indexState")}function l0(n){$n(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;a_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new ul(e.readTime,e.documentKey,t)}const tf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Po{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Po(e,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kp(n,e,t){const r=n.store("mutations"),a=n.store("documentMutations"),c=[],p=IDBKeyRange.only(t.batchId);let b=0;const S=r.X({range:p},(z,ce,Je)=>(b++,Je.delete()));c.push(S.next(()=>{$n(1===b)}));const N=[];for(const z of t.mutations){const ce=Kl(e,z.key.path,t.batchId);c.push(a.delete(ce)),N.push(z.key)}return It.waitFor(c).next(()=>N)}function Np(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Tn();e=n.noDocument}return JSON.stringify(e).length}Po.DEFAULT_COLLECTION_PERCENTILE=10,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Po.DEFAULT=new Po(41943040,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Po.DISABLED=new Po(-1,0,0);class Hc{constructor(e,t,r,a){this.userId=e,this.Tt=t,this.indexManager=r,this.referenceDelegate=a,this.En={}}static ue(e,t,r,a){$n(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Hc(c,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ql(e).X({index:"userMutationsIndex",range:r},(a,c,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const c=zc(e),p=Ql(e);return p.add({}).next(b=>{$n("number"==typeof b);const S=new Um(b,t,r,a),N=function(Je,pt,Et){const xt=Et.baseMutations.map(Bn=>ba(Je.oe,Bn)),Yt=Et.mutations.map(Bn=>ba(Je.oe,Bn));return{userId:pt,batchId:Et.batchId,localWriteTimeMs:Et.localWriteTime.toMillis(),baseMutations:xt,mutations:Yt}}(this.Tt,this.userId,S),z=[];let ce=new qr((Je,pt)=>Tr(Je.canonicalString(),pt.canonicalString()));for(const Je of a){const pt=Kl(this.userId,Je.key.path,b);ce=ce.add(Je.key.path.popLast()),z.push(p.put(N)),z.push(c.put(pt,Cp))}return ce.forEach(Je=>{z.push(this.indexManager.addToCollectionParentIndex(e,Je))}),e.addOnCommittedListener(()=>{this.En[b]=S.keys()}),It.waitFor(z).next(()=>S)})}lookupMutationBatch(e,t){return Ql(e).get(t).next(r=>r?($n(r.userId===this.userId),Bd(this.Tt,r)):null)}An(e,t){return this.En[t]?It.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.En[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Ql(e).X({index:"userMutationsIndex",range:a},(p,b,S)=>{b.userId===this.userId&&($n(b.batchId>=r),c=Bd(this.Tt,b)),S.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ql(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,c,p)=>{r=c.batchId,p.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ql(e).W("userMutationsIndex",t).next(r=>r.map(a=>Bd(this.Tt,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$d(this.userId,t.path),a=IDBKeyRange.lowerBound(r),c=[];return zc(e).X({range:a},(p,b,S)=>{const[N,z,ce]=p,Je=Sl(z);if(N===this.userId&&t.path.isEqual(Je))return Ql(e).get(ce).next(pt=>{if(!pt)throw Tn();$n(pt.userId===this.userId),c.push(Bd(this.Tt,pt))});S.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qr(Tr);const a=[];return t.forEach(c=>{const p=$d(this.userId,c.path),b=IDBKeyRange.lowerBound(p),S=zc(e).X({range:b},(N,z,ce)=>{const[Je,pt,Et]=N,xt=Sl(pt);Je===this.userId&&c.path.isEqual(xt)?r=r.add(Et):ce.done()});a.push(S)}),It.waitFor(a).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,c=$d(this.userId,r),p=IDBKeyRange.lowerBound(c);let b=new qr(Tr);return zc(e).X({range:p},(S,N,z)=>{const[ce,Je,pt]=S,Et=Sl(Je);ce===this.userId&&r.isPrefixOf(Et)?Et.length===a&&(b=b.add(pt)):z.done()}).next(()=>this.Rn(e,b))}Rn(e,t){const r=[],a=[];return t.forEach(c=>{a.push(Ql(e).get(c).next(p=>{if(null===p)throw Tn();$n(p.userId===this.userId),r.push(Bd(this.Tt,p))}))}),It.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return kp(e.re,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Pn(t.batchId)}),It.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return It.resolve();const r=IDBKeyRange.lowerBound([this.userId]),a=[];return zc(e).X({range:r},(c,p,b)=>{if(c[0]===this.userId){const S=Sl(c[1]);a.push(S)}else b.done()}).next(()=>{$n(0===a.length)})})}containsKey(e,t){return nf(e,this.userId,t)}vn(e){return Fp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nf(n,e,t){const r=$d(e,t.path),a=r[1],c=IDBKeyRange.lowerBound(r);let p=!1;return zc(n).X({range:c,Z:!0},(b,S,N)=>{const[z,ce,Je]=b;z===e&&ce===a&&(p=!0),N.done()}).next(()=>p)}function Ql(n){return Hs(n,"mutations")}function zc(n){return Hs(n,"documentMutations")}function Fp(n){return Hs(n,"mutationQueues")}class Xu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Xu(0)}static Sn(){return new Xu(-1)}}class u0{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const r=new Xu(t.highestTargetId);return t.highestTargetId=r.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Wn.fromTimestamp(new Vi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Dn(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Cn(e,a)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(t,r),this.Cn(e,r))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ju(e).delete(t.targetId)).next(()=>this.Dn(e)).next(r=>($n(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,t,r){let a=0;const c=[];return Ju(e).X((p,b)=>{const S=Vd(b);S.sequenceNumber<=t&&null===r.get(S.targetId)&&(a++,c.push(this.removeTargetData(e,S)))}).next(()=>It.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Ju(e).X((r,a)=>{const c=Vd(a);t(c)})}Dn(e){return Km(e).get("targetGlobalKey").next(t=>($n(null!==t),t))}Cn(e,t){return Km(e).put("targetGlobalKey",t)}xn(e,t){return Ju(e).put(iw(this.Tt,t))}Nn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Rc(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Ju(e).X({range:a,index:"queryTargetsIndex"},(p,b,S)=>{const N=Vd(b);Ad(t,N.target)&&(c=N,S.done())}).next(()=>c)}addMatchingKeys(e,t,r){const a=[],c=ec(e);return t.forEach(p=>{const b=wa(p.path);a.push(c.put({targetId:r,path:b})),a.push(this.referenceDelegate.addReference(e,r,p))}),It.waitFor(a)}removeMatchingKeys(e,t,r){const a=ec(e);return It.forEach(t,c=>{const p=wa(c.path);return It.waitFor([a.delete([r,p]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=ec(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=ec(e);let c=Rr();return a.X({range:r,Z:!0},(p,b,S)=>{const N=Sl(p[1]),z=new nn(N);c=c.add(z)}).next(()=>c)}containsKey(e,t){const r=wa(t.path),a=IDBKeyRange.bound([r],[s_(r)],!1,!0);let c=0;return ec(e).X({index:"documentTargetsIndex",Z:!0,range:a},([p,b],S,N)=>{0!==p&&(c++,N.done())}).next(()=>c>0)}ie(e,t){return Ju(e).get(t).next(r=>r?Vd(r):null)}}function Ju(n){return Hs(n,"targets")}function Km(n){return Hs(n,"targetGlobal")}function ec(n){return Hs(n,"targetDocuments")}function Ym([n,e],[t,r]){const a=Tr(n,t);return 0===a?Tr(e,r):a}class c0{constructor(e){this.kn=e,this.buffer=new qr(Ym),this.$n=0}Mn(){return++this.$n}On(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ym(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d0{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(e){var t=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Mt.Z)(function*(){t.Fn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Wu(r)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gu(r)}yield t.Bn(3e5)}))}}class h0{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return It.resolve($a.at);const r=new c0(t);return this.Ln.forEachTarget(e,a=>r.On(a.sequenceNumber)).next(()=>this.Ln.Un(e,a=>r.On(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Ln.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(tf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tf):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let r,a,c,p,b,S,N;const z=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ce=>(ce>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ce}`),a=this.params.maximumSequenceNumbersToCollect):a=ce,p=Date.now(),this.nthSequenceNumber(e,a))).next(ce=>(r=ce,b=Date.now(),this.removeTargets(e,r,t))).next(ce=>(c=ce,S=Date.now(),this.removeOrphanedDocuments(e,r))).next(ce=>(N=Date.now(),Uu()<=Ls.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-z}ms\n\tDetermined least recently used ${a} in `+(b-p)+`ms\n\tRemoved ${c} targets in `+(S-b)+`ms\n\tRemoved ${ce} documents in `+(N-S)+`ms\nTotal Duration: ${N-z}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:ce})))}}class ow{constructor(e,t){this.db=e,this.garbageCollector=new h0(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Gn(e){let t=0;return this.Un(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(r,a)=>t(a))}addReference(e,t,r){return rf(e,r)}removeReference(e,t,r){return rf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return rf(e,t)}jn(e,t){return function(r,a){let c=!1;return Fp(r).tt(p=>nf(r,p,a).next(b=>(b&&(c=!0),It.resolve(!b)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Qn(e,(p,b)=>{if(b<=t){const S=this.jn(e,p).next(N=>{if(!N)return c++,r.getEntry(e,p).next(()=>(r.removeEntry(p,Wn.min()),ec(e).delete([0,wa(p.path)])))});a.push(S)}}).next(()=>It.waitFor(a)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return rf(e,t)}Qn(e,t){const r=ec(e);let a,c=$a.at;return r.X({index:"documentTargetsIndex"},([p,b],{path:S,sequenceNumber:N})=>{0===p?(c!==$a.at&&t(new nn(Sl(a)),c),c=N,a=S):c=$a.at}).next(()=>{c!==$a.at&&t(new nn(Sl(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rf(n,e){return ec(n).put((r=n.currentSequenceNumber,{targetId:0,path:wa(e.path),sequenceNumber:r}));var r}class Zm{constructor(){this.changes=new gu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?It.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qm{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return tc(e).put(r)}removeEntry(e,t,r){return tc(e).delete(function(a,c){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],Xh(c),p[p.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.zn(e,r)))}getEntry(e,t){let r=Xi.newInvalidDocument(t);return tc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kd(t))},(a,c)=>{r=this.Wn(t,c)}).next(()=>r)}Hn(e,t){let r={size:0,document:Xi.newInvalidDocument(t)};return tc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Kd(t))},(a,c)=>{r={document:this.Wn(t,c),size:Np(c)}}).next(()=>r)}getEntries(e,t){let r=aa();return this.Jn(e,t,(a,c)=>{const p=this.Wn(a,c);r=r.insert(a,p)}).next(()=>r)}Yn(e,t){let r=aa(),a=new _s(nn.comparator);return this.Jn(e,t,(c,p)=>{const b=this.Wn(c,p);r=r.insert(c,b),a=a.insert(c,Np(p))}).next(()=>({documents:r,Zn:a}))}Jn(e,t,r){if(t.isEmpty())return It.resolve();let a=new qr(ey);t.forEach(S=>a=a.add(S));const c=IDBKeyRange.bound(Kd(a.first()),Kd(a.last())),p=a.getIterator();let b=p.getNext();return tc(e).X({index:"documentKeyIndex",range:c},(S,N,z)=>{const ce=nn.fromSegments([...N.prefixPath,N.collectionGroup,N.documentId]);for(;b&&ey(b,ce)<0;)r(b,null),b=p.getNext();b&&b.isEqual(ce)&&(r(b,N),b=p.hasNext()?p.getNext():null),b?z.j(Kd(b)):z.done()}).next(()=>{for(;b;)r(b,null),b=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,r,a){const c=t.path,p=[c.popLast().toArray(),c.lastSegment(),Xh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],b=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tc(e).W(IDBKeyRange.bound(p,b,!0)).next(S=>{let N=aa();for(const z of S){const ce=this.Wn(nn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);ce.isFoundDocument()&&(Bh(t,ce)||a.has(ce.key))&&(N=N.insert(ce.key,ce))}return N})}getAllFromCollectionGroup(e,t,r,a){let c=aa();const p=Jm(t,r),b=Jm(t,ul.max());return tc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,b,!0)},(S,N,z)=>{const ce=this.Wn(nn.fromSegments(N.prefixPath.concat(N.collectionGroup,N.documentId)),N);c=c.insert(ce.key,ce),c.size===a&&z.done()}).next(()=>c)}newChangeBuffer(e){return new f0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Xm(e).get("remoteDocumentGlobalKey").next(t=>($n(!!t),t))}zn(e,t){return Xm(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const r=function rw(n,e){let t;if(e.document)t=G_(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=nn.fromSegments(e.noDocument.path),a=Bc(e.noDocument.readTime);t=Xi.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tn();{const r=nn.fromSegments(e.unknownDocument.path),a=Bc(e.unknownDocument.version);t=Xi.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime(function(r){const a=new Vi(r[0],r[1]);return Wn.fromTimestamp(a)}(e.readTime)),t}(this.Tt,t);if(!r.isNoDocument()||!r.version.isEqual(Wn.min()))return r}return Xi.newInvalidDocument(e)}}function Lp(n){return new Qm(n)}class f0 extends Zm{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new gu(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new qr((c,p)=>Tr(c.canonicalString(),p.canonicalString()));return this.changes.forEach((c,p)=>{const b=this.ts.get(c);if(t.push(this.Xn.removeEntry(e,c,b.readTime)),p.isValidDocument()){const S=t0(this.Xn.Tt,p);a=a.add(c.path.popLast());const N=Np(S);r+=N-b.size,t.push(this.Xn.addEntry(e,c,S))}else if(r-=b.size,this.trackRemovals){const S=t0(this.Xn.Tt,p.convertToNoDocument(Wn.min()));t.push(this.Xn.addEntry(e,c,S))}}),a.forEach(c=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Xn.updateMetadata(e,r)),It.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(r=>(this.ts.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:r,Zn:a})=>(a.forEach((c,p)=>{this.ts.set(c,{size:p,readTime:r.get(c).readTime})}),r))}}function Xm(n){return Hs(n,"remoteDocumentGlobal")}function tc(n){return Hs(n,"remoteDocumentsV14")}function Kd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jm(n,e){const t=e.documentKey.path.toArray();return[n,Xh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ey(n,e){const t=n.path.toArray(),r=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(a=Tr(t[c],r[c]),a)return a;return a=Tr(t.length,r.length),a||(a=Tr(t[t.length-2],r[r.length-2]),a||Tr(t[t.length-1],r[r.length-1]))}class p0{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ty{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==r&&Hh(r.mutation,a,Va.empty(),Vi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Rr()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Rr()){const a=la();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(c=>{let p=Gh();return c.forEach((b,S)=>{p=p.insert(b,S.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const r=la();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Rr()))}populateOverlays(e,t,r){const a=[];return r.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,b)=>{t.set(p,b)})})}computeViews(e,t,r,a){let c=aa();const p=mu(),b=mu();return t.forEach((S,N)=>{const z=r.get(N.key);a.has(N.key)&&(void 0===z||z.mutation instanceof pu)?c=c.insert(N.key,N):void 0!==z?(p.set(N.key,z.mutation.getFieldMask()),Hh(z.mutation,N,z.mutation.getFieldMask(),Vi.now())):p.set(N.key,Va.empty())}),this.recalculateAndSaveOverlays(e,c).next(S=>(S.forEach((N,z)=>p.set(N,z)),t.forEach((N,z)=>{var ce;return b.set(N,new p0(z,null!==(ce=p.get(N))&&void 0!==ce?ce:null))}),b))}recalculateAndSaveOverlays(e,t){const r=mu();let a=new _s((p,b)=>p-b),c=Rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const b of p)b.keys().forEach(S=>{const N=t.get(S);if(null===N)return;let z=r.get(S)||Va.empty();z=b.applyToLocalView(N,z),r.set(S,z);const ce=(a.get(b.batchId)||Rr()).add(S);a=a.insert(b.batchId,ce)})}).next(()=>{const p=[],b=a.getReverseIterator();for(;b.hasNext();){const S=b.getNext(),N=S.key,z=S.value,ce=bp();z.forEach(Je=>{if(!c.has(Je)){const pt=P_(t.get(Je),r.get(Je));null!==pt&&ce.set(Je,pt),c=c.add(Je)}}),p.push(this.documentOverlayCache.saveOverlays(e,N,ce))}return It.waitFor(p)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return nn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Em(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var a}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-c.size):It.resolve(la());let b=-1,S=c;return p.next(N=>It.forEach(N,(z,ce)=>(b<ce.largestBatchId&&(b=ce.largestBatchId),c.get(z)?It.resolve():this.remoteDocumentCache.getEntry(e,z).next(Je=>{S=S.insert(z,Je)}))).next(()=>this.populateOverlays(e,N,c)).next(()=>this.computeViews(e,S,N,Rr())).next(z=>({batchId:b,changes:Wh(z)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nn(t)).next(r=>{let a=Gh();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const a=t.collectionGroup;let c=Gh();return this.indexManager.getCollectionParents(e,a).next(p=>It.forEach(p,b=>{const S=(N=t,z=b.child(a),new ql(z,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));var N,z;return this.getDocumentsMatchingCollectionQuery(e,S,r).next(N=>{N.forEach((z,ce)=>{c=c.insert(z,ce)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a))).next(c=>{a.forEach((b,S)=>{const N=S.getKey();null===c.get(N)&&(c=c.insert(N,Xi.newInvalidDocument(N)))});let p=Gh();return c.forEach((b,S)=>{const N=a.get(b);void 0!==N&&Hh(N.mutation,S,Va.empty(),Vi.now()),Bh(t,S)&&(p=p.insert(b,S))}),p})}}class $p{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return It.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:ws(r.createTime)}),It.resolve()}getNamedQuery(e,t){return It.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:Ud(r.bundledQuery),readTime:ws(r.readTime)}),It.resolve();var r}}class nc{constructor(){this.overlays=new _s(nn.comparator),this.ss=new Map}getOverlay(e,t){return It.resolve(this.overlays.get(t))}getOverlays(e,t){const r=la();return It.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,c)=>{this.ce(e,t,c)}),It.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.ss.get(r);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ss.delete(r)),It.resolve()}getOverlaysForCollection(e,t,r){const a=la(),c=t.length+1,p=new nn(t.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const S=b.getNext().value,N=S.getKey();if(!t.isPrefixOf(N.path))break;N.path.length===c&&S.largestBatchId>r&&a.set(S.getKey(),S)}return It.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let c=new _s((N,z)=>N-z);const p=this.overlays.getIterator();for(;p.hasNext();){const N=p.getNext().value;if(N.getKey().getCollectionGroup()===t&&N.largestBatchId>r){let z=c.get(N.largestBatchId);null===z&&(z=la(),c=c.insert(N.largestBatchId,z)),z.set(N.getKey(),N)}}const b=la(),S=c.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((N,z)=>b.set(N,z)),!(b.size()>=a)););return It.resolve(b)}ce(e,t,r){const a=this.overlays.get(r.key);if(null!==a){const p=this.ss.get(a.largestBatchId).delete(r.key);this.ss.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(r.key,new Hm(t,r));let c=this.ss.get(t);void 0===c&&(c=Rr(),this.ss.set(t,c)),this.ss.set(t,c.add(r.key))}}class ny{constructor(){this.rs=new qr(_o.os),this.us=new qr(_o.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new _o(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new _o(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new nn(new Qr([])),r=new _o(t,e),a=new _o(t,e+1),c=[];return this.us.forEachInRange([r,a],p=>{this.ls(p),c.push(p.key)}),c}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new nn(new Qr([])),r=new _o(t,e),a=new _o(t,e+1);let c=Rr();return this.us.forEachInRange([r,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new _o(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _o{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return nn.comparator(e.key,t.key)||Tr(e.gs,t.gs)}static cs(e,t){return Tr(e.gs,t.gs)||nn.comparator(e.key,t.key)}}class ry{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new qr(_o.os)}checkEmpty(e){return It.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,a){const c=this.ys;this.ys++;const p=new Um(c,t,r,a);this.mutationQueue.push(p);for(const b of a)this.ps=this.ps.add(new _o(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return It.resolve(p)}lookupMutationBatch(e,t){return It.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ts(t+1),c=a<0?0:a;return It.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return It.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _o(t,0),a=new _o(t,Number.POSITIVE_INFINITY),c=[];return this.ps.forEachInRange([r,a],p=>{const b=this.Is(p.gs);c.push(b)}),It.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qr(Tr);return t.forEach(a=>{const c=new _o(a,0),p=new _o(a,Number.POSITIVE_INFINITY);this.ps.forEachInRange([c,p],b=>{r=r.add(b.gs)})}),It.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let c=r;nn.isDocumentKey(c)||(c=c.child(""));const p=new _o(new nn(c),0);let b=new qr(Tr);return this.ps.forEachWhile(S=>{const N=S.key.path;return!!r.isPrefixOf(N)&&(N.length===a&&(b=b.add(S.gs)),!0)},p),It.resolve(this.Es(b))}Es(e){const t=[];return e.forEach(r=>{const a=this.Is(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){$n(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return It.forEach(t.mutations,a=>{const c=new _o(a.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,t){const r=new _o(t,0),a=this.ps.firstAfterOrEqual(r);return It.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return It.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gc{constructor(e){this.Rs=e,this.docs=new _s(nn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),c=a?a.size:0,p=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return It.resolve(r?r.document.mutableCopy():Xi.newInvalidDocument(t))}getEntries(e,t){let r=aa();return t.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.mutableCopy():Xi.newInvalidDocument(a))}),It.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let c=aa();const p=t.path,b=new nn(p.child("")),S=this.docs.getIteratorFrom(b);for(;S.hasNext();){const{key:N,value:{document:z}}=S.getNext();if(!p.isPrefixOf(N.path))break;N.path.length>p.length+1||a_(cp(z),r)<=0||(a.has(z.key)||Bh(t,z))&&(c=c.insert(z.key,z.mutableCopy()))}return It.resolve(c)}getAllFromCollectionGroup(e,t,r,a){Tn()}Ps(e,t){return It.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new iy(this)}getSize(e){return It.resolve(this.size)}}class iy extends Zm{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Xn.addEntry(e,a)):this.Xn.removeEntry(r)}),It.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class aw{constructor(e){this.persistence=e,this.vs=new gu(t=>Rc(t),Ad),this.lastRemoteSnapshotVersion=Wn.min(),this.highestTargetId=0,this.bs=0,this.Vs=new ny,this.targetCount=0,this.Ss=Xu.Vn()}forEachTarget(e,t){return this.vs.forEach((r,a)=>t(a)),It.resolve()}getLastRemoteSnapshotVersion(e){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return It.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),It.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new Xu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,It.resolve()}updateTargetData(e,t){return this.xn(t),It.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,It.resolve()}removeTargets(e,t,r){let a=0;const c=[];return this.vs.forEach((p,b)=>{b.sequenceNumber<=t&&null===r.get(b.targetId)&&(this.vs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),It.waitFor(c).next(()=>a)}getTargetCount(e){return It.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return It.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),It.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),It.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),It.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return It.resolve(r)}containsKey(e,t){return It.resolve(this.Vs.containsKey(t))}}class Bp{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new $a(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new aw(this),this.indexManager=new s0,this.remoteDocumentCache=new Gc(r=>this.referenceDelegate.ks(r)),this.Tt=new e0(t),this.$s=new $p(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new ry(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,r){Kt("MemoryPersistence","Starting transaction:",e);const a=new nD(this.Cs.next());return this.referenceDelegate.Ms(),r(a).next(c=>this.referenceDelegate.Os(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Fs(e,t){return It.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class nD extends l_{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.Bs=new ny,this.Ls=null}static qs(e){return new sy(e)}get Us(){if(this.Ls)return this.Ls;throw Tn()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),It.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),It.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),It.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(a=>this.Us.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Us.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.Us,r=>{const a=nn.fromPath(r);return this.Ks(e,a).next(c=>{c||t.removeEntry(a,Wn.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return It.or([()=>It.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class lw{constructor(e){this.Tt=e}F(e,t,r,a){const c=new Mh("createOrUpgrade",t);var b;r<1&&a>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lm,{unique:!0}),b.createObjectStore("documentMutations"),g0(e),function(b){b.createObjectStore("remoteDocuments")}(e));let p=It.resolve();return r<3&&a>=3&&(0!==r&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),g0(e)),p=p.next(()=>function(b){const S=b.store("targetGlobal"),N={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wn.min().toTimestamp(),targetCount:0};return S.put("targetGlobalKey",N)}(c))),r<4&&a>=4&&(0!==r&&(p=p.next(()=>function(b,S){return S.store("mutations").W().next(N=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lm,{unique:!0});const z=S.store("mutations"),ce=N.map(Je=>z.put(Je));return It.waitFor(ce)})}(e,c))),p=p.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&a>=5&&(p=p.next(()=>this.Gs(c))),r<6&&a>=6&&(p=p.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(c)))),r<7&&a>=7&&(p=p.next(()=>this.js(c))),r<8&&a>=8&&(p=p.next(()=>this.zs(e,c))),r<9&&a>=9&&(p=p.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&a>=10&&(p=p.next(()=>this.Ws(c))),r<11&&a>=11&&(p=p.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&a>=12&&(p=p.next(()=>{!function(b){const S=b.createObjectStore("documentOverlays",{keyPath:Jb});S.createIndex("collectionPathOverlayIndex",ew,{unique:!1}),S.createIndex("collectionGroupOverlayIndex",tw,{unique:!1})}(e)})),r<13&&a>=13&&(p=p.next(()=>function(b){const S=b.createObjectStore("remoteDocumentsV14",{keyPath:Tp});S.createIndex("documentKeyIndex",Zh),S.createIndex("collectionGroupIndex",Kb)}(e)).next(()=>this.Hs(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(p=p.next(()=>this.Js(e,c))),r<15&&a>=15&&(p=p.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:Qh}).createIndex("sequenceNumberIndex",Qb,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:tD}).createIndex("documentKeyIndex",Xb,{unique:!1})}(e))),p}Qs(e){let t=0;return e.store("remoteDocuments").X((r,a)=>{t+=Np(a)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(a=>It.forEach(a,c=>{const p=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",p).next(b=>It.forEach(b,S=>{$n(S.userId===c.userId);const N=Bd(this.Tt,S);return kp(e,c.userId,N).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return r.X((p,b)=>{const S=new Qr(p),N=[0,wa(S)];c.push(t.get(N).next(z=>z?It.resolve():t.put({targetId:0,path:wa(S),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>It.waitFor(c))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:Zb});const r=t.store("collectionParents"),a=new qm,c=p=>{if(a.add(p)){const b=p.lastSegment(),S=p.popLast();return r.put({collectionId:b,parent:wa(S)})}};return t.store("remoteDocuments").X({Z:!0},(p,b)=>{const S=new Qr(p);return c(S.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([p,b,S],N)=>{const z=Sl(b);return c(z.popLast())}))}Ws(e){const t=e.store("targets");return t.X((r,a)=>{const c=Vd(a),p=iw(this.Tt,c);return t.put(p)})}Hs(e,t){const r=t.store("remoteDocuments"),a=[];return r.X((c,p)=>{const b=t.store("remoteDocumentsV14"),S=(N=p,N.document?new nn(Qr.fromString(N.document.name).popFirst(5)):N.noDocument?nn.fromSegments(N.noDocument.path):N.unknownDocument?nn.fromSegments(N.unknownDocument.path):Tn()).path.toArray();var N;const z={prefixPath:S.slice(0,S.length-2),collectionGroup:S[S.length-2],documentId:S[S.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(b.put(z))}).next(()=>It.waitFor(a))}Js(e,t){const r=t.store("mutations"),a=Lp(this.Tt),c=new Bp(sy.qs,this.Tt.oe);return r.W().next(p=>{const b=new Map;return p.forEach(S=>{var N;let z=null!==(N=b.get(S.userId))&&void 0!==N?N:Rr();Bd(this.Tt,S).keys().forEach(ce=>z=z.add(ce)),b.set(S.userId,z)}),It.forEach(b,(S,N)=>{const z=new Js(N),ce=eo.ue(this.Tt,z),Je=c.getIndexManager(z),pt=Hc.ue(z,this.Tt,Je,c.referenceDelegate);return new ty(a,pt,ce,Je).recalculateAndSaveOverlaysForDocumentKeys(new Vm(t,$a.at),S).next()})})}}function g0(n){n.createObjectStore("targetDocuments",{keyPath:Q_}).createIndex("documentTargetsIndex",Yb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Z_,{unique:!0}),n.createObjectStore("targetGlobal")}const Vp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oy{constructor(e,t,r,a,c,p,b,S,N,z,ce=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ys=c,this.window=p,this.document=b,this.Zs=N,this.Xs=z,this.ti=ce,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=Je=>Promise.resolve(),!oy.C())throw new Bt(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ow(this,a),this.oi=t+"main",this.Tt=new e0(S),this.ui=new _a(this.oi,this.ti,new lw(this.Tt)),this.Ns=new u0(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Lp(this.Tt),this.$s=new sw,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===z&&Vs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bt(Tt.FAILED_PRECONDITION,Vp);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new $a(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var r=(0,Mt.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,Mt.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,Mt.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(Wu(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return ls(e).get("owner").next(t=>It.resolve(this.yi(t)))}pi(e){return sf(e).delete(this.clientId)}Ii(){var e=this;return(0,Mt.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=Hs(r,"clientMetadata");return a.W().next(c=>{const p=e.Ei(c,18e5),b=c.filter(S=>-1===p.indexOf(S));return It.forEach(b,S=>a.delete(S.clientId)).next(()=>b)})}).catch(()=>[]);if(e.ci)for(const r of t)e.ci.removeItem(e.Ai(r.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?It.resolve(!0):ls(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new Bt(Tt.FAILED_PRECONDITION,Vp);return!1}}return!(!this.networkEnabled||!this.inForeground)||sf(e).W().next(r=>void 0===this.Ei(r,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Kt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Mt.Z)(function*(){e.xs=!1,e.Pi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.bi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Vm(t,$a.at);return e.mi(r).next(()=>e.pi(r))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(r=>this.Ti(r.updateTimeMs,t)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>sf(e).W().next(t=>this.Ei(t,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return Hc.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new o0(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return eo.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,t,r){Kt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=15===(p=this.ti)?Bm:14===p?$m:13===p?J_:12===p?nw:11===p?X_:void Tn();var p;let b;return this.ui.runTransaction(e,a,c,S=>(b=new Vm(S,this.Cs?this.Cs.next():$a.at),"readwrite-primary"===t?this._i(b).next(N=>!!N||this.wi(b)).next(N=>{if(!N)throw Vs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Bt(Tt.FAILED_PRECONDITION,nm);return r(b)}).next(N=>this.gi(b).next(()=>N)):this.Di(b).next(()=>r(b)))).then(S=>(b.raiseOnCommittedEvent(),S))}Di(e){return ls(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Bt(Tt.FAILED_PRECONDITION,Vp)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ls(e).put("owner",t)}static C(){return _a.C()}mi(e){const t=ls(e);return t.get("owner").next(r=>this.yi(r)?(Kt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):It.resolve())}Ti(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vs(`Detected an update time that is in the future: ${e} > ${r}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.Pi();const t=/(?:Version|Mobile)\/1[456]/;(0,Nr.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const r=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vs("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){Vs("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(e){}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ls(n){return Hs(n,"owner")}function sf(n){return Hs(n,"clientMetadata")}function ay(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ly{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=a}static Ni(e,t){let r=Rr(),a=Rr();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new ly(e,t.fromCache,r,a)}}class uy{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,a){return this.Mi(e,t).next(c=>c||this.Oi(e,t,a,r)).next(c=>c||this.Fi(e,t))}Mi(e,t){if(D_(t))return It.resolve(null);let r=oa(t);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=$h(t,null,"F"),r=oa(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const p=Rr(...c);return this.$i.getDocuments(e,p).next(b=>this.indexManager.getMinOffset(e,r).next(S=>{const N=this.Bi(t,b);return this.Li(t,N,p,S.readTime)?this.Mi(e,$h(t,null,"F")):this.qi(e,N,t,S)}))})))}Oi(e,t,r,a){return D_(t)||a.isEqual(Wn.min())?this.Fi(e,t):this.$i.getDocuments(e,r).next(c=>{const p=this.Bi(t,c);return this.Li(t,p,r,a)?this.Fi(e,t):(Uu()<=Ls.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wm(t)),this.qi(e,p,t,up(a,-1)))})}Bi(e,t){let r=new qr(C_(e));return t.forEach((a,c)=>{Bh(e,c)&&(r=r.add(c))}),r}Li(e,t,r,a){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Fi(e,t){return Uu()<=Ls.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",wm(t)),this.$i.getDocumentsMatchingQuery(e,t,ul.min())}qi(e,t,r,a){return this.$i.getDocumentsMatchingQuery(e,r,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class uw{constructor(e,t,r,a){this.persistence=e,this.Ui=t,this.Tt=a,this.Ki=new _s(Tr),this.Gi=new gu(c=>Rc(c),Ad),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ty(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function cy(n,e,t,r){return new uw(n,e,t,r)}function dy(n,e){return rc.apply(this,arguments)}function rc(){return rc=(0,Mt.Z)(function*(n,e){const t=fn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(c=>(a=c,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const p=[],b=[];let S=Rr();for(const N of a){p.push(N.batchId);for(const z of N.mutations)S=S.add(z.key)}for(const N of c){b.push(N.batchId);for(const z of N.mutations)S=S.add(z.key)}return t.localDocuments.getDocuments(r,S).next(N=>({Wi:N,removedBatchIds:p,addedBatchIds:b}))})})}),rc.apply(this,arguments)}function m0(n){const e=fn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function v0(n,e,t){let r=Rr(),a=Rr();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let p=aa();return t.forEach((b,S)=>{const N=c.get(b);S.isFoundDocument()!==N.isFoundDocument()&&(a=a.add(b)),S.isNoDocument()&&S.version.isEqual(Wn.min())?(e.removeEntry(b,S.readTime),p=p.insert(b,S)):!N.isValidDocument()||S.version.compareTo(N.version)>0||0===S.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(S),p=p.insert(b,S)):Kt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",N.version," Watch version:",S.version)}),{Hi:p,Ji:a}})}function _0(n,e){const t=fn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function af(n,e){const t=fn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Ns.getTargetData(r,e).next(c=>c?(a=c,It.resolve(a)):t.Ns.allocateTargetId(r).next(p=>(a=new Zu(e,p,0,r.currentSequenceNumber),t.Ns.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ki.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}function ic(n,e,t){return lf.apply(this,arguments)}function lf(){return lf=(0,Mt.Z)(function*(n,e,t){const r=fn(n),a=r.Ki.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,p=>r.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Wu(p))throw p;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(a.target)}),lf.apply(this,arguments)}function Ha(n,e,t){const r=fn(n);let a=Wn.min(),c=Rr();return r.persistence.runTransaction("Execute query","readonly",p=>function(b,S,N){const z=fn(b),ce=z.Gi.get(N);return void 0!==ce?It.resolve(z.Ki.get(ce)):z.Ns.getTargetData(S,N)}(r,p,oa(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(p,b.targetId).next(S=>{c=S})}).next(()=>r.Ui.getDocumentsMatchingQuery(p,e,t?a:Wn.min(),t?c:Rr())).next(b=>(xl(r,Im(e),b),{documents:b,Yi:c})))}function E0(n,e){const t=fn(n),r=fn(t.Ns),a=t.Ki.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>r.ie(c,e).next(p=>p?p.target:null))}function hy(n,e){const t=fn(n),r=t.Qi.get(e)||Wn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.ji.getAllFromCollectionGroup(a,e,up(r,-1),Number.MAX_SAFE_INTEGER)).then(a=>(xl(t,e,a),a))}function xl(n,e,t){let r=n.Qi.get(e)||Wn.min();t.forEach((a,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Qi.set(e,r)}function za(){return za=(0,Mt.Z)(function*(n,e,t,r){const a=fn(n);let c=Rr(),p=aa();for(const N of t){const z=e.Zi(N.metadata.name);N.document&&(c=c.add(z));const ce=e.Xi(N);ce.setReadTime(e.tr(N.metadata.readTime)),p=p.insert(z,ce)}const b=a.ji.newChangeBuffer({trackRemovals:!0}),S=yield af(a,(N=r,oa(Md(Qr.fromString(`__bundle__/docs/${N}`)))));var N;return a.persistence.runTransaction("Apply bundle documents","readwrite",N=>v0(N,b,p).next(z=>(b.apply(N),z)).next(z=>a.Ns.removeMatchingKeysForTargetId(N,S.targetId).next(()=>a.Ns.addMatchingKeys(N,c,S.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(N,z.Hi,z.Ji)).next(()=>z.Hi)))}),za.apply(this,arguments)}function b0(n,e){return Up.apply(this,arguments)}function Up(){return Up=(0,Mt.Z)(function*(n,e,t=Rr()){const r=yield af(n,oa(Ud(e.bundledQuery))),a=fn(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const p=ws(e.readTime);if(r.snapshotVersion.compareTo(p)>=0)return a.$s.saveNamedQuery(c,e);const b=r.withResumeToken(js.EMPTY_BYTE_STRING,p);return a.Ki=a.Ki.insert(b.targetId,b),a.Ns.updateTargetData(c,b).next(()=>a.Ns.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>a.Ns.addMatchingKeys(c,t,r.targetId)).next(()=>a.$s.saveNamedQuery(c,e))})}),Up.apply(this,arguments)}function w0(n,e){return`firestore_clients_${n}_${e}`}function I0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function fy(n,e){return`firestore_targets_${n}_${e}`}class jp{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static er(e,t,r){const a=JSON.parse(r);let c,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new Bt(a.error.code,a.error.message))),p?new jp(e,t,a.state,c):(Vs("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static er(e,t){const r=JSON.parse(t);let a,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Bt(r.error.code,r.error.message))),c?new Wc(e,r.state,a):(Vs("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,c=kd();for(let p=0;a&&p<r.activeTargetIds.length;++p)a=Db(r.activeTargetIds[p]),c=c.add(r.activeTargetIds[p]);return a?new sc(e,c):(Vs("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class py{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new py(t.clientId,t.onlineState):(Vs("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Hp{constructor(){this.activeTargetIds=kd()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gy{constructor(e,t,r,a,c){this.window=e,this.Ys=t,this.persistenceKey=r,this.rr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new _s(Tr),this.started=!1,this.hr=[];const p=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.lr=w0(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new Hp),this._r=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Mt.Z)(function*(){const t=yield e.syncEngine.Si();for(const a of t){if(a===e.rr)continue;const c=e.getItem(w0(e.persistenceKey,a));if(c){const p=sc.er(a,c);p&&(e.ar=e.ar.insert(p.clientId,p))}}e.pr();const r=e.storage.getItem(e.gr);if(r){const a=e.Ir(r);a&&e.Tr(a)}for(const a of e.hr)e.cr(a);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,r){this.Ar(e,t,r),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(fy(this.persistenceKey,e));if(r){const a=Wc.er(e,r);a&&(t=a.state)}}return this.Pr.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fy(this.persistenceKey,e))}updateQueryState(e,t,r){this.vr(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.Rr(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Kt("SharedClientState","READ",e,t),t}setItem(e,t){Kt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Kt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.lr)return void Vs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,Mt.Z)(function*(){if(t.started){if(null!==r.key)if(t._r.test(r.key)){if(null==r.newValue){const a=t.Sr(r.key);return t.Dr(a,null)}{const a=t.Cr(r.key,r.newValue);if(a)return t.Dr(a.clientId,a)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const a=t.Nr(r.key,r.newValue);if(a)return t.kr(a)}}else if(t.mr.test(r.key)){if(null!==r.newValue){const a=t.$r(r.key,r.newValue);if(a)return t.Mr(a)}}else if(r.key===t.gr){if(null!==r.newValue){const a=t.Ir(r.newValue);if(a)return t.Tr(a)}}else if(r.key===t.dr){const a=function(c){let p=$a.at;if(null!=c)try{const b=JSON.parse(c);$n("number"==typeof b),p=b}catch(b){Vs("SharedClientState","Failed to read sequence number from WebStorage",b)}return p}(r.newValue);a!==$a.at&&t.sequenceNumberHandler(a)}else if(r.key===t.yr){const a=t.Or(r.newValue);yield Promise.all(a.map(c=>t.syncEngine.Fr(c)))}}else t.hr.push(r)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,t,r){const a=new jp(this.currentUser,e,t,r),c=I0(this.persistenceKey,this.currentUser,e);this.setItem(c,a.nr())}Rr(e){const t=I0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,r){const a=fy(this.persistenceKey,e),c=new Wc(e,t,r);this.setItem(a,c.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const r=this.Sr(e);return sc.er(r,t)}Nr(e,t){const r=this.wr.exec(e),a=Number(r[1]);return jp.er(new Js(void 0!==r[2]?r[2]:null),a,t)}$r(e,t){const r=this.mr.exec(e),a=Number(r[1]);return Wc.er(a,t)}Ir(e){return py.er(e)}Or(e){return JSON.parse(e)}kr(e){var t=this;return(0,Mt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),a=this.Er(this.ar),c=this.Er(r),p=[],b=[];return c.forEach(S=>{a.has(S)||p.push(S)}),a.forEach(S=>{c.has(S)||b.push(S)}),this.syncEngine.qr(p,b).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=kd();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class my{constructor(){this.Ur=new Hp,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Hp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class D0{Gr(e){}shutdown(){}}class uf{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zp=null;function Gp(){return null===zp?zp=268435456+Math.round(2147483648*Math.random()):zp++,"0x"+zp.toString(16)}const C0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yy{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const to="WebChannelConnection";class T0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,a,c){const p=Gp(),b=this.fo(e,t);Kt("RestConnection",`Sending RPC '${e}' ${p}:`,b,r);const S={};return this._o(S,a,c),this.wo(e,b,S,r).then(N=>(Kt("RestConnection",`Received RPC '${e}' ${p}: `,N),N),N=>{throw Cc("RestConnection",`RPC '${e}' ${p} failed with error: `,N,"url: ",b,"request:",r),N})}mo(e,t,r,a,c,p){return this.lo(e,t,r,a,c)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+lu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),r&&r.headers.forEach((a,c)=>e[c]=a)}fo(e,t){return`${this.co}/v1/${t}:${C0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,a){const c=Gp();return new Promise((p,b)=>{const S=new fb;S.setWithCredentials(!0),S.listenOnce(Th.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case Ch.NO_ERROR:const z=S.getResponseJson();Kt(to,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(z)),p(z);break;case Ch.TIMEOUT:Kt(to,`RPC '${e}' ${c} timed out`),b(new Bt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const ce=S.getStatus();if(Kt(to,`RPC '${e}' ${c} failed with status:`,ce,"response text:",S.getResponseText()),ce>0){let Je=S.getResponseJson();Array.isArray(Je)&&(Je=Je[0]);const pt=null==Je?void 0:Je.error;if(pt&&pt.status&&pt.message){const Et=function(xt){const Yt=xt.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(Yt)>=0?Yt:Tt.UNKNOWN}(pt.status);b(new Bt(Et,pt.message))}else b(new Bt(Tt.UNKNOWN,"Server responded with status "+S.getStatus()))}else b(new Bt(Tt.UNAVAILABLE,"Connection failed."));break;default:Tn()}}finally{Kt(to,`RPC '${e}' ${c} completed.`)}});const N=JSON.stringify(a);Kt(to,`RPC '${e}' ${c} sending request:`,a),S.send(t,"POST",N,r,15)})}yo(e,t,r){const a=Gp(),c=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Qg(),b=Xg(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new hb({})),this._o(S.initMessageHeaders,t,r),S.encodeInitMessageHeaders=!0;const N=c.join("");Kt(to,`Creating RPC '${e}' stream ${a}: ${N}`,S);const z=p.createWebChannel(N,S);let ce=!1,Je=!1;const pt=new yy({Yr:xt=>{Je?Kt(to,`Not sending because RPC '${e}' stream ${a} is closed:`,xt):(ce||(Kt(to,`Opening RPC '${e}' stream ${a} transport.`),z.open(),ce=!0),Kt(to,`RPC '${e}' stream ${a} sending:`,xt),z.send(xt))},Zr:()=>z.close()}),Et=(xt,Yt,Bn)=>{xt.listen(Yt,Fr=>{try{Bn(Fr)}catch(qn){setTimeout(()=>{throw qn},0)}})};return Et(z,sp.EventType.OPEN,()=>{Je||Kt(to,`RPC '${e}' stream ${a} transport opened.`)}),Et(z,sp.EventType.CLOSE,()=>{Je||(Je=!0,Kt(to,`RPC '${e}' stream ${a} transport closed`),pt.oo())}),Et(z,sp.EventType.ERROR,xt=>{Je||(Je=!0,Cc(to,`RPC '${e}' stream ${a} transport errored:`,xt),pt.oo(new Bt(Tt.UNAVAILABLE,"The operation could not be completed")))}),Et(z,sp.EventType.MESSAGE,xt=>{var Yt;if(!Je){const Bn=xt.data[0];$n(!!Bn);const qn=Bn.error||(null===(Yt=Bn[0])||void 0===Yt?void 0:Yt.error);if(qn){Kt(to,`RPC '${e}' stream ${a} received error:`,qn);const Kn=qn.status;let or=function(hi){const io=bs[hi];if(void 0!==io)return Fc(io)}(Kn),hr=qn.message;void 0===or&&(or=Tt.INTERNAL,hr="Unknown error status: "+Kn+" with message "+qn.message),Je=!0,pt.oo(new Bt(or,hr)),z.close()}else Kt(to,`RPC '${e}' stream ${a} received:`,Bn),pt.uo(Bn)}}),Et(b,db.STAT_EVENT,xt=>{xt.stat===Jg.PROXY?Kt(to,`RPC '${e}' stream ${a} detected buffering proxy`):xt.stat===Jg.NOPROXY&&Kt(to,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{pt.ro()},0),pt}}function vy(){return typeof window<"u"?window:null}function cf(){return typeof document<"u"?document:null}function Yd(n){return new V_(n,!0)}class Wp{constructor(e,t,r=1e3,a=1.5,c=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=a,this.To=c,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),a=Math.max(0,t-r);a>0&&Kt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,a,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class _y{constructor(e,t,r,a,c,p,b,S){this.Ys=e,this.So=r,this.Do=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=S,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Wp(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Mt.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,Mt.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,Mt.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):t&&t.code===Tt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Co===t&&this.jo(r,a)},r=>{e(()=>{const a=new Bt(Tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(a)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(a=>{r(()=>this.zo(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.ko.vo((0,Mt.Z)(function*(){e.state=0,e.start()}))}zo(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S0 extends _y{constructor(e,t,r,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,p),this.Tt=c}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function Hb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(S=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:Tn(),a=e.targetChange.targetIds||[],c=function(S,N){return S.yt?($n(void 0===N||"string"==typeof N),js.fromBase64String(N||"")):($n(void 0===N||N instanceof Uint8Array),js.fromUint8Array(N||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&function(S){const N=void 0===S.code?Tt.UNKNOWN:Fc(S.code);return new Bt(N,S.message||"")}(p);t=new B_(r,a,c,b||null)}else if("documentChange"in e){const r=e.documentChange,a=Cl(n,r.document.name),c=ws(r.document.updateTime),p=r.document.createTime?ws(r.document.createTime):Wn.min(),b=new Oo({mapValue:{fields:r.document.fields}}),S=Xi.newFoundDocument(a,c,p,b);t=new Fd(r.targetIds||[],r.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const r=e.documentDelete,a=Cl(n,r.document),c=r.readTime?ws(r.readTime):Wn.min(),p=Xi.newNoDocument(a,c);t=new Fd([],r.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const r=e.documentRemove,a=Cl(n,r.document);t=new Fd([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Tn();{const r=e.filter,c=new JI(r.count||0);t=new $_(r.targetId,c)}}var S;return t}(this.Tt,e),r=function(a){if(!("targetChange"in a))return Wn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Wn.min():c.readTime?ws(c.readTime):Wn.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=$c(this.Tt),t.addTarget=function(a,c){let p;const b=c.target;return p=vp(b)?{documents:W_(a,b)}:{query:Ip(a,b)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?p.resumeToken=Ub(a,c.resumeToken):c.snapshotVersion.compareTo(Wn.min())>0&&(p.readTime=Ld(a,c.snapshotVersion.toTimestamp())),p}(this.Tt,e);const r=function Gb(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=$c(this.Tt),t.removeTarget=e,this.qo(t)}}class A0 extends _y{constructor(e,t,r,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,p),this.Tt=c,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if($n(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function zb(n,e){return n&&n.length>0?($n(void 0!==e),n.map(t=>function(r,a){let c=ws(r.updateTime?r.updateTime:a);return c.isEqual(Wn.min())&&(c=ws(a)),new Od(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ws(e.commitTime);return this.listener.eu(r,t)}return $n(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=$c(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ba(this.Tt,r))};this.qo(t)}}class dw extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=a,this.iu=!1}ru(){if(this.iu)throw new Bt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.lo(e,t,r,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Bt(Tt.UNKNOWN,a.toString())})}mo(e,t,r,a){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.mo(e,t,r,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Bt(Tt.UNKNOWN,c.toString())})}terminate(){this.iu=!0}}class fw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Vs(t),this.cu=!1):Kt("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class pw{constructor(e,t,r,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=c,this.yu.Gr(b=>{r.enqueueAndForget((0,Mt.Z)(function*(){var S;yu(p)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,Mt.Z)(function*(N){const z=fn(N);z.mu.add(4),yield Zd(z),z.pu.set("Unknown"),z.mu.delete(4),yield df(z)}),function(N){return S.apply(this,arguments)})(p))}))}),this.pu=new fw(r,a)}}function df(n){return by.apply(this,arguments)}function by(){return by=(0,Mt.Z)(function*(n){if(yu(n))for(const e of n.gu)yield e(!0)}),by.apply(this,arguments)}function Zd(n){return wy.apply(this,arguments)}function wy(){return wy=(0,Mt.Z)(function*(n){for(const e of n.gu)yield e(!1)}),wy.apply(this,arguments)}function qp(n,e){const t=fn(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),Cy(t)?Dy(t):Xd(t).Mo()&&Iy(t,e))}function hf(n,e){const t=fn(n),r=Xd(t);t.wu.delete(e),r.Mo()&&M0(t,e),0===t.wu.size&&(r.Mo()?r.Bo():yu(t)&&t.pu.set("Unknown"))}function Iy(n,e){n.Iu.Ot(e.targetId),Xd(n).Jo(e)}function M0(n,e){n.Iu.Ot(e),Xd(n).Yo(e)}function Dy(n){n.Iu=new $b({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),Xd(n).start(),n.pu.au()}function Cy(n){return yu(n)&&!Xd(n).$o()&&n.wu.size>0}function yu(n){return 0===fn(n).mu.size}function x0(n){n.Iu=void 0}function gw(n){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Mt.Z)(function*(n){n.wu.forEach((e,t)=>{Iy(n,e)})}),Kp.apply(this,arguments)}function R0(n,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,Mt.Z)(function*(n,e){x0(n),Cy(n)?(n.pu.fu(e),Dy(n)):n.pu.set("Unknown")}),Yp.apply(this,arguments)}function O0(n,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Mt.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof B_&&2===e.state&&e.cause)try{yield(r=(0,Mt.Z)(function*(a,c){const p=c.cause;for(const b of c.targetIds)a.wu.has(b)&&(yield a.remoteSyncer.rejectListen(b,p),a.wu.delete(b),a.Iu.removeTarget(b))}),function(a,c){return r.apply(this,arguments)})(n,e)}catch(r){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ff(n,r)}else if(e instanceof Fd?n.Iu.Qt(e):e instanceof $_?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(Wn.min()))try{const r=yield m0(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const p=a.Iu.ee(c);return p.targetChanges.forEach((b,S)=>{if(b.resumeToken.approximateByteSize()>0){const N=a.wu.get(S);N&&a.wu.set(S,N.withResumeToken(b.resumeToken,c))}}),p.targetMismatches.forEach(b=>{const S=a.wu.get(b);if(!S)return;a.wu.set(b,S.withResumeToken(js.EMPTY_BYTE_STRING,S.snapshotVersion)),M0(a,b);const N=new Zu(S.target,b,1,S.sequenceNumber);Iy(a,N)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(r){Kt("RemoteStore","Failed to raise snapshot:",r),yield ff(n,r)}var r}),Zp.apply(this,arguments)}function ff(n,e,t){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,Mt.Z)(function*(n,e,t){if(!Wu(e))throw e;n.mu.add(1),yield Zd(n),n.pu.set("Offline"),t||(t=()=>m0(n.localStore)),n.asyncQueue.enqueueRetryable((0,Mt.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield df(n)}))}),Qp.apply(this,arguments)}function Ty(n,e){return e().catch(t=>ff(n,t,e))}function qc(n){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,Mt.Z)(function*(n){const e=fn(n),t=Ol(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Sy(e);)try{const a=yield _0(e.localStore,r);if(null===a){0===e._u.length&&t.Bo();break}r=a.batchId,Kc(e,a)}catch(a){yield ff(e,a)}P0(e)&&k0(e)}),Xp.apply(this,arguments)}function Sy(n){return yu(n)&&n._u.length<10}function Kc(n,e){n._u.push(e);const t=Ol(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function P0(n){return yu(n)&&!Ol(n).$o()&&n._u.length>0}function k0(n){Ol(n).start()}function Qd(n){return N0.apply(this,arguments)}function N0(){return N0=(0,Mt.Z)(function*(n){Ol(n).su()}),N0.apply(this,arguments)}function Ay(n){return F0.apply(this,arguments)}function F0(){return F0=(0,Mt.Z)(function*(n){const e=Ol(n);for(const t of n._u)e.tu(t.mutations)}),F0.apply(this,arguments)}function L0(n,e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,Mt.Z)(function*(n,e,t){const r=n._u.shift(),a=jm.from(r,e,t);yield Ty(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield qc(n)}),Jp.apply(this,arguments)}function rD(n,e){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,Mt.Z)(function*(n,e){var t;e&&Ol(n).Xo&&(yield(t=(0,Mt.Z)(function*(r,a){if(Fb(c=a.code)&&c!==Tt.ABORTED){const p=r._u.shift();Ol(r).Fo(),yield Ty(r,()=>r.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield qc(r)}var c}),function(r,a){return t.apply(this,arguments)})(n,e)),P0(n)&&k0(n)}),Xn.apply(this,arguments)}function $0(n,e){return My.apply(this,arguments)}function My(){return My=(0,Mt.Z)(function*(n,e){const t=fn(n);t.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const r=yu(t);t.mu.add(3),yield Zd(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield df(t)}),My.apply(this,arguments)}function xy(n,e){return oc.apply(this,arguments)}function oc(){return oc=(0,Mt.Z)(function*(n,e){const t=fn(n);e?(t.mu.delete(2),yield df(t)):e||(t.mu.add(2),yield Zd(t),t.pu.set("Unknown"))}),oc.apply(this,arguments)}function Xd(n){return n.Tu||(n.Tu=function(e,t,r){const a=fn(e);return a.ru(),new S0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.Tt,r)}(n.datastore,n.asyncQueue,{Xr:gw.bind(null,n),no:R0.bind(null,n),Ho:O0.bind(null,n)}),n.gu.push(function(){var e=(0,Mt.Z)(function*(t){t?(n.Tu.Fo(),Cy(n)?Dy(n):n.pu.set("Unknown")):(yield n.Tu.stop(),x0(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function Ol(n){return n.Eu||(n.Eu=function(e,t,r){const a=fn(e);return a.ru(),new A0(t,a.connection,a.authCredentials,a.appCheckCredentials,a.Tt,r)}(n.datastore,n.asyncQueue,{Xr:Qd.bind(null,n),no:rD.bind(null,n),nu:Ay.bind(null,n),eu:L0.bind(null,n)}),n.gu.push(function(){var e=(0,Mt.Z)(function*(t){t?(n.Eu.Fo(),yield qc(n)):(yield n.Eu.stop(),n._u.length>0&&(Kt("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class Jd{constructor(e,t,r,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,r,a,c){const p=Date.now()+r,b=new Jd(e,t,p,a,c);return b.start(r),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bt(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ai(n,e){if(Vs("AsyncQueue",`${e}: ${n}`),Wu(n))return new Bt(Tt.UNAVAILABLE,`${e}: ${n}`);throw n}class pf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nn.comparator(t.key,r.key):(t,r)=>nn.comparator(t.key,r.key),this.keyedMap=Gh(),this.sortedSet=new _s(this.comparator)}static emptySet(e){return new pf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new pf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ry{constructor(){this.Au=new _s(nn.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Tn():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yc{constructor(e,t,r,a,c,p,b,S,N){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=S,this.hasCachedResults=N}static fromInitialDocuments(e,t,r,a,c){const p=[];return t.forEach(b=>{p.push({type:0,doc:b})}),new Yc(e,t,pf.emptySet(t),p,r,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class mw{constructor(){this.Pu=void 0,this.listeners=[]}}class B0{constructor(){this.queries=new gu(e=>bm(e),xd),this.onlineState="Unknown",this.vu=new Set}}function eg(n,e){return tg.apply(this,arguments)}function tg(){return tg=(0,Mt.Z)(function*(n,e){const t=fn(n),r=e.query;let a=!1,c=t.queries.get(r);if(c||(a=!0,c=new mw),a)try{c.Pu=yield t.onListen(r)}catch(p){const b=Ai(p,`Initialization of query '${wm(e.query)}' failed`);return void e.onError(b)}t.queries.set(r,c),c.listeners.push(e),e.bu(t.onlineState),c.Pu&&e.Vu(c.Pu)&&Zc(t)}),tg.apply(this,arguments)}function ng(n,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,Mt.Z)(function*(n,e){const t=fn(n),r=e.query;let a=!1;const c=t.queries.get(r);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),Oy.apply(this,arguments)}function yw(n,e){const t=fn(n);let r=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const b of p.listeners)b.Vu(a)&&(r=!0);p.Pu=a}}r&&Zc(t)}function vw(n,e,t){const r=fn(n),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);r.queries.delete(e)}function Zc(n){n.vu.forEach(e=>{e.next()})}class Py{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class _w{constructor(e,t){this.Mu=e,this.byteLength=t}Ou(){return"metadata"in this.Mu}}class V0{constructor(e){this.Tt=e}Zi(e){return Cl(this.Tt,e)}Xi(e){return e.metadata.exists?G_(this.Tt,e.document,!1):Xi.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return ws(e)}}class rg{constructor(e,t,r){this.Fu=e,this.localStore=t,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ky(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const r=Qr.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,r=new V0(this.Tt);for(const a of e)if(a.metadata.queries){const c=r.Zi(a.metadata.name);for(const p of a.metadata.queries){const b=(t.get(p)||Rr()).add(c);t.set(p,b)}}return t}complete(){var e=this;return(0,Mt.Z)(function*(){const t=yield function Rl(n,e,t,r){return za.apply(this,arguments)}(e.localStore,new V0(e.Tt),e.documents,e.Fu.id),r=e.Lu(e.documents);for(const a of e.queries)yield b0(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function ky(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Ny{constructor(e){this.key=e}}class Fy{constructor(e){this.key=e}}class U0{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Rr(),this.mutatedKeys=Rr(),this.ju=C_(e),this.zu=new pf(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new Ry,a=t?t.zu:this.zu;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,b=!1;const S="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,N="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((z,ce)=>{const Je=a.get(z),pt=Bh(this.query,ce)?ce:null,Et=!!Je&&this.mutatedKeys.has(Je.key),xt=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let Yt=!1;Je&&pt?Je.data.isEqual(pt.data)?Et!==xt&&(r.track({type:3,doc:pt}),Yt=!0):this.Yu(Je,pt)||(r.track({type:2,doc:pt}),Yt=!0,(S&&this.ju(pt,S)>0||N&&this.ju(pt,N)<0)&&(b=!0)):!Je&&pt?(r.track({type:0,doc:pt}),Yt=!0):Je&&!pt&&(r.track({type:1,doc:Je}),Yt=!0,(S||N)&&(b=!0)),Yt&&(pt?(p=p.add(pt),c=xt?c.add(z):c.delete(z)):(p=p.delete(z),c=c.delete(z)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const z="F"===this.query.limitType?p.last():p.first();p=p.delete(z.key),c=c.delete(z.key),r.track({type:1,doc:z})}return{zu:p,Ju:r,Li:b,mutatedKeys:c}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const c=e.Ju.Ru();c.sort((N,z)=>function(ce,Je){const pt=Et=>{switch(Et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tn()}};return pt(ce)-pt(Je)}(N.type,z.type)||this.ju(N.doc,z.doc)),this.Zu(r);const p=t?this.Xu():[],b=0===this.Qu.size&&this.current?1:0,S=b!==this.Gu;return this.Gu=b,0!==c.length||S?{snapshot:new Yc(this.query,e.zu,a,c,e.mutatedKeys,0===b,S,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:p}:{tc:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new Ry,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Rr(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new Fy(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new Ny(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=Rr();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return Yc.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class gf{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mf{constructor(e){this.key=e,this.ic=!1}}class Ew{constructor(e,t,r,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.rc={},this.oc=new gu(b=>bm(b),xd),this.uc=new Map,this.cc=new Set,this.ac=new _s(nn.comparator),this.hc=new Map,this.lc=new ny,this.fc={},this.dc=new Map,this._c=Xu.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function bw(n,e){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,Mt.Z)(function*(n,e){const t=Zy(n);let r,a;const c=t.oc.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),a=c.view.sc();else{const p=yield af(t.localStore,oa(e));t.isPrimaryClient&&qp(t.remoteStore,p);const b=t.sharedClientState.addLocalQueryTarget(p.targetId);r=p.targetId,a=yield ig(t,e,r,"current"===b,p.resumeToken)}return a}),Ly.apply(this,arguments)}function ig(n,e,t,r,a){return sg.apply(this,arguments)}function sg(){return sg=(0,Mt.Z)(function*(n,e,t,r,a){n.mc=(ce,Je,pt)=>{return(Et=(0,Mt.Z)(function*(xt,Yt,Bn,Fr){let qn=Yt.view.Hu(Bn);qn.Li&&(qn=yield Ha(xt.localStore,Yt.query,!1).then(({documents:hr})=>Yt.view.Hu(hr,qn)));const Kn=Fr&&Fr.targetChanges.get(Yt.targetId),or=Yt.view.applyChanges(qn,xt.isPrimaryClient,Kn);return Z0(xt,Yt.targetId,or.tc),or.snapshot}),function(xt,Yt,Bn,Fr){return Et.apply(this,arguments)})(n,ce,Je,pt);var Et};const c=yield Ha(n.localStore,e,!0),p=new U0(e,c.Yi),b=p.Hu(c.documents),S=Nd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,a),N=p.applyChanges(b,n.isPrimaryClient,S);Z0(n,t,N.tc);const z=new gf(e,t,p);return n.oc.set(e,z),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),N.snapshot}),sg.apply(this,arguments)}function j0(n,e){return $y.apply(this,arguments)}function $y(){return $y=(0,Mt.Z)(function*(n,e){const t=fn(n),r=t.oc.get(e),a=t.uc.get(r.targetId);if(a.length>1)return t.uc.set(r.targetId,a.filter(c=>!xd(c,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ic(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),hf(t.remoteStore,r.targetId),th(t,r.targetId)}).catch(Gu))):(th(t,r.targetId),yield ic(t.localStore,r.targetId,!0))}),$y.apply(this,arguments)}function By(){return By=(0,Mt.Z)(function*(n,e,t){const r=Qy(n);try{const a=yield function(c,p){const b=fn(c),S=Vi.now(),N=p.reduce((Je,pt)=>Je.add(pt.key),Rr());let z,ce;return b.persistence.runTransaction("Locally write mutations","readwrite",Je=>{let pt=aa(),Et=Rr();return b.ji.getEntries(Je,N).next(xt=>{pt=xt,pt.forEach((Yt,Bn)=>{Bn.isValidDocument()||(Et=Et.add(Yt))})}).next(()=>b.localDocuments.getOverlayedDocuments(Je,pt)).next(xt=>{z=xt;const Yt=[];for(const Bn of p){const Fr=Nb(Bn,z.get(Bn.key).overlayedDocument);null!=Fr&&Yt.push(new pu(Bn.key,Fr,vm(Fr.value.mapValue),Ji.exists(!0)))}return b.mutationQueue.addMutationBatch(Je,S,Yt,p)}).next(xt=>{ce=xt;const Yt=xt.applyToLocalDocumentSet(z,Et);return b.documentOverlayCache.saveOverlays(Je,xt.batchId,Yt)})}).then(()=>({batchId:ce.batchId,changes:Wh(z)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,p,b){let S=c.fc[c.currentUser.toKey()];S||(S=new _s(Tr)),S=S.insert(p,b),c.fc[c.currentUser.toKey()]=S}(r,a.batchId,t),yield vu(r,a.changes),yield qc(r.remoteStore)}catch(a){const c=Ai(a,"Failed to persist write");t.reject(c)}}),By.apply(this,arguments)}function z0(n,e){return G0.apply(this,arguments)}function G0(){return G0=(0,Mt.Z)(function*(n,e){const t=fn(n);try{const r=yield function y0(n,e){const t=fn(n),r=e.snapshotVersion;let a=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.ji.newChangeBuffer({trackRemovals:!0});a=t.Ki;const b=[];e.targetChanges.forEach((z,ce)=>{const Je=a.get(ce);if(!Je)return;b.push(t.Ns.removeMatchingKeys(c,z.removedDocuments,ce).next(()=>t.Ns.addMatchingKeys(c,z.addedDocuments,ce)));let pt=Je.withSequenceNumber(c.currentSequenceNumber);var Et,xt,Yt;e.targetMismatches.has(ce)?pt=pt.withResumeToken(js.EMPTY_BYTE_STRING,Wn.min()).withLastLimboFreeSnapshotVersion(Wn.min()):z.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(z.resumeToken,r)),a=a.insert(ce,pt),xt=pt,Yt=z,(0===(Et=Je).resumeToken.approximateByteSize()||xt.snapshotVersion.toMicroseconds()-Et.snapshotVersion.toMicroseconds()>=3e8||Yt.addedDocuments.size+Yt.modifiedDocuments.size+Yt.removedDocuments.size>0)&&b.push(t.Ns.updateTargetData(c,pt))});let S=aa(),N=Rr();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,z))}),b.push(v0(c,p,e.documentUpdates).next(z=>{S=z.Hi,N=z.Ji})),!r.isEqual(Wn.min())){const z=t.Ns.getLastRemoteSnapshotVersion(c).next(ce=>t.Ns.setTargetsMetadata(c,c.currentSequenceNumber,r));b.push(z)}return It.waitFor(b).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,S,N)).next(()=>S)}).then(c=>(t.Ki=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.hc.get(c);p&&($n(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.ic=!0:a.modifiedDocuments.size>0?$n(p.ic):a.removedDocuments.size>0&&($n(p.ic),p.ic=!1))}),yield vu(t,r,e)}catch(r){yield Gu(r)}}),G0.apply(this,arguments)}function ww(n,e,t){const r=fn(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.oc.forEach((c,p)=>{const b=p.view.bu(e);b.snapshot&&a.push(b.snapshot)}),function(c,p){const b=fn(c);b.onlineState=p;let S=!1;b.queries.forEach((N,z)=>{for(const ce of z.listeners)ce.bu(p)&&(S=!0)}),S&&Zc(b)}(r.eventManager,e),a.length&&r.rc.Ho(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iD(n,e,t){return W0.apply(this,arguments)}function W0(){return W0=(0,Mt.Z)(function*(n,e,t){const r=fn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.hc.get(e),c=a&&a.key;if(c){let p=new _s(nn.comparator);p=p.insert(c,Xi.newNoDocument(c,Wn.min()));const b=Rr().add(c),S=new Lc(Wn.min(),new Map,new qr(Tr),p,b);yield z0(r,S),r.ac=r.ac.remove(c),r.hc.delete(e),og(r)}else yield ic(r.localStore,e,!1).then(()=>th(r,e,t)).catch(Gu)}),W0.apply(this,arguments)}function q0(n,e){return eh.apply(this,arguments)}function eh(){return eh=(0,Mt.Z)(function*(n,e){const t=fn(n),r=e.batch.batchId;try{const a=yield function cw(n,e){const t=fn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=t.ji.newChangeBuffer({trackRemovals:!0});return function(p,b,S,N){const z=S.batch,ce=z.keys();let Je=It.resolve();return ce.forEach(pt=>{Je=Je.next(()=>N.getEntry(b,pt)).next(Et=>{const xt=S.docVersions.get(pt);$n(null!==xt),Et.version.compareTo(xt)<0&&(z.applyToRemoteDocument(Et,S),Et.isValidDocument()&&(Et.setReadTime(S.commitVersion),N.addEntry(Et)))})}),Je.next(()=>p.mutationQueue.removeMutationBatch(b,z))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let b=Rr();for(let S=0;S<p.mutationResults.length;++S)p.mutationResults[S].transformResults.length>0&&(b=b.add(p.batch.mutations[S].key));return b}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}(t.localStore,e);jy(t,r,null),Uy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vu(t,a)}catch(a){yield Gu(a)}}),eh.apply(this,arguments)}function Iw(n,e,t){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,Mt.Z)(function*(n,e,t){const r=fn(n);try{const a=yield function(c,p){const b=fn(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let N;return b.mutationQueue.lookupMutationBatch(S,p).next(z=>($n(null!==z),N=z.keys(),b.mutationQueue.removeMutationBatch(S,z))).next(()=>b.mutationQueue.performConsistencyCheck(S)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(S,N,p)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(S,N)).next(()=>b.localDocuments.getDocuments(S,N))})}(r.localStore,e);jy(r,e,t),Uy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vu(r,a)}catch(a){yield Gu(a)}}),Vy.apply(this,arguments)}function Qc(){return Qc=(0,Mt.Z)(function*(n,e){const t=fn(n);yu(t.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const p=fn(c);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>p.mutationQueue.getHighestUnacknowledgedBatchId(b))}(t.localStore);if(-1===r)return void e.resolve();const a=t.dc.get(r)||[];a.push(e),t.dc.set(r,a)}catch(r){const a=Ai(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Qc.apply(this,arguments)}function Uy(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function jy(n,e,t){const r=fn(n);let a=r.fc[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),r.fc[r.currentUser.toKey()]=a}}function th(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||Y0(n,r)})}function Y0(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(hf(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),og(n))}function Z0(n,e,t){for(const r of t)r instanceof Ny?(n.lc.addReference(r.key,e),Dw(n,r)):r instanceof Fy?(Kt("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||Y0(n,r.key)):Tn()}function Dw(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(Kt("SyncEngine","New document in limbo: "+t),n.cc.add(r),og(n))}function og(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new nn(Qr.fromString(e)),r=n._c.next();n.hc.set(r,new mf(t)),n.ac=n.ac.insert(t,r),qp(n.remoteStore,new Zu(oa(Md(t.path)),r,2,$a.at))}}function vu(n,e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,Mt.Z)(function*(n,e,t){const r=fn(n),a=[],c=[],p=[];var b;r.oc.isEmpty()||(r.oc.forEach((b,S)=>{p.push(r.mc(S,e,t).then(N=>{if((N||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(S.targetId,null!=N&&N.fromCache?"not-current":"current"),N){a.push(N);const z=ly.Ni(S.targetId,N);c.push(z)}}))}),yield Promise.all(p),r.rc.Ho(a),yield(b=(0,Mt.Z)(function*(S,N){const z=fn(S);try{yield z.persistence.runTransaction("notifyLocalViewChanges","readwrite",ce=>It.forEach(N,Je=>It.forEach(Je.Ci,pt=>z.persistence.referenceDelegate.addReference(ce,Je.targetId,pt)).next(()=>It.forEach(Je.xi,pt=>z.persistence.referenceDelegate.removeReference(ce,Je.targetId,pt)))))}catch(ce){if(!Wu(ce))throw ce;Kt("LocalStore","Failed to update sequence numbers: "+ce)}for(const ce of N){const Je=ce.targetId;if(!ce.fromCache){const pt=z.Ki.get(Je),xt=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);z.Ki=z.Ki.insert(Je,xt)}}}),function(S,N){return b.apply(this,arguments)})(r.localStore,c))}),Hy.apply(this,arguments)}function yf(n,e){return zy.apply(this,arguments)}function zy(){return zy=(0,Mt.Z)(function*(n,e){const t=fn(n);if(!t.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const r=yield dy(t.localStore,e);t.currentUser=e,(a=t).dc.forEach(p=>{p.forEach(b=>{b.reject(new Bt(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vu(t,r.Wi)}var a}),zy.apply(this,arguments)}function Q0(n,e){const t=fn(n),r=t.hc.get(e);if(r&&r.ic)return Rr().add(r.key);{let a=Rr();const c=t.uc.get(e);if(!c)return a;for(const p of c){const b=t.oc.get(p);a=a.unionWith(b.view.Wu)}return a}}function Cw(n,e){return ag.apply(this,arguments)}function ag(){return ag=(0,Mt.Z)(function*(n,e){const t=fn(n),r=yield Ha(t.localStore,e.query,!0),a=e.view.nc(r);return t.isPrimaryClient&&Z0(t,e.targetId,a.tc),a}),ag.apply(this,arguments)}function Tw(n,e){return lg.apply(this,arguments)}function lg(){return lg=(0,Mt.Z)(function*(n,e){const t=fn(n);return hy(t.localStore,e).then(r=>vu(t,r))}),lg.apply(this,arguments)}function Sw(n,e,t,r){return vf.apply(this,arguments)}function vf(){return vf=(0,Mt.Z)(function*(n,e,t,r){const a=fn(n),c=yield function(p,b){const S=fn(p),N=fn(S.mutationQueue);return S.persistence.runTransaction("Lookup mutation documents","readonly",z=>N.An(z,b).next(ce=>ce?S.localDocuments.getDocuments(z,ce):It.resolve(null)))}(a.localStore,e);var b;null!==c?("pending"===t?yield qc(a.remoteStore):"acknowledged"===t||"rejected"===t?(jy(a,e,r||null),Uy(a,e),b=e,fn(fn(a.localStore).mutationQueue).Pn(b)):Tn(),yield vu(a,c)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),vf.apply(this,arguments)}function ug(){return ug=(0,Mt.Z)(function*(n,e){const t=fn(n);if(Zy(t),Qy(t),!0===e&&!0!==t.wc){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield Gy(t,r.toArray());t.wc=!0,yield xy(t.remoteStore,!0);for(const c of a)qp(t.remoteStore,c)}else if(!1===e&&!1!==t.wc){const r=[];let a=Promise.resolve();t.uc.forEach((c,p)=>{t.sharedClientState.isLocalQueryTarget(p)?r.push(p):a=a.then(()=>(th(t,p),ic(t.localStore,p,!0))),hf(t.remoteStore,p)}),yield a,yield Gy(t,r),function(c){const p=fn(c);p.hc.forEach((b,S)=>{hf(p.remoteStore,S)}),p.lc._s(),p.hc=new Map,p.ac=new _s(nn.comparator)}(t),t.wc=!1,yield xy(t.remoteStore,!1)}}),ug.apply(this,arguments)}function Gy(n,e,t){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,Mt.Z)(function*(n,e,t){const r=fn(n),a=[],c=[];for(const p of e){let b;const S=r.uc.get(p);if(S&&0!==S.length){b=yield af(r.localStore,oa(S[0]));for(const N of S){const z=r.oc.get(N),ce=yield Cw(r,z);ce.snapshot&&c.push(ce.snapshot)}}else{const N=yield E0(r.localStore,p);b=yield af(r.localStore,N),yield ig(r,X0(N),p,!1,b.resumeToken)}a.push(b)}return r.rc.Ho(c),a}),Wy.apply(this,arguments)}function X0(n){return I_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Mw(n){const e=fn(n);return fn(fn(e.localStore).persistence).Si()}function qy(n,e,t,r){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,Mt.Z)(function*(n,e,t,r){const a=fn(n);if(a.wc)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const c=a.uc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const p=yield hy(a.localStore,Im(c[0])),b=Lc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,js.EMPTY_BYTE_STRING);yield vu(a,p,b);break}case"rejected":yield ic(a.localStore,e,!0),th(a,e,r);break;default:Tn()}}),Ky.apply(this,arguments)}function J0(n,e,t){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,Mt.Z)(function*(n,e,t){const r=Zy(n);if(r.wc){for(const a of e){if(r.uc.has(a)){Kt("SyncEngine","Adding an already active target "+a);continue}const c=yield E0(r.localStore,a),p=yield af(r.localStore,c);yield ig(r,X0(c),p.targetId,!1,p.resumeToken),qp(r.remoteStore,p)}for(const a of t)r.uc.has(a)&&(yield ic(r.localStore,a,!1).then(()=>{hf(r.remoteStore,a),th(r,a)}).catch(Gu))}}),Yy.apply(this,arguments)}function Zy(n){const e=fn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iD.bind(null,e),e.rc.Ho=yw.bind(null,e.eventManager),e.rc.gc=vw.bind(null,e.eventManager),e}function Qy(n){const e=fn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iw.bind(null,e),e}class eE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Mt.Z)(function*(){t.Tt=Yd(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return cy(this.persistence,new uy,e.initialUser,this.Tt)}Tc(e){return new Bp(sy.qs,this.Tt)}Ic(e){return new my}terminate(){var e=this;return(0,Mt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tE extends eE{constructor(e,t,r){super(),this.Pc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Mt.Z)(function*(){yield t().call(r,e),yield r.Pc.initialize(r,e),yield Qy(r.Pc.syncEngine),yield qc(r.Pc.remoteStore),yield r.persistence.di(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return cy(this.persistence,new uy,e.initialUser,this.Tt)}Ac(e,t){return new d0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const r=new wb(t,this.persistence);return new d_(e.asyncQueue,r)}Tc(e){const t=ay(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Po.withCacheSize(this.cacheSizeBytes):Po.DEFAULT;return new oy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,vy(),cf(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new my}}class Rw extends tE{constructor(e,t){super(e,t,!1),this.Pc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Mt.Z)(function*(){yield t().call(r,e);const a=r.Pc.syncEngine;r.sharedClientState instanceof gy&&(r.sharedClientState.syncEngine={Br:Sw.bind(null,a),Lr:qy.bind(null,a),qr:J0.bind(null,a),Si:Mw.bind(null,a),Fr:Tw.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.di(function(){var c=(0,Mt.Z)(function*(p){yield function Aw(n,e){return ug.apply(this,arguments)}(r.Pc.syncEngine,p),r.gcScheduler&&(p&&!r.gcScheduler.started?r.gcScheduler.start():p||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(p&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():p||r.indexBackfillerScheduler.stop())});return function(p){return c.apply(this,arguments)}}())})()}Ic(e){const t=vy();if(!gy.C(t))throw new Bt(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ay(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Xy{initialize(e,t){var r=this;return(0,Mt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>ww(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=yf.bind(null,r.syncEngine),yield xy(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new B0}createDatastore(e){const t=Yd(e.databaseInfo.databaseId),r=new T0(e.databaseInfo);return new dw(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,c=b=>ww(this.syncEngine,b,0),p=uf.C()?new uf:new D0,new pw(t,r,a,c,p);var t,r,a,c,p}createSyncEngine(e,t){return function(r,a,c,p,b,S,N){const z=new Ew(r,a,c,p,b,S);return N&&(z.wc=!0),z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Mt.Z)(function*(t){const r=fn(t);Kt("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Zd(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jy(n,e=10240){let t=0;return{read:()=>(0,Mt.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Mt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class _f{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ow{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new Us,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,Mt.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,Mt.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,Mt.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const r=e.Sc.decode(t),a=Number(r);isNaN(a)&&e.xc(`length string (${r}) is not valid number`);const c=yield e.Nc(a);return new _w(JSON.parse(c),t.length+a)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,Mt.Z)(function*(){for(;e.kc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Nc(e){var t=this;return(0,Mt.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.xc("Reached the end of bundle when more is expected.");const r=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,Mt.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Pw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Mt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Bt(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,Mt.Z)(function*(c,p){const b=fn(c),S=$c(b.Tt)+"/documents",N={documents:p.map(pt=>qh(b.Tt,pt))},z=yield b.mo("BatchGetDocuments",S,N,p.length),ce=new Map;z.forEach(pt=>{const Et=function jb(n,e){return"found"in e?function(t,r){$n(!!r.found);const a=Cl(t,r.found.name),c=ws(r.found.updateTime),p=r.found.createTime?ws(r.found.createTime):Wn.min(),b=new Oo({mapValue:{fields:r.found.fields}});return Xi.newFoundDocument(a,c,p,b)}(n,e):"missing"in e?function(t,r){$n(!!r.missing),$n(!!r.readTime);const a=Cl(t,r.missing),c=ws(r.readTime);return Xi.newNoDocument(a,c)}(n,e):Tn()}(b.Tt,pt);ce.set(Et.key.toString(),Et)});const Je=[];return p.forEach(pt=>{const Et=ce.get(pt.toString());$n(!!Et),Je.push(Et)}),Je}),function(c,p){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Mt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const c=nn.fromPath(a);e.mutations.push(new zh(c,e.precondition(c)))}),yield(r=(0,Mt.Z)(function*(a,c){const p=fn(a),b=$c(p.Tt)+"/documents",S={writes:c.map(N=>ba(p.Tt,N))};yield p.lo("Commit",b,S)}),function(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tn();t=Wn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Bt(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Wn.min())?Ji.exists(!1):Ji.updateTime(t):Ji.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wn.min()))throw new Bt(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ji.updateTime(t)}return Ji.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nE{constructor(e,t,r,a,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=c,this.Mc=r.maxAttempts,this.ko=new Wp(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var e=this;this.ko.vo((0,Mt.Z)(function*(){const t=new Pw(e.datastore),r=e.Fc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Bc(c)}))}).catch(a=>{e.Bc(a)})}))}Fc(e){try{const t=this.updateFunction(e);return!wd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Fb(t)}return!1}}class kw{constructor(e,t,r,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Js.UNAUTHENTICATED,this.clientId=i_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var p=(0,Mt.Z)(function*(b){Kt("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(r,p=>(Kt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,Mt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Mt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=Ai(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function rE(n,e){return ev.apply(this,arguments)}function ev(){return ev=(0,Mt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Mt.Z)(function*(c){r.isEqual(c)||(yield dy(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),ev.apply(this,arguments)}function cg(n,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Mt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield dg(n);Kt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>$0(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,c)=>$0(e.remoteStore,c)),n.onlineComponents=e}),Ef.apply(this,arguments)}function dg(n){return bf.apply(this,arguments)}function bf(){return bf=(0,Mt.Z)(function*(n){return n.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield rE(n,new eE)),n.offlineComponents}),bf.apply(this,arguments)}function hg(n){return tv.apply(this,arguments)}function tv(){return tv=(0,Mt.Z)(function*(n){return n.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield cg(n,new Xy)),n.onlineComponents}),tv.apply(this,arguments)}function fg(n){return dg(n).then(e=>e.persistence)}function pg(n){return dg(n).then(e=>e.localStore)}function gg(n){return hg(n).then(e=>e.remoteStore)}function ac(n){return hg(n).then(e=>e.syncEngine)}function nh(n){return iE.apply(this,arguments)}function iE(){return iE=(0,Mt.Z)(function*(n){const e=yield hg(n),t=e.eventManager;return t.onListen=bw.bind(null,e.syncEngine),t.onUnlisten=j0.bind(null,e.syncEngine),t}),iE.apply(this,arguments)}function mg(n,e,t={}){const r=new Us;return n.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return function(a,c,p,b,S){const N=new _f({next:ce=>{c.enqueueAndForget(()=>ng(a,z));const Je=ce.docs.has(p);!Je&&ce.fromCache?S.reject(new Bt(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&ce.fromCache&&b&&"server"===b.source?S.reject(new Bt(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(ce)},error:ce=>S.reject(ce)}),z=new Py(Md(p.path),N,{includeMetadataChanges:!0,$u:!0});return eg(a,z)}(yield nh(n),n.asyncQueue,e,t,r)})),r.promise}function iv(n,e,t={}){const r=new Us;return n.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return function(a,c,p,b,S){const N=new _f({next:ce=>{c.enqueueAndForget(()=>ng(a,z)),ce.fromCache&&"server"===b.source?S.reject(new Bt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(ce)},error:ce=>S.reject(ce)}),z=new Py(p,N,{includeMetadataChanges:!0,$u:!0});return eg(a,z)}(yield nh(n),n.asyncQueue,e,t,r)})),r.promise}const ov=new Map;function yg(n,e,t){if(!t)throw new Bt(Tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lE(n,e,t,r){if(!0===e&&!0===r)throw new Bt(Tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uE(n){if(!nn.isDocumentKey(n))throw new Bt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cE(n){if(nn.isDocumentKey(n))throw new Bt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Tn()}function Ur(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Bt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vg(n);throw new Bt(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Lw(n,e){if(e<=0)throw new Bt(Tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class av{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Bt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,lE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gb;switch(t.type){case"gapi":return new _b(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Bt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ov.get(e);t&&(Kt("ComponentProvider","Removing Datastore"),ov.delete(e),t.terminate())}(this),Promise.resolve()}}function dE(n,e,t,r={}){var a;const c=(n=Ur(n,wf))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Cc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let p,b;if("string"==typeof r.mockUserToken)p=r.mockUserToken,b=Js.MOCK_USER;else{p=(0,Nr.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new Bt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Js(S)}n._authCredentials=new mb(new ju(p,b))}}class es{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new es(this.firestore,e,this._key)}}class ko{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class Xl extends ko{constructor(e,t,r){super(e,t,Md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new es(this.firestore,null,new nn(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function lv(n,e,...t){if(n=(0,Nr.m9)(n),yg("collection","path",e),n instanceof wf){const r=Qr.fromString(e,...t);return cE(r),new Xl(n,null,r)}{if(!(n instanceof es||n instanceof Xl))throw new Bt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qr.fromString(e,...t));return cE(r),new Xl(n.firestore,null,r)}}function _g(n,e,...t){if(n=(0,Nr.m9)(n),1===arguments.length&&(e=i_.R()),yg("doc","path",e),n instanceof wf){const r=Qr.fromString(e,...t);return uE(r),new es(n,null,new nn(r))}{if(!(n instanceof es||n instanceof Xl))throw new Bt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qr.fromString(e,...t));return uE(r),new es(n.firestore,n instanceof Xl?n.converter:null,new nn(r))}}function fE(n,e){return n=(0,Nr.m9)(n),e=(0,Nr.m9)(e),(n instanceof es||n instanceof Xl)&&(e instanceof es||e instanceof Xl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uv(n,e){return n=(0,Nr.m9)(n),e=(0,Nr.m9)(e),n instanceof ko&&e instanceof ko&&n.firestore===e.firestore&&xd(n._query,e._query)&&n.converter===e.converter}class $w{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Wp(this,"async_queue_retry"),this.Hc=()=>{const t=cf();t&&Kt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=cf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=cf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new Us;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,Mt.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Wu(t))throw t;Kt("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,Vs("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const a=Jd.createAndSchedule(this,e,t,r,c=>this.Xc(c));return this.Gc.push(a),a}Jc(){this.Qc&&Tn()}verifyOperationInProgress(){}ta(){var e=this;return(0,Mt.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function cv(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class Bw{constructor(){this._progressObserver={},this._taskCompletionResolver=new Us,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ji extends wf{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new $w,this._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()}}function pE(n,e){const t="object"==typeof n?n:(0,zo.getApp)(),r="string"==typeof n?n:e||"(default)",a=(0,zo._getProvider)(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const c=(0,Nr.P0)("firestore");c&&dE(a,...c)}return a}function Is(n){return n._firestoreClient||dv(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dv(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XI(n._databaseId,c,n._persistenceKey,(b=t).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var c,b;n._firestoreClient=new kw(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yE(n,e,t){const r=new Us;return n.asyncQueue.enqueue((0,Mt.Z)(function*(){try{yield rE(n,t),yield cg(n,e),r.resolve()}catch(a){const c=a;if(!("FirebaseError"===(p=c).name?p.code===Tt.FAILED_PRECONDITION||p.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw c;Cc("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var p})).then(()=>r.promise)}function rh(n){if(n._initialized||n._terminated)throw new Bt(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(js.fromBase64String(e))}catch(t){throw new Bt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new no(js.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Bt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pl{constructor(e){this._methodName=e}}class bg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tr(this._lat,e._lat)||Tr(this._long,e._long)}}const Ww=/^__.*__$/;class qw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new pu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pd(e,this.data,t,this.fieldTransforms)}}class Df{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cf(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tn()}}class wg{constructor(e,t,r,a,c,p){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=a,void 0===c&&this.ia(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.oa({path:r,ca:!1});return a.aa(e),a}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.oa({path:r,ca:!1});return a.ia(),a}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Rf(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(Cf(this.ra)&&Ww.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class Kw{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||Yd(e)}wa(e,t,r,a=!1){return new wg({ra:e,methodName:t,_a:r,path:Ui.emptyPath(),ca:!1,da:a},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function lc(n){const e=n._freezeSettings(),t=Yd(n._databaseId);return new Kw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Tf(n,e,t,r,a,c={}){const p=n.wa(c.merge||c.mergeFields?2:0,e,t,a);Mf("Data must be an object, but it was:",p,r);const b=bE(r,p);let S,N;if(c.merge)S=new Va(p.fieldMask),N=p.fieldTransforms;else if(c.mergeFields){const z=[];for(const ce of c.mergeFields){const Je=ih(e,ce,t);if(!p.contains(Je))throw new Bt(Tt.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);IE(z,Je)||z.push(Je)}S=new Va(z),N=p.fieldTransforms.filter(ce=>S.covers(ce.field))}else S=null,N=p.fieldTransforms;return new qw(new Oo(b),S,N)}class Xc extends Pl{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function fv(n,e,t){return new wg({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class Sf extends Pl{_toFieldTransform(e){return new Ep(e.path,new Ku)}isEqual(e){return e instanceof Sf}}class pv extends Pl{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=fv(this,e,!0),r=this.ma.map(c=>Jc(c,t)),a=new fu(r);return new Ep(e.path,a)}isEqual(e){return this===e}}class _E extends Pl{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=fv(this,e,!0),r=this.ma.map(c=>Jc(c,t)),a=new Rd(r);return new Ep(e.path,a)}isEqual(e){return this===e}}class gv extends Pl{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new Uh(e.Tt,Ob(e.Tt,this.ga));return new Ep(e.path,t)}isEqual(e){return this===e}}function Af(n,e,t,r){const a=n.wa(1,e,t);Mf("Data must be an object, but it was:",a,r);const c=[],p=Oo.empty();uu(r,(S,N)=>{const z=xf(e,S,t);N=(0,Nr.m9)(N);const ce=a.ha(z);if(N instanceof Xc)c.push(z);else{const Je=Jc(N,ce);null!=Je&&(c.push(z),p.set(z,Je))}});const b=new Va(c);return new Df(p,b,a.fieldTransforms)}function mv(n,e,t,r,a,c){const p=n.wa(1,e,t),b=[ih(e,r,t)],S=[a];if(c.length%2!=0)throw new Bt(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<c.length;Je+=2)b.push(ih(e,c[Je])),S.push(c[Je+1]);const N=[],z=Oo.empty();for(let Je=b.length-1;Je>=0;--Je)if(!IE(N,b[Je])){const pt=b[Je];let Et=S[Je];Et=(0,Nr.m9)(Et);const xt=p.ha(pt);if(Et instanceof Xc)N.push(pt);else{const Yt=Jc(Et,xt);null!=Yt&&(N.push(pt),z.set(pt,Yt))}}const ce=new Va(N);return new Df(z,ce,p.fieldTransforms)}function EE(n,e,t,r=!1){return Jc(t,n.wa(r?4:3,e))}function Jc(n,e){if(yv(n=(0,Nr.m9)(n)))return Mf("Unsupported field value:",e,n),bE(n,e);if(n instanceof Pl)return function(t,r){if(!Cf(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,r){const a=[];let c=0;for(const p of t){let b=Jc(p,r.la(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,Nr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ob(r.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Vi.fromDate(t);return{timestampValue:Ld(r.Tt,a)}}if(t instanceof Vi){const a=new Vi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ld(r.Tt,a)}}if(t instanceof bg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof no)return{bytesValue:Ub(r.Tt,t._byteString)};if(t instanceof es){const a=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw r.fa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Pm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${vg(t)}`)}(n,e)}function bE(n,e){const t={};return sm(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uu(n,(r,a)=>{const c=Jc(a,e.ua(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function yv(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vi||n instanceof bg||n instanceof no||n instanceof es||n instanceof Pl)}function Mf(n,e,t){if(!yv(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vg(t);throw e.fa("an object"===r?n+" a custom object":n+" "+r)}var r}function ih(n,e,t){if((e=(0,Nr.m9)(e))instanceof _u)return e._internalPath;if("string"==typeof e)return xf(n,e);throw Rf("Field path arguments must be of type string or ",n,!1,void 0,t)}const wE=new RegExp("[~\\*/\\[\\]]");function xf(n,e,t){if(e.search(wE)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _u(...e.split("."))._internalPath}catch(r){throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rf(n,e,t,r,a){const c=r&&!r.isEmpty(),p=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let S="";return(c||p)&&(S+=" (found",c&&(S+=` in field ${r}`),p&&(S+=` in document ${a}`),S+=")"),new Bt(Tt.INVALID_ARGUMENT,b+n+S)}function IE(n,e){return n.some(t=>t.isEqual(e))}class sh{constructor(e,t,r,a,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new es(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new DE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ig("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class DE extends sh{data(){return super.data()}}function Ig(n,e){return"string"==typeof e?xf(n,e):e instanceof _u?e._internalPath:e._delegate._internalPath}function vv(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Bt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}class ro extends _v{}function Ga(n,e,...t){let r=[];e instanceof _v&&r.push(e),r=r.concat(t),function(a){const c=a.filter(b=>b instanceof Pf).length,p=a.filter(b=>b instanceof Of).length;if(c>1||c>0&&p>0)throw new Bt(Tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Of extends ro{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Of(e,t,r)}_apply(e){const t=this._parse(e);return eI(e._query,t),new ko(e.firestore,e.converter,Ir(e._query,t))}_parse(e){const t=lc(e.firestore);return function(a,c,p,b,S,N,z){let ce;if(S.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new Bt(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if("in"===N||"not-in"===N){Tg(z,N);const Je=[];for(const pt of z)Je.push(Lf(b,a,pt));ce={arrayValue:{values:Je}}}else ce=Lf(b,a,z)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||Tg(z,N),ce=EE(p,"where",z,"in"===N||"not-in"===N);return Wr.create(S,N,ce)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Pf extends _v{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pf(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,a){let c=r;const p=a.getFlattenedFilters();for(const b of p)eI(c,b),c=Ir(c,b)}(e._query,t),new ko(e.firestore,e.converter,Ir(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kf extends ro{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kf(e,t)}_apply(e){const t=function(r,a,c){if(null!==r.startAt)throw new Bt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Bt(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Td(a,c);return function(b,S){if(null===_m(b)){const N=Lh(b);null!==N&&Iv(0,N,S.field)}}(r,p),p}(e._query,this._field,this._direction);return new ko(e.firestore,e.converter,function(r,a){const c=r.explicitOrderBy.concat([a]);return new ql(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Dg extends ro{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Dg(e,t,r)}_apply(e){return new ko(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}class Ff extends ro{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ff(e,t,r)}_apply(e){const t=wv(e,this.type,this._docOrFields,this._inclusive);return new ko(e.firestore,e.converter,(a=t,new ql((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class Cg extends ro{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Cg(e,t,r)}_apply(e){const t=wv(e,this.type,this._docOrFields,this._inclusive);return new ko(e.firestore,e.converter,(a=t,new ql((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function wv(n,e,t,r){if(t[0]=(0,Nr.m9)(t[0]),t[0]instanceof sh)return function(a,c,p,b,S){if(!b)throw new Bt(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const N=[];for(const z of Oc(a))if(z.field.isKeyField())N.push(du(c,b.key));else{const ce=b.data.field(z.field);if(Rh(ce))throw new Bt(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+z.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ce){const Je=z.field.canonicalString();throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}N.push(ce)}return new hu(N,S)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=lc(n.firestore);return function(c,p,b,S,N,z){const ce=c.explicitOrderBy;if(N.length>ce.length)throw new Bt(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${S}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let pt=0;pt<N.length;pt++){const Et=N[pt];if(ce[pt].field.isKeyField()){if("string"!=typeof Et)throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${S}(), but got a ${typeof Et}`);if(!Em(c)&&-1!==Et.indexOf("/"))throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${S}() must be a plain document ID, but '${Et}' contains a slash.`);const xt=c.path.child(Qr.fromString(Et));if(!nn.isDocumentKey(xt))throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${S}() must result in a valid document path, but '${xt}' is not because it contains an odd number of segments.`);const Yt=new nn(xt);Je.push(du(p,Yt))}else{const xt=EE(b,S,Et);Je.push(xt)}}return new hu(Je,z)}(n._query,n.firestore._databaseId,a,e,t,r)}}function Lf(n,e,t){if("string"==typeof(t=(0,Nr.m9)(t))){if(""===t)throw new Bt(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Em(e)&&-1!==t.indexOf("/"))throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qr.fromString(t));if(!nn.isDocumentKey(r))throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return du(n,new nn(r))}if(t instanceof es)return du(n,t._key);throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vg(t)}.`)}function Tg(n,e){if(!Array.isArray(n)||0===n.length)throw new Bt(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eI(n,e){if(e.isInequality()){const r=Lh(n),a=e.field;if(null!==r&&!r.isEqual(a))throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${a.toString()}'`);const c=_m(n);null!==c&&Iv(0,a,c)}const t=function(r,a){for(const c of r)for(const p of c.getFlattenedFilters())if(a.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Bt(Tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Iv(n,e,t){if(!t.isEqual(e))throw new Bt(Tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Sg{convertValue(e,t="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tn()}}convertObject(e,t){const r={};return uu(e.fields,(a,c)=>{r[a]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new bg(Qi(e.latitude),Qi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=am(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const t=Ac(e);return new Vi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qr.fromString(e);$n(Dp(r));const a=new Sc(r.get(1),r.get(3)),c=new nn(r.popFirst(5));return a.isEqual(t)||Vs(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Eu(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class tI extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new es(this.firestore,null,t)}}class ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends sh{constructor(e,t,r,a,c,p){super(e,t,r,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ig("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $f extends bu{data(e={}){return super.data(e)}}class wu{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ed(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $f(this._firestore,this._userDataWriter,r.key,r,new ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(p=>({type:"added",doc:new $f(r._firestore,r._userDataWriter,p.doc.key,p.doc,new ed(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const b=new $f(r._firestore,r._userDataWriter,p.doc.key,p.doc,new ed(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter);let S=-1,N=-1;return 0!==p.type&&(S=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),N=c.indexOf(p.doc.key)),{type:AE(p.type),doc:b,oldIndex:S,newIndex:N}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tn()}}function ME(n,e){return n instanceof bu&&e instanceof bu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof wu&&e instanceof wu&&n._firestore===e._firestore&&uv(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Iu extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new es(this.firestore,null,t)}}function Dv(n,e,t){n=Ur(n,es);const r=Ur(n.firestore,ji),a=Eu(n.converter,e,t);return td(r,[Tf(lc(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Ji.none())])}function Cv(n,e,t,...r){n=Ur(n,es);const a=Ur(n.firestore,ji),c=lc(a);let p;return p="string"==typeof(e=(0,Nr.m9)(e))||e instanceof _u?mv(c,"updateDoc",n._key,e,t,r):Af(c,"updateDoc",n._key,e),td(a,[p.toMutation(n._key,Ji.exists(!0))])}function kE(n,...e){var t,r,a;n=(0,Nr.m9)(n);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||cv(e[p])||(c=e[p],p++);const b={includeMetadataChanges:c.includeMetadataChanges};if(cv(e[p])){const ce=e[p];e[p]=null===(t=ce.next)||void 0===t?void 0:t.bind(ce),e[p+1]=null===(r=ce.error)||void 0===r?void 0:r.bind(ce),e[p+2]=null===(a=ce.complete)||void 0===a?void 0:a.bind(ce)}let S,N,z;if(n instanceof es)N=Ur(n.firestore,ji),z=Md(n._key.path),S={next:ce=>{e[p]&&e[p](NE(N,n,ce))},error:e[p+1],complete:e[p+2]};else{const ce=Ur(n,ko);N=Ur(ce.firestore,ji),z=ce._query;const Je=new Iu(N);S={next:pt=>{e[p]&&e[p](new wu(N,Je,ce,pt))},error:e[p+1],complete:e[p+2]},vv(n._query)}return function(ce,Je,pt,Et){const xt=new _f(Et),Yt=new Py(Je,xt,pt);return ce.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return eg(yield nh(ce),Yt)})),()=>{xt.bc(),ce.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return ng(yield nh(ce),Yt)}))}}(Is(N),z,b,S)}function td(n,e){return function(t,r){const a=new Us;return t.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return function H0(n,e,t){return By.apply(this,arguments)}(yield ac(t),r,a)})),a.promise}(Is(n),e)}function NE(n,e,t){const r=t.docs.get(e._key),a=new Iu(n);return new bu(n,a,e._key,r,new ed(t.hasPendingWrites,t.fromCache),e.converter)}const dD={maxAttempts:5};class aI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lc(e)}set(e,t,r){this._verifyNotCommitted();const a=nd(e,this._firestore),c=Eu(a.converter,t,r),p=Tf(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,r);return this._mutations.push(p.toMutation(a._key,Ji.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const c=nd(e,this._firestore);let p;return p="string"==typeof(t=(0,Nr.m9)(t))||t instanceof _u?mv(this._dataReader,"WriteBatch.update",c._key,t,r,a):Af(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(p.toMutation(c._key,Ji.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nd(e,this._firestore);return this._mutations=this._mutations.concat(new Nc(t._key,Ji.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bt(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nd(n,e){if((n=(0,Nr.m9)(n)).firestore!==e)throw new Bt(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class hD extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lc(e)}get(e){const t=nd(e,this._firestore),r=new tI(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Tn();const c=a[0];if(c.isFoundDocument())return new sh(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new sh(this._firestore,r,t._key,null,t.converter);throw Tn()})}set(e,t,r){const a=nd(e,this._firestore),c=Eu(a.converter,t,r),p=Tf(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,r);return this._transaction.set(a._key,p),this}update(e,t,r,...a){const c=nd(e,this._firestore);let p;return p="string"==typeof(t=(0,Nr.m9)(t))||t instanceof _u?mv(this._dataReader,"Transaction.update",c._key,t,r,a):Af(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,p),this}delete(e){const t=nd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nd(e,this._firestore),r=new Iu(this._firestore);return super.get(e).then(a=>new bu(this._firestore,r,t._key,a._document,new ed(!1,!1),t.converter))}}!function(n,e=!0){lu=zo.SDK_VERSION,(0,zo._registerComponent)(new Jo.wA("firestore",(t,{instanceIdentifier:r,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new ji(new yb(t.getProvider("auth-internal")),new _d(t.getProvider("app-check-internal")),function(b,S){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Bt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(b.options.projectId,S)}(c,r),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,zo.registerVersion)(em,"3.9.0",n),(0,zo.registerVersion)(em,"3.9.0","esm2017")}();function BE(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Bt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function VE(){if(typeof Uint8Array>"u")throw new Bt("unimplemented","Uint8Arrays are not available in this environment.")}function UE(){if(!function f_(){return typeof atob<"u"}())throw new Bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Bf{constructor(e){this._delegate=e}static fromBase64String(e){return UE(),new Bf(no.fromBase64String(e))}static fromUint8Array(e){return VE(),new Bf(no.fromUint8Array(e))}toBase64(){return UE(),this._delegate.toBase64()}toUint8Array(){return VE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oh(n){return function cI(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class gD{enableIndexedDbPersistence(e,t){return function gE(n,e){rh(n=Ur(n,ji));const t=Is(n),r=n._freezeSettings(),a=new Xy;return yE(t,a,new tE(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function mE(n){rh(n=Ur(n,ji));const e=Is(n),t=n._freezeSettings(),r=new Xy;return yE(e,r,new Rw(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Uw(n){if(n._initialized&&!n._terminated)throw new Bt(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Us;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Mt.Z)(function*(){try{yield(t=(0,Mt.Z)(function*(r){if(!_a.C())return Promise.resolve();const a=r+"main";yield _a.delete(a)}),function(r){return t.apply(this,arguments)})(ay(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dI{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Sc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){dE(this._delegate,e,t,r)}enableNetwork(){return function jw(n){return function sE(n){return n.asyncQueue.enqueue((0,Mt.Z)(function*(){const e=yield fg(n),t=yield gg(n);return e.setNetworkEnabled(!0),function(r){const a=fn(r);return a.mu.delete(0),df(a)}(t)}))}(Is(n=Ur(n,ji)))}(this._delegate)}disableNetwork(){return function Hw(n){return function rv(n){return n.asyncQueue.enqueue((0,Mt.Z)(function*(){const e=yield fg(n),t=yield gg(n);return e.setNetworkEnabled(!1),(r=(0,Mt.Z)(function*(a){const c=fn(a);c.mu.add(0),yield Zd(c),c.pu.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(Is(n=Ur(n,ji)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,lE("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function sD(n){return function(e){const t=new Us;return e.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return function K0(n,e){return Qc.apply(this,arguments)}(yield ac(e),t)})),t.promise}(Is(n=Ur(n,ji)))}(this._delegate)}onSnapshotsInSync(e){return function uD(n,e){return function sv(n,e){const t=new _f(e);return n.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return r=yield nh(n),a=t,fn(r).vu.add(a),void a.next();var r,a})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return r=yield nh(n),a=t,void fn(r).vu.delete(a);var r,a}))}}(Is(n=Ur(n,ji)),cv(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fo(this,lv(this._delegate,e))}catch(t){throw Yo(t,"collection()","Firestore.collection()")}}doc(e){try{return new pl(this,_g(this._delegate,e))}catch(t){throw Yo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new No(this,function hE(n,e){if(n=Ur(n,wf),yg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Bt(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ko(n,null,(t=e,new ql(Qr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Yo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function fD(n,e,t){n=Ur(n,ji);const r=Object.assign(Object.assign({},dD),t);return function(a){if(a.maxAttempts<1)throw new Bt(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,c,p){const b=new Us;return a.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){const S=yield function nv(n){return hg(n).then(e=>e.datastore)}(a);new nE(a.asyncQueue,S,p,c,b).run()})),b.promise}(Is(n),a=>e(new hD(n,a)),r)}(this._delegate,t=>e(new jE(this,t)))}batch(){return Is(this._delegate),new HE(new aI(this._delegate,e=>td(this._delegate,e)))}loadBundle(e){return function zw(n,e){const t=Is(n=Ur(n,ji)),r=new Bw;return function oE(n,e,t,r){const a=function(c,p){let b;return b="string"==typeof c?(new TextEncoder).encode(c):c,S=function(S,N){if(S instanceof Uint8Array)return Jy(S,N);if(S instanceof ArrayBuffer)return Jy(new Uint8Array(S),N);if(S instanceof ReadableStream)return S.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new Ow(S,p);var S}(t,Yd(e));n.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){!function xw(n,e,t){const r=fn(n);var a;(a=(0,Mt.Z)(function*(c,p,b){try{const S=yield p.getMetadata();if(yield function(Je,pt){const Et=fn(Je),xt=ws(pt.createTime);return Et.persistence.runTransaction("hasNewerBundle","readonly",Yt=>Et.$s.getBundleMetadata(Yt,pt.id)).then(Yt=>!!Yt&&Yt.createTime.compareTo(xt)>=0)}(c.localStore,S))return yield p.close(),b._completeWith({taskState:"Success",documentsLoaded:(Je=S).totalDocuments,bytesLoaded:Je.totalBytes,totalDocuments:Je.totalDocuments,totalBytes:Je.totalBytes}),Promise.resolve(new Set);b._updateProgress(ky(S));const N=new rg(S,c.localStore,p.Tt);let z=yield p.yc();for(;z;){const Je=yield N.Bu(z);Je&&b._updateProgress(Je),z=yield p.yc()}const ce=yield N.complete();return yield vu(c,ce.Uu,void 0),yield function(Je,pt){const Et=fn(Je);return Et.persistence.runTransaction("Save bundle","readwrite",xt=>Et.$s.saveBundleMetadata(xt,pt))}(c.localStore,S),b._completeWith(ce.progress),Promise.resolve(ce.qu)}catch(S){return Cc("SyncEngine",`Loading bundle failed with ${S}`),b._failWith(S),Promise.resolve(new Set)}var Je}),function(c,p,b){return a.apply(this,arguments)})(r,e,t).then(a=>{r.sharedClientState.notifyBundleLoaded(a)})}(yield ac(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Gw(n,e){return function aE(n,e){return n.asyncQueue.enqueue((0,Mt.Z)(function*(){return function(t,r){const a=fn(t);return a.persistence.runTransaction("Get named query","readonly",c=>a.$s.getNamedQuery(c,r))}(yield pg(n),e)}))}(Is(n=Ur(n,ji)),e).then(t=>t?new ko(n,null,t.query):null)}(this._delegate,e).then(t=>t?new No(this,t):null)}}class Tv extends Sg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bf(new no(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pl.forKey(t,this.firestore,null)}}class jE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tv(e)}get(e){const t=rd(e);return this._delegate.get(t).then(r=>new ua(this._firestore,new bu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=rd(e);return r?(BE("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=rd(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=rd(e);return this._delegate.delete(t),this}}class HE{constructor(e){this._delegate=e}set(e,t,r){const a=rd(e);return r?(BE("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const c=rd(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...a),this}delete(e){const t=rd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ah{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $f(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vf(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ah.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let c=a.get(t);return c||(c=new ah(e,new Tv(e),t),a.set(t,c)),c}}ah.INSTANCES=new WeakMap;class pl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tv(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pl(t,new es(t._delegate,r,new nn(e)))}static forKey(e,t,r){return new pl(t,new es(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fo(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fo(this.firestore,lv(this._delegate,e))}catch(t){throw Yo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Nr.m9)(e))instanceof es&&fE(this._delegate,e)}set(e,t){t=BE("DocumentReference.set",t);try{return t?Dv(this._delegate,e,t):Dv(this._delegate,e)}catch(r){throw Yo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Cv(this._delegate,e):Cv(this._delegate,e,t,...r)}catch(a){throw Yo(a,"updateDoc()","DocumentReference.update()")}}delete(){return function PE(n){return td(Ur(n.firestore,ji),[new Nc(n._key,Ji.none())])}(this._delegate)}onSnapshot(...e){const t=Sv(e),r=fI(e,a=>new ua(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return kE(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rI(n){n=Ur(n,es);const e=Ur(n.firestore,ji),t=Is(e),r=new Iu(e);return function Nw(n,e){const t=new Us;return n.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return(r=(0,Mt.Z)(function*(a,c,p){try{const b=yield function(S,N){const z=fn(S);return z.persistence.runTransaction("read document","readonly",ce=>z.localDocuments.getDocument(ce,N))}(a,c);b.isFoundDocument()?p.resolve(b):b.isNoDocument()?p.resolve(null):p.reject(new Bt(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const S=Ai(b,`Failed to get document '${c} from cache`);p.reject(S)}}),function(a,c,p){return r.apply(this,arguments)})(yield pg(n),e,t);var r})),t.promise}(t,n._key).then(a=>new bu(e,r,n._key,a,new ed(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function iI(n){n=Ur(n,es);const e=Ur(n.firestore,ji);return mg(Is(e),n._key,{source:"server"}).then(t=>NE(e,n,t))}(this._delegate):function xE(n){n=Ur(n,es);const e=Ur(n.firestore,ji);return mg(Is(e),n._key).then(t=>NE(e,n,t))}(this._delegate),t.then(r=>new ua(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pl(this.firestore,this._delegate.withConverter(e?ah.getInstance(this.firestore,e):null))}}function Yo(n,e,t){return n.message=n.message.replace(e,t),n}function Sv(n){for(const e of n)if("object"==typeof e&&!oh(e))return e;return{}}function fI(n,e){var t,r;let a;return a=oh(n[0])?n[0]:oh(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class ua{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ME(this._delegate,e._delegate)}}class Vf extends ua{data(e){const t=this._delegate.data(e);return function op(n,e){n||Tn()}(void 0!==t),t}}class No{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tv(e)}where(e,t,r){try{return new No(this.firestore,Ga(this._delegate,function Yw(n,e,t){const r=e,a=Ig("where",n);return Of._create(a,r,t)}(e,t,r)))}catch(a){throw Yo(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new No(this.firestore,Ga(this._delegate,function Nf(n,e="asc"){const t=e,r=Ig("orderBy",n);return kf._create(r,t)}(e,t)))}catch(r){throw Yo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new No(this.firestore,Ga(this._delegate,function Ev(n){return Lw("limit",n),Dg._create("limit",n,"F")}(e)))}catch(t){throw Yo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new No(this.firestore,Ga(this._delegate,function Qw(n){return Lw("limitToLast",n),Dg._create("limitToLast",n,"L")}(e)))}catch(t){throw Yo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new No(this.firestore,Ga(this._delegate,function Xw(...n){return Ff._create("startAt",n,!0)}(...e)))}catch(t){throw Yo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new No(this.firestore,Ga(this._delegate,function Jw(...n){return Ff._create("startAfter",n,!1)}(...e)))}catch(t){throw Yo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new No(this.firestore,Ga(this._delegate,function bv(...n){return Cg._create("endBefore",n,!1)}(...e)))}catch(t){throw Yo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new No(this.firestore,Ga(this._delegate,function CE(...n){return Cg._create("endAt",n,!0)}(...e)))}catch(t){throw Yo(t,"endAt()","Query.endAt()")}}isEqual(e){return uv(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function sI(n){n=Ur(n,ko);const e=Ur(n.firestore,ji),t=Is(e),r=new Iu(e);return function Fw(n,e){const t=new Us;return n.asyncQueue.enqueueAndForget((0,Mt.Z)(function*(){return(r=(0,Mt.Z)(function*(a,c,p){try{const b=yield Ha(a,c,!0),S=new U0(c,b.Yi),N=S.Hu(b.documents),z=S.applyChanges(N,!1);p.resolve(z.snapshot)}catch(b){const S=Ai(b,`Failed to execute query '${c} against cache`);p.reject(S)}}),function(a,c,p){return r.apply(this,arguments)})(yield pg(n),e,t);var r})),t.promise}(t,n._query).then(a=>new wu(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function OE(n){n=Ur(n,ko);const e=Ur(n.firestore,ji),t=Is(e),r=new Iu(e);return iv(t,n._query,{source:"server"}).then(a=>new wu(e,r,n,a))}(this._delegate):function RE(n){n=Ur(n,ko);const e=Ur(n.firestore,ji),t=Is(e),r=new Iu(e);return vv(n._query),iv(t,n._query).then(a=>new wu(e,r,n,a))}(this._delegate),t.then(r=>new zE(this.firestore,new wu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Sv(e),r=fI(e,a=>new zE(this.firestore,new wu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return kE(this._delegate,t,r)}withConverter(e){return new No(this.firestore,this._delegate.withConverter(e?ah.getInstance(this.firestore,e):null))}}class pI{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Vf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new No(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Vf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new pI(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Vf(this._firestore,r))})}isEqual(e){return ME(this._delegate,e._delegate)}}class Fo extends No{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pl(this.firestore,e):null}doc(e){try{return new pl(this.firestore,void 0===e?_g(this._delegate):_g(this._delegate,e))}catch(t){throw Yo(t,"doc()","CollectionReference.doc()")}}add(e){return function oI(n,e){const t=Ur(n.firestore,ji),r=_g(n),a=Eu(n.converter,e);return td(t,[Tf(lc(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Ji.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pl(this.firestore,t))}isEqual(e){return fE(this._delegate,e._delegate)}withConverter(e){return new Fo(this.firestore,this._delegate.withConverter(e?ah.getInstance(this.firestore,e):null))}}function rd(n){return Ur(n,es)}class Uf{constructor(...e){this._delegate=new _u(...e)}static documentId(){return new Uf(Ui.keyField().canonicalString())}isEqual(e){return(e=(0,Nr.m9)(e))instanceof _u&&this._delegate._internalPath.isEqual(e._internalPath)}}class id{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pD(){return new Sf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new id(e)}static delete(){const e=function Ag(){return new Xc("deleteField")}();return e._methodName="FieldValue.delete",new id(e)}static arrayUnion(...e){const t=function FE(...n){return new pv("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new id(t)}static arrayRemove(...e){const t=function Mg(...n){return new _E("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new id(t)}static increment(e){const t=function LE(n){return new gv("increment",n)}(e);return t._methodName="FieldValue.increment",new id(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gI={Firestore:dI,GeoPoint:bg,Timestamp:Vi,Blob:Bf,Transaction:jE,WriteBatch:HE,DocumentReference:pl,DocumentSnapshot:ua,Query:No,QueryDocumentSnapshot:Vf,QuerySnapshot:zE,CollectionReference:Fo,FieldPath:Uf,FieldValue:id,setLogLevel:function hI(n){!function pb(n){Hl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function GE(n){(function Av(n,e){n.INTERNAL.registerComponent(new Jo.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps(Object.assign({},gI)))})(n,(e,t)=>new dI(e,t,new gD)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(gl.Z);var Mv=V(7579),mI=V(6451),jf=V(5363),Du=V(3900),yI=V(6063);class WE extends Mv.x{constructor(e=1/0,t=1/0,r=yI.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:p}=this;t||(r.push(e),!a&&r.push(c.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let p=0;p<c.length&&!e.closed;p+=r?1:2)e.next(c[p]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const p=t.now();let b=0;for(let S=1;S<r.length&&r[S]<=p;S+=2)b=S;b&&r.splice(0,b+1)}}}var vI=V(3099);function Rg(n,e,t){let r,a=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,vI.B)({connector:()=>new WE(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Cu=V(590),uc=V(576);function xv(n,e){return(0,uc.m)(e)?(0,Du.w)(()=>n,e):(0,Du.w)(()=>n)}var Hf=V(9468),Tu=V(259);class lh{constructor(e){return e}}class qE{constructor(){return(0,Tu.C6)()}}const Rv=new v.OlP("angularfire2._apps"),EI={provide:lh,useFactory:function _I(n){return n&&1===n.length?n[0]:new lh((0,Tu.Mq)())},deps:[[new v.FiY,Rv]]},KE={provide:qE,deps:[[new v.FiY,Rv]]};function yD(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new lh(r)}}let YE=(()=>{class n{constructor(t){(0,Tu.KN)("angularfire",Mr.q4.full,"core"),(0,Tu.KN)("angularfire",Mr.q4.full,"app"),(0,Tu.KN)("angular",v.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.Lbi))},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[EI,KE]}),n})();function bI(n,...e){return{ngModule:YE,providers:[{provide:Rv,useFactory:yD(n),multi:!0,deps:[v.R0b,v.zs3,Mr.HU,...e]}]}}const QE=(0,Mr.u3)(Tu.ZF,!0),Og=new Map,zf={activated:!1,tokenObservers:[]},Pg={initialized:!1,enabled:!1};function Eo(n){return Og.get(n)||Object.assign({},zf)}function kg(){return Pg}const Ov="https://content-firebaseappcheck.googleapis.com/v1",XE="exchangeDebugToken",JE={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class AI{constructor(e,t,r,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Mt.Z)(function*(){t.stop();try{t.pending=new Nr.BH,yield function ED(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Nr.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ia=new Nr.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fv(){return Fv=(0,Mt.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const ce=yield a.getHeartbeatsHeader();ce&&(r["X-Firebase-Client"]=ce)}const c={method:"POST",body:JSON.stringify(e),headers:r};let p,b;try{p=yield fetch(n,c)}catch(ce){throw Ia.create("fetch-network-error",{originalErrorMessage:null==ce?void 0:ce.message})}if(200!==p.status)throw Ia.create("fetch-status-error",{httpStatus:p.status});try{b=yield p.json()}catch(ce){throw Ia.create("fetch-parse-error",{originalErrorMessage:null==ce?void 0:ce.message})}const S=b.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Ia.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const N=1e3*Number(S[1]),z=Date.now();return{token:b.token,expireTimeMillis:z+N,issuedAtTimeMillis:z}}),Fv.apply(this,arguments)}const Lv="firebase-app-check-database",$v=1,Gf="firebase-app-check-store";let uh=null;function Vv(){return Vv=(0,Mt.Z)(function*(n,e){const r=(yield function Wf(){return uh||(uh=new Promise((n,e)=>{try{const t=indexedDB.open(Lv,$v);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(Ia.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Gf,{keyPath:"compositeKey"})}}catch(t){e(Ia.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),uh)}()).transaction(Gf,"readwrite"),c=r.objectStore(Gf).put({compositeKey:n,value:e});return new Promise((p,b)=>{c.onsuccess=S=>{p()},r.onerror=S=>{var N;b(Ia.create("storage-set",{originalErrorMessage:null===(N=S.target.error)||void 0===N?void 0:N.message}))}})}),Vv.apply(this,arguments)}const ch=new Ls.Yd("@firebase/app-check");function jv(n,e){return(0,Nr.hl)()?function ID(n,e){return function Bv(n,e){return Vv.apply(this,arguments)}(function rb(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ch.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Bg(){return Bg=(0,Mt.Z)(function*(){const n=kg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Bg.apply(this,arguments)}const OI={error:"UNKNOWN_ERROR"};function PI(n){return Nr.US.encodeString(JSON.stringify(n),!1)}function zv(n){return sb.apply(this,arguments)}function sb(){return sb=(0,Mt.Z)(function*(n,e=!1){const t=n.app;!function MI(n){if(!Eo(n).activated)throw Ia.create("use-before-activation",{appName:n.name})}(t);const r=Eo(t);let c,a=r.token;if(a&&!qf(a)&&(r.token=void 0,a=void 0),!a){const S=yield r.cachedTokenPromise;S&&(qf(S)?a=S:yield jv(t,void 0))}if(!e&&a&&qf(a))return{token:a.token};let b,p=!1;if(function $g(){return kg().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function Nv(n,e){return Fv.apply(this,arguments)}(function tb(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`${Ov}/projects/${t}/apps/${r}:${XE}?key=${a}`,body:{debug_token:e}}}(t,yield function RI(){return Bg.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),p=!0);const S=yield r.exchangeTokenPromise;return yield jv(t,S),r.token=S,{token:S.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),p=!0),a=yield Eo(t).exchangeTokenPromise}catch(S){"appCheck/throttled"===S.code?ch.warn(S.message):ch.error(S),c=S}return a?c?b=qf(a)?{token:a.token,internalError:c}:NI(c):(b={token:a.token},r.token=a,yield jv(t,a)):b=NI(c),p&&function kI(n,e){const t=Eo(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}(t,b),b}),sb.apply(this,arguments)}function Wv(n,e){const t=Eo(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function ob(n){const{app:e}=n,t=Eo(e);let r=t.tokenRefresher;r||(r=function TD(n){const{app:e}=n;return new AI((0,Mt.Z)(function*(){let r;if(r=Eo(e).token?yield zv(n,!0):yield zv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Eo(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},JE.RETRIAL_MIN_WAIT,JE.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qf(n){return n.expireTimeMillis-Date.now()>0}function NI(n){return{token:PI(OI),error:n}}class FI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Eo(this.app);for(const t of e)Wv(this.app,t.next);return Promise.resolve()}}const bi="app-check-internal";!function us(){(0,zo._registerComponent)(new Jo.wA("app-check",n=>function SD(n,e){return new FI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bi).initialize()})),(0,zo._registerComponent)(new Jo.wA(bi,n=>function AD(n){return{getToken:e=>zv(n,e),addTokenListener:e=>function Gv(n,e,t,r){const{app:a}=n,c=Eo(a);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&qf(c.token)){const b=c.token;Promise.resolve().then(()=>{t({token:b.token}),ob(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>ob(n))}(n,"INTERNAL",e),removeTokenListener:e=>Wv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,zo.registerVersion)("@firebase/app-check","0.6.4")}();class qv{constructor(){return(0,Mr.vb)("app-check")}}typeof window<"u"&&window;var PD=V(9260);const kD=new v.OlP("angularfire2.auth.use-emulator"),ND=new v.OlP("angularfire2.auth.settings"),FD=new v.OlP("angularfire2.auth.tenant-id"),LD=new v.OlP("angularfire2.auth.langugage-code"),$D=new v.OlP("angularfire2.auth.use-device-language"),BD=new v.OlP("angularfire.auth.persistence"),VD=(n,e,t,r,a,c,p,b)=>(0,Ys.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const S=e.runOutsideAngular(()=>n.auth());if(t&&S.useEmulator(...t),r&&(S.tenantId=r),S.languageCode=a,c&&S.useDeviceLanguage(),p)for(const[N,z]of Object.entries(p))S.settings[N]=z;return b&&S.setPersistence(b),S},[t,r,a,c,p,b]);let Kf=(()=>{class n{constructor(t,r,a,c,p,b,S,N,z,ce,Je,pt){const Et=new Mv.x,xt=(0,co.of)(void 0).pipe((0,jf.Q)(p.outsideAngular),(0,Du.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,Yi.U)(()=>(0,Ys.on)(t,c,r)),(0,Yi.U)(Yt=>VD(Yt,c,b,N,z,ce,S,Je)),Rg({bufferSize:1,refCount:!1}));if((0,Ti.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,co.of)(null);else{xt.pipe((0,Cu.P)()).subscribe();const Bn=xt.pipe((0,Du.w)(Kn=>Kn.getRedirectResult().then(or=>or,()=>null)),Mr.iC,Rg({bufferSize:1,refCount:!1})),Fr=xt.pipe((0,Du.w)(Kn=>new ms.y(or=>({unsubscribe:c.runOutsideAngular(()=>Kn.onAuthStateChanged(hr=>or.next(hr),hr=>or.error(hr),()=>or.complete()))})))),qn=xt.pipe((0,Du.w)(Kn=>new ms.y(or=>({unsubscribe:c.runOutsideAngular(()=>Kn.onIdTokenChanged(hr=>or.next(hr),hr=>or.error(hr),()=>or.complete()))}))));this.authState=Bn.pipe(xv(Fr),(0,Hf.R)(p.outsideAngular),(0,jf.Q)(p.insideAngular)),this.user=Bn.pipe(xv(qn),(0,Hf.R)(p.outsideAngular),(0,jf.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,Du.w)(Kn=>Kn?(0,os.D)(Kn.getIdToken()):(0,co.of)(null))),this.idTokenResult=this.user.pipe((0,Du.w)(Kn=>Kn?(0,os.D)(Kn.getIdTokenResult()):(0,co.of)(null))),this.credential=(0,mI.T)(Bn,Et,this.authState.pipe((0,Sa.h)(Kn=>!Kn))).pipe((0,Yi.U)(Kn=>null!=Kn&&Kn.user?Kn:null),(0,Hf.R)(p.outsideAngular),(0,jf.Q)(p.insideAngular))}return(0,Ys.pX)(this,xt,c,{spy:{apply:(Yt,Bn,Fr)=>{(Yt.startsWith("signIn")||Yt.startsWith("createUser"))&&Fr.then(qn=>Et.next(qn))}}})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Ys.Dh),v.LFG(Ys.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Mr.HU),v.LFG(kD,8),v.LFG(ND,8),v.LFG(FD,8),v.LFG(LD,8),v.LFG($D,8),v.LFG(BD,8),v.LFG(qv,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hC=(()=>{class n{constructor(){PD.Z.registerVersion("angularfire",Mr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[Kf]}),n})();function UD(n,e){return function fC(n,e=uo.z){return new ms.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function VI(n,e){return UD(n,e).pipe((0,Yi.U)(t=>({payload:t,type:"query"})))}function ab(n,e){return VI(n,e).pipe((0,qa.O)(void 0),Ta(),(0,Yi.U)(([t,r])=>{const a=r.payload.docChanges(),c=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((p,b)=>{const S=a.find(z=>z.doc.ref.isEqual(p.ref)),N=null==t?void 0:t.payload.docs.find(z=>z.ref.isEqual(p.ref));S&&JSON.stringify(S.doc.metadata)===JSON.stringify(p.metadata)||!S&&N&&JSON.stringify(N.metadata)===JSON.stringify(p.metadata)||c.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:p}})}),c}))}function jD(n,e,t){return ab(n,t).pipe((0,Ao.R)((r,a)=>function gC(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function mC(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return UI(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return UI(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return UI(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(c=>c.payload),e),[]),(0,Au.x)(),(0,Yi.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function UI(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function HD(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zD{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ab(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Yi.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,qa.O)(void 0),Ta(),(0,Sa.h)(([r,a])=>a.length>0||!r),(0,Yi.U)(([r,a])=>a),Mr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ao.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=HD(e);return jD(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mr.iC)}valueChanges(e={}){return VI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yi.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Mr.iC)}get(e){return(0,os.D)(this.query.get(e)).pipe(Mr.iC)}add(e){return this.ref.add(e)}doc(e){return new GD(this.ref.doc(e),this.afs)}}class GD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:c}=KD(r,t);return new zD(a,c,this.afs)}snapshotChanges(){return function pC(n,e){return UD(n,e).pipe((0,qa.O)(void 0),Ta(),(0,Yi.U)(([t,r])=>r.exists?null!=t&&t.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Yi.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,os.D)(this.ref.get(e)).pipe(Mr.iC)}}class yC{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ab(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yi.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,Sa.h)(t=>t.length>0),Mr.iC):ab(this.query,this.afs.schedulers.outsideAngular).pipe(Mr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ao.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=HD(e);return jD(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mr.iC)}valueChanges(e={}){return VI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yi.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Mr.iC)}get(e){return(0,os.D)(this.query.get(e)).pipe(Mr.iC)}}const WD=new v.OlP("angularfire2.enableFirestorePersistence"),qD=new v.OlP("angularfire2.firestore.persistenceSettings"),vC=new v.OlP("angularfire2.firestore.settings"),_C=new v.OlP("angularfire2.firestore.use-emulator");function KD(n,e=(t=>t)){return{query:e(n),ref:n}}let YD=(()=>{class n{constructor(t,r,a,c,p,b,S,N,z,ce,Je,pt,Et,xt,Yt,Bn,Fr){this.schedulers=S;const qn=(0,Ys.on)(t,b,r),Kn=z;ce&&VD(qn,b,Je,Et,xt,Yt,pt,Bn),[this.firestore,this.persistenceEnabled$]=(0,Ys.cc)(`${qn.name}.firestore`,"AngularFirestore",qn.name,()=>{const or=b.runOutsideAngular(()=>qn.firestore());if(c&&or.settings(c),Kn&&or.useEmulator(...Kn),a&&!(0,Ti.PM)(p)){const hr=()=>{try{return(0,os.D)(or.enablePersistence(N||void 0).then(()=>!0,()=>!1))}catch(hi){return typeof console<"u"&&console.warn(hi),(0,co.of)(!1)}};return[or,b.runOutsideAngular(hr)]}return[or,(0,co.of)(!1)]},[c,Kn,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:p}=KD(a,r),b=this.schedulers.ngZone.run(()=>c);return new zD(b,p,this)}collectionGroup(t,r){const a=r||(p=>p),c=this.firestore.collectionGroup(t);return new yC(a(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new GD(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Ys.Dh),v.LFG(Ys.xv,8),v.LFG(WD,8),v.LFG(vC,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Mr.HU),v.LFG(qD,8),v.LFG(_C,8),v.LFG(Kf,8),v.LFG(kD,8),v.LFG(ND,8),v.LFG(FD,8),v.LFG(LD,8),v.LFG($D,8),v.LFG(BD,8),v.LFG(qv,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EC=(()=>{class n{constructor(){PD.Z.registerVersion("angularfire",Mr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:WD,useValue:!0},{provide:qD,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[YD]}),n})(),jI=(()=>{class n{constructor(t){this.firestore=t}createDoc(t,r,a){return this.firestore.collection(r).doc(a).set(t)}getId(){return this.firestore.createId()}getCollection(t){return this.firestore.collection(t).valueChanges()}getDoc(t,r){return this.firestore.collection(t).doc(r).valueChanges()}getUsers(){return this.firestore.collection("Users").snapshotChanges()}getUserById(t){return this.firestore.collection("Users").doc(t).valueChanges()}createUser(t){return new Promise((r,a)=>{this.firestore.collection("Users").add(t).then(c=>{console.log(c)},c=>{a(c)})})}updateUser(t,r){return this.firestore.collection("Users").doc(r).update({email:t.email,phone:t.phone,fName:t.fName,sName:t.sName})}delUser(t){return this.firestore.collection("Users").doc(t.uid).delete()}getService(){return this.firestore.collection("Services").snapshotChanges()}getServiceById(t){return this.firestore.collection("Services").doc(t).valueChanges()}createService(t){return new Promise((r,a)=>{this.firestore.collection("Services").add(t).then(c=>{this.firestore.collection("Services").doc(c.id).update({uid:c.id})},c=>{a(c)})})}updateService(t,r){return this.firestore.collection("Services").doc(r).update({sName:t.sName,description:t.description,cost:t.cost})}delService(t){return this.firestore.collection("Services").doc(t.uid).delete()}getMedics(){return this.firestore.collection("Medicos").snapshotChanges()}getMedicById(t){return this.firestore.collection("Medicos").doc(t).valueChanges()}createMedic(t){return new Promise((r,a)=>{this.firestore.collection("Medicos").add(t).then(c=>{this.firestore.collection("Medicos").doc(c.id).update({uid:c.id})},c=>{a(c)})})}updateMedic(t,r){return this.firestore.collection("Medicos").doc(r).update({uid:t.uid,sName:t.sName,description:t.description,cost:t.cost})}delMedic(t){return this.firestore.collection("Medicos").doc(t.uid).delete()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(YD))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Kv=V(7185);function bC(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",5)(1,"div",6),v._UZ(2,"img",7),v.qZA(),v.TgZ(3,"div",8)(4,"h5",9),v._uU(5),v.qZA(),v.TgZ(6,"div",10)(7,"button",11),v.NdJ("click",function(){const c=v.CHM(t).$implicit,p=v.oxw();return v.KtG(p.copyDeck(c.code))}),v._uU(8,"Copy Deck"),v.qZA()()()()}if(2&n){const t=e.$implicit;v.xp6(2),v.s9C("src",t.image,v.LSH),v.xp6(3),v.Oqu(t.name)}}let wC=(()=>{class n{constructor(t,r,a){this.activatedRoute=t,this.firestore=r,this.toastr=a}ngOnInit(){this.hero=this.activatedRoute.snapshot.paramMap.get("id"),this.firestore.getCollection(this.hero).subscribe(t=>{try{this.decks=t}catch(r){console.log(r)}})}copyDeck(t){return(0,dr.mG)(this,void 0,void 0,function*(){yield oi.T.write({string:t}),this.toastr.show("Deck Copied!")})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Gn.gz),v.Y36(jI),v.Y36(Kv._W))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-hs-heroes"]],decls:8,vars:4,consts:[[3,"translucent"],["slot","start"],["menu","main"],[3,"fullscreen"],["class","card m-5 bg-dark","style","width: 80vw;",4,"ngFor","ngForOf"],[1,"card","m-5","bg-dark",2,"width","80vw"],[1,"d-flex","justify-content-center","m-2",2,"overflow","hidden"],["alt","Deck Image",1,"img-fluid",3,"src"],[1,"card-body"],[1,"card-title","text-center","fs-1"],[1,"d-grid","gap-2","col-6","mx-auto"],["type","button",1,"btn","btn-outline-light","btn-lg","rounded-pill","mb-5","mt-5",3,"click"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-menu-button",2),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5),v.qZA()()(),v.TgZ(6,"ion-content",3),v.YNc(7,bC,9,2,"div",4),v.qZA()),2&t&&(v.Q6J("translucent",!0),v.xp6(5),v.Oqu(r.hero),v.xp6(1),v.Q6J("fullscreen",!0),v.xp6(1),v.Q6J("ngForOf",r.decks))},dependencies:[Ti.sg,Ut.Sm,Ut.W2,Ut.Gu,Ut.fG,Ut.wd,Ut.sr],styles:["img[_ngcontent-%COMP%]{overflow:hidden;transform:scale(1.55);translate:0 4rem 10%}"]}),n})();var Kr=V(433);const IC=function(){return["/Reset-Password"]},DC=function(){return["/SignIn"]};let CC=(()=>{class n{constructor(t,r,a,c,p){this.fb=t,this.afAuth=r,this.toastr=a,this.router=c,this.menu=p,this.loading=!1,this.loginUser=this.fb.group({email:["",[Kr.kI.required,Kr.kI.email]],password:["",Kr.kI.required]}),this.menu.enable(!1)}ngOnInit(){}login(){const t=this.loginUser.value.email,r=this.loginUser.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(t,r).then(a=>{var c;null!==(c=a.user)&&void 0!==c&&c.emailVerified?(this.menu.enable(!0),this.router.navigate(["/folder/Home"])):this.router.navigate(["/Verify-Email"])}).catch(a=>{this.loading=!1,this.toastr.error(a.code,"Error")})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Kr.qu),v.Y36(Kf),v.Y36(Kv._W),v.Y36(Gn.F0),v.Y36(Ut._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:7,consts:[[3,"translucent"],["slot","start"],[3,"formGroup","ngSubmit"],[1,"m-5"],["position","floating"],["color","danger"],["required","","formControlName","email","formControlName","email","formControlName","email","type","email"],[1,"mt-5","ms-5","mx-5","mb-3"],["required","","formControlName","password","type","password"],[1,"text-center","fs-3"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"d-grid","gap-2","col-6","mx-auto","mt-4"],["type","submit","block","","color","primary",1,"fs-2","btn","btn-dark",3,"disabled"],[1,"text-center","fs-2","d-flex","justify-content-center","align-items-center","m-5"],[1,"d-grid","gap-2","col-6","mx-auto"],["type","button","routerLinkActive","router-link-active",1,"fs-2","btn","btn-dark",3,"routerLink"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-back-button"),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5,"Login"),v.qZA()()(),v.TgZ(6,"ion-content")(7,"form",2),v.NdJ("ngSubmit",function(){return r.login()}),v.TgZ(8,"ion-item",3)(9,"ion-label",4),v._uU(10,"E-Mail "),v.TgZ(11,"ion-text",5),v._uU(12,"*"),v.qZA()(),v._UZ(13,"ion-input",6),v.qZA(),v.TgZ(14,"ion-item",7)(15,"ion-label",4),v._uU(16,"Password "),v.TgZ(17,"ion-text",5),v._uU(18,"*"),v.qZA()(),v._UZ(19,"ion-input",8),v.qZA(),v.TgZ(20,"div",9)(21,"a",10),v._uU(22,"Forgot your password?"),v.qZA()(),v.TgZ(23,"div",11)(24,"button",12),v._uU(25," Login "),v.qZA()()(),v.TgZ(26,"div",13)(27,"ion-label"),v._uU(28,"Dont have an account?"),v.qZA()(),v.TgZ(29,"div",14)(30,"button",15),v._uU(31,"Sign In"),v.qZA()()()),2&t&&(v.Q6J("translucent",!0),v.xp6(7),v.Q6J("formGroup",r.loginUser),v.xp6(14),v.Q6J("routerLink",v.DdM(5,IC)),v.xp6(3),v.Q6J("disabled",r.loginUser.invalid),v.xp6(6),v.Q6J("routerLink",v.DdM(6,DC)))},dependencies:[Ut.oU,Ut.Sm,Ut.W2,Ut.Gu,Ut.pK,Ut.Ie,Ut.Q$,Ut.yW,Ut.wd,Ut.sr,Ut.j9,Ut.cs,Ut.YI,Ut.Fo,Gn.rH,Gn.Od,Kr._Y,Kr.JJ,Kr.JL,Kr.Q7,Kr.sg,Kr.u]}),n})(),HI=(()=>{class n{constructor(t){this.afAuth=t}login(t,r){return(0,dr.mG)(this,void 0,void 0,function*(){try{return yield this.afAuth.signInWithEmailAndPassword(t,r)}catch(a){return console.log(a),null}})}register(t,r){return(0,dr.mG)(this,void 0,void 0,function*(){try{return yield this.afAuth.createUserWithEmailAndPassword(t,r)}catch(a){return console.log(a),null}})}logout(){return(0,dr.mG)(this,void 0,void 0,function*(){try{yield this.afAuth.signOut()}catch(t){console.log(t)}})}getCurrentUser(){return this.afAuth.authState}getUid(){return(0,dr.mG)(this,void 0,void 0,function*(){yield this.afAuth.currentUser})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Kf))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-spinner"]],decls:5,vars:0,consts:[["id","map",1,"d-flex","flex-column","align-items-center","justify-content-center","p-5"],[1,"ripple-loader"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),v._UZ(3,"div")(4,"div"),v.qZA()()())},dependencies:[Ut.W2],styles:[".ripple-loader[_ngcontent-%COMP%]{position:relative;width:400px;height:400px}.ripple-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #00c9fc;border-radius:50%;animation:_ngcontent-%COMP%_ripple-loader 1.5s ease-out infinite}.ripple-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_ripple-loader{0%{top:200px;left:200px;width:0;height:0;opacity:1}to{top:0;left:0;width:400px;height:400px;opacity:0}}ion-content[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),n})();function SC(n,e){1&n&&(v.TgZ(0,"div",25)(1,"h1"),v._uU(2,"Privacy Notice"),v.qZA(),v.TgZ(3,"p"),v._uU(4,"In Meta-Top, we recognize the importance of our users' privacy and are committed to protecting the personal information we collect. This privacy notice describes how we collect, use, and protect the personal information we collect from users of our application."),v.qZA(),v.TgZ(5,"h2"),v._uU(6,"Information we collect"),v.qZA(),v.TgZ(7,"p"),v._uU(8,"The application collects personal information from the user such as their username, password, and email address. This information is collected for the sole purpose of allowing users to log in to the application and save their favorite items. "),v.qZA(),v.TgZ(9,"h2"),v._uU(10,"How we use the information"),v.qZA(),v.TgZ(11,"p"),v._uU(12,"The collected information is used solely to allow users to log in to the application and save their favorite items. We do not share or sell users' personal information to third parties."),v.qZA(),v.TgZ(13,"h2"),v._uU(14,"How we protect the information"),v.qZA(),v.TgZ(15,"p"),v._uU(16,"We are committed to protecting our users' personal information and use reasonable security measures to protect the information against unauthorized access, disclosure, or alteration. However, we cannot guarantee the security of the information collected, as no method of transmission over the internet or electronic storage is 100% secure."),v.qZA(),v.TgZ(17,"h2"),v._uU(18,"User's rights"),v.qZA(),v.TgZ(19,"p"),v._uU(20,"Users have the right to access, modify, and delete their personal information at any time. If a user wishes to delete their account and associated personal information, they may do so through the application's settings."),v.qZA(),v.TgZ(21,"h2"),v._uU(22,"Changes to this privacy notice"),v.qZA(),v.TgZ(23,"p"),v._uU(24,"We reserve the right to change this privacy notice at any time and without prior notice. Changes will be effective immediately upon posting. By continuing to use the application after the changes have been posted, users accept the terms of the latest version of the privacy notice."),v.qZA(),v.TgZ(25,"h2"),v._uU(26,"Contact"),v.qZA(),v.TgZ(27,"p"),v._uU(28,"If you have any questions or concerns about this privacy notice or our privacy practices, please contact us through the application's support email."),v.qZA(),v.TgZ(29,"h2"),v._uU(30,"Effective Date: [March 16, 2023]"),v.qZA(),v.TgZ(31,"div",26)(32,"button",27),v._uU(33,"Close"),v.qZA()()())}function AC(n,e){1&n&&(v.TgZ(0,"div",28)(1,"h1"),v._uU(2,"Letter of Informed Consent"),v.qZA(),v.TgZ(3,"h2"),v._uU(4,"Dear user, "),v.qZA(),v.TgZ(5,"p"),v._uU(6," Thank you for using Meta-Top app. In order to provide you with the services offered by our application, we need to collect and process some of your personal data. In this regard, we would like to inform you about the data we collect, how we use it, and how we protect it. "),v.qZA(),v.TgZ(7,"p"),v._uU(8," The personal data we collect is your username, password, and email address. This data is used solely to allow you to log in to the application and save your favorite items. We do not share or sell your personal data to third parties. "),v.qZA(),v.TgZ(9,"p"),v._uU(10," We inform you that, by using our application, you accept and give your consent for us to process your personal data as described in this personal data consent letter. "),v.qZA(),v.TgZ(11,"p"),v._uU(12," We also remind you that you have the right to access, modify, and delete your personal data at any time. If you wish to delete your account and associated personal data, you can do so through the application's settings. "),v.qZA(),v.TgZ(13,"p"),v._uU(14," If you have any questions or concerns about the privacy of your personal data or about this personal data consent letter, please do not hesitate to contact us through the application's support email. "),v.qZA(),v._uU(15," Thank you for using our application. Sincerely, Omar Alejandro S\xe1nchez Cuevas "),v.TgZ(16,"div",26)(17,"button",27),v._uU(18,"Close"),v.qZA()()())}const MC=function(){return["/Login"]};function xC(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div")(1,"form",3),v.NdJ("ngSubmit",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.register())}),v.TgZ(2,"ion-item",4)(3,"ion-label",5),v._uU(4,"E-Mail "),v.TgZ(5,"ion-text",6),v._uU(6,"*"),v.qZA()(),v.TgZ(7,"ion-input",7),v.NdJ("ngModelChange",function(a){v.CHM(t);const c=v.oxw();return v.KtG(c.userData.email=a)}),v.qZA()(),v.TgZ(8,"ion-item",4)(9,"ion-label",5),v._uU(10,"Password "),v.TgZ(11,"ion-text",6),v._uU(12,"*"),v.qZA()(),v.TgZ(13,"ion-input",8),v.NdJ("ngModelChange",function(a){v.CHM(t);const c=v.oxw();return v.KtG(c.userData.password=a)}),v.qZA()(),v.TgZ(14,"ion-item",9)(15,"ion-label",5),v._uU(16,"Confirm Password "),v.TgZ(17,"ion-text",6),v._uU(18,"*"),v.qZA()(),v._UZ(19,"ion-input",10),v.qZA(),v.TgZ(20,"div",11)(21,"button",12),v.NdJ("click",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.openPrivacy())}),v._uU(22," Privacy Notice "),v.qZA(),v.TgZ(23,"ion-popover",13),v.YNc(24,SC,34,0,"ng-template"),v.qZA()(),v.TgZ(25,"div",14)(26,"button",15),v.NdJ("click",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.openConsent())}),v._uU(27," Letter of Informed Consent "),v.qZA(),v.TgZ(28,"ion-popover",16),v.YNc(29,AC,19,0,"ng-template"),v.qZA()(),v.TgZ(30,"ion-item",17),v._UZ(31,"ion-checkbox",18),v.TgZ(32,"ion-label"),v._uU(33,"I accept the privacy Notice"),v.qZA()(),v.TgZ(34,"ion-item",17),v._UZ(35,"ion-checkbox",19),v.TgZ(36,"ion-label"),v._uU(37,"I accept the Letter of Informed Consent"),v.qZA()(),v.TgZ(38,"div",20)(39,"button",21),v._uU(40," Sign In "),v.qZA()()(),v.TgZ(41,"div",22)(42,"ion-label"),v._uU(43,"Already have an account?"),v.qZA()(),v.TgZ(44,"div",23)(45,"button",24),v._uU(46,"Login"),v.qZA()()()}if(2&n){const t=v.oxw();v.xp6(1),v.Q6J("formGroup",t.userRegister),v.xp6(6),v.Q6J("ngModel",t.userData.email),v.xp6(6),v.Q6J("ngModel",t.userData.password),v.xp6(10),v.Q6J("dismissOnSelect",!0),v.xp6(5),v.Q6J("dismissOnSelect",!0),v.xp6(2),v.s9C("disabled",t.checked),v.xp6(1),v.Q6J("indeterminate",!0),v.xp6(3),v.s9C("disabled",t.checked2),v.xp6(1),v.Q6J("indeterminate",!0),v.xp6(4),v.Q6J("disabled",t.userRegister.invalid),v.xp6(6),v.Q6J("routerLink",v.DdM(11,MC))}}function RC(n,e){1&n&&v._UZ(0,"app-spinner")}let OC=(()=>{class n{constructor(t,r,a,c,p,b,S){this.fb=t,this.afAuth=r,this.toastr=a,this.router=c,this.authSvc=p,this.frservice=b,this.menu=S,this.checked=!0,this.checked2=!0,this.userData={uid:null,email:null,password:null,role:"user"},this.loading=!1,this.passwordPatern=/(?=(.*[0-9]))(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?])(?=.*[a-z])(?=(.*[A-Z]))(?=(.*))(?=(?!.*(.)\1)).{8,}/,this.userRegister=this.fb.group({email:["",[Kr.kI.required,Kr.kI.email]],password:["",[Kr.kI.required,Kr.kI.pattern(this.passwordPatern)]],confirmPassword:["",[Kr.kI.required,Kr.kI.pattern(this.passwordPatern)]],privacy:["",[Kr.kI.required,Kr.kI.requiredTrue]],consent:["",[Kr.kI.required,Kr.kI.requiredTrue]]}),this.menu.enable(!1)}ngOnInit(){}openPrivacy(){this.checked=!1}openConsent(){this.checked2=!1}register(){return(0,dr.mG)(this,void 0,void 0,function*(){const t=this.userRegister.value.email,r=this.userRegister.value.password;r===this.userRegister.value.confirmPassword?(this.loading=!0,this.authSvc.register(t,r).then(c=>(0,dr.mG)(this,void 0,void 0,function*(){this.res=null==c?void 0:c.user,this.userRegister.reset(),yield this.registerDB(),yield this.verifyEmail()})).catch(c=>{this.toastr.error(c,"Error"),this.loading=!1})):this.toastr.error("Passwords do not match","Error")})}verifyEmail(){this.afAuth.currentUser.then(t=>null==t?void 0:t.sendEmailVerification()).then(()=>{this.authSvc.logout(),this.toastr.info("Verification link has been sent","Verify Email"),this.router.navigate(["/Verify-Email"])})}registerDB(){return(0,dr.mG)(this,void 0,void 0,function*(){const r=this.res.uid;this.userData.uid=r,this.userData.password=null,yield this.frservice.createDoc(this.userData,"Users",r)})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Kr.qu),v.Y36(Kf),v.Y36(Kv._W),v.Y36(Gn.F0),v.Y36(HI),v.Y36(jI),v.Y36(Ut._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-register"]],decls:9,vars:3,consts:[[3,"translucent"],["slot","start"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"m-5"],["position","floating"],["color","danger"],["required","","formControlName","email","type","email",3,"ngModel","ngModelChange"],["required","","formControlName","password","type","password",3,"ngModel","ngModelChange"],[1,"mt-5","ms-5","mx-5"],["required","","formControlName","confirmPassword","type","password"],[1,"d-grid","gap-2","col-8","mx-auto","mt-5"],["type","button","id","privacy-trigger","block","","color","primary","routerLinkActive","router-link-active",1,"fs-4","btn","btn-dark",3,"click"],["trigger","privacy-trigger","triggerAction","click","side","right","alignment","center",3,"dismissOnSelect"],[1,"d-grid","gap-2","col-8","mx-auto","mt-4","mb-5"],["type","button","id","consent-trigger","block","","color","primary","routerLinkActive","router-link-active",1,"fs-4","btn","btn-dark",3,"click"],["trigger","consent-trigger","triggerAction","click","side","right","alignment","center",3,"dismissOnSelect"],[1,"rounded-pill","m-3",3,"disabled"],["required","","formControlName","privacy","slot","start",3,"indeterminate"],["required","","formControlName","consent","slot","start",3,"indeterminate"],[1,"d-grid","gap-2","col-6","mx-auto","mt-5"],["type","submit","block","","color","primary",1,"fs-2","btn","btn-dark",3,"disabled"],[1,"text-center","fs-2","d-flex","justify-content-center","align-items-center","mt-4"],[1,"d-grid","gap-2","col-6","mx-auto","mt-3","mb-5"],["type","button","routerLinkActive","router-link-active",1,"fs-2","btn","btn-dark",3,"routerLink"],[1,"p-5"],[1,"d-grid","gap-2","col-8","mx-auto","mt-4","mt-5"],["type","button",1,"fs-4","btn","btn-dark"],[1,"p-5","mb-5"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-back-button"),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5,"Sign In"),v.qZA()()(),v.TgZ(6,"ion-content"),v.YNc(7,xC,47,12,"div",2),v.YNc(8,RC,1,0,"app-spinner",2),v.qZA()),2&t&&(v.Q6J("translucent",!0),v.xp6(7),v.Q6J("ngIf",!r.loading),v.xp6(1),v.Q6J("ngIf",r.loading))},dependencies:[Ti.O5,Ut.oU,Ut.Sm,Ut.nz,Ut.W2,Ut.Gu,Ut.pK,Ut.Ie,Ut.Q$,Ut.yW,Ut.wd,Ut.sr,Ut.d8,Ut.w,Ut.j9,Ut.cs,Ut.YI,Gn.rH,Gn.Od,Kr._Y,Kr.JJ,Kr.JL,Kr.Q7,Kr.sg,Kr.u,TC],styles:["ion-popover[_ngcontent-%COMP%]{--width: 100%}.ripple-loader[_ngcontent-%COMP%]{position:relative;width:400px;height:400px}.ripple-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;border:4px solid #00c9fc;border-radius:50%;animation:_ngcontent-%COMP%_ripple-loader 1.5s ease-out infinite}.ripple-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_ripple-loader{0%{top:200px;left:200px;width:0;height:0;opacity:1}to{top:0;left:0;width:400px;height:400px;opacity:0}}"]}),n})();function PC(n,e){1&n&&(v.TgZ(0,"span",12),v._uU(1," The "),v.TgZ(2,"strong"),v._uU(3,"email"),v.qZA(),v._uU(4," is invalid! "),v.qZA())}let kC=(()=>{class n{constructor(t,r,a,c){this.fb=t,this.afAuth=r,this.toastr=a,this.router=c,this.loading=!1,this.recoverUser=this.fb.group({email:["",[Kr.kI.required,Kr.kI.email]]})}ngOnInit(){}recover(){const t=this.recoverUser.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(t).then(()=>{this.toastr.info("The reset link has been sended","Reset Password"),this.router.navigate(["/login"])}).catch(r=>{this.loading=!1,this.toastr.error(r.code,"Error")})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Kr.qu),v.Y36(Kf),v.Y36(Kv._W),v.Y36(Gn.F0))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-reset-pass"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","start"],[1,"d-flex","justify-content-center","flex-column","align-items-center","p-5"],[1,"mt-5","text-center"],[3,"formGroup","ngSubmit"],[1,"m-5"],["position","floating"],["color","danger"],["required","","formControlName","email","formControlName","email","formControlName","email","type","email"],["class","text-light",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","submit","block","","color","primary",1,"fs-1","btn","btn-dark",3,"disabled"],[1,"text-light"]],template:function(t,r){if(1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-back-button"),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5,"Reset Password"),v.qZA()()(),v.TgZ(6,"ion-content")(7,"div",2)(8,"h2",3),v._uU(9,"Email"),v.qZA(),v.TgZ(10,"form",4),v.NdJ("ngSubmit",function(){return r.recover()}),v.TgZ(11,"ion-item",5)(12,"ion-label",6),v._uU(13,"E-Mail "),v.TgZ(14,"ion-text",7),v._uU(15,"*"),v.qZA()(),v._UZ(16,"ion-input",8),v.YNc(17,PC,5,0,"span",9),v.qZA(),v.TgZ(18,"div",10)(19,"button",11),v._uU(20," Send "),v.qZA()()()()()),2&t){let a;v.Q6J("translucent",!0),v.xp6(10),v.Q6J("formGroup",r.recoverUser),v.xp6(7),v.Q6J("ngIf",(null==(a=r.recoverUser.get("email"))?null:a.hasError("email"))&&(null==(a=r.recoverUser.get("email"))?null:a.touched)),v.xp6(2),v.Q6J("disabled",r.recoverUser.invalid)}},dependencies:[Ti.O5,Ut.oU,Ut.Sm,Ut.W2,Ut.Gu,Ut.pK,Ut.Ie,Ut.Q$,Ut.yW,Ut.wd,Ut.sr,Ut.j9,Ut.cs,Kr._Y,Kr.JJ,Kr.JL,Kr.Q7,Kr.sg,Kr.u]}),n})();const NC=function(){return["/Login"]},FC=function(){return["/SignIn"]};let LC=(()=>{class n{constructor(t){this.menu=t,this.menu.enable(!1)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Ut._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-start"]],decls:14,vars:4,consts:[[1,"d-flex","flex-column","align-items-center","p-3","fs-1","fw-bold"],[1,"d-flex","justify-content-center","mb-3"],["src"," ../../../assets/img/icon.png ","alt","logo ",2,"height","300px"],[1,"d-grid","gap-2","col-6","mx-auto"],["type","button ","routerLinkActive","router-link-active ",1,"fs-2","btn","btn-dark","btn-lg","m-3","p-3",3,"routerLink"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-content")(1,"div")(2,"div",0)(3,"ion-label"),v._uU(4,"Welcome to"),v.qZA(),v.TgZ(5,"ion-label"),v._uU(6,"META TOP"),v.qZA()(),v.TgZ(7,"div",1),v._UZ(8,"img",2),v.qZA(),v.TgZ(9,"div",3)(10,"button",4),v._uU(11," Login "),v.qZA(),v.TgZ(12,"button",4),v._uU(13," Signin "),v.qZA()()()()),2&t&&(v.xp6(10),v.Q6J("routerLink",v.DdM(2,NC)),v.xp6(2),v.Q6J("routerLink",v.DdM(3,FC)))},dependencies:[Ut.W2,Ut.Q$,Ut.YI,Gn.rH,Gn.Od]}),n})();const $C=function(){return["/Start"]},BC=[{path:"",redirectTo:"Start",pathMatch:"full"},{path:"Login",component:CC},{path:"SignIn",component:OC},{path:"Start",component:LC},{path:"HS-Hero/:id",component:wC},{path:"Verify-Email",component:(()=>{class n{constructor(t){this.menu=t,this.menu.enable(!1)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Ut._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-verify-email"]],decls:17,vars:3,consts:[[3,"translucent"],["slot","start"],["id","map",1,"d-flex","flex-column","align-items-center","justify-content-center","p-5"],[1,"mt-5","fs-1","mb-5"],[1,"mt-5"],[1,"mt-5","mb-5"],[1,"d-grid","gap-2","col-6","mx-auto","mt-5","mb-5"],["type","button","routerLinkActive","router-link-active",1,"fs-2","btn","btn-dark",3,"routerLink"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),v._UZ(3,"ion-back-button"),v.qZA(),v.TgZ(4,"ion-title"),v._uU(5,"Verify Email"),v.qZA()()(),v.TgZ(6,"ion-content")(7,"div",2)(8,"h1",3),v._uU(9,"Account Not Verified"),v.qZA(),v.TgZ(10,"h4",4),v._uU(11,"Se ha enviado un correo de verificaci\xf3n a su email"),v.qZA(),v.TgZ(12,"h5",5),v._uU(13,"Por favor revisa tu bandeja de entrada o la carpeta de spam"),v.qZA(),v.TgZ(14,"div",6)(15,"button",7),v._uU(16,"Regresar"),v.qZA()()()()),2&t&&(v.Q6J("translucent",!0),v.xp6(15),v.Q6J("routerLink",v.DdM(2,$C)))},dependencies:[Ut.oU,Ut.Sm,Ut.W2,Ut.Gu,Ut.wd,Ut.sr,Ut.cs,Ut.YI,Gn.rH,Gn.Od],styles:["ion-content[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),n})()},{path:"Reset-Password",component:kC},{path:"folder/:id",loadChildren:()=>V.e(1910).then(V.bind(V,1910)).then(n=>n.FolderPageModule)},{path:"**",redirectTo:"Start",pathMatch:"full"}];let ZD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[Gn.Bz.forRoot(BC,{preloadingStrategy:Gn.wm}),Gn.Bz]}),n})();const zI_firebaseConfig={apiKey:"AIzaSyDqPeVZmFzsZG5H02n7EYDX94bsCkaWeSY",authDomain:"meta-top.firebaseapp.com",databaseURL:"https://meta-top-default-rtdb.firebaseio.com",projectId:"meta-top",storageBucket:"meta-top.appspot.com",messagingSenderId:"780938226341",appId:"1:780938226341:web:6ca6f7bcd46ae21c7bfb4c"};var VC=V(5114);class GI{constructor(e){return e}}class XD{constructor(){return(0,Mr.vb)("auth")}}const WI=new v.OlP("angularfire2.auth-instances");function jC(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new GI(r)}}const HC={provide:XD,deps:[[new v.FiY,WI]]},zC={provide:GI,useFactory:function UC(n,e){const t=(0,Mr.JM)("auth",n,e);return t&&new GI(t)},deps:[[new v.FiY,WI],lh]};let GC=(()=>{class n{constructor(){(0,Tu.KN)("angularfire",Mr.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[zC,HC]}),n})();function WC(n,...e){return{ngModule:GC,providers:[{provide:WI,useFactory:jC(n),multi:!0,deps:[v.R0b,v.zs3,Mr.HU,qE,[new v.FiY,qv],...e]}]}}const qC=(0,Mr.u3)(VC.n,!0);class qI{constructor(e){return e}}const JD="firestore",KI=new v.OlP("angularfire2.firestore-instances");function ZC(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new qI(r)}}const QC={provide:class KC{constructor(){return(0,Mr.vb)(JD)}},deps:[[new v.FiY,KI]]},XC={provide:qI,useFactory:function YC(n,e){const t=(0,Mr.JM)(JD,n,e);return t&&new qI(t)},deps:[[new v.FiY,KI],lh]};let JC=(()=>{class n{constructor(){(0,Tu.KN)("angularfire",Mr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[XC,QC]}),n})();function eT(n,...e){return{ngModule:JC,providers:[{provide:KI,useFactory:ZC(n),multi:!0,deps:[v.R0b,v.zs3,Mr.HU,qE,[new v.FiY,XD],[new v.FiY,qv],...e]}]}}const tT=(0,Mr.u3)(pE,!0),nT=function(n){return[n]};function rT(n,e){if(1&n&&(v.TgZ(0,"ion-menu-toggle",5)(1,"ion-item",6),v._UZ(2,"i",7),v.TgZ(3,"ion-label"),v._uU(4),v.qZA()()()),2&n){const t=e.$implicit;v.xp6(1),v.Q6J("routerLink",v.VKq(5,nT,t.url)),v.xp6(1),v.Tol(t.icon),v.xp6(2),v.Oqu(t.title)}}function iT(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"ion-menu-toggle",5)(1,"ion-item",8),v.NdJ("click",function(){v.CHM(t);const a=v.oxw();return v.KtG(a.logout())}),v._UZ(2,"i",7),v.TgZ(3,"ion-label"),v._uU(4),v.qZA()()()}if(2&n){const t=e.$implicit;v.xp6(2),v.Tol(t.icon),v.xp6(2),v.Oqu(t.title)}}let sT=(()=>{class n{constructor(t,r,a,c,p){this.activatedRoute=t,this.router=r,this.authSvc=a,this.firestore=c,this.menu=p,this.appPages=[{title:"Home",url:"/folder/Home",icon:"fa-solid fa-house"},{title:"Hearthstone",url:"/folder/Hearthstone",icon:"fa-solid fa-hat-wizard"},{title:"MarvelSnap",url:"/folder/MarvelSnap",icon:"fa-solid fa-cube"},{title:"Location",url:"/folder/Location",icon:"fa-solid fa-location-crosshairs"}],this.logAction=[{title:"Logout",icon:"fa-solid fa-right-from-bracket"}],this.logged=!1,this.userInfo={uid:null,email:null,password:null,role:null},this.authSvc.getCurrentUser().subscribe(b=>{b&&1==b.emailVerified?(this.logged=!0,this.getDatosUser(b.uid)):this.logged=!1})}ngOnInit(){this.route=this.activatedRoute.snapshot.paramMap.get("id")}logout(){return(0,dr.mG)(this,void 0,void 0,function*(){try{this.router.navigate(["/Start"]),yield this.authSvc.logout(),this.menu.enable(!1)}catch(t){console.log(t)}})}getDatosUser(t){this.firestore.getDoc("Users",t).subscribe(c=>{c&&(this.userInfo=c)})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Gn.gz),v.Y36(Gn.F0),v.Y36(HI),v.Y36(jI),v.Y36(Ut._q))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-root"]],decls:12,vars:3,consts:[["contentId","main-content"],["side","start","menuId","main","contentId","main-content","type","overlay"],["id","home-list"],["auto-hide","false",4,"ngFor","ngForOf"],["id","main-content"],["auto-hide","false"],["button","","routerDirection","root","lines","none","detail","false","routerLinkActive","selected",1,"mt-3",3,"routerLink"],["aria-hidden","true","slot","start"],["button","","routerDirection","root","lines","none","detail","false","routerLinkActive","selected",1,"mt-3",3,"click"]],template:function(t,r){1&t&&(v.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2)(5,"ion-list-header"),v._uU(6,"Meta-Top"),v.qZA(),v.TgZ(7,"ion-note"),v._uU(8),v.qZA(),v.YNc(9,rT,5,7,"ion-menu-toggle",3),v.YNc(10,iT,5,4,"ion-menu-toggle",3),v.qZA()()(),v._UZ(11,"ion-router-outlet",4),v.qZA()()),2&t&&(v.xp6(8),v.Oqu(r.userInfo.email),v.xp6(1),v.Q6J("ngForOf",r.appPages),v.xp6(1),v.Q6J("ngForOf",r.logAction))},dependencies:[Ti.sg,Ut.dr,Ut.W2,Ut.Ie,Ut.Q$,Ut.q_,Ut.yh,Ut.z0,Ut.zc,Ut.uN,Ut.jI,Ut.jP,Ut.YI,Gn.rH,Gn.Od],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#home-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#home-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),n})(),oT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n,bootstrap:[sT]}),n.\u0275inj=v.cJS({providers:[{provide:Gn.wN,useClass:Ut.r4},HI],imports:[Ti.ez,l.b2,Wt,Ut.Pc.forRoot(),ZD,Kr.u5,Kv.Rh.forRoot(),Kr.UX,Ys.hO.initializeApp(zI_firebaseConfig),hC,EC,ZD,WC(()=>qC()),bI(()=>QE(zI_firebaseConfig)),eT(()=>tT())]}),n})();(0,v.G48)(),l.q6().bootstrapModule(oT).catch(n=>console.log(n))},1135:(jt,at,V)=>{"use strict";V.d(at,{X:()=>v});var l=V(7579);class v extends l.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const Ne=super._subscribe(Ce);return!Ne.closed&&Ce.next(this._value),Ne}getValue(){const{hasError:Ce,thrownError:Ne,_value:Le}=this;if(Ce)throw Ne;return this._throwIfClosed(),Le}next(Ce){super.next(this._value=Ce)}}},9751:(jt,at,V)=>{"use strict";V.d(at,{y:()=>Oe});var l=V(2961),v=V(727),F=V(8822),Ce=V(9635),Ne=V(2416),Le=V(576),ve=V(2806);let Oe=(()=>{class _e{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const it=new _e;return it.source=this,it.operator=Be,it}subscribe(Be,it,mt){const Me=function me(_e){return _e&&_e instanceof l.Lv||function ye(_e){return _e&&(0,Le.m)(_e.next)&&(0,Le.m)(_e.error)&&(0,Le.m)(_e.complete)}(_e)&&(0,v.Nn)(_e)}(Be)?Be:new l.Hp(Be,it,mt);return(0,ve.x)(()=>{const{operator:pe,source:je}=this;Me.add(pe?pe.call(Me,je):je?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe(Be){try{return this._subscribe(Be)}catch(it){Be.error(it)}}forEach(Be,it){return new(it=Ue(it))((mt,Me)=>{const pe=new l.Hp({next:je=>{try{Be(je)}catch(et){Me(et),pe.unsubscribe()}},error:Me,complete:mt});this.subscribe(pe)})}_subscribe(Be){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Be)}[F.L](){return this}pipe(...Be){return(0,Ce.U)(Be)(this)}toPromise(Be){return new(Be=Ue(Be))((it,mt)=>{let Me;this.subscribe(pe=>Me=pe,pe=>mt(pe),()=>it(Me))})}}return _e.create=Fe=>new _e(Fe),_e})();function Ue(_e){var Fe;return null!==(Fe=null!=_e?_e:Ne.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(jt,at,V)=>{"use strict";V.d(at,{x:()=>ve});var l=V(9751),v=V(727);const Ce=(0,V(3888).d)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=V(8737),Le=V(2806);let ve=(()=>{class Ue extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const _e=new Oe(this,this);return _e.operator=me,_e}_throwIfClosed(){if(this.closed)throw new Ce}next(me){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(me)}})}error(me){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:_e}=this;for(;_e.length;)_e.shift().error(me)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:_e,isStopped:Fe,observers:Be}=this;return _e||Fe?v.Lc:(this.currentObservers=null,Be.push(me),new v.w0(()=>{this.currentObservers=null,(0,Ne.P)(Be,me)}))}_checkFinalizedStatuses(me){const{hasError:_e,thrownError:Fe,isStopped:Be}=this;_e?me.error(Fe):Be&&me.complete()}asObservable(){const me=new l.y;return me.source=this,me}}return Ue.create=(ye,me)=>new Oe(ye,me),Ue})();class Oe extends ve{constructor(ye,me){super(),this.destination=ye,this.source=me}next(ye){var me,_e;null===(_e=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===_e||_e.call(me,ye)}error(ye){var me,_e;null===(_e=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===_e||_e.call(me,ye)}complete(){var ye,me;null===(me=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===me||me.call(ye)}_subscribe(ye){var me,_e;return null!==(_e=null===(me=this.source)||void 0===me?void 0:me.subscribe(ye))&&void 0!==_e?_e:v.Lc}}},2961:(jt,at,V)=>{"use strict";V.d(at,{Hp:()=>mt,Lv:()=>_e});var l=V(576),v=V(727),F=V(2416),Ce=V(7849);function Ne(){}const Le=Ue("C",void 0,void 0);function Ue(ze,Se,Ke){return{kind:ze,value:Se,error:Ke}}var ye=V(3410),me=V(2806);class _e extends v.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,v.Nn)(Se)&&Se.add(this)):this.destination=et}static create(Se,Ke,Re){return new mt(Se,Ke,Re)}next(Se){this.isStopped?je(function Oe(ze){return Ue("N",ze,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?je(function ve(ze){return Ue("E",void 0,ze)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?je(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Be(ze,Se){return Fe.call(ze,Se)}class it{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(Se)}catch(Re){Me(Re)}}error(Se){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(Se)}catch(Re){Me(Re)}else Me(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Ke){Me(Ke)}}}class mt extends _e{constructor(Se,Ke,Re){let ie;if(super(),(0,l.m)(Se)||!Se)ie={next:null!=Se?Se:void 0,error:null!=Ke?Ke:void 0,complete:null!=Re?Re:void 0};else{let be;this&&F.v.useDeprecatedNextContext?(be=Object.create(Se),be.unsubscribe=()=>this.unsubscribe(),ie={next:Se.next&&Be(Se.next,be),error:Se.error&&Be(Se.error,be),complete:Se.complete&&Be(Se.complete,be)}):ie=Se}this.destination=new it(ie)}}function Me(ze){F.v.useDeprecatedSynchronousErrorHandling?(0,me.O)(ze):(0,Ce.h)(ze)}function je(ze,Se){const{onStoppedNotification:Ke}=F.v;Ke&&ye.z.setTimeout(()=>Ke(ze,Se))}const et={closed:!0,next:Ne,error:function pe(ze){throw ze},complete:Ne}},727:(jt,at,V)=>{"use strict";V.d(at,{Lc:()=>Le,w0:()=>Ne,Nn:()=>ve});var l=V(576);const F=(0,V(3888).d)(Ue=>function(me){Ue(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((_e,Fe)=>`${Fe+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var Ce=V(8737);class Ne{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Be of me)Be.remove(this);else me.remove(this);const{initialTeardown:_e}=this;if((0,l.m)(_e))try{_e()}catch(Be){ye=Be instanceof F?Be.errors:[Be]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Be of Fe)try{Oe(Be)}catch(it){ye=null!=ye?ye:[],it instanceof F?ye=[...ye,...it.errors]:ye.push(it)}}if(ye)throw new F(ye)}}add(ye){var me;if(ye&&ye!==this)if(this.closed)Oe(ye);else{if(ye instanceof Ne){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(ye)}}_hasParent(ye){const{_parentage:me}=this;return me===ye||Array.isArray(me)&&me.includes(ye)}_addParent(ye){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(ye),me):me?[me,ye]:ye}_removeParent(ye){const{_parentage:me}=this;me===ye?this._parentage=null:Array.isArray(me)&&(0,Ce.P)(me,ye)}remove(ye){const{_finalizers:me}=this;me&&(0,Ce.P)(me,ye),ye instanceof Ne&&ye._removeParent(this)}}Ne.EMPTY=(()=>{const Ue=new Ne;return Ue.closed=!0,Ue})();const Le=Ne.EMPTY;function ve(Ue){return Ue instanceof Ne||Ue&&"closed"in Ue&&(0,l.m)(Ue.remove)&&(0,l.m)(Ue.add)&&(0,l.m)(Ue.unsubscribe)}function Oe(Ue){(0,l.m)(Ue)?Ue():Ue.unsubscribe()}},2416:(jt,at,V)=>{"use strict";V.d(at,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(jt,at,V)=>{"use strict";V.d(at,{z:()=>Ne});var l=V(8189),F=V(7669),Ce=V(8996);function Ne(...Le){return function v(){return(0,l.J)(1)}()((0,Ce.D)(Le,(0,F.yG)(Le)))}},515:(jt,at,V)=>{"use strict";V.d(at,{E:()=>v});const v=new(V(9751).y)(Ne=>Ne.complete())},8996:(jt,at,V)=>{"use strict";V.d(at,{D:()=>Se});var l=V(8421),v=V(5363),F=V(9468),Le=V(9751),Oe=V(2202),Ue=V(576),ye=V(9672);function _e(Ke,Re){if(!Ke)throw new Error("Iterable cannot be null");return new Le.y(ie=>{(0,ye.f)(ie,Re,()=>{const be=Ke[Symbol.asyncIterator]();(0,ye.f)(ie,Re,()=>{be.next().then(We=>{We.done?ie.complete():ie.next(We.value)})},0,!0)})})}var Fe=V(3670),Be=V(8239),it=V(1144),mt=V(6495),Me=V(2206),pe=V(4532),je=V(3260);function Se(Ke,Re){return Re?function ze(Ke,Re){if(null!=Ke){if((0,Fe.c)(Ke))return function Ce(Ke,Re){return(0,l.Xf)(Ke).pipe((0,F.R)(Re),(0,v.Q)(Re))}(Ke,Re);if((0,it.z)(Ke))return function ve(Ke,Re){return new Le.y(ie=>{let be=0;return Re.schedule(function(){be===Ke.length?ie.complete():(ie.next(Ke[be++]),ie.closed||this.schedule())})})}(Ke,Re);if((0,Be.t)(Ke))return function Ne(Ke,Re){return(0,l.Xf)(Ke).pipe((0,F.R)(Re),(0,v.Q)(Re))}(Ke,Re);if((0,Me.D)(Ke))return _e(Ke,Re);if((0,mt.T)(Ke))return function me(Ke,Re){return new Le.y(ie=>{let be;return(0,ye.f)(ie,Re,()=>{be=Ke[Oe.h](),(0,ye.f)(ie,Re,()=>{let We,rt;try{({value:We,done:rt}=be.next())}catch(Ge){return void ie.error(Ge)}rt?ie.complete():ie.next(We)},0,!0)}),()=>(0,Ue.m)(null==be?void 0:be.return)&&be.return()})}(Ke,Re);if((0,je.L)(Ke))return function et(Ke,Re){return _e((0,je.Q)(Ke),Re)}(Ke,Re)}throw(0,pe.z)(Ke)}(Ke,Re):(0,l.Xf)(Ke)}},8421:(jt,at,V)=>{"use strict";V.d(at,{Xf:()=>Fe});var l=V(655),v=V(1144),F=V(8239),Ce=V(9751),Ne=V(3670),Le=V(2206),ve=V(4532),Oe=V(6495),Ue=V(3260),ye=V(576),me=V(7849),_e=V(8822);function Fe(ze){if(ze instanceof Ce.y)return ze;if(null!=ze){if((0,Ne.c)(ze))return function Be(ze){return new Ce.y(Se=>{const Ke=ze[_e.L]();if((0,ye.m)(Ke.subscribe))return Ke.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,v.z)(ze))return function it(ze){return new Ce.y(Se=>{for(let Ke=0;Ke<ze.length&&!Se.closed;Ke++)Se.next(ze[Ke]);Se.complete()})}(ze);if((0,F.t)(ze))return function mt(ze){return new Ce.y(Se=>{ze.then(Ke=>{Se.closed||(Se.next(Ke),Se.complete())},Ke=>Se.error(Ke)).then(null,me.h)})}(ze);if((0,Le.D)(ze))return pe(ze);if((0,Oe.T)(ze))return function Me(ze){return new Ce.y(Se=>{for(const Ke of ze)if(Se.next(Ke),Se.closed)return;Se.complete()})}(ze);if((0,Ue.L)(ze))return function je(ze){return pe((0,Ue.Q)(ze))}(ze)}throw(0,ve.z)(ze)}function pe(ze){return new Ce.y(Se=>{(function et(ze,Se){var Ke,Re,ie,be;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,l.KL)(ze);!(Re=yield Ke.next()).done;)if(Se.next(Re.value),Se.closed)return}catch(We){ie={error:We}}finally{try{Re&&!Re.done&&(be=Ke.return)&&(yield be.call(Ke))}finally{if(ie)throw ie.error}}Se.complete()})})(ze,Se).catch(Ke=>Se.error(Ke))})}},6451:(jt,at,V)=>{"use strict";V.d(at,{T:()=>Le});var l=V(8189),v=V(8421),F=V(515),Ce=V(7669),Ne=V(8996);function Le(...ve){const Oe=(0,Ce.yG)(ve),Ue=(0,Ce._6)(ve,1/0),ye=ve;return ye.length?1===ye.length?(0,v.Xf)(ye[0]):(0,l.J)(Ue)((0,Ne.D)(ye,Oe)):F.E}},9646:(jt,at,V)=>{"use strict";V.d(at,{of:()=>F});var l=V(7669),v=V(8996);function F(...Ce){const Ne=(0,l.yG)(Ce);return(0,v.D)(Ce,Ne)}},5403:(jt,at,V)=>{"use strict";V.d(at,{x:()=>v});var l=V(2961);function v(Ce,Ne,Le,ve,Oe){return new F(Ce,Ne,Le,ve,Oe)}class F extends l.Lv{constructor(Ne,Le,ve,Oe,Ue,ye){super(Ne),this.onFinalize=Ue,this.shouldUnsubscribe=ye,this._next=Le?function(me){try{Le(me)}catch(_e){Ne.error(_e)}}:super._next,this._error=Oe?function(me){try{Oe(me)}catch(_e){Ne.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(me){Ne.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(Ne=this.onFinalize)||void 0===Ne||Ne.call(this))}}}},6590:(jt,at,V)=>{"use strict";V.d(at,{d:()=>F});var l=V(4482),v=V(5403);function F(Ce){return(0,l.e)((Ne,Le)=>{let ve=!1;Ne.subscribe((0,v.x)(Le,Oe=>{ve=!0,Le.next(Oe)},()=>{ve||Le.next(Ce),Le.complete()}))})}},1884:(jt,at,V)=>{"use strict";V.d(at,{x:()=>Ce});var l=V(4671),v=V(4482),F=V(5403);function Ce(Le,ve=l.y){return Le=null!=Le?Le:Ne,(0,v.e)((Oe,Ue)=>{let ye,me=!0;Oe.subscribe((0,F.x)(Ue,_e=>{const Fe=ve(_e);(me||!Le(ye,Fe))&&(me=!1,ye=Fe,Ue.next(_e))}))})}function Ne(Le,ve){return Le===ve}},9300:(jt,at,V)=>{"use strict";V.d(at,{h:()=>F});var l=V(4482),v=V(5403);function F(Ce,Ne){return(0,l.e)((Le,ve)=>{let Oe=0;Le.subscribe((0,v.x)(ve,Ue=>Ce.call(Ne,Ue,Oe++)&&ve.next(Ue)))})}},590:(jt,at,V)=>{"use strict";V.d(at,{P:()=>ve});var l=V(6805),v=V(9300),F=V(5698),Ce=V(6590),Ne=V(8068),Le=V(4671);function ve(Oe,Ue){const ye=arguments.length>=2;return me=>me.pipe(Oe?(0,v.h)((_e,Fe)=>Oe(_e,Fe,me)):Le.y,(0,F.q)(1),ye?(0,Ce.d)(Ue):(0,Ne.T)(()=>new l.K))}},4004:(jt,at,V)=>{"use strict";V.d(at,{U:()=>F});var l=V(4482),v=V(5403);function F(Ce,Ne){return(0,l.e)((Le,ve)=>{let Oe=0;Le.subscribe((0,v.x)(ve,Ue=>{ve.next(Ce.call(Ne,Ue,Oe++))}))})}},8189:(jt,at,V)=>{"use strict";V.d(at,{J:()=>F});var l=V(5577),v=V(4671);function F(Ce=1/0){return(0,l.z)(v.y,Ce)}},5577:(jt,at,V)=>{"use strict";V.d(at,{z:()=>Oe});var l=V(4004),v=V(8421),F=V(4482),Ce=V(9672),Ne=V(5403),ve=V(576);function Oe(Ue,ye,me=1/0){return(0,ve.m)(ye)?Oe((_e,Fe)=>(0,l.U)((Be,it)=>ye(_e,Be,Fe,it))((0,v.Xf)(Ue(_e,Fe))),me):("number"==typeof ye&&(me=ye),(0,F.e)((_e,Fe)=>function Le(Ue,ye,me,_e,Fe,Be,it,mt){const Me=[];let pe=0,je=0,et=!1;const ze=()=>{et&&!Me.length&&!pe&&ye.complete()},Se=Re=>pe<_e?Ke(Re):Me.push(Re),Ke=Re=>{Be&&ye.next(Re),pe++;let ie=!1;(0,v.Xf)(me(Re,je++)).subscribe((0,Ne.x)(ye,be=>{null==Fe||Fe(be),Be?Se(be):ye.next(be)},()=>{ie=!0},void 0,()=>{if(ie)try{for(pe--;Me.length&&pe<_e;){const be=Me.shift();it?(0,Ce.f)(ye,it,()=>Ke(be)):Ke(be)}ze()}catch(be){ye.error(be)}}))};return Ue.subscribe((0,Ne.x)(ye,Se,()=>{et=!0,ze()})),()=>{null==mt||mt()}}(_e,Fe,Ue,me)))}},5363:(jt,at,V)=>{"use strict";V.d(at,{Q:()=>Ce});var l=V(9672),v=V(4482),F=V(5403);function Ce(Ne,Le=0){return(0,v.e)((ve,Oe)=>{ve.subscribe((0,F.x)(Oe,Ue=>(0,l.f)(Oe,Ne,()=>Oe.next(Ue),Le),()=>(0,l.f)(Oe,Ne,()=>Oe.complete(),Le),Ue=>(0,l.f)(Oe,Ne,()=>Oe.error(Ue),Le)))})}},5026:(jt,at,V)=>{"use strict";V.d(at,{R:()=>Ce});var l=V(4482),v=V(5403);function Ce(Ne,Le){return(0,l.e)(function F(Ne,Le,ve,Oe,Ue){return(ye,me)=>{let _e=ve,Fe=Le,Be=0;ye.subscribe((0,v.x)(me,it=>{const mt=Be++;Fe=_e?Ne(Fe,it,mt):(_e=!0,it),Oe&&me.next(Fe)},Ue&&(()=>{_e&&me.next(Fe),me.complete()})))}}(Ne,Le,arguments.length>=2,!0))}},3099:(jt,at,V)=>{"use strict";V.d(at,{B:()=>Ne});var l=V(8421),v=V(7579),F=V(2961),Ce=V(4482);function Ne(ve={}){const{connector:Oe=(()=>new v.x),resetOnError:Ue=!0,resetOnComplete:ye=!0,resetOnRefCountZero:me=!0}=ve;return _e=>{let Fe,Be,it,mt=0,Me=!1,pe=!1;const je=()=>{null==Be||Be.unsubscribe(),Be=void 0},et=()=>{je(),Fe=it=void 0,Me=pe=!1},ze=()=>{const Se=Fe;et(),null==Se||Se.unsubscribe()};return(0,Ce.e)((Se,Ke)=>{mt++,!pe&&!Me&&je();const Re=it=null!=it?it:Oe();Ke.add(()=>{mt--,0===mt&&!pe&&!Me&&(Be=Le(ze,me))}),Re.subscribe(Ke),!Fe&&mt>0&&(Fe=new F.Hp({next:ie=>Re.next(ie),error:ie=>{pe=!0,je(),Be=Le(et,Ue,ie),Re.error(ie)},complete:()=>{Me=!0,je(),Be=Le(et,ye),Re.complete()}}),(0,l.Xf)(Se).subscribe(Fe))})(_e)}}function Le(ve,Oe,...Ue){if(!0===Oe)return void ve();if(!1===Oe)return;const ye=new F.Hp({next:()=>{ye.unsubscribe(),ve()}});return Oe(...Ue).subscribe(ye)}},8675:(jt,at,V)=>{"use strict";V.d(at,{O:()=>Ce});var l=V(7272),v=V(7669),F=V(4482);function Ce(...Ne){const Le=(0,v.yG)(Ne);return(0,F.e)((ve,Oe)=>{(Le?(0,l.z)(Ne,ve,Le):(0,l.z)(Ne,ve)).subscribe(Oe)})}},9468:(jt,at,V)=>{"use strict";V.d(at,{R:()=>v});var l=V(4482);function v(F,Ce=0){return(0,l.e)((Ne,Le)=>{Le.add(F.schedule(()=>Ne.subscribe(Le),Ce))})}},3900:(jt,at,V)=>{"use strict";V.d(at,{w:()=>Ce});var l=V(8421),v=V(4482),F=V(5403);function Ce(Ne,Le){return(0,v.e)((ve,Oe)=>{let Ue=null,ye=0,me=!1;const _e=()=>me&&!Ue&&Oe.complete();ve.subscribe((0,F.x)(Oe,Fe=>{null==Ue||Ue.unsubscribe();let Be=0;const it=ye++;(0,l.Xf)(Ne(Fe,it)).subscribe(Ue=(0,F.x)(Oe,mt=>Oe.next(Le?Le(Fe,mt,it,Be++):mt),()=>{Ue=null,_e()}))},()=>{me=!0,_e()}))})}},5698:(jt,at,V)=>{"use strict";V.d(at,{q:()=>Ce});var l=V(515),v=V(4482),F=V(5403);function Ce(Ne){return Ne<=0?()=>l.E:(0,v.e)((Le,ve)=>{let Oe=0;Le.subscribe((0,F.x)(ve,Ue=>{++Oe<=Ne&&(ve.next(Ue),Ne<=Oe&&ve.complete())}))})}},8505:(jt,at,V)=>{"use strict";V.d(at,{b:()=>Ne});var l=V(576),v=V(4482),F=V(5403),Ce=V(4671);function Ne(Le,ve,Oe){const Ue=(0,l.m)(Le)||ve||Oe?{next:Le,error:ve,complete:Oe}:Le;return Ue?(0,v.e)((ye,me)=>{var _e;null===(_e=Ue.subscribe)||void 0===_e||_e.call(Ue);let Fe=!0;ye.subscribe((0,F.x)(me,Be=>{var it;null===(it=Ue.next)||void 0===it||it.call(Ue,Be),me.next(Be)},()=>{var Be;Fe=!1,null===(Be=Ue.complete)||void 0===Be||Be.call(Ue),me.complete()},Be=>{var it;Fe=!1,null===(it=Ue.error)||void 0===it||it.call(Ue,Be),me.error(Be)},()=>{var Be,it;Fe&&(null===(Be=Ue.unsubscribe)||void 0===Be||Be.call(Ue)),null===(it=Ue.finalize)||void 0===it||it.call(Ue)}))}):Ce.y}},8068:(jt,at,V)=>{"use strict";V.d(at,{T:()=>Ce});var l=V(6805),v=V(4482),F=V(5403);function Ce(Le=Ne){return(0,v.e)((ve,Oe)=>{let Ue=!1;ve.subscribe((0,F.x)(Oe,ye=>{Ue=!0,Oe.next(ye)},()=>Ue?Oe.complete():Oe.error(Le())))})}function Ne(){return new l.K}},4408:(jt,at,V)=>{"use strict";V.d(at,{o:()=>Ne});var l=V(727);class v extends l.w0{constructor(ve,Oe){super()}schedule(ve,Oe=0){return this}}const F={setInterval(Le,ve,...Oe){const{delegate:Ue}=F;return null!=Ue&&Ue.setInterval?Ue.setInterval(Le,ve,...Oe):setInterval(Le,ve,...Oe)},clearInterval(Le){const{delegate:ve}=F;return((null==ve?void 0:ve.clearInterval)||clearInterval)(Le)},delegate:void 0};var Ce=V(8737);class Ne extends v{constructor(ve,Oe){super(ve,Oe),this.scheduler=ve,this.work=Oe,this.pending=!1}schedule(ve,Oe=0){var Ue;if(this.closed)return this;this.state=ve;const ye=this.id,me=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(me,ye,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(me,this.id,Oe),this}requestAsyncId(ve,Oe,Ue=0){return F.setInterval(ve.flush.bind(ve,this),Ue)}recycleAsyncId(ve,Oe,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return Oe;null!=Oe&&F.clearInterval(Oe)}execute(ve,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(ve,Oe);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Oe){let ye,Ue=!1;try{this.work(ve)}catch(me){Ue=!0,ye=me||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Oe}=this,{actions:Ue}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Ue,this),null!=ve&&(this.id=this.recycleAsyncId(Oe,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(jt,at,V)=>{"use strict";V.d(at,{v:()=>F});var l=V(6063);class v{constructor(Ne,Le=v.now){this.schedulerActionCtor=Ne,this.now=Le}schedule(Ne,Le=0,ve){return new this.schedulerActionCtor(this,Ne).schedule(ve,Le)}}v.now=l.l.now;class F extends v{constructor(Ne,Le=v.now){super(Ne,Le),this.actions=[],this._active=!1}flush(Ne){const{actions:Le}=this;if(this._active)return void Le.push(Ne);let ve;this._active=!0;do{if(ve=Ne.execute(Ne.state,Ne.delay))break}while(Ne=Le.shift());if(this._active=!1,ve){for(;Ne=Le.shift();)Ne.unsubscribe();throw ve}}}},4986:(jt,at,V)=>{"use strict";V.d(at,{z:()=>F});var l=V(4408);const F=new(V(7565).v)(l.o)},6063:(jt,at,V)=>{"use strict";V.d(at,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(jt,at,V)=>{"use strict";V.d(at,{z:()=>l});const l={setTimeout(v,F,...Ce){const{delegate:Ne}=l;return null!=Ne&&Ne.setTimeout?Ne.setTimeout(v,F,...Ce):setTimeout(v,F,...Ce)},clearTimeout(v){const{delegate:F}=l;return((null==F?void 0:F.clearTimeout)||clearTimeout)(v)},delegate:void 0}},2202:(jt,at,V)=>{"use strict";V.d(at,{h:()=>v});const v=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(jt,at,V)=>{"use strict";V.d(at,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(jt,at,V)=>{"use strict";V.d(at,{K:()=>v});const v=(0,V(3888).d)(F=>function(){F(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(jt,at,V)=>{"use strict";V.d(at,{_6:()=>Le,jO:()=>Ce,yG:()=>Ne});var l=V(576);function F(ve){return ve[ve.length-1]}function Ce(ve){return(0,l.m)(F(ve))?ve.pop():void 0}function Ne(ve){return function v(ve){return ve&&(0,l.m)(ve.schedule)}(F(ve))?ve.pop():void 0}function Le(ve,Oe){return"number"==typeof F(ve)?ve.pop():Oe}},4742:(jt,at,V)=>{"use strict";V.d(at,{D:()=>Ne});const{isArray:l}=Array,{getPrototypeOf:v,prototype:F,keys:Ce}=Object;function Ne(ve){if(1===ve.length){const Oe=ve[0];if(l(Oe))return{args:Oe,keys:null};if(function Le(ve){return ve&&"object"==typeof ve&&v(ve)===F}(Oe)){const Ue=Ce(Oe);return{args:Ue.map(ye=>Oe[ye]),keys:Ue}}}return{args:ve,keys:null}}},8737:(jt,at,V)=>{"use strict";function l(v,F){if(v){const Ce=v.indexOf(F);0<=Ce&&v.splice(Ce,1)}}V.d(at,{P:()=>l})},3888:(jt,at,V)=>{"use strict";function l(v){const Ce=v(Ne=>{Error.call(Ne),Ne.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}V.d(at,{d:()=>l})},1810:(jt,at,V)=>{"use strict";function l(v,F){return v.reduce((Ce,Ne,Le)=>(Ce[Ne]=F[Le],Ce),{})}V.d(at,{n:()=>l})},2806:(jt,at,V)=>{"use strict";V.d(at,{O:()=>Ce,x:()=>F});var l=V(2416);let v=null;function F(Ne){if(l.v.useDeprecatedSynchronousErrorHandling){const Le=!v;if(Le&&(v={errorThrown:!1,error:null}),Ne(),Le){const{errorThrown:ve,error:Oe}=v;if(v=null,ve)throw Oe}}else Ne()}function Ce(Ne){l.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=Ne)}},9672:(jt,at,V)=>{"use strict";function l(v,F,Ce,Ne=0,Le=!1){const ve=F.schedule(function(){Ce(),Le?v.add(this.schedule(null,Ne)):this.unsubscribe()},Ne);if(v.add(ve),!Le)return ve}V.d(at,{f:()=>l})},4671:(jt,at,V)=>{"use strict";function l(v){return v}V.d(at,{y:()=>l})},1144:(jt,at,V)=>{"use strict";V.d(at,{z:()=>l});const l=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(jt,at,V)=>{"use strict";V.d(at,{D:()=>v});var l=V(576);function v(F){return Symbol.asyncIterator&&(0,l.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(jt,at,V)=>{"use strict";function l(v){return"function"==typeof v}V.d(at,{m:()=>l})},3670:(jt,at,V)=>{"use strict";V.d(at,{c:()=>F});var l=V(8822),v=V(576);function F(Ce){return(0,v.m)(Ce[l.L])}},6495:(jt,at,V)=>{"use strict";V.d(at,{T:()=>F});var l=V(2202),v=V(576);function F(Ce){return(0,v.m)(null==Ce?void 0:Ce[l.h])}},8239:(jt,at,V)=>{"use strict";V.d(at,{t:()=>v});var l=V(576);function v(F){return(0,l.m)(null==F?void 0:F.then)}},3260:(jt,at,V)=>{"use strict";V.d(at,{L:()=>Ce,Q:()=>F});var l=V(655),v=V(576);function F(Ne){return(0,l.FC)(this,arguments,function*(){const ve=Ne.getReader();try{for(;;){const{value:Oe,done:Ue}=yield(0,l.qq)(ve.read());if(Ue)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Oe)}}finally{ve.releaseLock()}})}function Ce(Ne){return(0,v.m)(null==Ne?void 0:Ne.getReader)}},4482:(jt,at,V)=>{"use strict";V.d(at,{A:()=>v,e:()=>F});var l=V(576);function v(Ce){return(0,l.m)(null==Ce?void 0:Ce.lift)}function F(Ce){return Ne=>{if(v(Ne))return Ne.lift(function(Le){try{return Ce(Le,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(jt,at,V)=>{"use strict";V.d(at,{Z:()=>Ce});var l=V(4004);const{isArray:v}=Array;function Ce(Ne){return(0,l.U)(Le=>function F(Ne,Le){return v(Le)?Ne(...Le):Ne(Le)}(Ne,Le))}},9635:(jt,at,V)=>{"use strict";V.d(at,{U:()=>F,z:()=>v});var l=V(4671);function v(...Ce){return F(Ce)}function F(Ce){return 0===Ce.length?l.y:1===Ce.length?Ce[0]:function(Le){return Ce.reduce((ve,Oe)=>Oe(ve),Le)}}},7849:(jt,at,V)=>{"use strict";V.d(at,{h:()=>F});var l=V(2416),v=V(3410);function F(Ce){v.z.setTimeout(()=>{const{onUnhandledError:Ne}=l.v;if(!Ne)throw Ce;Ne(Ce)})}},4532:(jt,at,V)=>{"use strict";function l(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(at,{z:()=>l})},863:(jt,at,V)=>{var l={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function v(F){if(!V.o(l,F))return Promise.resolve().then(()=>{var Le=new Error("Cannot find module '"+F+"'");throw Le.code="MODULE_NOT_FOUND",Le});var Ce=l[F],Ne=Ce[0];return Promise.all(Ce.slice(1).map(V.e)).then(()=>V(Ne))}v.keys=()=>Object.keys(l),v.id=863,jt.exports=v},655:(jt,at,V)=>{"use strict";function Ce(ne,De){var Ve={};for(var he in ne)Object.prototype.hasOwnProperty.call(ne,he)&&De.indexOf(he)<0&&(Ve[he]=ne[he]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(he=Object.getOwnPropertySymbols(ne);ue<he.length;ue++)De.indexOf(he[ue])<0&&Object.prototype.propertyIsEnumerable.call(ne,he[ue])&&(Ve[he[ue]]=ne[he[ue]])}return Ve}function Ne(ne,De,Ve,he){var $e,ue=arguments.length,Ae=ue<3?De:null===he?he=Object.getOwnPropertyDescriptor(De,Ve):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(ne,De,Ve,he);else for(var le=ne.length-1;le>=0;le--)($e=ne[le])&&(Ae=(ue<3?$e(Ae):ue>3?$e(De,Ve,Ae):$e(De,Ve))||Ae);return ue>3&&Ae&&Object.defineProperty(De,Ve,Ae),Ae}function _e(ne,De,Ve,he){return new(Ve||(Ve=Promise))(function(Ae,$e){function le(Ie){try{X(he.next(Ie))}catch(tt){$e(tt)}}function Te(Ie){try{X(he.throw(Ie))}catch(tt){$e(tt)}}function X(Ie){Ie.done?Ae(Ie.value):function ue(Ae){return Ae instanceof Ve?Ae:new Ve(function($e){$e(Ae)})}(Ie.value).then(le,Te)}X((he=he.apply(ne,De||[])).next())})}function ze(ne){return this instanceof ze?(this.v=ne,this):new ze(ne)}function Se(ne,De,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,he=Ve.apply(ne,De||[]),Ae=[];return ue={},$e("next"),$e("throw"),$e("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function $e(gt){he[gt]&&(ue[gt]=function(en){return new Promise(function(vt,tn){Ae.push([gt,en,vt,tn])>1||le(gt,en)})})}function le(gt,en){try{!function Te(gt){gt.value instanceof ze?Promise.resolve(gt.value.v).then(X,Ie):tt(Ae[0][2],gt)}(he[gt](en))}catch(vt){tt(Ae[0][3],vt)}}function X(gt){le("next",gt)}function Ie(gt){le("throw",gt)}function tt(gt,en){gt(en),Ae.shift(),Ae.length&&le(Ae[0][0],Ae[0][1])}}function Re(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,De=ne[Symbol.asyncIterator];return De?De.call(ne):(ne=function mt(ne){var De="function"==typeof Symbol&&Symbol.iterator,Ve=De&&ne[De],he=0;if(Ve)return Ve.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&he>=ne.length&&(ne=void 0),{value:ne&&ne[he++],done:!ne}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),Ve={},he("next"),he("throw"),he("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function he(Ae){Ve[Ae]=ne[Ae]&&function($e){return new Promise(function(le,Te){!function ue(Ae,$e,le,Te){Promise.resolve(Te).then(function(X){Ae({value:X,done:le})},$e)}(le,Te,($e=ne[Ae]($e)).done,$e.value)})}}}V.d(at,{FC:()=>Se,KL:()=>Re,_T:()=>Ce,gn:()=>Ne,mG:()=>_e,qq:()=>ze})},7340:(jt,at,V)=>{"use strict";V.d(at,{LC:()=>v,SB:()=>Ue,X$:()=>Ce,ZE:()=>je,ZN:()=>pe,_j:()=>l,eR:()=>me,jt:()=>Ne,k1:()=>et,l3:()=>F,oB:()=>Oe,vP:()=>ve});class l{}class v{}const F="*";function Ce(ze,Se){return{type:7,name:ze,definitions:Se,options:{}}}function Ne(ze,Se=null){return{type:4,styles:Se,timings:ze}}function ve(ze,Se=null){return{type:2,steps:ze,options:Se}}function Oe(ze){return{type:6,styles:ze,offset:null}}function Ue(ze,Se,Ke){return{type:0,name:ze,styles:Se,options:Ke}}function me(ze,Se,Ke=null){return{type:1,expr:ze,animation:Se,options:Ke}}function Me(ze){Promise.resolve().then(ze)}class pe{constructor(Se=0,Ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Se+Ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}onStart(Se){this._originalOnStartFns.push(Se),this._onStartFns.push(Se)}onDone(Se){this._originalOnDoneFns.push(Se),this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Me(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Se=>Se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Se){this._position=this.totalTime?Se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Se){const Ke="start"==Se?this._onStartFns:this._onDoneFns;Ke.forEach(Re=>Re()),Ke.length=0}}class je{constructor(Se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Se;let Ke=0,Re=0,ie=0;const be=this.players.length;0==be?Me(()=>this._onFinish()):this.players.forEach(We=>{We.onDone(()=>{++Ke==be&&this._onFinish()}),We.onDestroy(()=>{++Re==be&&this._onDestroy()}),We.onStart(()=>{++ie==be&&this._onStart()})}),this.totalTime=this.players.reduce((We,rt)=>Math.max(We,rt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}init(){this.players.forEach(Se=>Se.init())}onStart(Se){this._onStartFns.push(Se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Se=>Se()),this._onStartFns=[])}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Se=>Se.play())}pause(){this.players.forEach(Se=>Se.pause())}restart(){this.players.forEach(Se=>Se.restart())}finish(){this._onFinish(),this.players.forEach(Se=>Se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Se=>Se.destroy()),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this.players.forEach(Se=>Se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Se){const Ke=Se*this.totalTime;this.players.forEach(Re=>{const ie=Re.totalTime?Math.min(1,Ke/Re.totalTime):1;Re.setPosition(ie)})}getPosition(){const Se=this.players.reduce((Ke,Re)=>null===Ke||Re.totalTime>Ke.totalTime?Re:Ke,null);return null!=Se?Se.getPosition():0}beforeDestroy(){this.players.forEach(Se=>{Se.beforeDestroy&&Se.beforeDestroy()})}triggerCallback(Se){const Ke="start"==Se?this._onStartFns:this._onDoneFns;Ke.forEach(Re=>Re()),Ke.length=0}}const et="!"},6895:(jt,at,V)=>{"use strict";V.d(at,{Do:()=>je,EM:()=>Ss,HT:()=>Ce,JF:()=>Wi,K0:()=>Le,Mx:()=>ts,O5:()=>ot,PM:()=>Bi,S$:()=>mt,V_:()=>Ue,Ye:()=>et,b0:()=>pe,bD:()=>Di,ez:()=>ao,q:()=>F,sg:()=>q,tP:()=>fi,w_:()=>Ne});var l=V(4650);let v=null;function F(){return v}function Ce(R){v||(v=R)}class Ne{}const Le=new l.OlP("DocumentToken");let ve=(()=>{class R{historyGo(P){throw new Error("Not implemented")}}return R.\u0275fac=function(P){return new(P||R)},R.\u0275prov=l.Yz7({token:R,factory:function(){return function Oe(){return(0,l.LFG)(ye)}()},providedIn:"platform"}),R})();const Ue=new l.OlP("Location Initialized");let ye=(()=>{class R extends ve{constructor(P){super(),this._doc=P,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(P){const Z=F().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",P,!1),()=>Z.removeEventListener("popstate",P)}onHashChange(P){const Z=F().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",P,!1),()=>Z.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,Z,fe){me()?this._history.pushState(P,Z,fe):this._location.hash=fe}replaceState(P,Z,fe){me()?this._history.replaceState(P,Z,fe):this._location.hash=fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return R.\u0275fac=function(P){return new(P||R)(l.LFG(Le))},R.\u0275prov=l.Yz7({token:R,factory:function(){return function _e(){return new ye((0,l.LFG)(Le))}()},providedIn:"platform"}),R})();function me(){return!!window.history.pushState}function Fe(R,j){if(0==R.length)return j;if(0==j.length)return R;let P=0;return R.endsWith("/")&&P++,j.startsWith("/")&&P++,2==P?R+j.substring(1):1==P?R+j:R+"/"+j}function Be(R){const j=R.match(/#|\?|$/),P=j&&j.index||R.length;return R.slice(0,P-("/"===R[P-1]?1:0))+R.slice(P)}function it(R){return R&&"?"!==R[0]?"?"+R:R}let mt=(()=>{class R{historyGo(P){throw new Error("Not implemented")}}return R.\u0275fac=function(P){return new(P||R)},R.\u0275prov=l.Yz7({token:R,factory:function(){return(0,l.f3M)(pe)},providedIn:"root"}),R})();const Me=new l.OlP("appBaseHref");let pe=(()=>{class R extends mt{constructor(P,Z){var fe,ct,Rt;super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=null!==(fe=null!==(ct=null!=Z?Z:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ct?ct:null===(Rt=(0,l.f3M)(Le).location)||void 0===Rt?void 0:Rt.origin)&&void 0!==fe?fe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Fe(this._baseHref,P)}path(P=!1){const Z=this._platformLocation.pathname+it(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&P?`${Z}${fe}`:Z}pushState(P,Z,fe,ct){const Rt=this.prepareExternalUrl(fe+it(ct));this._platformLocation.pushState(P,Z,Rt)}replaceState(P,Z,fe,ct){const Rt=this.prepareExternalUrl(fe+it(ct));this._platformLocation.replaceState(P,Z,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){var Z,fe;null===(Z=(fe=this._platformLocation).historyGo)||void 0===Z||Z.call(fe,P)}}return R.\u0275fac=function(P){return new(P||R)(l.LFG(ve),l.LFG(Me,8))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),je=(()=>{class R extends mt{constructor(P,Z){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(P){const Z=Fe(this._baseHref,P);return Z.length>0?"#"+Z:Z}pushState(P,Z,fe,ct){let Rt=this.prepareExternalUrl(fe+it(ct));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.pushState(P,Z,Rt)}replaceState(P,Z,fe,ct){let Rt=this.prepareExternalUrl(fe+it(ct));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.replaceState(P,Z,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){var Z,fe;null===(Z=(fe=this._platformLocation).historyGo)||void 0===Z||Z.call(fe,P)}}return R.\u0275fac=function(P){return new(P||R)(l.LFG(ve),l.LFG(Me,8))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac}),R})(),et=(()=>{class R{constructor(P){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const Z=this._locationStrategy.getBaseHref();this._basePath=function Re(R){if(new RegExp("^(https?:)?//").test(R)){const[,P]=R.split(/\/\/[^\/]+/);return P}return R}(Be(Ke(Z))),this._locationStrategy.onPopState(fe=>{this._subject.emit({url:this.path(!0),pop:!0,state:fe.state,type:fe.type})})}ngOnDestroy(){var P;null===(P=this._urlChangeSubscription)||void 0===P||P.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,Z=""){return this.path()==this.normalize(P+it(Z))}normalize(P){return R.stripTrailingSlash(function Se(R,j){if(!R||!j.startsWith(R))return j;const P=j.substring(R.length);return""===P||["/",";","?","#"].includes(P[0])?P:j}(this._basePath,Ke(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,Z="",fe=null){this._locationStrategy.pushState(fe,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+it(Z)),fe)}replaceState(P,Z="",fe=null){this._locationStrategy.replaceState(fe,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+it(Z)),fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){var Z,fe;null===(Z=(fe=this._locationStrategy).historyGo)||void 0===Z||Z.call(fe,P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(P);var fe;this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(null===(fe=this._urlChangeSubscription)||void 0===fe||fe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",Z){this._urlChangeListeners.forEach(fe=>fe(P,Z))}subscribe(P,Z,fe){return this._subject.subscribe({next:P,error:Z,complete:fe})}}return R.normalizeQueryParams=it,R.joinWithSlash=Fe,R.stripTrailingSlash=Be,R.\u0275fac=function(P){return new(P||R)(l.LFG(mt))},R.\u0275prov=l.Yz7({token:R,factory:function(){return function ze(){return new et((0,l.LFG)(mt))}()},providedIn:"root"}),R})();function Ke(R){return R.replace(/\/index.html$/,"")}function ts(R,j){j=encodeURIComponent(j);for(const P of R.split(";")){const Z=P.indexOf("="),[fe,ct]=-1==Z?[P,""]:[P.slice(0,Z),P.slice(Z+1)];if(fe.trim()===j)return decodeURIComponent(ct)}return null}class Mi{constructor(j,P,Z,fe){this.$implicit=j,this.ngForOf=P,this.index=Z,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let q=(()=>{class R{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,Z,fe){this._viewContainer=P,this._template=Z,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Z=this._viewContainer;P.forEachOperation((fe,ct,Rt)=>{if(null==fe.previousIndex)Z.createEmbeddedView(this._template,new Mi(fe.item,this._ngForOf,-1,-1),null===Rt?void 0:Rt);else if(null==Rt)Z.remove(null===ct?void 0:ct);else if(null!==ct){const yn=Z.get(ct);Z.move(yn,Rt),de(yn,fe)}});for(let fe=0,ct=Z.length;fe<ct;fe++){const yn=Z.get(fe).context;yn.index=fe,yn.count=ct,yn.ngForOf=this._ngForOf}P.forEachIdentityChange(fe=>{de(Z.get(fe.currentIndex),fe)})}static ngTemplateContextGuard(P,Z){return!0}}return R.\u0275fac=function(P){return new(P||R)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function de(R,j){R.context.$implicit=j.item}let ot=(()=>{class R{constructor(P,Z){this._viewContainer=P,this._context=new wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){te("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){te("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Z){return!0}}return R.\u0275fac=function(P){return new(P||R)(l.Y36(l.s_b),l.Y36(l.Rgc))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class wt{constructor(){this.$implicit=null,this.ngIf=null}}function te(R,j){if(j&&!j.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,l.AaK)(j)}'.`)}let fi=(()=>{class R{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(P.ngTemplateOutlet||P.ngTemplateOutletInjector){const Z=this._viewContainerRef;if(this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:fe,ngTemplateOutletContext:ct,ngTemplateOutletInjector:Rt}=this;this._viewRef=Z.createEmbeddedView(fe,ct,Rt?{injector:Rt}:void 0)}else this._viewRef=null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(P){return new(P||R)(l.Y36(l.s_b))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),R})(),ao=(()=>{class R{}return R.\u0275fac=function(P){return new(P||R)},R.\u0275mod=l.oAB({type:R}),R.\u0275inj=l.cJS({}),R})();const Di="browser",Do="server";function Bi(R){return R===Do}let Ss=(()=>{class R{}return R.\u0275prov=(0,l.Yz7)({token:R,providedIn:"root",factory:()=>new ks((0,l.LFG)(Le),window)}),R})();class ks{constructor(j,P){this.document=j,this.window=P,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const P=function ss(R,j){const P=R.getElementById(j)||R.getElementsByName(j)[0];if(P)return P;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const Z=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let fe=Z.currentNode;for(;fe;){const ct=fe.shadowRoot;if(ct){const Rt=ct.getElementById(j)||ct.querySelector(`[name="${j}"]`);if(Rt)return Rt}fe=Z.nextNode()}}return null}(this.document,j);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=j)}}scrollToElement(j){const P=j.getBoundingClientRect(),Z=P.left+this.window.pageXOffset,fe=P.top+this.window.pageYOffset,ct=this.offset();this.window.scrollTo(Z-ct[0],fe-ct[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=Ci(this.window.history)||Ci(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch(j){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(j){return!1}}}function Ci(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Wi{}},4650:(jt,at,V)=>{"use strict";V.d(at,{$8M:()=>Ja,$WT:()=>Pr,$Z:()=>gu,AFp:()=>LE,AaK:()=>Oe,BQk:()=>nf,CHM:()=>f,CRH:()=>Rf,CZH:()=>Mg,CqO:()=>u0,D6c:()=>ob,DdM:()=>lv,EJc:()=>cI,EiD:()=>u_,EpF:()=>zc,F$t:()=>rf,F4k:()=>Xu,FYo:()=>pp,FiY:()=>ii,G48:()=>Ov,Gf:()=>wE,GfV:()=>pm,GkF:()=>Ql,Gpc:()=>me,Hsn:()=>Zm,JOm:()=>sl,JVY:()=>Eb,JZr:()=>mt,KtG:()=>M,L6k:()=>i_,LAX:()=>Ed,LFG:()=>Nt,LSH:()=>xh,Lbi:()=>uI,Lck:()=>nh,MMx:()=>mg,NdJ:()=>Ju,OlP:()=>sr,Oqu:()=>yy,P3R:()=>h_,PXZ:()=>_I,Q6J:()=>qd,QGY:()=>Fp,QbO:()=>VE,Qsj:()=>y_,R0b:()=>Fo,RDi:()=>Tn,Rgc:()=>Pl,SBq:()=>Wl,Sil:()=>jE,Suo:()=>xf,TTD:()=>Ss,TgZ:()=>tf,Tol:()=>hy,Udp:()=>ic,VKq:()=>hE,X6Q:()=>kg,XFs:()=>Ot,Xpm:()=>Dr,Xts:()=>uu,Y36:()=>Fc,YKP:()=>nv,YNc:()=>o0,Yjl:()=>Fi,Yz7:()=>tt,Z0I:()=>tn,ZZ4:()=>$g,_Bn:()=>gg,_UZ:()=>kp,_Vd:()=>Cd,_c5:()=>Gv,_uU:()=>C0,aQg:()=>Hv,c2e:()=>UE,cJS:()=>en,cg1:()=>Ay,d8E:()=>Sy,dDg:()=>yI,dqk:()=>pn,eBb:()=>Tr,eFA:()=>YE,eJc:()=>kf,ekj:()=>lf,eoX:()=>WE,f3M:()=>Zt,g9A:()=>$E,h0i:()=>ac,hGG:()=>Wv,hij:()=>to,iGM:()=>ih,ifc:()=>Y,ip1:()=>FE,jDz:()=>iv,kL8:()=>L0,lG2:()=>cs,lqb:()=>cl,lri:()=>jf,mCW:()=>Ui,n5z:()=>Xa,oAB:()=>Hr,oJD:()=>qu,oxw:()=>h0,pB0:()=>s_,q3G:()=>Rs,q4F:()=>gm,qLn:()=>Fh,qOj:()=>Bm,qZA:()=>Po,qzn:()=>_d,rWj:()=>Du,s9C:()=>Qm,sBO:()=>JE,s_b:()=>Cf,soG:()=>oh,tb:()=>Tu,tp0:()=>B,uIk:()=>Ap,vHH:()=>Me,vpe:()=>no,wAp:()=>Xn,xp6:()=>$h,ynx:()=>Hc,z2F:()=>zf,z3N:()=>zl,zSh:()=>cu,zs3:()=>Pc});var l=V(7579),v=V(727),F=V(9751),Ce=V(6451),Ne=V(3099);function Le(i){for(let s in i)if(i[s]===Le)return s;throw Error("Could not find renamed property on target object.")}function ve(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Oe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Oe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const ye=Le({__forward_ref__:Le});function me(i){return i.__forward_ref__=me,i.toString=function(){return Oe(this())},i}function _e(i){return Fe(i)?i():i}function Fe(i){return"function"==typeof i&&i.hasOwnProperty(ye)&&i.__forward_ref__===me}function Be(i){return i&&!!i.\u0275providers}const mt="https://g.co/ng/security#xss";class Me extends Error{constructor(s,o){super(pe(s,o)),this.code=s}}function pe(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function je(i){return"string"==typeof i?i:null==i?"":String(i)}function Re(i,s){throw new Me(-201,!1)}function $e(i,s){null==i&&function le(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function tt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function en(i){return{providers:i.providers||[],imports:i.imports||[]}}function vt(i){return In(i,fr)||In(i,on)}function tn(i){return null!==vt(i)}function In(i,s){return i.hasOwnProperty(s)?i[s]:null}function jn(i){return i&&(i.hasOwnProperty(vr)||i.hasOwnProperty(An))?i[vr]:null}const fr=Le({\u0275prov:Le}),vr=Le({\u0275inj:Le}),on=Le({ngInjectableDef:Le}),An=Le({ngInjectorDef:Le});var Ot=(()=>((Ot=Ot||{})[Ot.Default=0]="Default",Ot[Ot.Host=1]="Host",Ot[Ot.Self=2]="Self",Ot[Ot.SkipSelf=4]="SkipSelf",Ot[Ot.Optional=8]="Optional",Ot))();let Vn;function er(i){const s=Vn;return Vn=i,s}function Br(i,s,o){const u=vt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ot.Optional?null:void 0!==s?s:void Re(Oe(i))}const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),an={},Hn="__NG_DI_FLAG__",St="ngTempTokenPath",_r="ngTokenPath",Lr=/\n/gm,Dn="\u0275",Er="__source";let vn;function _n(i){const s=vn;return vn=i,s}function Sr(i,s=Ot.Default){if(void 0===vn)throw new Me(-203,!1);return null===vn?Br(i,void 0,s):vn.get(i,s&Ot.Optional?null:void 0,s)}function Nt(i,s=Ot.Default){return(function Yn(){return Vn}()||Sr)(_e(i),s)}function Zt(i,s=Ot.Default){return Nt(i,mn(s))}function mn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function bn(i){const s=[];for(let o=0;o<i.length;o++){const u=_e(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Me(900,!1);let h,g=Ot.Default;for(let w=0;w<u.length;w++){const A=u[w],O=ur(A);"number"==typeof O?-1===O?h=A.token:g|=O:h=A}s.push(Nt(h,g))}else s.push(Nt(u))}return s}function kn(i,s){return i[Hn]=s,i.prototype[Hn]=s,i}function ur(i){return i[Hn]}function ee(i){return{toString:i}.toString()}var re=(()=>((re=re||{})[re.OnPush=0]="OnPush",re[re.Default=1]="Default",re))(),Y=(()=>{return(i=Y||(Y={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Y;var i})();const nt={},oe=[],we=Le({\u0275cmp:Le}),se=Le({\u0275dir:Le}),He=Le({\u0275pipe:Le}),ht=Le({\u0275mod:Le}),At=Le({\u0275fac:Le}),sn=Le({__NG_ELEMENT_ID__:Le});let cn=0;function Dr(i){return ee(()=>{const s=kr(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===re.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||Y.Emulated,id:"c"+cn++,styles:i.styles||oe,_:null,schemas:i.schemas||null,tView:null};ts(o);const u=i.dependencies;return o.directiveDefs=gi(u,!1),o.pipeDefs=gi(u,!0),o})}function wi(i){return zn(i)||Vr(i)}function jr(i){return null!==i}function Hr(i){return ee(()=>({type:i.type,bootstrap:i.bootstrap||oe,declarations:i.declarations||oe,imports:i.imports||oe,exports:i.exports||oe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ei(i,s){if(null==i)return nt;const o={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),o[h]=u,s&&(s[h]=g)}return o}function cs(i){return ee(()=>{const s=kr(i);return ts(s),s})}function Fi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function zn(i){return i[we]||null}function Vr(i){return i[se]||null}function Ar(i){return i[He]||null}function Pr(i){const s=zn(i)||Vr(i)||Ar(i);return null!==s&&s.standalone}function zr(i,s){const o=i[ht]||null;if(!o&&!0===s)throw new Error(`Type ${Oe(i)} does not have '\u0275mod' property.`);return o}function kr(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||oe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ei(i.inputs,s),outputs:ei(i.outputs)}}function ts(i){var s;null===(s=i.features)||void 0===s||s.forEach(o=>o(i))}function gi(i,s){if(!i)return null;const o=s?Ar:wi;return()=>("function"==typeof i?i():i).map(u=>o(u)).filter(jr)}const ui=0,Gt=1,Nn=2,Or=3,Gr=4,Mi=5,q=6,de=7,qe=8,ot=9,wt=10,te=11,Ye=12,lt=13,bt=14,Dt=15,$t=16,ln=17,Mn=18,Zn=19,fi=20,xi=21,Sn=22,ds=1,ns=2,hs=7,Hi=8,fs=9,Ri=10;function _i(i){return Array.isArray(i)&&"object"==typeof i[ds]}function ci(i){return Array.isArray(i)&&!0===i[ds]}function $o(i){return 0!=(4&i.flags)}function bo(i){return i.componentOffset>-1}function Li(i){return 1==(1&i.flags)}function zi(i){return!!i.template}function Gs(i){return 0!=(256&i[Nn])}function ti(i,s){return i.hasOwnProperty(At)?i[At]:null}class Ts{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ss(){return ks}function ks(i){return i.type.prototype.ngOnChanges&&(i.setInput=ss),Ci}function Ci(){const i=Wi(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===nt)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function ss(i,s,o,u){const h=this.declaredInputs[o],g=Wi(i)||function Vo(i,s){return i[As]=s}(i,{previous:nt,current:null}),w=g.current||(g.current={}),A=g.previous,O=A[h];w[h]=new Ts(O&&O.currentValue,s,A===nt),i[u]=s}Ss.ngInherit=!0;const As="__ngSimpleChanges__";function Wi(i){return i[As]||null}const br=function(i,s,o){};function si(i){for(;Array.isArray(i);)i=i[ui];return i}function Ns(i,s){return si(s[i])}function ni(i,s){return si(s[i.index])}function Fs(i,s){return i.data[s]}function pi(i,s){const o=s[i];return _i(o)?o:o[ui]}function Zo(i){return 64==(64&i[Nn])}function gs(i,s){return null==s?null:i[s]}function Ti(i){i[Mn]=0}function ca(i,s){i[Mi]+=s;let o=i,u=i[Or];for(;null!==u&&(1===s&&1===o[Mi]||-1===s&&0===o[Mi]);)u[Mi]+=s,o=u,u=u[Or]}const Fn={lFrame:gl(null),bindingsEnabled:!0};function jo(){return Fn.bindingsEnabled}function d(){return Fn.lFrame.lView}function m(){return Fn.lFrame.tView}function f(i){return Fn.lFrame.contextLView=i,i[qe]}function M(i){return Fn.lFrame.contextLView=null,i}function H(){let i=ut();for(;null!==i&&64===i.type;)i=i.parent;return i}function ut(){return Fn.lFrame.currentTNode}function Wt(i,s){const o=Fn.lFrame;o.currentTNode=i,o.isParent=s}function Rn(){return Fn.lFrame.isParent}function nr(){Fn.lFrame.isParent=!1}function dr(){const i=Fn.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function ms(){return Fn.lFrame.bindingIndex++}function os(i){const s=Fn.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function qa(i,s){const o=Fn.lFrame;o.bindingIndex=o.bindingRootIndex=i,Xo(s)}function Xo(i){Fn.lFrame.currentDirectiveIndex=i}function Ta(i){const s=Fn.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Yi(){return Fn.lFrame.currentQueryIndex}function Ao(i){Fn.lFrame.currentQueryIndex=i}function Au(i){const s=i[Gt];return 2===s.type?s.declTNode:1===s.type?i[q]:null}function Sa(i,s,o){if(o&Ot.SkipSelf){let h=s,g=i;for(;!(h=h.parent,null!==h||o&Ot.Host||(h=Au(g),null===h||(g=g[Dt],10&h.type))););if(null===h)return!1;s=h,i=g}const u=Fn.lFrame=dc();return u.currentTNode=s,u.lView=i,!0}function Ys(i){const s=dc(),o=i[Gt];Fn.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function dc(){const i=Fn.lFrame,s=null===i?null:i.child;return null===s?gl(i):s}function gl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Mt(){const i=Fn.lFrame;return Fn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const zo=Mt;function Jo(){const i=Mt();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function mi(){return Fn.lFrame.selectedIndex}function yi(i){Fn.lFrame.selectedIndex=i}function Qt(){const i=Fn.lFrame;return Fs(i.tView,i.selectedIndex)}function ta(i,s){for(let U=s.directiveStart,Q=s.directiveEnd;U<Q;U++){const Xe=i.data[U].type.prototype,{ngAfterContentInit:dt,ngAfterContentChecked:Pt,ngAfterViewInit:Ht,ngAfterViewChecked:gn,ngOnDestroy:Pn}=Xe;var o,u,h,g,w,A,O;dt&&(null!==(o=i.contentHooks)&&void 0!==o?o:i.contentHooks=[]).push(-U,dt),Pt&&((null!==(u=i.contentHooks)&&void 0!==u?u:i.contentHooks=[]).push(U,Pt),(null!==(h=i.contentCheckHooks)&&void 0!==h?h:i.contentCheckHooks=[]).push(U,Pt)),Ht&&(null!==(g=i.viewHooks)&&void 0!==g?g:i.viewHooks=[]).push(-U,Ht),gn&&((null!==(w=i.viewHooks)&&void 0!==w?w:i.viewHooks=[]).push(U,gn),(null!==(A=i.viewCheckHooks)&&void 0!==A?A:i.viewCheckHooks=[]).push(U,gn)),null!=Pn&&(null!==(O=i.destroyHooks)&&void 0!==O?O:i.destroyHooks=[]).push(U,Pn)}}function ha(i,s,o){P(i,s,3,o)}function R(i,s,o,u){(3&i[Nn])===o&&P(i,s,o,u)}function j(i,s){let o=i[Nn];(3&o)===s&&(o&=2047,o+=1,i[Nn]=o)}function P(i,s,o,u){const g=null!=u?u:-1,w=s.length-1;let A=0;for(let O=void 0!==u?65535&i[Mn]:0;O<w;O++)if("number"==typeof s[O+1]){if(A=s[O],null!=u&&A>=u)break}else s[O]<0&&(i[Mn]+=65536),(A<g||-1==g)&&(Z(i,o,s,O),i[Mn]=(4294901760&i[Mn])+O+2),O++}function Z(i,s,o,u){const h=o[u]<0,g=o[u+1],A=i[h?-o[u]:o[u]];if(h){if(i[Nn]>>11<i[Mn]>>16&&(3&i[Nn])===s){i[Nn]+=2048,br(4,A,g);try{g.call(A)}finally{br(5,A,g)}}}else{br(4,A,g);try{g.call(A)}finally{br(5,A,g)}}}const fe=-1;class ct{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ri(i,s,o){let u=0;for(;u<o.length;){const h=o[u];if("number"==typeof h){if(0!==h)break;u++;const g=o[u++],w=o[u++],A=o[u++];i.setAttribute(s,w,A,g)}else{const g=h,w=o[++u];ai(g)?i.setProperty(s,g,w):i.setAttribute(s,g,w),u++}}return u}function $s(i){return 3===i||4===i||6===i}function ai(i){return 64===i.charCodeAt(0)}function ys(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?o=h:0===o||Zs(i,o,h,null,-1===o||2===o?s[++u]:null)}}return i}function Zs(i,s,o,u,h){let g=0,w=i.length;if(-1===s)w=-1;else for(;g<i.length;){const A=i[g++];if("number"==typeof A){if(A===s){w=-1;break}if(A>s){w=g-1;break}}}for(;g<i.length;){const A=i[g];if("number"==typeof A)break;if(A===o){if(null===u)return void(null!==h&&(i[g+1]=h));if(u===i[g+1])return void(i[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==w&&(i.splice(w,0,s),g=w+1),i.splice(g++,0,o),null!==u&&i.splice(g++,0,u),null!==h&&i.splice(g++,0,h)}function na(i){return i!==fe}function Oi(i){return 32767&i}function ra(i,s){let o=function Go(i){return i>>16}(i),u=s;for(;o>0;)u=u[Dt],o--;return u}let ia=!0;function ho(i){const s=ia;return ia=i,s}const Wo=255,Ya=5;let Aa=0;const Qs={};function Ma(i,s){const o=xa(i,s);if(-1!==o)return o;const u=s[Gt];u.firstCreatePass&&(i.injectorIndex=s.length,Za(u.data,i),Za(s,null),Za(u.blueprint,null));const h=Mu(i,s),g=i.injectorIndex;if(na(h)){const w=Oi(h),A=ra(h,s),O=A[Gt].data;for(let U=0;U<8;U++)s[g+U]=A[w+U]|O[w+U]}return s[g+8]=h,g}function Za(i,s){i.push(0,0,0,0,0,0,0,0,s)}function xa(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Mu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,h=s;for(;null!==h;){if(u=Bs(h),null===u)return fe;if(o++,h=h[Dt],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return fe}function qo(i,s,o){!function vl(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(sn)&&(u=o[sn]),null==u&&(u=o[sn]=Aa++);const h=u&Wo;s.data[i+(h>>Ya)]|=1<<h}(i,s,o)}function fa(i,s,o){if(o&Ot.Optional||void 0!==i)return i;Re()}function xu(i,s,o,u){if(o&Ot.Optional&&void 0===u&&(u=null),!(o&(Ot.Self|Ot.Host))){const h=i[ot],g=er(void 0);try{return h?h.get(s,u,o&Ot.Optional):Br(s,u,o&Ot.Optional)}finally{er(g)}}return fa(u,0,o)}function fo(i,s,o,u=Ot.Default,h){if(null!==i){if(1024&s[Nn]){const w=function tu(i,s,o,u,h){let g=i,w=s;for(;null!==g&&null!==w&&1024&w[Nn]&&!(256&w[Nn]);){const A=Qa(g,w,o,u|Ot.Self,Qs);if(A!==Qs)return A;let O=g.parent;if(!O){const U=w[xi];if(U){const Q=U.get(o,Qs,u);if(Q!==Qs)return Q}O=Bs(w),w=w[Dt]}g=O}return h}(i,s,o,u,Qs);if(w!==Qs)return w}const g=Qa(i,s,o,u,Qs);if(g!==Qs)return g}return xu(s,o,u,h)}function Qa(i,s,o,u,h){const g=function Ll(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(sn)?i[sn]:void 0;return"number"==typeof s?s>=0?s&Wo:Ru:s}(o);if("function"==typeof g){if(!Sa(s,i,u))return u&Ot.Host?fa(h,0,u):xu(s,o,u,h);try{const w=g(u);if(null!=w||u&Ot.Optional)return w;Re()}finally{zo()}}else if("number"==typeof g){let w=null,A=xa(i,s),O=fe,U=u&Ot.Host?s[$t][q]:null;for((-1===A||u&Ot.SkipSelf)&&(O=-1===A?Mu(i,s):s[A+8],O!==fe&&Ra(u,!1)?(w=s[Gt],A=Oi(O),s=ra(O,s)):A=-1);-1!==A;){const Q=s[Gt];if(vs(g,A,Q.data)){const ge=Zi(A,s,o,w,u,U);if(ge!==Qs)return ge}O=s[A+8],O!==fe&&Ra(u,s[Gt].data[A+8]===U)&&vs(g,A,s)?(w=Q,A=Oi(O),s=ra(O,s)):A=-1}}return h}function Zi(i,s,o,u,h,g){const w=s[Gt],A=w.data[i+8],Q=sa(A,w,o,null==u?bo(A)&&ia:u!=w&&0!=(3&A.type),h&Ot.Host&&g===A);return null!==Q?po(s,w,Q,A):Qs}function sa(i,s,o,u,h){const g=i.providerIndexes,w=s.data,A=1048575&g,O=i.directiveStart,Q=g>>20,Xe=h?A+Q:i.directiveEnd;for(let dt=u?A:A+Q;dt<Xe;dt++){const Pt=w[dt];if(dt<O&&o===Pt||dt>=O&&Pt.type===o)return dt}if(h){const dt=w[O];if(dt&&zi(dt)&&dt.type===o)return O}return null}function po(i,s,o,u){let h=i[o];const g=s.data;if(function Rt(i){return i instanceof ct}(h)){const w=h;w.resolving&&function ze(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Me(-200,`Circular dependency in DI detected for ${i}${o}`)}(function et(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():je(i)}(g[o]));const A=ho(w.canSeeViewProviders);w.resolving=!0;const O=w.injectImpl?er(w.injectImpl):null;Sa(i,u,Ot.Default);try{h=i[o]=w.factory(void 0,g,i,u),s.firstCreatePass&&o>=u.directiveStart&&function Nl(i,s,o){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(u){var w,A;const ge=ks(s);(null!==(w=o.preOrderHooks)&&void 0!==w?w:o.preOrderHooks=[]).push(i,ge),(null!==(A=o.preOrderCheckHooks)&&void 0!==A?A:o.preOrderCheckHooks=[]).push(i,ge)}var O,U,Q;h&&(null!==(O=o.preOrderHooks)&&void 0!==O?O:o.preOrderHooks=[]).push(0-i,h),g&&((null!==(U=o.preOrderHooks)&&void 0!==U?U:o.preOrderHooks=[]).push(i,g),(null!==(Q=o.preOrderCheckHooks)&&void 0!==Q?Q:o.preOrderCheckHooks=[]).push(i,g))}(o,g[o],s)}finally{null!==O&&er(O),ho(A),w.resolving=!1,zo()}}return h}function vs(i,s,o){return!!(o[s+(i>>Ya)]&1<<i)}function Ra(i,s){return!(i&Ot.Self||i&Ot.Host&&s)}class Oa{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return fo(this._tNode,this._lView,s,mn(u),o)}}function Ru(){return new Oa(H(),d())}function Xa(i){return ee(()=>{const s=i.prototype.constructor,o=s[At]||_l(s),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const g=h[At]||_l(h);if(g&&g!==o)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function _l(i){return Fe(i)?()=>{const s=_l(_e(i));return s&&s()}:ti(i)}function Bs(i){const s=i[Gt],o=s.type;return 2===o?s.declTNode:1===o?i[q]:null}function Ja(i){return function eu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let h=0;for(;h<u;){const g=o[h];if($s(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof o[h];)h++;else{if(g===s)return o[h+1];h+=2}}}return null}(H(),i)}const Pa="__parameters__";function Ko(i,s,o){return ee(()=>{const u=function el(i){return function(...o){if(i){const u=i(...o);for(const h in u)this[h]=u[h]}}}(s);function h(...g){if(this instanceof h)return u.apply(this,g),this;const w=new h(...g);return A.annotation=w,A;function A(O,U,Q){const ge=O.hasOwnProperty(Pa)?O[Pa]:Object.defineProperty(O,Pa,{value:[]})[Pa];for(;ge.length<=Q;)ge.push(null);return(ge[Q]=ge[Q]||[]).push(w),O}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class sr{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=tt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xo(i,s){i.forEach(o=>Array.isArray(o)?xo(o,s):s(o))}function bl(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function ya(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ro(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}function go(i,s,o){let u=D(i,s);return u>=0?i[1|u]=o:(u=~u,function Vl(i,s,o,u){let h=i.length;if(h==s)i.push(o,u);else if(1===h)i.push(u,i[0]),i[0]=o;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function I(i,s){const o=D(i,s);if(o>=0)return i[1|o]}function D(i,s){return function T(i,s,o){let u=0,h=i.length>>o;for(;h!==u;){const g=u+(h-u>>1),w=i[g<<o];if(s===w)return g<<o;w>s?h=g:u=g+1}return~(h<<o)}(i,s,1)}const ii=kn(Ko("Optional"),8),B=kn(Ko("SkipSelf"),4);var sl=(()=>((sl=sl||{})[sl.Important=1]="Important",sl[sl.DashCase=2]="DashCase",sl))();const $u=new Map;let Xf=0;const _c="__ngContext__";function Xs(i,s){_i(s)?(i[_c]=s[fi],function Hg(i){$u.set(i[fi],i)}(s)):i[_c]=s}let Ft;function wn(i,s){return Ft(i,s)}function mr(i){const s=i[Or];return ci(s)?s[Or]:s}function ll(i){return pd(i[lt])}function su(i){return pd(i[Gr])}function pd(i){for(;null!==i&&!ci(i);)i=i[Gr];return i}function Dl(i,s,o,u,h){if(null!=u){let g,w=!1;ci(u)?g=u:_i(u)&&(w=!0,u=u[ui]);const A=si(u);0===i&&null!==o?null==h?qg(s,o,A):au(s,o,A,h||null,!0):1===i&&null!==o?au(s,o,A,h||null,!0):2===i?function Xg(i,s,o){const u=jl(i,s);u&&function n_(i,s,o,u){i.removeChild(s,o,u)}(i,u,s,o)}(s,A,w):3===i&&s.destroyNode(A),null!=g&&function hb(i,s,o,u,h){const g=o[hs];g!==si(o)&&Dl(s,i,u,g,h);for(let A=Ri;A<o.length;A++){const O=o[A];Th(O[Gt],O,i,s,u,g)}}(s,i,g,o,h)}}function bc(i,s,o){return i.createElement(s,o)}function Gg(i,s){const o=i[fs],u=o.indexOf(s),h=s[Or];512&s[Nn]&&(s[Nn]&=-513,ca(h,-1)),o.splice(u,1)}function yd(i,s){if(i.length<=Ri)return;const o=Ri+s,u=i[o];if(u){const h=u[ln];null!==h&&h!==i&&Gg(h,u),s>0&&(i[o-1][Gr]=u[Gr]);const g=ya(i,Ri+s);!function Eh(i,s){Th(i,s,s[te],2,null,null),s[ui]=null,s[q]=null}(u[Gt],u);const w=g[Zn];null!==w&&w.detachView(g[Gt]),u[Or]=null,u[Gr]=null,u[Nn]&=-65}return u}function e_(i,s){if(!(128&s[Nn])){const o=s[te];o.destroyNode&&Th(i,s,o,3,null,null),function np(i){let s=i[lt];if(!s)return rp(i[Gt],i);for(;s;){let o=null;if(_i(s))o=s[lt];else{const u=s[Ri];u&&(o=u)}if(!o){for(;s&&!s[Gr]&&s!==i;)_i(s)&&rp(s[Gt],s),s=s[Or];null===s&&(s=i),_i(s)&&rp(s[Gt],s),o=s&&s[Gr]}s=o}}(s)}}function rp(i,s){if(!(128&s[Nn])){s[Nn]&=-65,s[Nn]|=128,function t_(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const h=s[o[u]];if(!(h instanceof ct)){const g=o[u+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const A=h[g[w]],O=g[w+1];br(4,A,O);try{O.call(A)}finally{br(5,A,O)}}else{br(4,h,g);try{g.call(h)}finally{br(5,h,g)}}}}}(i,s),function bh(i,s){const o=i.cleanup,u=s[de];let h=-1;if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const w=o[g+3];w>=0?u[h=w]():u[h=-w].unsubscribe(),g+=2}else{const w=u[h=o[g+1]];o[g].call(w)}if(null!==u){for(let g=h+1;g<u.length;g++)(0,u[g])();s[de]=null}}(i,s),1===s[Gt].type&&s[te].destroy();const o=s[ln];if(null!==o&&ci(s[Or])){o!==s[Or]&&Gg(o,s);const u=s[Zn];null!==u&&u.detachView(i)}!function Jf(i){$u.delete(i[fi])}(s)}}function Wg(i,s,o){return function ip(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[ui];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:g}=i.data[u.directiveStart+h];if(g===Y.None||g===Y.Emulated)return null}return ni(u,o)}}(i,s.parent,o)}function au(i,s,o,u,h){i.insertBefore(s,o,u,h)}function qg(i,s,o){i.appendChild(s,o)}function wh(i,s,o,u,h){null!==u?au(i,s,o,u,h):qg(i,s,o)}function jl(i,s){return i.parentNode(s)}function Kg(i,s,o){return Zg(i,s,o)}let vd,lu,Sh,op,Zg=function Yg(i,s,o){return 40&i.type?ni(i,o):null};function Ih(i,s,o,u){const h=Wg(i,u,s),g=s[te],A=Kg(u.parent||s[q],u,s);if(null!=h)if(Array.isArray(o))for(let O=0;O<o.length;O++)wh(g,h,o[O],A,!1);else wh(g,h,o,A,!1);void 0!==vd&&vd(g,u,s,o,h)}function Dh(i,s){if(null!==s){const o=s.type;if(3&o)return ni(s,i);if(4&o)return Qg(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return Dh(i,u);{const h=i[s.index];return ci(h)?Qg(-1,h):si(h)}}if(32&o)return wn(s,i)()||si(i[s.index]);{const u=Dc(i,s);return null!==u?Array.isArray(u)?u[0]:Dh(mr(i[$t]),u):Dh(i,s.next)}}return null}function Dc(i,s){return null!==s?i[$t][q].projection[s.projection]:null}function Qg(i,s){const o=Ri+i+1;if(o<s.length){const u=s[o],h=u[Gt].firstChild;if(null!==h)return Dh(u,h)}return s[hs]}function Ch(i,s,o,u,h,g,w){for(;null!=o;){const A=u[o.index],O=o.type;if(w&&0===s&&(A&&Xs(si(A),u),o.flags|=2),32!=(32&o.flags))if(8&O)Ch(i,s,o.child,u,h,g,!1),Dl(s,i,h,A,g);else if(32&O){const U=wn(o,u);let Q;for(;Q=U();)Dl(s,i,h,Q,g);Dl(s,i,h,A,g)}else 16&O?Jg(i,s,u,o,h,g):Dl(s,i,h,A,g);o=w?o.projectionNext:o.next}}function Th(i,s,o,u,h,g){Ch(o,u,i.firstChild,s,h,g,!1)}function Jg(i,s,o,u,h,g){const w=o[$t],O=w[q].projection[u.projection];if(Array.isArray(O))for(let U=0;U<O.length;U++)Dl(s,i,h,O[U],g);else Ch(i,s,O,w[Or],h,g,!0)}function em(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function Js(i,s,o){const{mergedAttrs:u,classes:h,styles:g}=o;null!==u&&ri(i,s,u),null!==h&&em(i,s,h),null!==g&&function fb(i,s,o){i.setAttribute(s,"style",o)}(i,s,g)}function Uu(i){var s;return(null===(s=function Hl(){if(void 0===lu&&(lu=null,pn.trustedTypes))try{lu=pn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return lu}())||void 0===s?void 0:s.createHTML(i))||i}function Tn(i){Sh=i}function fn(){if(void 0===op&&(op=null,pn.trustedTypes))try{op=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return op}function Tt(i){var s;return(null===(s=fn())||void 0===s?void 0:s.createHTML(i))||i}function Us(i){var s;return(null===(s=fn())||void 0===s?void 0:s.createScriptURL(i))||i}class ju{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class gb extends ju{getTypeName(){return"HTML"}}class mb extends ju{getTypeName(){return"Style"}}class yb extends ju{getTypeName(){return"Script"}}class vb extends ju{getTypeName(){return"URL"}}class _b extends ju{getTypeName(){return"ResourceURL"}}function zl(i){return i instanceof ju?i.changingThisBreaksApplicationSecurity:i}function _d(i,s){const o=function ZI(i){return i instanceof ju&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${mt})`)}return o===s}function Eb(i){return new gb(i)}function i_(i){return new mb(i)}function Tr(i){return new yb(i)}function Ed(i){return new vb(i)}function s_(i){return new _b(i)}class Wn{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Uu(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Ah{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=Uu(s),o}}const bb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ui(i){return(i=String(i)).match(bb)?i:"unsafe:"+i}function nn(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Hu(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const ap=nn("area,br,col,hr,img,wbr"),zu=nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o_=nn("rp,rt"),up=Hu(ap,Hu(zu,nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hu(o_,nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hu(o_,zu)),cp=nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nm=Hu(cp,nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),l_=nn("script,style,template");class Gu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let h=this.checkClobberedElement(o,o.nextSibling);if(h){o=h;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!up.hasOwnProperty(o))return this.sanitizedSomething=!0,!l_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),w=g.name,A=w.toLowerCase();if(!nm.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let O=g.value;cp[A]&&(O=Ui(O)),this.buf.push(" ",w,'="',Mh(O),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();up.hasOwnProperty(o)&&!ap.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Mh(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const rm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,It=/([^\#-~ |!])/g;function Mh(i){return i.replace(/&/g,"&amp;").replace(rm,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(It,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _a;function u_(i,s){let o=null;try{_a=_a||function Vi(i){const s=new Ah(i);return function Qr(){try{return!!(new window.DOMParser).parseFromString(Uu(""),"text/html")}catch(i){return!1}}()?new Wn(s):s}(i);let u=s?String(s):"";o=_a.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=o.innerHTML,o=_a.getInertBodyElement(u)}while(u!==g);return Uu((new Gu).sanitizeChildren(Tc(o)||o))}finally{if(o){const u=Tc(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Tc(i){return"content"in i&&function Wu(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Rs=(()=>((Rs=Rs||{})[Rs.NONE=0]="NONE",Rs[Rs.HTML=1]="HTML",Rs[Rs.STYLE=2]="STYLE",Rs[Rs.SCRIPT=3]="SCRIPT",Rs[Rs.URL=4]="URL",Rs[Rs.RESOURCE_URL=5]="RESOURCE_URL",Rs))();function qu(i){const s=bd();return s?Tt(s.sanitize(Rs.HTML,i)||""):_d(i,"HTML")?Tt(zl(i)):u_(function $n(){return void 0!==Sh?Sh:typeof document<"u"?document:void 0}(),je(i))}function xh(i){const s=bd();return s?s.sanitize(Rs.URL,i)||"":_d(i,"URL")?zl(i):Ui(je(i))}function d_(i){const s=bd();if(s)return Us(s.sanitize(Rs.RESOURCE_URL,i)||"");if(_d(i,"ResourceURL"))return Us(zl(i));throw new Me(904,!1)}function h_(i,s,o){return function im(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?d_:xh}(s,o)(i)}function bd(){const i=d();return i&&i[Ye]}const uu=new sr("ENVIRONMENT_INITIALIZER"),sm=new sr("INJECTOR",-1),wd=new sr("INJECTOR_DEF_TYPES");class Id{get(s,o=an){if(o===an){const u=new Error(`NullInjectorError: No provider for ${Oe(s)}!`);throw u.name="NullInjectorError",u}return o}}function Cb(...i){return{\u0275providers:f_(0,i),\u0275fromNgModule:!0}}function f_(i,...s){const o=[],u=new Set;let h;return xo(s,g=>{const w=g;om(w,o,[],u)&&(h||(h=[]),h.push(w))}),void 0!==h&&js(h,o),o}function js(i,s){for(let o=0;o<i.length;o++){const{providers:h}=i[o];Qi(h,g=>{s.push(g)})}}function om(i,s,o,u){if(!(i=_e(i)))return!1;let h=null,g=jn(i);const w=!g&&zn(i);if(g||w){if(w&&!w.standalone)return!1;h=i}else{const O=i.ngModule;if(g=jn(O),!g)return!1;h=O}const A=u.has(h);if(w){if(A)return!1;if(u.add(h),w.dependencies){const O="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const U of O)om(U,s,o,u)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let U;u.add(h);try{xo(g.imports,Q=>{om(Q,s,o,u)&&(U||(U=[]),U.push(Q))})}finally{}void 0!==U&&js(U,s)}if(!A){const U=ti(h)||(()=>new h);s.push({provide:h,useFactory:U,deps:oe},{provide:wd,useValue:h,multi:!0},{provide:uu,useValue:()=>Nt(h),multi:!0})}const O=g.providers;null==O||A||Qi(O,Q=>{s.push(Q)})}}return h!==i&&void 0!==i.providers}function Qi(i,s){for(let o of i)Be(o)&&(o=o.\u0275providers),Array.isArray(o)?Qi(o,s):s(o)}const Mc=Le({provide:String,useValue:Le});function Rh(i){return null!==i&&"object"==typeof i&&Mc in i}function Ea(i){return"function"==typeof i}const cu=new sr("Set Injector scope."),Ba={},Oh={};let Gl;function Ph(){return void 0===Gl&&(Gl=new Id),Gl}class cl{}class hp extends cl{get destroyed(){return this._destroyed}constructor(s,o,u,h){super(),this.parent=o,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cm(s,w=>this.processProvider(w)),this.records.set(sm,xc(void 0,this)),h.has("environment")&&this.records.set(cl,xc(void 0,this));const g=this.records.get(cu);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(wd.multi,oe,Ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=_n(this),u=er(void 0);try{return s()}finally{_n(o),er(u)}}get(s,o=an,u=Ot.Default){this.assertNotDestroyed(),u=mn(u);const h=_n(this),g=er(void 0);try{if(!(u&Ot.SkipSelf)){let A=this.records.get(s);if(void 0===A){const O=function p_(i){return"function"==typeof i||"object"==typeof i&&i instanceof sr}(s)&&vt(s);A=O&&this.injectableDefInScope(O)?xc(du(s),Ba):null,this.records.set(s,A)}if(null!=A)return this.hydrate(s,A)}return(u&Ot.Self?Ph():this.parent).get(s,o=u&Ot.Optional&&o===an?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[St]=w[St]||[]).unshift(Oe(s)),h)throw w;return function ke(i,s,o,u){const h=i[St];throw s[Er]&&h.unshift(s[Er]),i.message=function Ee(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==Dn?i.slice(2):i;let h=Oe(s);if(Array.isArray(s))h=s.map(Oe).join(" -> ");else if("object"==typeof s){let g=[];for(let w in s)if(s.hasOwnProperty(w)){let A=s[w];g.push(w+":"+("string"==typeof A?JSON.stringify(A):Oe(A)))}h=`{${g.join(", ")}}`}return`${o}${u?"("+u+")":""}[${h}]: ${i.replace(Lr,"\n  ")}`}("\n"+i.message,h,o,u),i[_r]=h,i[St]=null,i}(w,s,"R3InjectorError",this.source)}throw w}finally{er(g),_n(h)}}resolveInjectorInitializers(){const s=_n(this),o=er(void 0);try{const u=this.get(uu.multi,oe,Ot.Self);for(const h of u)h()}finally{_n(s),er(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(Oe(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(s){let o=Ea(s=_e(s))?s:_e(s&&s.provide);const u=function kh(i){return Rh(i)?xc(void 0,i.useValue):xc(um(i),Ba)}(s);if(Ea(s)||!0!==s.multi)this.records.get(o);else{let h=this.records.get(o);h||(h=xc(void 0,Ba,!0),h.factory=()=>bn(h.multi),this.records.set(o,h)),o=s,h.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===Ba&&(o.value=Oh,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Nh(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=_e(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function du(i){const s=vt(i),o=null!==s?s.factory:ti(i);if(null!==o)return o;if(i instanceof sr)throw new Me(204,!1);if(i instanceof Function)return function lm(i){const s=i.length;if(s>0)throw Ro(s,"?"),new Me(204,!1);const o=function rn(i){const s=i&&(i[fr]||i[on]);return s?(function zt(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),s):null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Me(204,!1)}function um(i,s,o){let u;if(Ea(i)){const h=_e(i);return ti(h)||du(h)}if(Rh(i))u=()=>_e(i.useValue);else if(function Dd(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...bn(i.deps||[]));else if(function am(i){return!(!i||!i.useExisting)}(i))u=()=>Nt(_e(i.useExisting));else{const h=_e(i&&(i.useClass||i.provide));if(!function fp(i){return!!i.deps}(i))return ti(h)||du(h);u=()=>new h(...bn(i.deps))}return u}function xc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function cm(i,s){for(const o of i)Array.isArray(o)?cm(o,s):o&&Be(o)?cm(o.\u0275providers,s):s(o)}class Tb{}class dm{}class m_{resolveComponentFactory(s){throw function g_(i){const s=Error(`No component factory found for ${Oe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Cd=(()=>{class i{}return i.NULL=new m_,i})();function Wr(){return Xr(H(),d())}function Xr(i,s){return new Wl(ni(i,s))}let Wl=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Wr,i})();function hm(i){return i instanceof Wl?i.nativeElement:i}class pp{}let y_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function fm(){const i=d(),o=pi(H().index,i);return(_i(o)?o:i)[te]}(),i})(),v_=(()=>{class i{}return i.\u0275prov=tt({token:i,providedIn:"root",factory:()=>null}),i})();class pm{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const gm=new pm("15.2.6"),mm={},ym="ngOriginalError";function gp(i){return i[ym]}class Fh{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&gp(s);for(;o&&gp(o);)o=gp(o);return o||null}}function qr(i){return i instanceof Function?i():i}function b_(i,s,o){let u=i.length;for(;;){const h=i.indexOf(s,o);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=s.length;if(h+g===u||i.charCodeAt(h+g)<=32)return h}o=h+1}}const yp="ng-template";function Rc(i,s,o){let u=0,h=!0;for(;u<i.length;){let g=i[u++];if("string"==typeof g&&h){const w=i[u++];if(o&&"class"===g&&-1!==b_(w.toLowerCase(),s,0))return!0}else{if(1===g){for(;u<i.length&&"string"==typeof(g=i[u++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Ad(i){return 4===i.type&&i.value!==yp}function vp(i,s,o){return s===(4!==i.type||o?i.value:yp)}function _p(i,s,o){let u=4;const h=i.attrs||[],g=function Md(i){for(let s=0;s<i.length;s++)if($s(i[s]))return s;return i.length}(h);let w=!1;for(let A=0;A<s.length;A++){const O=s[A];if("number"!=typeof O){if(!w)if(4&u){if(u=2|1&u,""!==O&&!vp(i,O,o)||""===O&&1===s.length){if(dl(u))return!1;w=!0}}else{const U=8&u?O:s[++A];if(8&u&&null!==i.attrs){if(!Rc(i.attrs,U,o)){if(dl(u))return!1;w=!0}continue}const ge=w_(8&u?"class":O,h,Ad(i),o);if(-1===ge){if(dl(u))return!1;w=!0;continue}if(""!==U){let Xe;Xe=ge>g?"":h[ge+1].toLowerCase();const dt=8&u?Xe:null;if(dt&&-1!==b_(dt,U,0)||2&u&&U!==Xe){if(dl(u))return!1;w=!0}}}}else{if(!w&&!dl(u)&&!dl(O))return!1;if(w&&dl(O))continue;w=!1,u=O|1&u}}return dl(u)||w}function dl(i){return 0==(1&i)}function w_(i,s,o,u){if(null===s)return-1;let h=0;if(u||!o){let g=!1;for(;h<s.length;){const w=s[h];if(w===i)return h;if(3===w||6===w)g=!0;else{if(1===w||2===w){let A=s[++h];for(;"string"==typeof A;)A=s[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=g?1:2}return-1}return function D_(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function ql(i,s,o=!1){for(let u=0;u<s.length;u++)if(_p(i,s[u],o))return!0;return!1}function _m(i,s){e:for(let o=0;o<s.length;o++){const u=s[o];if(i.length===u.length){for(let h=0;h<i.length;h++)if(i[h]!==u[h])continue e;return!0}}return!1}function Lh(i,s){return i?":not("+s.trim()+")":s}function Em(i){let s=i[0],o=1,u=2,h="",g=!1;for(;o<i.length;){let w=i[o];if("string"==typeof w)if(2&u){const A=i[++o];h+="["+w+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?h+="."+w:4&u&&(h+=" "+w);else""!==h&&!dl(w)&&(s+=Lh(g,h),h=""),u=w,g=g||!dl(u);o++}return""!==h&&(s+=Lh(g,h)),s}const Ir={};function $h(i){xd(m(),d(),mi()+i,!1)}function xd(i,s,o,u){if(!u)if(3==(3&s[Nn])){const g=i.preOrderCheckHooks;null!==g&&ha(s,g,o)}else{const g=i.preOrderHooks;null!==g&&R(s,g,0,o)}yi(o)}function Vh(i,s=null,o=null,u){const h=M_(i,s,o,u);return h.resolveInjectorInitializers(),h}function M_(i,s=null,o=null,u,h=new Set){const g=[o||oe,Cb(i)];return u=u||("object"==typeof i?void 0:Oe(i)),new hp(g,s||Ph(),u||null,h)}let Pc=(()=>{class i{static create(o,u){if(Array.isArray(o))return Vh({name:""},u,o,"");{var h;const g=null!==(h=o.name)&&void 0!==h?h:"";return Vh({name:g},o.parent,o.providers,g)}}}return i.THROW_IF_NOT_FOUND=an,i.NULL=new Id,i.\u0275prov=tt({token:i,providedIn:"any",factory:()=>Nt(sm)}),i.__NG_ELEMENT_ID__=-1,i})();function Fc(i,s=Ot.Default){const o=d();return null===o?Nt(i,s):fo(H(),o,_e(i),s)}function gu(){throw new Error("invalid")}function aa(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const g=o[u+1];if(-1!==g){const w=i.data[g];Ao(o[u]),w.contentQueries(2,s[g],g)}}}function Wh(i,s,o,u,h,g,w,A,O,U,Q){const ge=s.blueprint.slice();return ge[ui]=h,ge[Nn]=76|u,(null!==Q||i&&1024&i[Nn])&&(ge[Nn]|=1024),Ti(ge),ge[Or]=ge[Dt]=i,ge[qe]=o,ge[wt]=w||i&&i[wt],ge[te]=A||i&&i[te],ge[Ye]=O||i&&i[Ye]||null,ge[ot]=U||i&&i[ot]||null,ge[q]=g,ge[fi]=function iu(){return Xf++}(),ge[xi]=Q,ge[$t]=2==s.type?i[$t]:ge,ge}function la(i,s,o,u,h){let g=i.data[s];if(null===g)g=function bp(i,s,o,u,h){const g=ut(),w=Rn(),O=i.data[s]=function $b(i,s,o,u,h,g){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,o,s,u,h);return null===i.firstChild&&(i.firstChild=O),null!==g&&(w?null==g.child&&null!==O.parent&&(g.child=O):null===g.next&&(g.next=O,O.prev=g)),O}(i,s,o,u,h),function co(){return Fn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=o,g.value=u,g.attrs=h;const w=function Lt(){const i=Fn.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return Wt(g,!0),g}function mu(i,s,o,u){if(0===o)return-1;const h=s.length;for(let g=0;g<o;g++)s.push(u),i.blueprint.push(u),i.data.push(null);return h}function Sm(i,s,o){Ys(s);try{const u=i.viewQuery;null!==u&&Dp(1,u,o);const h=i.template;null!==h&&Rr(i,s,h,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&aa(i,s),i.staticViewQueries&&Dp(2,i.viewQuery,o);const g=i.components;null!==g&&function Gh(i,s){for(let o=0;o<s.length;o++)Wb(i,s[o])}(s,g)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[Nn]&=-5,Jo()}}function wp(i,s,o,u){const h=s[Nn];if(128!=(128&h)){Ys(s);try{Ti(s),function uo(i){return Fn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Rr(i,s,o,2,u);const w=3==(3&h);if(w){const U=i.preOrderCheckHooks;null!==U&&ha(s,U,null)}else{const U=i.preOrderHooks;null!==U&&R(s,U,0,null),j(s,0)}if(function Gb(i){for(let s=ll(i);null!==s;s=su(s)){if(!s[ns])continue;const o=s[fs];for(let u=0;u<o.length;u++){const h=o[u];512&h[Nn]||ca(h[Or],1),h[Nn]|=512}}}(s),function q_(i){for(let s=ll(i);null!==s;s=su(s))for(let o=Ri;o<s.length;o++){const u=s[o],h=u[Gt];Zo(u)&&wp(h,u,h.template,u[qe])}}(s),null!==i.contentQueries&&aa(i,s),w){const U=i.contentCheckHooks;null!==U&&ha(s,U)}else{const U=i.contentHooks;null!==U&&R(s,U,1),j(s,1)}!function Lb(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const h=o[u];if(h<0)yi(~h);else{const g=h,w=o[++u],A=o[++u];qa(w,g),A(2,s[g])}}}finally{yi(-1)}}(i,s);const A=i.components;null!==A&&function L_(i,s){for(let o=0;o<s.length;o++)K_(i,s[o])}(s,A);const O=i.viewQuery;if(null!==O&&Dp(2,O,u),w){const U=i.viewCheckHooks;null!==U&&ha(s,U)}else{const U=i.viewHooks;null!==U&&R(s,U,2),j(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Nn]&=-41,512&s[Nn]&&(s[Nn]&=-513,ca(s[Or],-1))}finally{Jo()}}}function Rr(i,s,o,u,h){const g=mi(),w=2&u;try{yi(-1),w&&s.length>Sn&&xd(i,s,Sn,!1),br(w?2:0,h),o(u,h)}finally{yi(g),br(w?3:1,h)}}function Am(i,s,o){if($o(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const w=i.data[g];w.contentQueries&&w.contentQueries(1,o[g],g)}}}function kd(i,s,o){jo()&&(function qh(i,s,o,u){const h=o.directiveStart,g=o.directiveEnd;bo(o)&&function Hb(i,s,o){const u=ni(s,i),h=Nd(o),g=i[wt],w=Tl(i,Wh(i,h,null,o.onPush?32:16,u,s,g,g.createRenderer(u,o),null,null,null));i[s.index]=w}(s,o,i.data[h+o.componentOffset]),i.firstCreatePass||Ma(o,s),Xs(u,s);const w=o.initialInputs;for(let A=h;A<g;A++){const O=i.data[A],U=po(s,i,A,o);Xs(U,s),null!==w&&zb(0,A-h,U,O,0,w),zi(O)&&(pi(o.index,s)[qe]=po(s,i,A,o))}}(i,s,o,ni(o,s)),64==(64&o.flags)&&Cl(i,s,o))}function Lc(i,s,o=ni){const u=s.localNames;if(null!==u){let h=s.index+1;for(let g=0;g<u.length;g+=2){const w=u[g+1],A=-1===w?o(s,i):i[w];i[h++]=A}}}function Nd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Fd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Fd(i,s,o,u,h,g,w,A,O,U){const Q=Sn+u,ge=Q+h,Xe=function $_(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:Ir);return o}(Q,ge),dt="function"==typeof U?U():U;return Xe[Gt]={type:i,blueprint:Xe,template:o,queries:null,viewQuery:A,declTNode:s,data:Xe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:O,consts:dt,incompleteFirstPass:!1}}function Mm(i,s,o,u){const h=Y_(s);null===o?h.push(u):(h.push(o),i.firstCreatePass&&Fm(i).push(u,h.length-1))}function xm(i,s,o,u){for(let h in i)if(i.hasOwnProperty(h)){o=null===o?{}:o;const g=i[h];null===u?Rm(o,s,h,g):u.hasOwnProperty(h)&&Rm(o,s,u[h],g)}return o}function Rm(i,s,o,u){i.hasOwnProperty(o)?i[o].push(s,u):i[o]=[s,u]}function Ua(i,s,o,u,h,g,w,A){const O=ni(s,o);let Q,U=s.inputs;!A&&null!=U&&(Q=U[u])?($d(i,o,Q,u,h),bo(s)&&V_(o,s.index)):3&s.type&&(u=function Vb(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=w?w(h,s.value||"",u):h,g.setProperty(O,u,h))}function V_(i,s){const o=pi(s,i);16&o[Nn]||(o[Nn]|=32)}function Om(i,s,o,u){if(jo()){const h=null===u?null:{"":-1},g=function j_(i,s){const o=i.directiveRegistry;let u=null,h=null;if(o)for(let w=0;w<o.length;w++){const A=o[w];if(ql(s,A.selectors,!1))if(u||(u=[]),zi(A))if(null!==A.findHostDirectiveDefs){const O=[];h=h||new Map,A.findHostDirectiveDefs(A,O,h),u.unshift(...O,A),$c(i,s,O.length)}else u.unshift(A),$c(i,s,0);else{var g;h=h||new Map,null===(g=A.findHostDirectiveDefs)||void 0===g||g.call(A,A,u,h),u.push(A)}}return null===u?null:[u,h]}(i,o);let w,A;null===g?w=A=null:[w,A]=g,null!==w&&ws(i,s,o,w,h,A),h&&function H_(i,s,o){if(s){const u=i.localNames=[];for(let h=0;h<s.length;h+=2){const g=o[s[h+1]];if(null==g)throw new Me(-301,!1);u.push(s[h],g)}}}(o,u,h)}o.mergedAttrs=ys(o.mergedAttrs,o.attrs)}function ws(i,s,o,u,h,g){for(let ge=0;ge<u.length;ge++)qo(Ma(o,s),i,u[ge].type);!function G_(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,u.length);for(let ge=0;ge<u.length;ge++){const Xe=u[ge];Xe.providersResolver&&Xe.providersResolver(Xe)}let w=!1,A=!1,O=mu(i,s,u.length,null);for(let ge=0;ge<u.length;ge++){const Xe=u[ge];o.mergedAttrs=ys(o.mergedAttrs,Xe.hostAttrs),jb(i,o,s,O,Xe),z_(O,Xe,h),null!==Xe.contentQueries&&(o.flags|=4),(null!==Xe.hostBindings||null!==Xe.hostAttrs||0!==Xe.hostVars)&&(o.flags|=64);const dt=Xe.type.prototype;var U,Q;!w&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((null!==(U=i.preOrderHooks)&&void 0!==U?U:i.preOrderHooks=[]).push(o.index),w=!0),A||!dt.ngOnChanges&&!dt.ngDoCheck||((null!==(Q=i.preOrderCheckHooks)&&void 0!==Q?Q:i.preOrderCheckHooks=[]).push(o.index),A=!0),O++}!function Bb(i,s,o){const h=s.directiveEnd,g=i.data,w=s.attrs,A=[];let O=null,U=null;for(let Q=s.directiveStart;Q<h;Q++){const ge=g[Q],Xe=o?o.get(ge):null,Pt=Xe?Xe.outputs:null;O=xm(ge.inputs,Q,O,Xe?Xe.inputs:null),U=xm(ge.outputs,Q,U,Pt);const Ht=null===O||null===w||Ad(s)?null:W_(O,Q,w);A.push(Ht)}null!==O&&(O.hasOwnProperty("class")&&(s.flags|=8),O.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=A,s.inputs=O,s.outputs=U}(i,o,g)}function Cl(i,s,o){const u=o.directiveStart,h=o.directiveEnd,g=o.index,w=function da(){return Fn.lFrame.currentDirectiveIndex}();try{yi(g);for(let A=u;A<h;A++){const O=i.data[A],U=s[A];Xo(A),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&km(O,U)}}finally{yi(-1),Xo(w)}}function km(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function $c(i,s,o){var u;s.componentOffset=o,(null!==(u=i.components)&&void 0!==u?u:i.components=[]).push(s.index)}function z_(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;zi(s)&&(o[""]=i)}}function jb(i,s,o,u,h){i.data[u]=h;const g=h.factory||(h.factory=ti(h.type)),w=new ct(g,zi(h),Fc);i.blueprint[u]=w,o[u]=w,function Pm(i,s,o,u,h){const g=h.hostBindings;if(g){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const A=~s.index;(function U_(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(w)!=A&&w.push(A),w.push(o,u,g)}}(i,s,u,mu(i,o,h.hostVars,Ir),h)}function ba(i,s,o,u,h,g){const w=ni(i,s);!function Kh(i,s,o,u,h,g,w){if(null==g)i.removeAttribute(s,h,o);else{const A=null==w?je(g):w(g,u||"",h);i.setAttribute(s,h,A,o)}}(s[te],w,g,i.value,o,u,h)}function zb(i,s,o,u,h,g){const w=g[s];if(null!==w){const A=u.setInput;for(let O=0;O<w.length;){const U=w[O++],Q=w[O++],ge=w[O++];null!==A?u.setInput(o,ge,U,Q):o[Q]=ge}}}function W_(i,s,o){let u=null,h=0;for(;h<o.length;){const g=o[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(i.hasOwnProperty(g)){null===u&&(u=[]);const w=i[g];for(let A=0;A<w.length;A+=2)if(w[A]===s){u.push(g,w[A+1],o[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function Ip(i,s,o,u){return[i,!0,!1,s,null,0,u,o,null,null]}function K_(i,s){const o=pi(s,i);if(Zo(o)){const u=o[Gt];48&o[Nn]?wp(u,o,u.template,o[qe]):o[Mi]>0&&Nm(o)}}function Nm(i){for(let u=ll(i);null!==u;u=su(u))for(let h=Ri;h<u.length;h++){const g=u[h];if(Zo(g))if(512&g[Nn]){const w=g[Gt];wp(w,g,w.template,g[qe])}else g[Mi]>0&&Nm(g)}const o=i[Gt].components;if(null!==o)for(let u=0;u<o.length;u++){const h=pi(o[u],i);Zo(h)&&h[Mi]>0&&Nm(h)}}function Wb(i,s){const o=pi(s,i),u=o[Gt];(function qb(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Sm(u,o,o[qe])}function Tl(i,s){return i[lt]?i[bt][Gr]=s:i[lt]=s,i[bt]=s,s}function Yu(i){for(;i;){i[Nn]|=32;const s=mr(i);if(Gs(i)&&!s)return i;i=s}return null}function Yh(i,s,o,u=!0){const h=s[wt];h.begin&&h.begin();try{wp(i,s,i.template,o)}catch(w){throw u&&Lm(s,w),w}finally{h.end&&h.end()}}function Dp(i,s,o){Ao(0),s(i,o)}function Y_(i){return i[de]||(i[de]=[])}function Fm(i){return i.cleanup||(i.cleanup=[])}function Lm(i,s){const o=i[ot],u=o?o.get(Fh,null):null;u&&u.handleError(s)}function $d(i,s,o,u,h){for(let g=0;g<o.length;){const w=o[g++],A=o[g++],O=s[w],U=i.data[w];null!==U.setInput?U.setInput(O,h,u,A):O[A]=h}}function Cp(i,s,o){let u=o?i.styles:null,h=o?i.classes:null,g=0;if(null!==s)for(let w=0;w<s.length;w++){const A=s[w];"number"==typeof A?g=A:1==g?h=Ue(h,A):2==g&&(u=Ue(u,A+": "+s[++w]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=h:i.classesWithoutHost=h}function Tp(i,s,o,u,h=!1){for(;null!==o;){const g=s[o.index];if(null!==g&&u.push(si(g)),ci(g))for(let A=Ri;A<g.length;A++){const O=g[A],U=O[Gt].firstChild;null!==U&&Tp(O[Gt],O,U,u)}const w=o.type;if(8&w)Tp(i,s,o.child,u);else if(32&w){const A=wn(o,s);let O;for(;O=A();)u.push(O)}else if(16&w){const A=Dc(s,o);if(Array.isArray(A))u.push(...A);else{const O=mr(s[$t]);Tp(O[Gt],O,A,u,!0)}}o=h?o.projectionNext:o.next}return u}class Zh{get rootNodes(){const s=this._lView,o=s[Gt];return Tp(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qe]}set context(s){this._lView[qe]=s}get destroyed(){return 128==(128&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Or];if(ci(s)){const o=s[Hi],u=o?o.indexOf(this):-1;u>-1&&(yd(s,u),ya(o,u))}this._attachedToViewContainer=!1}e_(this._lView[Gt],this._lView)}onDestroy(s){Mm(this._lView[Gt],this._lView,null,s)}markForCheck(){Yu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-65}reattach(){this._lView[Nn]|=64}detectChanges(){Yh(this._lView[Gt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vu(i,s){Th(i,s,s[te],2,null,null)}(this._lView[Gt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=s}}class Kb extends Zh{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Yh(s[Gt],s,s[qe],!1)}checkNoChanges(){}get context(){return null}}class Z_ extends Cd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=zn(s);return new Qh(o,this.ngModule)}}function Q_(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class Zb{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){u=mn(u);const h=this.injector.get(s,mm,u);return h!==mm||o===mm?h:this.parentInjector.get(s,o,u)}}class Qh extends dm{get inputs(){return Q_(this.componentDef.inputs)}get outputs(){return Q_(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Oc(i){return i.map(Em).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,u,h){var g;let w=(h=h||this.ngModule)instanceof cl?h:null===(g=h)||void 0===g?void 0:g.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const A=w?new Zb(s,w):s,O=A.get(pp,null);if(null===O)throw new Me(407,!1);const U=A.get(v_,null),Q=O.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Xe=u?function B_(i,s,o){return i.selectRootElement(s,o===Y.ShadowDom)}(Q,u,this.componentDef.encapsulation):bc(Q,ge,function Yb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(ge)),dt=this.componentDef.onPush?288:272,Pt=Fd(0,null,null,1,0,null,null,null,null,null),Ht=Wh(null,Pt,null,dt,null,null,O,Q,U,A,null);let gn,Pn;Ys(Ht);try{const Qn=this.componentDef;let Vt,yr=null;Qn.findHostDirectiveDefs?(Vt=[],yr=new Map,Qn.findHostDirectiveDefs(Qn,Vt,yr),Vt.push(Qn)):Vt=[Qn];const bi=function Xb(i,s){const o=i[Gt],u=Sn;return i[u]=s,la(o,u,2,"#host",null)}(Ht,Xe),us=function Jb(i,s,o,u,h,g,w,A){const O=h[Gt];!function ew(i,s,o,u){for(const h of i)s.mergedAttrs=ys(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Cp(s,s.mergedAttrs,!0),null!==o&&Js(u,o,s))}(u,i,s,w);const U=g.createRenderer(s,o),Q=Wh(h,Nd(o),null,o.onPush?32:16,h[i.index],i,g,U,A||null,null,null);return O.firstCreatePass&&$c(O,i,u.length-1),Tl(h,Q),h[i.index]=Q}(bi,Xe,Qn,Vt,Ht,O,Q);Pn=Fs(Pt,Sn),Xe&&function X_(i,s,o,u){if(u)ri(i,o,["ng-version",gm.full]);else{const{attrs:h,classes:g}=function oa(i){const s=[],o=[];let u=1,h=2;for(;u<i.length;){let g=i[u];if("string"==typeof g)2===h?""!==g&&s.push(g,i[++u]):8===h&&o.push(g);else{if(!dl(h))break;h=g}u++}return{attrs:s,classes:o}}(s.selectors[0]);h&&ri(i,o,h),g&&g.length>0&&em(i,o,g.join(" "))}}(Q,Qn,Xe,u),void 0!==o&&function nw(i,s,o){const u=i.projection=[];for(let h=0;h<s.length;h++){const g=o[h];u.push(null!=g?Array.from(g):null)}}(Pn,this.ngContentSelectors,o),gn=function tw(i,s,o,u,h,g){const w=H(),A=h[Gt],O=ni(w,h);ws(A,h,w,o,null,u);for(let Q=0;Q<o.length;Q++)Xs(po(h,A,w.directiveStart+Q,w),h);Cl(A,h,w),O&&Xs(O,h);const U=po(h,A,w.directiveStart+w.componentOffset,w);if(i[qe]=h[qe]=U,null!==g)for(const Q of g)Q(U,s);return Am(A,w,i),U}(us,Qn,Vt,yr,Ht,[J_]),Sm(Pt,Ht,null)}finally{Jo()}return new Qb(this.componentType,gn,Xr(Pn,Ht),Ht,Pn)}}class Qb extends Tb{constructor(s,o,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=o,this.hostView=this.changeDetectorRef=new Kb(h),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){const g=this._rootLView;$d(g[Gt],g,h,s,o),V_(g,this._tNode.index)}}get injector(){return new Oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function J_(){const i=H();ta(d()[Gt],i)}function Bm(i){let s=function $m(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let h;if(zi(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,!1);h=s.\u0275dir}if(h){if(o){u.push(h);const w=i;w.inputs=Hs(i.inputs),w.declaredInputs=Hs(i.declaredInputs),w.outputs=Hs(i.outputs);const A=h.hostBindings;A&&Hm(i,A);const O=h.viewQuery,U=h.contentQueries;if(O&&Um(i,O),U&&jm(i,U),ve(i.inputs,h.inputs),ve(i.declaredInputs,h.declaredInputs),ve(i.outputs,h.outputs),zi(h)&&h.data.animation){const Q=i.data;Q.animation=(Q.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let w=0;w<g.length;w++){const A=g[w];A&&A.ngInherit&&A(i),A===Bm&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Vm(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=s+=h.hostVars,h.hostAttrs=ys(h.hostAttrs,o=ys(o,h.hostAttrs))}}(u)}function Hs(i){return i===nt?{}:i===oe?[]:i}function Um(i,s){const o=i.viewQuery;i.viewQuery=o?(u,h)=>{s(u,h),o(u,h)}:s}function jm(i,s){const o=i.contentQueries;i.contentQueries=o?(u,h,g)=>{s(u,h,g),o(u,h,g)}:s}function Hm(i,s){const o=i.hostBindings;i.hostBindings=o?(u,h)=>{s(u,h),o(u,h)}:s}function Ud(i){return!!Sp(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Sp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Al(i,s,o){return i[s]=o}function eo(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Ap(i,s,o,u){const h=d();return eo(h,ms(),s)&&(m(),ba(Qt(),h,i,s,o,u)),Ap}function zd(i,s,o,u){return eo(i,ms(),o)?s+je(o)+u:Ir}function o0(i,s,o,u,h,g,w,A){const O=d(),U=m(),Q=i+Sn,ge=U.firstCreatePass?function Pp(i,s,o,u,h,g,w,A,O){const U=s.consts,Q=la(s,i,4,w||null,gs(U,A));Om(s,o,Q,gs(U,O)),ta(s,Q);const ge=Q.tView=Fd(2,Q,u,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,U);return null!==s.queries&&(s.queries.template(s,Q),ge.queries=s.queries.embeddedTView(Q)),Q}(Q,U,O,s,o,u,h,g,w):U.data[Q];Wt(ge,!1);const Xe=O[te].createComment("");Ih(U,O,Xe,ge),Xs(Xe,O),Tl(O,O[Q]=Ip(Xe,O,Xe,ge)),Li(ge)&&kd(U,O,ge),null!=w&&Lc(O,ge,A)}function qd(i,s,o){const u=d();return eo(u,ms(),s)&&Ua(m(),Qt(),u,i,s,u[te],o,!1),qd}function jc(i,s,o,u,h){const w=h?"class":"style";$d(i,o,s.inputs[w],w,u)}function tf(i,s,o,u){const h=d(),g=m(),w=Sn+i,A=h[te],O=g.firstCreatePass?function l0(i,s,o,u,h,g){const w=s.consts,O=la(s,i,2,u,gs(w,h));return Om(s,o,O,gs(w,g)),null!==O.attrs&&Cp(O,O.attrs,!1),null!==O.mergedAttrs&&Cp(O,O.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,O),O}(w,g,h,s,o,u):g.data[w],U=h[w]=bc(A,s,function ea(){return Fn.lFrame.currentNamespace}()),Q=Li(O);return Wt(O,!0),Js(A,U,O),32!=(32&O.flags)&&Ih(g,h,U,O),0===function Ks(){return Fn.lFrame.elementDepthCount}()&&Xs(U,h),function xs(){Fn.lFrame.elementDepthCount++}(),Q&&(kd(g,h,O),Am(g,O,h)),null!==u&&Lc(h,O),tf}function Po(){let i=H();Rn()?nr():(i=i.parent,Wt(i,!1));const s=i;!function Wa(){Fn.lFrame.elementDepthCount--}();const o=m();return o.firstCreatePass&&(ta(o,i),$o(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ln(i){return 0!=(8&i.flags)}(s)&&jc(o,s,d(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function pr(i){return 0!=(16&i.flags)}(s)&&jc(o,s,d(),s.stylesWithoutHost,!1),Po}function kp(i,s,o,u){return tf(i,s,o,u),Po(),kp}function Hc(i,s,o){const u=d(),h=m(),g=i+Sn,w=h.firstCreatePass?function Np(i,s,o,u,h){const g=s.consts,w=gs(g,u),A=la(s,i,8,"ng-container",w);return null!==w&&Cp(A,w,!0),Om(s,o,A,gs(g,h)),null!==s.queries&&s.queries.elementStart(s,A),A}(g,h,u,s,o):h.data[g];Wt(w,!0);const A=u[g]=u[te].createComment("");return Ih(h,u,A,w),Xs(A,u),Li(w)&&(kd(h,u,w),Am(h,w,u)),null!=o&&Lc(u,w),Hc}function nf(){let i=H();const s=m();return Rn()?nr():(i=i.parent,Wt(i,!1)),s.firstCreatePass&&(ta(s,i),$o(i)&&s.queries.elementEnd(i)),nf}function Ql(i,s,o){return Hc(i,s,o),nf(),Ql}function zc(){return d()}function Fp(i){return!!i&&"function"==typeof i.then}function Xu(i){return!!i&&"function"==typeof i.subscribe}const u0=Xu;function Ju(i,s,o,u){const h=d(),g=m(),w=H();return function Ym(i,s,o,u,h,g,w){const A=Li(u),U=i.firstCreatePass&&Fm(i),Q=s[qe],ge=Y_(s);let Xe=!0;if(3&u.type||w){const Ht=ni(u,s),gn=w?w(Ht):Ht,Pn=ge.length,Qn=w?yr=>w(si(yr[u.index])):u.index;let Vt=null;if(!w&&A&&(Vt=function ec(i,s,o,u){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const w=h[g];if(w===o&&h[g+1]===u){const A=s[de],O=h[g+2];return A.length>O?A[O]:null}"string"==typeof w&&(g+=2)}return null}(i,s,h,u.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=g,Vt.__ngLastListenerFn__=g,Xe=!1;else{g=d0(u,s,Q,g,!1);const yr=o.listen(gn,h,g);ge.push(g,yr),U&&U.push(h,Qn,Pn,Pn+1)}}else g=d0(u,s,Q,g,!1);const dt=u.outputs;let Pt;if(Xe&&null!==dt&&(Pt=dt[h])){const Ht=Pt.length;if(Ht)for(let gn=0;gn<Ht;gn+=2){const bi=s[Pt[gn]][Pt[gn+1]].subscribe(g),us=ge.length;ge.push(g,bi),U&&U.push(h,u.index,us,-(us+1))}}}(g,h,h[te],w,i,s,u),Ju}function c0(i,s,o,u){try{return br(6,s,o),!1!==o(u)}catch(h){return Lm(i,h),!1}finally{br(7,s,o)}}function d0(i,s,o,u,h){return function g(w){if(w===Function)return u;Yu(i.componentOffset>-1?pi(i.index,s):s);let O=c0(s,o,u,w),U=g.__ngNextListenerFn__;for(;U;)O=c0(s,o,U,w)&&O,U=U.__ngNextListenerFn__;return h&&!1===O&&(w.preventDefault(),w.returnValue=!1),O}}function h0(i=1){return function Ls(i){return(Fn.lFrame.contextLView=function Nr(i,s){for(;i>0;)s=s[Dt],i--;return s}(i,Fn.lFrame.contextLView))[qe]}(i)}function ow(i,s){let o=null;const u=function I_(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(i);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===u?ql(i,g,!0):_m(u,g))return h}else o=h}return o}function rf(i){const s=d()[$t][q];if(!s.projection){const u=s.projection=Ro(i?i.length:1,null),h=u.slice();let g=s.child;for(;null!==g;){const w=i?ow(g,i):0;null!==w&&(h[w]?h[w].projectionNext=g:u[w]=g,h[w]=g),g=g.next}}}function Zm(i,s=0,o){const u=d(),h=m(),g=la(h,Sn+i,16,null,o||null);null===g.projection&&(g.projection=s),nr(),32!=(32&g.flags)&&function db(i,s,o){Jg(s[te],0,s,o,Wg(i,o,s),Kg(o.parent||s[q],o,s))}(h,u,g)}function Qm(i,s,o){return Lp(i,"",s,"",o),Qm}function Lp(i,s,o,u,h){const g=d(),w=zd(g,s,o,u);return w!==Ir&&Ua(m(),Qt(),g,i,w,g[te],h,!1),Lp}function $p(i,s){return i<<17|s<<2}function nc(i){return i>>17&32767}function ry(i){return 2|i}function Gc(i){return(131068&i)>>2}function iy(i,s){return-131069&i|s<<2}function Bp(i){return 1|i}function Vp(i,s,o,u,h){const g=i[o+1],w=null===s;let A=u?nc(g):Gc(g),O=!1;for(;0!==A&&(!1===O||w);){const Q=i[A+1];oy(i[A],s)&&(O=!0,i[A+1]=u?Bp(Q):ry(Q)),A=u?nc(Q):Gc(Q)}O&&(i[o+1]=u?ry(g):Bp(g))}function oy(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&D(i,s)>=0}const ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sf(i){return i.substring(ls.key,ls.keyEnd)}function uy(i,s){const o=ls.textEnd;return o===s?-1:(s=ls.keyEnd=function cw(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,ls.key=s,o),rc(i,s,o))}function rc(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function ic(i,s,o){return Rl(i,s,o,!1),ic}function lf(i,s){return Rl(i,s,null,!0),lf}function hy(i){!function za(i,s,o,u){const h=m(),g=os(2);h.firstUpdatePass&&Up(h,null,g,u);const w=d();if(o!==Ir&&eo(w,g,o)){const A=h.data[mi()];if(Gp(A,u)&&!b0(h,g)){let O=u?A.classesWithoutHost:A.stylesWithoutHost;null!==O&&(o=Ue(O,o||"")),jc(h,A,w,o,u)}else!function gy(i,s,o,u,h,g,w,A){h===Ir&&(h=oe);let O=0,U=0,Q=0<h.length?h[0]:null,ge=0<g.length?g[0]:null;for(;null!==Q||null!==ge;){const Xe=O<h.length?h[O+1]:void 0,dt=U<g.length?g[U+1]:void 0;let Ht,Pt=null;Q===ge?(O+=2,U+=2,Xe!==dt&&(Pt=ge,Ht=dt)):null===ge||null!==Q&&Q<ge?(O+=2,Pt=Q):(U+=2,Pt=ge,Ht=dt),null!==Pt&&my(i,s,o,u,Pt,Ht,w,A),Q=O<h.length?h[O]:null,ge=U<g.length?g[U]:null}}(h,A,w,w[te],w[g+1],w[g+1]=function py(i,s,o){if(null==o||""===o)return oe;const u=[],h=zl(o);if(Array.isArray(h))for(let g=0;g<h.length;g++)i(u,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&i(u,g,h[g]);else"string"==typeof h&&s(u,h);return u}(i,s,o),u,g)}}(go,xl,i,!0)}function xl(i,s){for(let o=function ly(i){return function dy(i){ls.key=0,ls.keyEnd=0,ls.value=0,ls.valueEnd=0,ls.textEnd=i.length}(i),uy(i,rc(i,0,ls.textEnd))}(s);o>=0;o=uy(s,o))go(i,sf(s),!0)}function Rl(i,s,o,u){const h=d(),g=m(),w=os(2);g.firstUpdatePass&&Up(g,i,w,u),s!==Ir&&eo(h,w,s)&&my(g,g.data[mi()],h,h[te],i,h[w+1]=function zp(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Oe(zl(i)))),i}(s,o),u,w)}function b0(i,s){return s>=i.expandoStartIndex}function Up(i,s,o,u){const h=i.data;if(null===h[o+1]){const g=h[mi()],w=b0(i,o);Gp(g,u)&&null===s&&!w&&(s=!1),s=function w0(i,s,o,u){const h=Ta(i);let g=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(o=sc(o=Wc(null,i,s,o,u),s.attrs,u),g=null);else{const w=s.directiveStylingLast;if(-1===w||i[w]!==h)if(o=Wc(h,i,s,o,u),null===g){let O=function I0(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Gc(u))return i[nc(u)]}(i,s,u);void 0!==O&&Array.isArray(O)&&(O=Wc(null,i,s,O[1],u),O=sc(O,s.attrs,u),function fy(i,s,o,u){i[nc(o?s.classBindings:s.styleBindings)]=u}(i,s,u,O))}else g=function jp(i,s,o){let u;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)u=sc(u,i[g].hostAttrs,o);return sc(u,s.attrs,o)}(i,s,u)}return void 0!==g&&(u?s.residualClasses=g:s.residualStyles=g),o}(h,g,s,u),function lw(i,s,o,u,h,g){let w=g?s.classBindings:s.styleBindings,A=nc(w),O=Gc(w);i[u]=o;let Q,U=!1;if(Array.isArray(o)?(Q=o[1],(null===Q||D(o,Q)>0)&&(U=!0)):Q=o,h)if(0!==O){const Xe=nc(i[A+1]);i[u+1]=$p(Xe,A),0!==Xe&&(i[Xe+1]=iy(i[Xe+1],u)),i[A+1]=function _o(i,s){return 131071&i|s<<17}(i[A+1],u)}else i[u+1]=$p(A,0),0!==A&&(i[A+1]=iy(i[A+1],u)),A=u;else i[u+1]=$p(O,0),0===A?A=u:i[O+1]=iy(i[O+1],u),O=u;U&&(i[u+1]=ry(i[u+1])),Vp(i,Q,u,!0),Vp(i,Q,u,!1),function g0(i,s,o,u,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&D(g,s)>=0&&(o[u+1]=Bp(o[u+1]))}(s,Q,i,u,g),w=$p(A,O),g?s.classBindings=w:s.styleBindings=w}(h,g,s,o,w,u)}}function Wc(i,s,o,u,h){let g=null;const w=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<w&&(g=s[A],u=sc(u,g.hostAttrs,h),g!==i);)A++;return null!==i&&(o.directiveStylingLast=A),u}function sc(i,s,o){const u=o?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const w=s[g];"number"==typeof w?h=w:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),go(i,w,!!o||s[++g]))}return void 0===i?null:i}function my(i,s,o,u,h,g,w,A){if(!(3&s.type))return;const O=i.data,U=O[A+1],Q=function aw(i){return 1==(1&i)}(U)?D0(O,s,o,h,Gc(U),w):void 0;uf(Q)||(uf(g)||function ny(i){return 2==(2&i)}(U)&&(g=D0(O,null,o,h,A,w)),function sp(i,s,o,u,h){if(s)h?i.addClass(o,u):i.removeClass(o,u);else{let g=-1===u.indexOf("-")?void 0:sl.DashCase;null==h?i.removeStyle(o,u,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=sl.Important),i.setStyle(o,u,h,g))}}(u,w,Ns(mi(),o),h,g))}function D0(i,s,o,u,h,g){const w=null===s;let A;for(;h>0;){const O=i[h],U=Array.isArray(O),Q=U?O[1]:O,ge=null===Q;let Xe=o[h+1];Xe===Ir&&(Xe=ge?oe:void 0);let dt=ge?I(Xe,u):Q===u?Xe:void 0;if(U&&!uf(dt)&&(dt=I(O,u)),uf(dt)&&(A=dt,w))return A;const Pt=i[h+1];h=w?nc(Pt):Gc(Pt)}if(null!==s){let O=g?s.residualClasses:s.residualStyles;null!=O&&(A=I(O,u))}return A}function uf(i){return void 0!==i}function Gp(i,s){return 0!=(i.flags&(s?8:16))}function C0(i,s=""){const o=d(),u=m(),h=i+Sn,g=u.firstCreatePass?la(u,h,1,s,null):u.data[h],w=o[h]=function ou(i,s){return i.createText(s)}(o[te],s);Ih(u,o,w,g),Wt(g,!1)}function yy(i){return to("",i,""),yy}function to(i,s,o){const u=d(),h=zd(u,i,s,o);return h!==Ir&&function Kl(i,s,o){const u=Ns(s,i);!function gd(i,s,o){i.setValue(s,o)}(i[te],u,o)}(u,mi(),h),to}function Sy(i,s,o){const u=d();if(eo(u,ms(),s)){const g=m(),w=Qt();Ua(g,w,u,i,s,function Sl(i,s,o){return(null===i||zi(i))&&(o=function To(i){for(;Array.isArray(i);){if("object"==typeof i[ds])return i;i=i[ui]}return null}(o[s.index])),o[te]}(Ta(g.data),w,u),o,!0)}return Sy}const Kc=void 0;var k0=["en",[["a","p"],["AM","PM"],Kc],[["AM","PM"],Kc,Kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kc,"{1} 'at' {0}",Kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function P0(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Qd={};function Ay(i){const s=function $0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Jp(s);if(o)return o;const u=s.split("-")[0];if(o=Jp(u),o)return o;if("en"===u)return k0;throw new Me(701,!1)}function L0(i){return Ay(i)[Xn.PluralCase]}function Jp(i){return i in Qd||(Qd[i]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[i]),Qd[i]}var Xn=(()=>((Xn=Xn||{})[Xn.LocaleId=0]="LocaleId",Xn[Xn.DayPeriodsFormat=1]="DayPeriodsFormat",Xn[Xn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xn[Xn.DaysFormat=3]="DaysFormat",Xn[Xn.DaysStandalone=4]="DaysStandalone",Xn[Xn.MonthsFormat=5]="MonthsFormat",Xn[Xn.MonthsStandalone=6]="MonthsStandalone",Xn[Xn.Eras=7]="Eras",Xn[Xn.FirstDayOfWeek=8]="FirstDayOfWeek",Xn[Xn.WeekendRange=9]="WeekendRange",Xn[Xn.DateFormat=10]="DateFormat",Xn[Xn.TimeFormat=11]="TimeFormat",Xn[Xn.DateTimeFormat=12]="DateTimeFormat",Xn[Xn.NumberSymbols=13]="NumberSymbols",Xn[Xn.NumberFormats=14]="NumberFormats",Xn[Xn.CurrencyCode=15]="CurrencyCode",Xn[Xn.CurrencySymbol=16]="CurrencySymbol",Xn[Xn.CurrencyName=17]="CurrencyName",Xn[Xn.Currencies=18]="Currencies",Xn[Xn.Directionality=19]="Directionality",Xn[Xn.PluralCase=20]="PluralCase",Xn[Xn.ExtraData=21]="ExtraData",Xn))();const oc="en-US";let Ry=oc;function cg(i,s,o,u,h){if(i=_e(i),Array.isArray(i))for(let g=0;g<i.length;g++)cg(i[g],s,o,u,h);else{const g=m(),w=d();let A=Ea(i)?i:_e(i.provide),O=um(i);const U=H(),Q=1048575&U.providerIndexes,ge=U.directiveStart,Xe=U.providerIndexes>>20;if(Ea(i)||!i.multi){const dt=new ct(O,h,Fc),Pt=bf(A,s,h?Q:Q+Xe,ge);-1===Pt?(qo(Ma(U,w),g,A),Ef(g,i,s.length),s.push(A),U.directiveStart++,U.directiveEnd++,h&&(U.providerIndexes+=1048576),o.push(dt),w.push(dt)):(o[Pt]=dt,w[Pt]=dt)}else{const dt=bf(A,s,Q+Xe,ge),Pt=bf(A,s,Q,Q+Xe),gn=Pt>=0&&o[Pt];if(h&&!gn||!h&&!(dt>=0&&o[dt])){qo(Ma(U,w),g,A);const Pn=function pg(i,s,o,u,h){const g=new ct(i,o,Fc);return g.multi=[],g.index=s,g.componentProviders=0,dg(g,h,u&&!o),g}(h?tv:hg,o.length,h,u,O);!h&&gn&&(o[Pt].providerFactory=Pn),Ef(g,i,s.length,0),s.push(A),U.directiveStart++,U.directiveEnd++,h&&(U.providerIndexes+=1048576),o.push(Pn),w.push(Pn)}else Ef(g,i,dt>-1?dt:Pt,dg(o[h?Pt:dt],O,!h&&u));!h&&u&&gn&&o[Pt].componentProviders++}}}function Ef(i,s,o,u){const h=Ea(s),g=function dp(i){return!!i.useClass}(s);if(h||g){const O=(g?_e(s.useClass):s).prototype.ngOnDestroy;if(O){const U=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const Q=U.indexOf(o);-1===Q?U.push(o,[u,O]):U[Q+1].push(u,O)}else U.push(o,O)}}}function dg(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function bf(i,s,o,u){for(let h=o;h<u;h++)if(s[h]===i)return h;return-1}function hg(i,s,o,u){return fg(this.multi,[])}function tv(i,s,o,u){const h=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,A=po(o,o[Gt],this.providerFactory.index,u);g=A.slice(0,w),fg(h,g);for(let O=w;O<A.length;O++)g.push(A[O])}else g=[],fg(h,g);return g}function fg(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function gg(i,s=[]){return o=>{o.providersResolver=(u,h)=>function ev(i,s,o){const u=m();if(u.firstCreatePass){const h=zi(i);cg(o,u.data,u.blueprint,h,!0),cg(s,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,s)}}class ac{}class nv{}function nh(i,s){return new sE(i,null!=s?s:null)}class sE extends ac{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Z_(this);const u=zr(s);this._bootstrapComponents=qr(u.bootstrap),this._r3Injector=M_(s,o,[{provide:ac,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],Oe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class rv extends nv{constructor(s){super(),this.moduleType=s}create(s){return new sE(this.moduleType,s)}}class Nw extends ac{constructor(s,o,u){super(),this.componentFactoryResolver=new Z_(this),this.instance=null;const h=new hp([...s,{provide:ac,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],o||Ph(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function mg(i,s,o=null){return new Nw(i,s,o).injector}let Fw=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=f_(0,o.type),h=u.length>0?mg([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,h)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=tt({token:i,providedIn:"environment",factory:()=>new i(Nt(cl))}),i})();function iv(i){i.getStandaloneInjector=s=>s.get(Fw).getOrCreateStandaloneInjector(i)}function lv(i,s,o){const u=dr()+i,h=d();return h[u]===Ir?Al(h,u,o?s.call(o):s()):function jd(i,s){return i[s]}(h,u)}function hE(i,s,o,u){return function pE(i,s,o,u,h,g){const w=s+o;return eo(i,w,h)?Al(i,w+1,g?u.call(g,h):u(h)):function Eg(i,s){const o=i[s];return o===Ir?void 0:o}(i,w+1)}(d(),dr(),i,s,o,u)}function hv(i){return s=>{setTimeout(i,void 0,s)}}const no=class If extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let h=s,g=o||(()=>null),w=u;if(s&&"object"==typeof s){var A,O,U;const ge=s;h=null===(A=ge.next)||void 0===A?void 0:A.bind(ge),g=null===(O=ge.error)||void 0===O?void 0:O.bind(ge),w=null===(U=ge.complete)||void 0===U?void 0:U.bind(ge)}this.__isAsync&&(g=hv(g),h&&(h=hv(h)),w&&(w=hv(w)));const Q=super.subscribe({next:h,error:g,complete:w});return s instanceof v.w0&&s.add(Q),Q}};function _u(){return this._results[Symbol.iterator]()}class vE{get changes(){return this._changes||(this._changes=new no)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=vE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=_u)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const h=function as(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ma(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],g=s[u];if(o&&(h=o(h),g=o(g)),g!==h)return!1}return!0}(u._results,h,o))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pl=(()=>{class i{}return i.__NG_ELEMENT_ID__=qw,i})();const bg=Pl,Ww=class extends bg{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s,o){const u=this._declarationTContainer.tView,h=Wh(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,o||null);h[ln]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[Zn];return null!==w&&(h[Zn]=w.createEmbeddedView(u)),Sm(u,h,s),new Zh(h)}};function qw(){return Df(H(),d())}function Df(i,s){return 4&i.type?new Ww(s,i,Xr(i,s)):null}let Cf=(()=>{class i{}return i.__NG_ELEMENT_ID__=wg,i})();function wg(){return fv(H(),d())}const Kw=Cf,lc=class extends Kw{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Xr(this._hostTNode,this._hostLView)}get injector(){return new Oa(this._hostTNode,this._hostLView)}get parentInjector(){const s=Mu(this._hostTNode,this._hostLView);if(na(s)){const o=ra(s,this._hostLView),u=Oi(s);return new Oa(o[Gt].data[u+8],o)}return new Oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Tf(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Ri}createEmbeddedView(s,o,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const w=s.createEmbeddedView(o||{},g);return this.insert(w,h),w}createComponent(s,o,u,h,g){const w=s&&!function nl(i){return"function"==typeof i}(s);let A;if(w)A=o;else{const ge=o||{};A=ge.index,u=ge.injector,h=ge.projectableNodes,g=ge.environmentInjector||ge.ngModuleRef}const O=w?s:new Qh(zn(s)),U=u||this.parentInjector;if(!g&&null==O.ngModule){const Xe=(w?U:this.parentInjector).get(cl,null);Xe&&(g=Xe)}const Q=O.create(U,h,void 0,g);return this.insert(Q.hostView,A),Q}insert(s,o){const u=s._lView,h=u[Gt];if(function Ms(i){return ci(i[Or])}(u)){const Q=this.indexOf(s);if(-1!==Q)this.detach(Q);else{const ge=u[Or],Xe=new lc(ge,ge[q],ge[Or]);Xe.detach(Xe.indexOf(s))}}const g=this._adjustIndex(o),w=this._lContainer;!function Ic(i,s,o,u){const h=Ri+u,g=o.length;u>0&&(o[h-1][Gr]=s),u<g-Ri?(s[Gr]=o[h],bl(o,Ri+u,s)):(o.push(s),s[Gr]=null),s[Or]=o;const w=s[ln];null!==w&&o!==w&&function md(i,s){const o=i[fs];s[$t]!==s[Or][Or][$t]&&(i[ns]=!0),null===o?i[fs]=[s]:o.push(s)}(w,s);const A=s[Zn];null!==A&&A.insertView(i),s[Nn]|=64}(h,u,w,g);const A=Qg(g,w),O=u[te],U=jl(O,w[hs]);return null!==U&&function wc(i,s,o,u,h,g){u[ui]=h,u[q]=s,Th(i,u,o,1,h,g)}(h,w[q],O,u,U,A),s.attachToViewContainerRef(),bl(Xc(w),g,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Tf(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=yd(this._lContainer,o);u&&(ya(Xc(this._lContainer),o),e_(u[Gt],u))}detach(s){const o=this._adjustIndex(s,-1),u=yd(this._lContainer,o);return u&&null!=ya(Xc(this._lContainer),o)?new Zh(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Tf(i){return i[Hi]}function Xc(i){return i[Hi]||(i[Hi]=[])}function fv(i,s){let o;const u=s[i.index];if(ci(u))o=u;else{let h;if(8&i.type)h=si(u);else{const g=s[te];h=g.createComment("");const w=ni(i,s);au(g,jl(g,w),h,function r_(i,s){return i.nextSibling(s)}(g,w),!1)}s[i.index]=o=Ip(u,s,h,i),Tl(s,o)}return new lc(o,i,s)}class Sf{constructor(s){this.queryList=s,this.matches=null}clone(){return new Sf(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,h=[];for(let g=0;g<u;g++){const w=o.getByIndex(g);h.push(this.queries[w.indexInDeclarationView].clone())}return new pv(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==vv(s,o).matches&&this.queries[o].setDirty()}}class _E{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class gv{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const h=null!==o?o.length:0,g=this.getByIndex(u).embeddedTView(s,h);g&&(g.indexInDeclarationView=u,null!==o?o.push(g):o=[g])}return null!==o?new gv(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Af{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Af(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(s,o,mv(o,g)),this.matchTNodeWithReadOption(s,o,sa(o,s,g,!1,!1))}else u===Pl?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,sa(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Wl||h===Cf||h===Pl&&4&o.type)this.addMatch(o.index,-2);else{const g=sa(o,s,h,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function mv(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function Jc(i,s,o,u){return-1===o?function EE(i,s){return 11&i.type?Xr(i,s):4&i.type?Df(i,s):null}(s,i):-2===o?function bE(i,s,o){return o===Wl?Xr(s,i):o===Pl?Df(s,i):o===Cf?fv(s,i):void 0}(i,s,u):po(i,i[Gt],o,s)}function yv(i,s,o,u){const h=s[Zn].queries[u];if(null===h.matches){const g=i.data,w=o.matches,A=[];for(let O=0;O<w.length;O+=2){const U=w[O];A.push(U<0?null:Jc(s,g[U],w[O+1],o.metadata.read))}h.matches=A}return h.matches}function Mf(i,s,o,u){const h=i.queries.getByIndex(o),g=h.matches;if(null!==g){const w=yv(i,s,h,o);for(let A=0;A<g.length;A+=2){const O=g[A];if(O>0)u.push(w[A/2]);else{const U=g[A+1],Q=s[-O];for(let ge=Ri;ge<Q.length;ge++){const Xe=Q[ge];Xe[ln]===Xe[Or]&&Mf(Xe[Gt],Xe,U,u)}if(null!==Q[fs]){const ge=Q[fs];for(let Xe=0;Xe<ge.length;Xe++){const dt=ge[Xe];Mf(dt[Gt],dt,U,u)}}}}}return u}function ih(i){const s=d(),o=m(),u=Yi();Ao(u+1);const h=vv(o,u);if(i.dirty&&function Ei(i){return 4==(4&i[Nn])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?Mf(o,s,u,[]):yv(o,s,h,u);i.reset(g,hm),i.notifyOnChanges()}return!0}return!1}function wE(i,s,o){const u=m();u.firstCreatePass&&(DE(u,new _E(i,s,o),-1),2==(2&s)&&(u.staticViewQueries=!0)),sh(u,d(),s)}function xf(i,s,o,u){const h=m();if(h.firstCreatePass){const g=H();DE(h,new _E(s,o,u),g.index),function Ig(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(h,i),2==(2&o)&&(h.staticContentQueries=!0)}sh(h,d(),o)}function Rf(){return function IE(i,s){return i[Zn].queries[s].queryList}(d(),Yi())}function sh(i,s,o){const u=new vE(4==(4&o));Mm(i,s,u,u.destroy),null===s[Zn]&&(s[Zn]=new pv),s[Zn].queries.push(new Sf(u))}function DE(i,s,o){null===i.queries&&(i.queries=new gv),i.queries.track(new Af(s,o))}function vv(i,s){return i.queries.getByIndex(s)}function kf(i){return!!zr(i)}function Ag(...i){}const FE=new sr("Application Initializer");let Mg=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Ag,this.reject=Ag,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Fp(g))o.push(g);else if(u0(g)){const w=new Promise((A,O)=>{g.subscribe({complete:A,error:O})});o.push(w)}}Promise.all(o).then(()=>{u()}).catch(h=>{this.reject(h)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Nt(FE,8))},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const LE=new sr("AppId",{providedIn:"root",factory:function lI(){return`${xg()}${xg()}${xg()}`}});function xg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $E=new sr("Platform Initializer"),uI=new sr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),VE=new sr("AnimationModuleType");let UE=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const oh=new sr("LocaleId",{providedIn:"root",factory:()=>Zt(oh,Ot.Optional|Ot.SkipSelf)||function Bf(){return typeof $localize<"u"&&$localize.locale||oc}()}),cI=new sr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hI{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let jE=(()=>{class i{compileModuleSync(o){return new rv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),g=qr(zr(o).declarations).reduce((w,A)=>{const O=zn(A);return O&&w.push(new Qh(O)),w},[]);return new hI(u,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Vf=(()=>Promise.resolve(0))();function No(i){typeof Zone>"u"?Vf.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Fo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new no(!1),this.onMicrotaskEmpty=new no(!1),this.onStable=new no(!1),this.onError=new no(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&o,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function pI(){let i=pn.requestAnimationFrame,s=pn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function gI(i){const s=()=>{!function id(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(pn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Av(i),i.isCheckStableRunning=!0,Uf(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Av(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,h,g,w,A)=>{try{return GE(i),o.invokeTask(h,g,w,A)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),Mv(i)}},onInvoke:(o,u,h,g,w,A,O)=>{try{return GE(i),o.invoke(h,g,w,A,O)}finally{i.shouldCoalesceRunChangeDetection&&s(),Mv(i)}},onHasTask:(o,u,h,g)=>{o.hasTask(h,g),u===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Av(i),Uf(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,u,h,g)=>(o.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fo.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Fo.isInAngularZone())throw new Me(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,h){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+h,s,rd,Ag,Ag);try{return g.runTask(w,o,u)}finally{g.cancelTask(w)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const rd={};function Uf(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Av(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function GE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Mv(i){i._nesting--,Uf(i)}class mI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new no,this.onMicrotaskEmpty=new no,this.onStable=new no,this.onError=new no}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,h){return s.apply(o,u)}}const jf=new sr(""),Du=new sr("");let Rg,yI=(()=>{class i{constructor(o,u,h){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rg||(function vI(i){Rg=i}(h),h.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fo.assertNotInAngularZone(),No(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())No(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:h})}whenStable(o,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,h){return[]}}return i.\u0275fac=function(o){return new(o||i)(Nt(Fo),Nt(WE),Nt(Du))},i.\u0275prov=tt({token:i,factory:i.\u0275fac}),i})(),WE=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){var h,g;return null!==(h=null===(g=Rg)||void 0===g?void 0:g.findTestabilityInTree(this,o,u))&&void 0!==h?h:null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Cu=!1;let uc=null;const xv=new sr("AllowMultipleToken"),Hf=new sr("PlatformDestroyListeners"),Tu=new sr("appBootstrapListener");class _I{constructor(s,o){this.name=s,this.token=o}}function YE(i,s,o=[]){const u=`Platform: ${s}`,h=new sr(u);return(g=[])=>{let w=ZE();if(!w||w.injector.get(xv,!1)){const A=[...o,...g,{provide:h,useValue:!0}];i?i(A):function Rv(i){if(uc&&!uc.get(xv,!1))throw new Me(400,!1);uc=i;const s=i.get(QE);(function KE(i){const s=i.get($E,null);s&&s.forEach(o=>o())})(i)}(function wI(i=[],s){return Pc.create({name:s,providers:[{provide:cu,useValue:"platform"},{provide:Hf,useValue:new Set([()=>uc=null])},...i]})}(A,u))}return function bI(i){const s=ZE();if(!s)throw new Me(401,!1);return s}()}}function ZE(){var i,s;return null!==(i=null===(s=uc)||void 0===s?void 0:s.get(QE))&&void 0!==i?i:null}let QE=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const h=function DI(i,s){let o;return o="noop"===i?new mI:("zone.js"===i?void 0:i)||new Fo(s),o}(null==u?void 0:u.ngZone,function II(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:Fo,useValue:h}];return h.run(()=>{const w=Pc.create({providers:g,parent:this.injector,name:o.moduleType.name}),A=o.create(w),O=A.injector.get(Fh,null);if(!O)throw new Me(402,!1);return h.runOutsideAngular(()=>{const U=h.onError.subscribe({next:Q=>{O.handleError(Q)}});A.onDestroy(()=>{Pg(this._modules,A),U.unsubscribe()})}),function CI(i,s,o){try{const u=o();return Fp(u)?u.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(O,h,()=>{const U=A.injector.get(Mg);return U.runInitializers(),U.donePromise.then(()=>(function Yc(i){$e(i,"Expected localeId to be defined"),"string"==typeof i&&(Ry=i.toLowerCase().replace(/_/g,"-"))}(A.injector.get(oh,oc)||oc),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const h=Og({},u);return function lh(i,s,o){const u=new rv(o);return Promise.resolve(u)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(o){const u=o.injector.get(zf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new Me(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Hf,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Nt(Pc))},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Og(i,s){return Array.isArray(s)?s.reduce(Og,i):{...i,...s}}let zf=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,h){this._zone=o,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new F.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),w=new F.y(A=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),No(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{O.unsubscribe(),U.unsubscribe()}});this.isStable=(0,Ce.T)(g,w.pipe((0,Ne.B)()))}bootstrap(o,u){const h=o instanceof dm;if(!this._injector.get(Mg).done){!h&&Pr(o);throw new Me(405,Cu)}let w;w=h?o:this._injector.get(Cd).resolveComponentFactory(o),this.componentTypes.push(w.componentType);const A=function mD(i){return i.isBoundToModule}(w)?void 0:this._injector.get(ac),U=w.create(Pc.NULL,[],u||w.selector,A),Q=U.location.nativeElement,ge=U.injector.get(jf,null);return null==ge||ge.registerApplication(Q),U.onDestroy(()=>{this.detachView(U.hostView),Pg(this.components,U),null==ge||ge.unregisterApplication(Q)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Pg(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Tu,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Pg(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Me(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(Nt(Fo),Nt(cl),Nt(Fh))},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Pg(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}function kg(){return!1}function Ov(){}let JE=(()=>{class i{}return i.__NG_ELEMENT_ID__=SI,i})();function SI(i){return function AI(i,s,o){if(bo(i)&&!o){const u=pi(i.index,s);return new Zh(u,u)}return 47&i.type?new Zh(s[$t],s):null}(H(),d(),16==(16&i))}class Bv{constructor(){}supports(s){return Ud(s)}create(s){return new nb(s)}}const Vv=(i,s)=>s;class nb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Vv}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,h=0,g=null;for(;o||u;){const w=!u||o&&o.currentIndex<ib(u,h,g)?o:u,A=ib(w,h,g),O=w.currentIndex;if(w===u)h--,u=u._nextRemoved;else if(o=o._next,null==w.previousIndex)h++;else{g||(g=[]);const U=A-h,Q=O-h;if(U!=Q){for(let Xe=0;Xe<U;Xe++){const dt=Xe<g.length?g[Xe]:g[Xe]=0,Pt=dt+Xe;Q<=Pt&&Pt<U&&(g[Xe]=dt+1)}g[w.previousIndex]=Q-U}}A!==O&&s(w,A,O)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Ud(s))throw new Me(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,w,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let A=0;A<this.length;A++)g=s[A],w=this._trackByFn(A,g),null!==o&&Object.is(o.trackById,w)?(u&&(o=this._verifyReinsertion(o,g,w,A)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,w,A),u=!0),o=o._next}else h=0,function n0(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,A=>{w=this._trackByFn(h,A),null!==o&&Object.is(o.trackById,w)?(u&&(o=this._verifyReinsertion(o,A,w,h)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,w,h),u=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,g,h)):s=this._addAfter(new Uv(o,u),g,h),s}_verifyReinsertion(s,o,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const h=null===o?this._itHead:o._next;return s._next=h,s._prev=o,null===h?this._itTail=s:h._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new ch),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ch),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Uv{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class ch{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new rb,this.map.set(o,u)),u.add(s)}get(s,o){const h=this.map.get(s);return h?h.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ib(i,s,o){const u=i.previousIndex;if(null===u)return u;let h=0;return o&&u<o.length&&(h=o[u]),u+s+h}class Fg{constructor(){}supports(s){return s instanceof Map||Sp(s)}create(){return new jv}}class jv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Sp(s)))throw new Me(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(h,u);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,o);const g=h._prev,w=h._next;return g&&(g._next=w),w&&(w._prev=g),h._next=null,h._prev=null,h}const u=new xI(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class xI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lg(){return new $g([new Bv])}let $g=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const h=u.factories.slice();o=o.concat(h)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Lg()),deps:[[i,new B,new ii]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(null!=u)return u;throw new Me(901,!1)}}return i.\u0275prov=tt({token:i,providedIn:"root",factory:Lg}),i})();function Bg(){return new Hv([new Fg])}let Hv=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const h=u.factories.slice();o=o.concat(h)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Bg()),deps:[[i,new B,new ii]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(u)return u;throw new Me(901,!1)}}return i.\u0275prov=tt({token:i,providedIn:"root",factory:Bg}),i})();const Gv=YE(null,"core",[]);let Wv=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Nt(zf))},i.\u0275mod=Hr({type:i}),i.\u0275inj=en({}),i})();function ob(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},433:(jt,at,V)=>{"use strict";V.d(at,{qu:()=>Uo,u:()=>Io,sg:()=>oo,u5:()=>jo,JU:()=>it,a5:()=>Vn,JJ:()=>tr,JL:()=>pn,UX:()=>Ho,Q7:()=>di,kI:()=>rt,_Y:()=>fs});var l=V(4650),v=V(6895),F=V(8996),Ce=V(9751),Ne=V(4742),Le=V(8421),ve=V(7669),Oe=V(5403),Ue=V(3268),ye=V(1810),_e=V(4004);let Fe=(()=>{class ${constructor(m,f){this._renderer=m,this._elementRef=f,this.onChange=M=>{},this.onTouched=()=>{}}setProperty(m,f){this._renderer.setProperty(this._elementRef.nativeElement,m,f)}registerOnTouched(m){this.onTouched=m}registerOnChange(m){this.onChange=m}setDisabledState(m){this.setProperty("disabled",m)}}return $.\u0275fac=function(m){return new(m||$)(l.Y36(l.Qsj),l.Y36(l.SBq))},$.\u0275dir=l.lG2({type:$}),$})(),Be=(()=>{class $ extends Fe{}return $.\u0275fac=function(){let d;return function(f){return(d||(d=l.n5z($)))(f||$)}}(),$.\u0275dir=l.lG2({type:$,features:[l.qOj]}),$})();const it=new l.OlP("NgValueAccessor"),pe={provide:it,useExisting:(0,l.Gpc)(()=>ze),multi:!0},et=new l.OlP("CompositionEventMode");let ze=(()=>{class $ extends Fe{constructor(m,f,M){super(m,f),this._compositionMode=M,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function je(){const $=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(m){this.setProperty("value",null==m?"":m)}_handleInput(m){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(m)}_compositionStart(){this._composing=!0}_compositionEnd(m){this._composing=!1,this._compositionMode&&this.onChange(m)}}return $.\u0275fac=function(m){return new(m||$)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(et,8))},$.\u0275dir=l.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(m,f){1&m&&l.NdJ("input",function(H){return f._handleInput(H.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(H){return f._compositionEnd(H.target.value)})},features:[l._Bn([pe]),l.qOj]}),$})();const Se=!1;function Ke($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function Re($){return null!=$&&"number"==typeof $.length}const ie=new l.OlP("NgValidators"),be=new l.OlP("NgAsyncValidators"),We=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rt{static min(d){return function Ge($){return d=>{if(Ke(d.value)||Ke($))return null;const m=parseFloat(d.value);return!isNaN(m)&&m<$?{min:{min:$,actual:d.value}}:null}}(d)}static max(d){return function Qe($){return d=>{if(Ke(d.value)||Ke($))return null;const m=parseFloat(d.value);return!isNaN(m)&&m>$?{max:{max:$,actual:d.value}}:null}}(d)}static required(d){return Pe(d)}static requiredTrue(d){return function ne($){return!0===$.value?null:{required:!0}}(d)}static email(d){return function De($){return Ke($.value)||We.test($.value)?null:{email:!0}}(d)}static minLength(d){return function Ve($){return d=>Ke(d.value)||!Re(d.value)?null:d.value.length<$?{minlength:{requiredLength:$,actualLength:d.value.length}}:null}(d)}static maxLength(d){return function he($){return d=>Re(d.value)&&d.value.length>$?{maxlength:{requiredLength:$,actualLength:d.value.length}}:null}(d)}static pattern(d){return function ue($){if(!$)return Ae;let d,m;return"string"==typeof $?(m="","^"!==$.charAt(0)&&(m+="^"),m+=$,"$"!==$.charAt($.length-1)&&(m+="$"),d=new RegExp(m)):(m=$.toString(),d=$),f=>{if(Ke(f.value))return null;const M=f.value;return d.test(M)?null:{pattern:{requiredPattern:m,actualValue:M}}}}(d)}static nullValidator(d){return null}static compose(d){return gt(d)}static composeAsync(d){return vt(d)}}function Pe($){return Ke($.value)?{required:!0}:null}function Ae($){return null}function $e($){return null!=$}function le($){const d=(0,l.QGY)($)?(0,F.D)($):$;if(Se&&!(0,l.CqO)(d)){let m="Expected async validator to return Promise or Observable.";throw"object"==typeof $&&(m+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,m)}return d}function Te($){let d={};return $.forEach(m=>{d=null!=m?{...d,...m}:d}),0===Object.keys(d).length?null:d}function X($,d){return d.map(m=>m($))}function tt($){return $.map(d=>function Ie($){return!$.validate}(d)?d:m=>d.validate(m))}function gt($){if(!$)return null;const d=$.filter($e);return 0==d.length?null:function(m){return Te(X(m,d))}}function en($){return null!=$?gt(tt($)):null}function vt($){if(!$)return null;const d=$.filter($e);return 0==d.length?null:function(m){return function me(...$){const d=(0,ve.jO)($),{args:m,keys:f}=(0,Ne.D)($),M=new Ce.y(H=>{const{length:ut}=m;if(!ut)return void H.complete();const Lt=new Array(ut);let Wt=ut,Rn=ut;for(let nr=0;nr<ut;nr++){let $r=!1;(0,Le.Xf)(m[nr]).subscribe((0,Oe.x)(H,Gn=>{$r||($r=!0,Rn--),Lt[nr]=Gn},()=>Wt--,void 0,()=>{(!Wt||!$r)&&(Rn||H.next(f?(0,ye.n)(f,Lt):Lt),H.complete())}))}});return d?M.pipe((0,Ue.Z)(d)):M}(X(m,d).map(le)).pipe((0,_e.U)(Te))}}function tn($){return null!=$?vt(tt($)):null}function In($,d){return null===$?[d]:Array.isArray($)?[...$,d]:[$,d]}function rn($){return $._rawValidators}function zt($){return $._rawAsyncValidators}function jn($){return $?Array.isArray($)?$:[$]:[]}function fr($,d){return Array.isArray($)?$.includes(d):$===d}function vr($,d){const m=jn(d);return jn($).forEach(M=>{fr(m,M)||m.push(M)}),m}function on($,d){return jn(d).filter(m=>!fr($,m))}class An{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(d){this._rawValidators=d||[],this._composedValidatorFn=en(this._rawValidators)}_setAsyncValidators(d){this._rawAsyncValidators=d||[],this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(d){this._onDestroyCallbacks.push(d)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(d=>d()),this._onDestroyCallbacks=[]}reset(d){this.control&&this.control.reset(d)}hasError(d,m){return!!this.control&&this.control.hasError(d,m)}getError(d,m){return this.control?this.control.getError(d,m):null}}class Ot extends An{get formDirective(){return null}get path(){return null}}class Vn extends An{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yn{constructor(d){this._cd=d}get isTouched(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.touched)}get isUntouched(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.untouched)}get isPristine(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.pristine)}get isDirty(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.dirty)}get isValid(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.valid)}get isInvalid(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.invalid)}get isPending(){var d,m;return!(null===(d=this._cd)||void 0===d||null===(m=d.control)||void 0===m||!m.pending)}get isSubmitted(){var d;return!(null===(d=this._cd)||void 0===d||!d.submitted)}}let tr=(()=>{class $ extends Yn{constructor(m){super(m)}}return $.\u0275fac=function(m){return new(m||$)(l.Y36(Vn,2))},$.\u0275dir=l.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(m,f){2&m&&l.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)},features:[l.qOj]}),$})(),pn=(()=>{class $ extends Yn{constructor(m){super(m)}}return $.\u0275fac=function(m){return new(m||$)(l.Y36(Ot,10))},$.\u0275dir=l.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(m,f){2&m&&l.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)("ng-submitted",f.isSubmitted)},features:[l.qOj]}),$})();function Nt($,d){return $?`with name: '${d}'`:`at index: ${d}`}const bn=!1,kn="VALID",ur="INVALID",ke="PENDING",Ee="DISABLED";function ee($){return(oe($)?$.validators:$)||null}function Y($,d){return(oe(d)?d.asyncValidators:$)||null}function oe($){return null!=$&&!Array.isArray($)&&"object"==typeof $}function we($,d,m){const f=$.controls;if(!(d?Object.keys(f):f).length)throw new l.vHH(1e3,bn?function Ct($){return`\n    There are no form controls registered with this ${$?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(d):"");if(!f[m])throw new l.vHH(1001,bn?function Zt($,d){return`Cannot find form control ${Nt($,d)}`}(d,m):"")}function se($,d,m){$._forEachChild((f,M)=>{if(void 0===m[M])throw new l.vHH(1002,bn?function mn($,d){return`Must supply a value for form control ${Nt($,d)}`}(d,M):"")})}class He{constructor(d,m){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(d),this._assignAsyncValidators(m)}get validator(){return this._composedValidatorFn}set validator(d){this._rawValidators=this._composedValidatorFn=d}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(d){this._rawAsyncValidators=this._composedAsyncValidatorFn=d}get parent(){return this._parent}get valid(){return this.status===kn}get invalid(){return this.status===ur}get pending(){return this.status==ke}get disabled(){return this.status===Ee}get enabled(){return this.status!==Ee}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(d){this._assignValidators(d)}setAsyncValidators(d){this._assignAsyncValidators(d)}addValidators(d){this.setValidators(vr(d,this._rawValidators))}addAsyncValidators(d){this.setAsyncValidators(vr(d,this._rawAsyncValidators))}removeValidators(d){this.setValidators(on(d,this._rawValidators))}removeAsyncValidators(d){this.setAsyncValidators(on(d,this._rawAsyncValidators))}hasValidator(d){return fr(this._rawValidators,d)}hasAsyncValidator(d){return fr(this._rawAsyncValidators,d)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(d={}){this.touched=!0,this._parent&&!d.onlySelf&&this._parent.markAsTouched(d)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(d=>d.markAllAsTouched())}markAsUntouched(d={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(m=>{m.markAsUntouched({onlySelf:!0})}),this._parent&&!d.onlySelf&&this._parent._updateTouched(d)}markAsDirty(d={}){this.pristine=!1,this._parent&&!d.onlySelf&&this._parent.markAsDirty(d)}markAsPristine(d={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(m=>{m.markAsPristine({onlySelf:!0})}),this._parent&&!d.onlySelf&&this._parent._updatePristine(d)}markAsPending(d={}){this.status=ke,!1!==d.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!d.onlySelf&&this._parent.markAsPending(d)}disable(d={}){const m=this._parentMarkedDirty(d.onlySelf);this.status=Ee,this.errors=null,this._forEachChild(f=>{f.disable({...d,onlySelf:!0})}),this._updateValue(),!1!==d.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...d,skipPristineCheck:m}),this._onDisabledChange.forEach(f=>f(!0))}enable(d={}){const m=this._parentMarkedDirty(d.onlySelf);this.status=kn,this._forEachChild(f=>{f.enable({...d,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent}),this._updateAncestors({...d,skipPristineCheck:m}),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(d){this._parent&&!d.onlySelf&&(this._parent.updateValueAndValidity(d),d.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(d){this._parent=d}getRawValue(){return this.value}updateValueAndValidity(d={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kn||this.status===ke)&&this._runAsyncValidator(d.emitEvent)),!1!==d.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!d.onlySelf&&this._parent.updateValueAndValidity(d)}_updateTreeValidity(d={emitEvent:!0}){this._forEachChild(m=>m._updateTreeValidity(d)),this.updateValueAndValidity({onlySelf:!0,emitEvent:d.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ee:kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(d){if(this.asyncValidator){this.status=ke,this._hasOwnPendingAsyncValidator=!0;const m=le(this.asyncValidator(this));this._asyncValidationSubscription=m.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:d})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(d,m={}){this.errors=d,this._updateControlsErrors(!1!==m.emitEvent)}get(d){let m=d;return null==m||(Array.isArray(m)||(m=m.split(".")),0===m.length)?null:m.reduce((f,M)=>f&&f._find(M),this)}getError(d,m){const f=m?this.get(m):this;return f&&f.errors?f.errors[d]:null}hasError(d,m){return!!this.getError(d,m)}get root(){let d=this;for(;d._parent;)d=d._parent;return d}_updateControlsErrors(d){this.status=this._calculateStatus(),d&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(d)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Ee:this.errors?ur:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ke)?ke:this._anyControlsHaveStatus(ur)?ur:kn}_anyControlsHaveStatus(d){return this._anyControls(m=>m.status===d)}_anyControlsDirty(){return this._anyControls(d=>d.dirty)}_anyControlsTouched(){return this._anyControls(d=>d.touched)}_updatePristine(d={}){this.pristine=!this._anyControlsDirty(),this._parent&&!d.onlySelf&&this._parent._updatePristine(d)}_updateTouched(d={}){this.touched=this._anyControlsTouched(),this._parent&&!d.onlySelf&&this._parent._updateTouched(d)}_registerOnCollectionChange(d){this._onCollectionChange=d}_setUpdateStrategy(d){oe(d)&&null!=d.updateOn&&(this._updateOn=d.updateOn)}_parentMarkedDirty(d){return!d&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(d){return null}_assignValidators(d){this._rawValidators=Array.isArray(d)?d.slice():d,this._composedValidatorFn=function re($){return Array.isArray($)?en($):$||null}(this._rawValidators)}_assignAsyncValidators(d){this._rawAsyncValidators=Array.isArray(d)?d.slice():d,this._composedAsyncValidatorFn=function nt($){return Array.isArray($)?tn($):$||null}(this._rawAsyncValidators)}}class ht extends He{constructor(d,m,f){super(ee(m),Y(f,m)),this.controls=d,this._initObservables(),this._setUpdateStrategy(m),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(d,m){return this.controls[d]?this.controls[d]:(this.controls[d]=m,m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange),m)}addControl(d,m,f={}){this.registerControl(d,m),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(d,m={}){this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),delete this.controls[d],this.updateValueAndValidity({emitEvent:m.emitEvent}),this._onCollectionChange()}setControl(d,m,f={}){this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),delete this.controls[d],m&&this.registerControl(d,m),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(d){return this.controls.hasOwnProperty(d)&&this.controls[d].enabled}setValue(d,m={}){se(this,!0,d),Object.keys(d).forEach(f=>{we(this,!0,f),this.controls[f].setValue(d[f],{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m)}patchValue(d,m={}){null!=d&&(Object.keys(d).forEach(f=>{const M=this.controls[f];M&&M.patchValue(d[f],{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m))}reset(d={},m={}){this._forEachChild((f,M)=>{f.reset(d[M],{onlySelf:!0,emitEvent:m.emitEvent})}),this._updatePristine(m),this._updateTouched(m),this.updateValueAndValidity(m)}getRawValue(){return this._reduceChildren({},(d,m,f)=>(d[f]=m.getRawValue(),d))}_syncPendingControls(){let d=this._reduceChildren(!1,(m,f)=>!!f._syncPendingControls()||m);return d&&this.updateValueAndValidity({onlySelf:!0}),d}_forEachChild(d){Object.keys(this.controls).forEach(m=>{const f=this.controls[m];f&&d(f,m)})}_setUpControls(){this._forEachChild(d=>{d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(d){for(const[m,f]of Object.entries(this.controls))if(this.contains(m)&&d(f))return!0;return!1}_reduceValue(){return this._reduceChildren({},(m,f,M)=>((f.enabled||this.disabled)&&(m[M]=f.value),m))}_reduceChildren(d,m){let f=d;return this._forEachChild((M,H)=>{f=m(f,M,H)}),f}_allControlsDisabled(){for(const d of Object.keys(this.controls))if(this.controls[d].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(d){return this.controls.hasOwnProperty(d)?this.controls[d]:null}}class cn extends ht{}const vi=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>wi}),wi="always";function Hr($,d,m=wi){var f,M;Fi($,d),d.valueAccessor.writeValue($.value),($.disabled||"always"===m)&&(null===(f=(M=d.valueAccessor).setDisabledState)||void 0===f||f.call(M,$.disabled)),function Vr($,d){d.valueAccessor.registerOnChange(m=>{$._pendingValue=m,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Pr($,d)})}($,d),function zr($,d){const m=(f,M)=>{d.valueAccessor.writeValue(f),M&&d.viewToModelUpdate(f)};$.registerOnChange(m),d._registerOnDestroy(()=>{$._unregisterOnChange(m)})}($,d),function Ar($,d){d.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Pr($,d),"submit"!==$.updateOn&&$.markAsTouched()})}($,d),function cs($,d){if(d.valueAccessor.setDisabledState){const m=f=>{d.valueAccessor.setDisabledState(f)};$.registerOnDisabledChange(m),d._registerOnDestroy(()=>{$._unregisterOnDisabledChange(m)})}}($,d)}function cr($,d,m=!0){const f=()=>{};d.valueAccessor&&(d.valueAccessor.registerOnChange(f),d.valueAccessor.registerOnTouched(f)),zn($,d),$&&(d._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function ei($,d){$.forEach(m=>{m.registerOnValidatorChange&&m.registerOnValidatorChange(d)})}function Fi($,d){const m=rn($);null!==d.validator?$.setValidators(In(m,d.validator)):"function"==typeof m&&$.setValidators([m]);const f=zt($);null!==d.asyncValidator?$.setAsyncValidators(In(f,d.asyncValidator)):"function"==typeof f&&$.setAsyncValidators([f]);const M=()=>$.updateValueAndValidity();ei(d._rawValidators,M),ei(d._rawAsyncValidators,M)}function zn($,d){let m=!1;if(null!==$){if(null!==d.validator){const M=rn($);if(Array.isArray(M)&&M.length>0){const H=M.filter(ut=>ut!==d.validator);H.length!==M.length&&(m=!0,$.setValidators(H))}}if(null!==d.asyncValidator){const M=zt($);if(Array.isArray(M)&&M.length>0){const H=M.filter(ut=>ut!==d.asyncValidator);H.length!==M.length&&(m=!0,$.setAsyncValidators(H))}}}const f=()=>{};return ei(d._rawValidators,f),ei(d._rawAsyncValidators,f),m}function Pr($,d){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),d.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function lt($,d){const m=$.indexOf(d);m>-1&&$.splice(m,1)}function bt($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const Dt=class extends He{constructor(d=null,m,f){super(ee(m),Y(f,m)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(d),this._setUpdateStrategy(m),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oe(m)&&(m.nonNullable||m.initialValueIsDefault)&&(this.defaultValue=bt(d)?d.value:d)}setValue(d,m={}){this.value=this._pendingValue=d,this._onChange.length&&!1!==m.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==m.emitViewToModelChange)),this.updateValueAndValidity(m)}patchValue(d,m={}){this.setValue(d,m)}reset(d=this.defaultValue,m={}){this._applyFormState(d),this.markAsPristine(m),this.markAsUntouched(m),this.setValue(this.value,m),this._pendingChange=!1}_updateValue(){}_anyControls(d){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(d){this._onChange.push(d)}_unregisterOnChange(d){lt(this._onChange,d)}registerOnDisabledChange(d){this._onDisabledChange.push(d)}_unregisterOnDisabledChange(d){lt(this._onDisabledChange,d)}_forEachChild(d){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(d){bt(d)?(this.value=this._pendingValue=d.value,d.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=d}};let fs=(()=>{class ${}return $.\u0275fac=function(m){return new(m||$)},$.\u0275dir=l.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),$o=(()=>{class ${}return $.\u0275fac=function(m){return new(m||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({}),$})();const Gi=new l.OlP("NgModelWithFormControlWarning"),so={provide:Ot,useExisting:(0,l.Gpc)(()=>oo)};let oo=(()=>{class $ extends Ot{constructor(m,f,M){super(),this.callSetDisabledState=M,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(m),this._setAsyncValidators(f)}ngOnChanges(m){this._checkFormPresent(),m.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(m){const f=this.form.get(m.path);return Hr(f,m,this.callSetDisabledState),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(m),f}getControl(m){return this.form.get(m.path)}removeControl(m){cr(m.control||null,m,!1),function qe($,d){const m=$.indexOf(d);m>-1&&$.splice(m,1)}(this.directives,m)}addFormGroup(m){this._setUpFormContainer(m)}removeFormGroup(m){this._cleanUpFormContainer(m)}getFormGroup(m){return this.form.get(m.path)}addFormArray(m){this._setUpFormContainer(m)}removeFormArray(m){this._cleanUpFormContainer(m)}getFormArray(m){return this.form.get(m.path)}updateModel(m,f){this.form.get(m.path).setValue(f)}onSubmit(m){var f;return this.submitted=!0,function q($,d){$._syncPendingControls(),d.forEach(m=>{const f=m.control;"submit"===f.updateOn&&f._pendingChange&&(m.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(m),"dialog"===(null==m||null===(f=m.target)||void 0===f?void 0:f.method)}onReset(){this.resetForm()}resetForm(m){this.form.reset(m),this.submitted=!1}_updateDomValue(){this.directives.forEach(m=>{const f=m.control,M=this.form.get(m.path);f!==M&&(cr(f||null,m),($=>$ instanceof Dt)(M)&&(Hr(M,m,this.callSetDisabledState),m.control=M))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(m){const f=this.form.get(m.path);(function kr($,d){Fi($,d)})(f,m),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(m){if(this.form){const f=this.form.get(m.path);f&&function ts($,d){return zn($,d)}(f,m)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fi(this.form,this),this._oldForm&&zn(this._oldForm,this)}_checkFormPresent(){}}return $.\u0275fac=function(m){return new(m||$)(l.Y36(ie,10),l.Y36(be,10),l.Y36(vi,8))},$.\u0275dir=l.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(m,f){1&m&&l.NdJ("submit",function(H){return f.onSubmit(H)})("reset",function(){return f.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([so]),l.qOj,l.TTD]}),$})();const is={provide:Vn,useExisting:(0,l.Gpc)(()=>Io)};let Io=(()=>{class $ extends Vn{set isDisabled(m){}constructor(m,f,M,H,ut){super(),this._ngModelWarningConfig=ut,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=m,this._setValidators(f),this._setAsyncValidators(M),this.valueAccessor=function de($,d){if(!d)return null;let m,f,M;return Array.isArray(d),d.forEach(H=>{H.constructor===ze?m=H:function Mi($){return Object.getPrototypeOf($.constructor)===Be}(H)?f=H:M=H}),M||f||m||null}(0,H)}ngOnChanges(m){this._added||this._setUpControl(),function Gr($,d){if(!$.hasOwnProperty("model"))return!1;const m=$.model;return!!m.isFirstChange()||!Object.is(d,m.currentValue)}(m,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(m){this.viewModel=m,this.update.emit(m)}get path(){return function jr($,d){return[...d.path,$]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return $._ngModelWarningSentOnce=!1,$.\u0275fac=function(m){return new(m||$)(l.Y36(Ot,13),l.Y36(ie,10),l.Y36(be,10),l.Y36(it,10),l.Y36(Gi,8))},$.\u0275dir=l.lG2({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([is]),l.qOj,l.TTD]}),$})(),ss=(()=>{class ${constructor(){this._validator=Ae}ngOnChanges(m){if(this.inputName in m){const f=this.normalizeInput(m[this.inputName].currentValue);this._enabled=this.enabled(f),this._validator=this._enabled?this.createValidator(f):Ae,this._onChange&&this._onChange()}}validate(m){return this._validator(m)}registerOnValidatorChange(m){this._onChange=m}enabled(m){return null!=m}}return $.\u0275fac=function(m){return new(m||$)},$.\u0275dir=l.lG2({type:$,features:[l.TTD]}),$})();const Co={provide:ie,useExisting:(0,l.Gpc)(()=>di),multi:!0};let di=(()=>{class $ extends ss{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=m=>Pe}enabled(m){return m}}return $.\u0275fac=function(){let d;return function(f){return(d||(d=l.n5z($)))(f||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(m,f){2&m&&l.uIk("required",f._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Co]),l.qOj]}),$})(),gs=(()=>{class ${}return $.\u0275fac=function(m){return new(m||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({imports:[$o]}),$})();class Ti extends He{constructor(d,m,f){super(ee(m),Y(f,m)),this.controls=d,this._initObservables(),this._setUpdateStrategy(m),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(d){return this.controls[this._adjustIndex(d)]}push(d,m={}){this.controls.push(d),this._registerControl(d),this.updateValueAndValidity({emitEvent:m.emitEvent}),this._onCollectionChange()}insert(d,m,f={}){this.controls.splice(d,0,m),this._registerControl(m),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(d,m={}){let f=this._adjustIndex(d);f<0&&(f=0),this.controls[f]&&this.controls[f]._registerOnCollectionChange(()=>{}),this.controls.splice(f,1),this.updateValueAndValidity({emitEvent:m.emitEvent})}setControl(d,m,f={}){let M=this._adjustIndex(d);M<0&&(M=0),this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),m&&(this.controls.splice(M,0,m),this._registerControl(m)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(d,m={}){se(this,!1,d),d.forEach((f,M)=>{we(this,!1,M),this.at(M).setValue(f,{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m)}patchValue(d,m={}){null!=d&&(d.forEach((f,M)=>{this.at(M)&&this.at(M).patchValue(f,{onlySelf:!0,emitEvent:m.emitEvent})}),this.updateValueAndValidity(m))}reset(d=[],m={}){this._forEachChild((f,M)=>{f.reset(d[M],{onlySelf:!0,emitEvent:m.emitEvent})}),this._updatePristine(m),this._updateTouched(m),this.updateValueAndValidity(m)}getRawValue(){return this.controls.map(d=>d.getRawValue())}clear(d={}){this.controls.length<1||(this._forEachChild(m=>m._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:d.emitEvent}))}_adjustIndex(d){return d<0?d+this.length:d}_syncPendingControls(){let d=this.controls.reduce((m,f)=>!!f._syncPendingControls()||m,!1);return d&&this.updateValueAndValidity({onlySelf:!0}),d}_forEachChild(d){this.controls.forEach((m,f)=>{d(m,f)})}_updateValue(){this.value=this.controls.filter(d=>d.enabled||this.disabled).map(d=>d.value)}_anyControls(d){return this.controls.some(m=>m.enabled&&d(m))}_setUpControls(){this._forEachChild(d=>this._registerControl(d))}_allControlsDisabled(){for(const d of this.controls)if(d.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(d){d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange)}_find(d){var m;return null!==(m=this.at(d))&&void 0!==m?m:null}}function Qo($){return!!$&&(void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn)}let Uo=(()=>{class ${constructor(){this.useNonNullable=!1}get nonNullable(){const m=new $;return m.useNonNullable=!0,m}group(m,f=null){const M=this._reduceControls(m);let H={};return Qo(f)?H=f:null!==f&&(H.validators=f.validator,H.asyncValidators=f.asyncValidator),new ht(M,H)}record(m,f=null){const M=this._reduceControls(m);return new cn(M,f)}control(m,f,M){let H={};return this.useNonNullable?(Qo(f)?H=f:(H.validators=f,H.asyncValidators=M),new Dt(m,{...H,nonNullable:!0})):new Dt(m,f,M)}array(m,f,M){const H=m.map(ut=>this._createControl(ut));return new Ti(H,f,M)}_reduceControls(m){const f={};return Object.keys(m).forEach(M=>{f[M]=this._createControl(m[M])}),f}_createControl(m){return m instanceof Dt||m instanceof He?m:Array.isArray(m)?this.control(m[0],m.length>1?m[1]:null,m.length>2?m[2]:null):this.control(m)}}return $.\u0275fac=function(m){return new(m||$)},$.\u0275prov=l.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),jo=(()=>{class ${static withConfig(m){var f;return{ngModule:$,providers:[{provide:vi,useValue:null!==(f=m.callSetDisabledState)&&void 0!==f?f:wi}]}}}return $.\u0275fac=function(m){return new(m||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({imports:[gs]}),$})(),Ho=(()=>{class ${static withConfig(m){var f,M;return{ngModule:$,providers:[{provide:Gi,useValue:null!==(f=m.warnOnNgModelWithFormControl)&&void 0!==f?f:"always"},{provide:vi,useValue:null!==(M=m.callSetDisabledState)&&void 0!==M?M:wi}]}}}return $.\u0275fac=function(m){return new(m||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({imports:[gs]}),$})()},1481:(jt,at,V)=>{"use strict";V.d(at,{Dx:()=>pn,H7:()=>ee,b2:()=>Vn,q6:()=>vr,se:()=>Pe});var l=V(6895),v=V(4650);class F extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends F{static makeCurrent(){(0,l.HT)(new Ce)}onAndCancel(we,se,He){return we.addEventListener(se,He,!1),()=>{we.removeEventListener(se,He,!1)}}dispatchEvent(we,se){we.dispatchEvent(se)}remove(we){we.parentNode&&we.parentNode.removeChild(we)}createElement(we,se){return(se=se||this.getDefaultDocument()).createElement(we)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(we){return we.nodeType===Node.ELEMENT_NODE}isShadowRoot(we){return we instanceof DocumentFragment}getGlobalEventTarget(we,se){return"window"===se?window:"document"===se?we:"body"===se?we.body:null}getBaseHref(we){const se=function Le(){return Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null}();return null==se?null:function Oe(oe){ve=ve||document.createElement("a"),ve.setAttribute("href",oe);const we=ve.pathname;return"/"===we.charAt(0)?we:`/${we}`}(se)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(we){return(0,l.Mx)(document.cookie,we)}}let ve,Ne=null;const Ue=new v.OlP("TRANSITION_ID"),me=[{provide:v.ip1,useFactory:function ye(oe,we,se){return()=>{se.get(v.CZH).donePromise.then(()=>{const He=(0,l.q)(),ht=we.querySelectorAll(`style[ng-transition="${oe}"]`);for(let At=0;At<ht.length;At++)He.remove(ht[At])})}},deps:[Ue,l.K0,v.zs3],multi:!0}];let Fe=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(se){return new(se||oe)},oe.\u0275prov=v.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Be=new v.OlP("EventManagerPlugins");let it=(()=>{class oe{constructor(se,He){this._zone=He,this._eventNameToPlugin=new Map,se.forEach(ht=>{ht.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,He,ht){return this._findPluginFor(He).addEventListener(se,He,ht)}addGlobalEventListener(se,He,ht){return this._findPluginFor(He).addGlobalEventListener(se,He,ht)}getZone(){return this._zone}_findPluginFor(se){const He=this._eventNameToPlugin.get(se);if(He)return He;const ht=this._plugins;for(let At=0;At<ht.length;At++){const sn=ht[At];if(sn.supports(se))return this._eventNameToPlugin.set(se,sn),sn}throw new Error(`No event manager plugin found for event ${se}`)}}return oe.\u0275fac=function(se){return new(se||oe)(v.LFG(Be),v.LFG(v.R0b))},oe.\u0275prov=v.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class mt{constructor(we){this._doc=we}addGlobalEventListener(we,se,He){const ht=(0,l.q)().getGlobalEventTarget(this._doc,we);if(!ht)throw new Error(`Unsupported event target ${ht} for event ${se}`);return this.addEventListener(ht,se,He)}}let Me=(()=>{class oe{constructor(){this.usageCount=new Map}addStyles(se){for(const He of se)1===this.changeUsageCount(He,1)&&this.onStyleAdded(He)}removeStyles(se){for(const He of se)0===this.changeUsageCount(He,-1)&&this.onStyleRemoved(He)}onStyleRemoved(se){}onStyleAdded(se){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(se,He){var ht;const At=this.usageCount;let sn=null!==(ht=At.get(se))&&void 0!==ht?ht:0;return sn+=He,sn>0?At.set(se,sn):At.delete(se),sn}ngOnDestroy(){for(const se of this.getAllStyles())this.onStyleRemoved(se);this.usageCount.clear()}}return oe.\u0275fac=function(se){return new(se||oe)},oe.\u0275prov=v.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),pe=(()=>{class oe extends Me{constructor(se){super(),this.doc=se,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(se){for(const He of this.hostNodes)this.addStyleToHost(He,se)}onStyleRemoved(se){const He=this.styleRef,ht=He.get(se);null==ht||ht.forEach(At=>At.remove()),He.delete(se)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const He of this.getAllStyles())this.addStyleToHost(se,He)}removeHost(se){this.hostNodes.delete(se)}addStyleToHost(se,He){const ht=this.doc.createElement("style");ht.textContent=He,se.appendChild(ht);const At=this.styleRef.get(He);At?At.push(ht):this.styleRef.set(He,[ht])}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}}return oe.\u0275fac=function(se){return new(se||oe)(v.LFG(l.K0))},oe.\u0275prov=v.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},et=/%COMP%/g,be=new v.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ge(oe,we){return we.flat(100).map(se=>se.replace(et,oe))}function Qe(oe){return we=>{if("__ngUnwrap__"===we)return oe;!1===oe(we)&&(we.preventDefault(),we.returnValue=!1)}}let Pe=(()=>{class oe{constructor(se,He,ht,At){this.eventManager=se,this.sharedStylesHost=He,this.appId=ht,this.removeStylesOnCompDestory=At,this.rendererByCompId=new Map,this.defaultRenderer=new ne(se)}createRenderer(se,He){if(!se||!He)return this.defaultRenderer;const ht=this.getOrCreateRenderer(se,He);return ht instanceof $e?ht.applyToHost(se):ht instanceof Ae&&ht.applyStyles(),ht}getOrCreateRenderer(se,He){const ht=this.rendererByCompId;let At=ht.get(He.id);if(!At){const sn=this.eventManager,cn=this.sharedStylesHost,Dr=this.removeStylesOnCompDestory;switch(He.encapsulation){case v.ifc.Emulated:At=new $e(sn,cn,He,this.appId,Dr);break;case v.ifc.ShadowDom:return new ue(sn,cn,se,He);default:At=new Ae(sn,cn,He,Dr)}At.onDestroy=()=>ht.delete(He.id),ht.set(He.id,At)}return At}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return oe.\u0275fac=function(se){return new(se||oe)(v.LFG(it),v.LFG(pe),v.LFG(v.AFp),v.LFG(be))},oe.\u0275prov=v.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class ne{constructor(we){this.eventManager=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(we,se){return se?document.createElementNS(je[se]||se,we):document.createElement(we)}createComment(we){return document.createComment(we)}createText(we){return document.createTextNode(we)}appendChild(we,se){(he(we)?we.content:we).appendChild(se)}insertBefore(we,se,He){we&&(he(we)?we.content:we).insertBefore(se,He)}removeChild(we,se){we&&we.removeChild(se)}selectRootElement(we,se){let He="string"==typeof we?document.querySelector(we):we;if(!He)throw new Error(`The selector "${we}" did not match any elements`);return se||(He.textContent=""),He}parentNode(we){return we.parentNode}nextSibling(we){return we.nextSibling}setAttribute(we,se,He,ht){if(ht){se=ht+":"+se;const At=je[ht];At?we.setAttributeNS(At,se,He):we.setAttribute(se,He)}else we.setAttribute(se,He)}removeAttribute(we,se,He){if(He){const ht=je[He];ht?we.removeAttributeNS(ht,se):we.removeAttribute(`${He}:${se}`)}else we.removeAttribute(se)}addClass(we,se){we.classList.add(se)}removeClass(we,se){we.classList.remove(se)}setStyle(we,se,He,ht){ht&(v.JOm.DashCase|v.JOm.Important)?we.style.setProperty(se,He,ht&v.JOm.Important?"important":""):we.style[se]=He}removeStyle(we,se,He){He&v.JOm.DashCase?we.style.removeProperty(se):we.style[se]=""}setProperty(we,se,He){we[se]=He}setValue(we,se){we.nodeValue=se}listen(we,se,He){return"string"==typeof we?this.eventManager.addGlobalEventListener(we,se,Qe(He)):this.eventManager.addEventListener(we,se,Qe(He))}}function he(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class ue extends ne{constructor(we,se,He,ht){super(we),this.sharedStylesHost=se,this.hostEl=He,this.shadowRoot=He.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const At=Ge(ht.id,ht.styles);for(const sn of At){const cn=document.createElement("style");cn.textContent=sn,this.shadowRoot.appendChild(cn)}}nodeOrShadowRoot(we){return we===this.hostEl?this.shadowRoot:we}appendChild(we,se){return super.appendChild(this.nodeOrShadowRoot(we),se)}insertBefore(we,se,He){return super.insertBefore(this.nodeOrShadowRoot(we),se,He)}removeChild(we,se){return super.removeChild(this.nodeOrShadowRoot(we),se)}parentNode(we){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(we)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ae extends ne{constructor(we,se,He,ht,At=He.id){super(we),this.sharedStylesHost=se,this.removeStylesOnCompDestory=ht,this.rendererUsageCount=0,this.styles=Ge(At,He.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var we;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(we=this.onDestroy)||void 0===we||we.call(this))}}class $e extends Ae{constructor(we,se,He,ht,At){const sn=ht+"-"+He.id;super(we,se,He,At,sn),this.contentAttr=function We(oe){return"_ngcontent-%COMP%".replace(et,oe)}(sn),this.hostAttr=function rt(oe){return"_nghost-%COMP%".replace(et,oe)}(sn)}applyToHost(we){this.applyStyles(),this.setAttribute(we,this.hostAttr,"")}createElement(we,se){const He=super.createElement(we,se);return super.setAttribute(He,this.contentAttr,""),He}}let le=(()=>{class oe extends mt{constructor(se){super(se)}supports(se){return!0}addEventListener(se,He,ht){return se.addEventListener(He,ht,!1),()=>this.removeEventListener(se,He,ht)}removeEventListener(se,He,ht){return se.removeEventListener(He,ht)}}return oe.\u0275fac=function(se){return new(se||oe)(v.LFG(l.K0))},oe.\u0275prov=v.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Te=["alt","control","meta","shift"],X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let tt=(()=>{class oe extends mt{constructor(se){super(se)}supports(se){return null!=oe.parseEventName(se)}addEventListener(se,He,ht){const At=oe.parseEventName(He),sn=oe.eventCallback(At.fullKey,ht,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(se,At.domEventName,sn))}static parseEventName(se){const He=se.toLowerCase().split("."),ht=He.shift();if(0===He.length||"keydown"!==ht&&"keyup"!==ht)return null;const At=oe._normalizeKey(He.pop());let sn="",cn=He.indexOf("code");if(cn>-1&&(He.splice(cn,1),sn="code."),Te.forEach(vi=>{const wi=He.indexOf(vi);wi>-1&&(He.splice(wi,1),sn+=vi+".")}),sn+=At,0!=He.length||0===At.length)return null;const Dr={};return Dr.domEventName=ht,Dr.fullKey=sn,Dr}static matchEventFullKeyCode(se,He){let ht=X[se.key]||se.key,At="";return He.indexOf("code.")>-1&&(ht=se.code,At="code."),!(null==ht||!ht)&&(ht=ht.toLowerCase()," "===ht?ht="space":"."===ht&&(ht="dot"),Te.forEach(sn=>{sn!==ht&&(0,Ie[sn])(se)&&(At+=sn+".")}),At+=ht,At===He)}static eventCallback(se,He,ht){return At=>{oe.matchEventFullKeyCode(At,se)&&ht.runGuarded(()=>He(At))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return oe.\u0275fac=function(se){return new(se||oe)(v.LFG(l.K0))},oe.\u0275prov=v.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const vr=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:l.bD},{provide:v.g9A,useValue:function rn(){Ce.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function jn(){return(0,v.RDi)(document),document},deps:[]}]),on=new v.OlP(""),An=[{provide:v.rWj,useClass:class _e{addToWindow(we){v.dqk.getAngularTestability=(He,ht=!0)=>{const At=we.findTestabilityInTree(He,ht);if(null==At)throw new Error("Could not find testability for element.");return At},v.dqk.getAllAngularTestabilities=()=>we.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>we.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(He=>{const ht=v.dqk.getAllAngularTestabilities();let At=ht.length,sn=!1;const cn=function(Dr){sn=sn||Dr,At--,0==At&&He(sn)};ht.forEach(function(Dr){Dr.whenStable(cn)})})}findTestabilityInTree(we,se,He){if(null==se)return null;const ht=we.getTestability(se);return null!=ht?ht:He?(0,l.q)().isShadowRoot(se)?this.findTestabilityInTree(we,se.host,!0):this.findTestabilityInTree(we,se.parentElement,!0):null}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Ot=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function zt(){return new v.qLn},deps:[]},{provide:Be,useClass:le,multi:!0,deps:[l.K0,v.R0b,v.Lbi]},{provide:Be,useClass:tt,multi:!0,deps:[l.K0]},{provide:Pe,useClass:Pe,deps:[it,pe,v.AFp,be]},{provide:v.FYo,useExisting:Pe},{provide:Me,useExisting:pe},{provide:pe,useClass:pe,deps:[l.K0]},{provide:it,useClass:it,deps:[Be,v.R0b]},{provide:l.JF,useClass:Fe,deps:[]},[]];let Vn=(()=>{class oe{constructor(se){}static withServerTransition(se){return{ngModule:oe,providers:[{provide:v.AFp,useValue:se.appId},{provide:Ue,useExisting:v.AFp},me]}}}return oe.\u0275fac=function(se){return new(se||oe)(v.LFG(on,12))},oe.\u0275mod=v.oAB({type:oe}),oe.\u0275inj=v.cJS({providers:[...Ot,...An],imports:[l.ez,v.hGG]}),oe})(),pn=(()=>{class oe{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return oe.\u0275fac=function(se){return new(se||oe)(v.LFG(l.K0))},oe.\u0275prov=v.Yz7({token:oe,factory:function(se){let He=null;return He=se?new se:function tr(){return new pn((0,v.LFG)(l.K0))}(),He},providedIn:"root"}),oe})();typeof window<"u"&&window;let ee=(()=>{class oe{}return oe.\u0275fac=function(se){return new(se||oe)},oe.\u0275prov=v.Yz7({token:oe,factory:function(se){let He=null;return He=se?new(se||oe):v.LFG(Y),He},providedIn:"root"}),oe})(),Y=(()=>{class oe extends ee{constructor(se){super(),this._doc=se}sanitize(se,He){if(null==He)return null;switch(se){case v.q3G.NONE:return He;case v.q3G.HTML:return(0,v.qzn)(He,"HTML")?(0,v.z3N)(He):(0,v.EiD)(this._doc,String(He)).toString();case v.q3G.STYLE:return(0,v.qzn)(He,"Style")?(0,v.z3N)(He):He;case v.q3G.SCRIPT:if((0,v.qzn)(He,"Script"))return(0,v.z3N)(He);throw new Error("unsafe value used in a script context");case v.q3G.URL:return(0,v.qzn)(He,"URL")?(0,v.z3N)(He):(0,v.mCW)(String(He));case v.q3G.RESOURCE_URL:if((0,v.qzn)(He,"ResourceURL"))return(0,v.z3N)(He);throw new Error(`unsafe value used in a resource URL context (see ${v.JZr})`);default:throw new Error(`Unexpected SecurityContext ${se} (see ${v.JZr})`)}}bypassSecurityTrustHtml(se){return(0,v.JVY)(se)}bypassSecurityTrustStyle(se){return(0,v.L6k)(se)}bypassSecurityTrustScript(se){return(0,v.eBb)(se)}bypassSecurityTrustUrl(se){return(0,v.LAX)(se)}bypassSecurityTrustResourceUrl(se){return(0,v.pB0)(se)}}return oe.\u0275fac=function(se){return new(se||oe)(v.LFG(l.K0))},oe.\u0275prov=v.Yz7({token:oe,factory:function(se){let He=null;return He=se?new se:function re(oe){return new Y(oe.get(l.K0))}(v.LFG(v.zs3)),He},providedIn:"root"}),oe})()},2435:(jt,at,V)=>{"use strict";V.d(at,{gz:()=>rs,y6:()=>As,OD:()=>Dt,eC:()=>zt,wm:()=>Oa,wN:()=>Qs,F0:()=>Zi,rH:()=>po,Od:()=>Ll,Bz:()=>xo,Hx:()=>mn});var l=V(4650),v=V(8996),F=V(9646),Ce=V(1135),Ne=V(6805),Le=V(9751),ve=V(4742),Oe=V(4671),Ue=V(3268),ye=V(7669),me=V(1810),_e=V(5403),Fe=V(9672);function Be(...I){const D=(0,ye.yG)(I),E=(0,ye.jO)(I),{args:T,keys:L}=(0,ve.D)(I);if(0===T.length)return(0,v.D)([],D);const G=new Le.y(function it(I,D,E=Oe.y){return T=>{mt(D,()=>{const{length:L}=I,G=new Array(L);let J=L,Ze=L;for(let _t=0;_t<L;_t++)mt(D,()=>{const qt=(0,v.D)(I[_t],D);let Xt=!1;qt.subscribe((0,_e.x)(T,un=>{G[_t]=un,Xt||(Xt=!0,Ze--),Ze||T.next(E(G.slice()))},()=>{--J||T.complete()}))},T)},T)}}(T,D,L?J=>(0,me.n)(L,J):Oe.y));return E?G.pipe((0,Ue.Z)(E)):G}function mt(I,D,E){I?(0,Fe.f)(E,I,D):D()}var Me=V(7272),pe=V(8421);function je(I){return new Le.y(D=>{(0,pe.Xf)(I()).subscribe(D)})}var et=V(9635),ze=V(576);function Se(I,D){const E=(0,ze.m)(I)?I:()=>I,T=L=>L.error(E());return new Le.y(D?L=>D.schedule(T,0,L):T)}var Ke=V(515),Re=V(727),ie=V(4482);function be(){return(0,ie.e)((I,D)=>{let E=null;I._refCount++;const T=(0,_e.x)(D,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(E=null);const L=I._connection,G=E;E=null,L&&(!G||L===G)&&L.unsubscribe(),D.unsubscribe()});I.subscribe(T),T.closed||(E=I.connect())})}class We extends Le.y{constructor(D,E){super(),this.source=D,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,ie.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Re.w0;const E=this.getSubject();D.add(this.source.subscribe((0,_e.x)(E,void 0,()=>{this._teardown(),E.complete()},T=>{this._teardown(),E.error(T)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Re.w0.EMPTY)}return D}refCount(){return be()(this)}}var rt=V(7579),Ge=V(6895),Qe=V(4004),Pe=V(3900),ne=V(5698),De=V(8675),Ve=V(9300),he=V(5577),ue=V(590);function Ae(I,D){return(0,ze.m)(D)?(0,he.z)(I,D,1):(0,he.z)(I,1)}var $e=V(8505);function le(I){return(0,ie.e)((D,E)=>{let G,T=null,L=!1;T=D.subscribe((0,_e.x)(E,void 0,void 0,J=>{G=(0,pe.Xf)(I(J,le(I)(D))),T?(T.unsubscribe(),T=null,G.subscribe(E)):L=!0})),L&&(T.unsubscribe(),T=null,G.subscribe(E))})}var Te=V(5026);function X(I){return I<=0?()=>Ke.E:(0,ie.e)((D,E)=>{let T=[];D.subscribe((0,_e.x)(E,L=>{T.push(L),I<T.length&&T.shift()},()=>{for(const L of T)E.next(L);E.complete()},void 0,()=>{T=null}))})}var Ie=V(8068),tt=V(6590);function gt(I,D){const E=arguments.length>=2;return T=>T.pipe(I?(0,Ve.h)((L,G)=>I(L,G,T)):Oe.y,X(1),E?(0,tt.d)(D):(0,Ie.T)(()=>new Ne.K))}function tn(I){return(0,ie.e)((D,E)=>{try{D.subscribe(E)}finally{E.add(I)}})}var In=V(8189),rn=V(1481);const zt="primary",jn=Symbol("RouteTitle");class fr{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const E=this.params[D];return Array.isArray(E)?E[0]:E}return null}getAll(D){if(this.has(D)){const E=this.params[D];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function vr(I){return new fr(I)}function on(I,D,E){const T=E.path.split("/");if(T.length>I.length||"full"===E.pathMatch&&(D.hasChildren()||T.length<I.length))return null;const L={};for(let G=0;G<T.length;G++){const J=T[G],Ze=I[G];if(J.startsWith(":"))L[J.substring(1)]=Ze;else if(J!==Ze.path)return null}return{consumed:I.slice(0,T.length),posParams:L}}function Ot(I,D){const E=I?Object.keys(I):void 0,T=D?Object.keys(D):void 0;if(!E||!T||E.length!=T.length)return!1;let L;for(let G=0;G<E.length;G++)if(L=E[G],!Vn(I[L],D[L]))return!1;return!0}function Vn(I,D){if(Array.isArray(I)&&Array.isArray(D)){if(I.length!==D.length)return!1;const E=[...I].sort(),T=[...D].sort();return E.every((L,G)=>T[G]===L)}return I===D}function Yn(I){return Array.prototype.concat.apply([],I)}function er(I){return I.length>0?I[I.length-1]:null}function tr(I,D){for(const E in I)I.hasOwnProperty(E)&&D(I[E],E)}function pn(I){return(0,l.CqO)(I)?I:(0,l.QGY)(I)?(0,v.D)(Promise.resolve(I)):(0,F.of)(I)}const Jt=!1,dn={exact:function St(I,D,E){if(!Ct(I.segments,D.segments)||!Er(I.segments,D.segments,E)||I.numberOfChildren!==D.numberOfChildren)return!1;for(const T in D.children)if(!I.children[T]||!St(I.children[T],D.children[T],E))return!1;return!0},subset:Lr},ir={exact:function Hn(I,D){return Ot(I,D)},subset:function _r(I,D){return Object.keys(D).length<=Object.keys(I).length&&Object.keys(D).every(E=>Vn(I[E],D[E]))},ignored:()=>!0};function an(I,D,E){return dn[E.paths](I.root,D.root,E.matrixParams)&&ir[E.queryParams](I.queryParams,D.queryParams)&&!("exact"===E.fragment&&I.fragment!==D.fragment)}function Lr(I,D,E){return Dn(I,D,D.segments,E)}function Dn(I,D,E,T){if(I.segments.length>E.length){const L=I.segments.slice(0,E.length);return!(!Ct(L,E)||D.hasChildren()||!Er(L,E,T))}if(I.segments.length===E.length){if(!Ct(I.segments,E)||!Er(I.segments,E,T))return!1;for(const L in D.children)if(!I.children[L]||!Lr(I.children[L],D.children[L],T))return!1;return!0}{const L=E.slice(0,I.segments.length),G=E.slice(I.segments.length);return!!(Ct(I.segments,L)&&Er(I.segments,L,T)&&I.children[zt])&&Dn(I.children[zt],D,G,T)}}function Er(I,D,E){return D.every((T,L)=>ir[E](I[L].parameters,T.parameters))}class vn{constructor(D=new _n([],{}),E={},T=null){this.root=D,this.queryParams=E,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return kn.serialize(this)}}class _n{constructor(D,E){this.segments=D,this.children=E,this.parent=null,tr(E,(T,L)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ur(this)}}class Sr{constructor(D,E){this.path=D,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=vr(this.parameters)),this._parameterMap}toString(){return we(this)}}function Ct(I,D){return I.length===D.length&&I.every((E,T)=>E.path===D[T].path)}let mn=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:function(){return new bn},providedIn:"root"}),I})();class bn{parse(D){const E=new wi(D);return new vn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(D){const E=`/${ke(D.root,!0)}`,T=function He(I){const D=Object.keys(I).map(E=>{const T=I[E];return Array.isArray(T)?T.map(L=>`${ee(E)}=${ee(L)}`).join("&"):`${ee(E)}=${ee(T)}`}).filter(E=>!!E);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${E}${T}${"string"==typeof D.fragment?`#${function re(I){return encodeURI(I)}(D.fragment)}`:""}`}}const kn=new bn;function ur(I){return I.segments.map(D=>we(D)).join("/")}function ke(I,D){if(!I.hasChildren())return ur(I);if(D){const E=I.children[zt]?ke(I.children[zt],!1):"",T=[];return tr(I.children,(L,G)=>{G!==zt&&T.push(`${G}:${ke(L,!1)}`)}),T.length>0?`${E}(${T.join("//")})`:E}{const E=function Zt(I,D){let E=[];return tr(I.children,(T,L)=>{L===zt&&(E=E.concat(D(T,L)))}),tr(I.children,(T,L)=>{L!==zt&&(E=E.concat(D(T,L)))}),E}(I,(T,L)=>L===zt?[ke(I.children[zt],!1)]:[`${L}:${ke(T,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[zt]?`${ur(I)}/${E[0]}`:`${ur(I)}/(${E.join("//")})`}}function Ee(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ee(I){return Ee(I).replace(/%3B/gi,";")}function Y(I){return Ee(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nt(I){return decodeURIComponent(I)}function oe(I){return nt(I.replace(/\+/g,"%20"))}function we(I){return`${Y(I.path)}${function se(I){return Object.keys(I).map(D=>`;${Y(D)}=${Y(I[D])}`).join("")}(I.parameters)}`}const ht=/^[^\/()?;=#]+/;function At(I){const D=I.match(ht);return D?D[0]:""}const sn=/^[^=?&#]+/,Dr=/^[^&#]+/;class wi{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(D.length>0||Object.keys(E).length>0)&&(T[zt]=new _n(D,E)),T}parseSegment(){const D=At(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new l.vHH(4009,Jt);return this.capture(D),new Sr(nt(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const E=At(this.remaining);if(!E)return;this.capture(E);let T="";if(this.consumeOptional("=")){const L=At(this.remaining);L&&(T=L,this.capture(T))}D[nt(E)]=nt(T)}parseQueryParam(D){const E=function cn(I){const D=I.match(sn);return D?D[0]:""}(this.remaining);if(!E)return;this.capture(E);let T="";if(this.consumeOptional("=")){const J=function vi(I){const D=I.match(Dr);return D?D[0]:""}(this.remaining);J&&(T=J,this.capture(T))}const L=oe(E),G=oe(T);if(D.hasOwnProperty(L)){let J=D[L];Array.isArray(J)||(J=[J],D[L]=J),J.push(G)}else D[L]=G}parseParens(D){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=At(this.remaining),L=this.remaining[T.length];if("/"!==L&&")"!==L&&";"!==L)throw new l.vHH(4010,Jt);let G;T.indexOf(":")>-1?(G=T.slice(0,T.indexOf(":")),this.capture(G),this.capture(":")):D&&(G=zt);const J=this.parseChildren();E[G]=1===Object.keys(J).length?J[zt]:new _n([],J),this.consumeOptional("//")}return E}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new l.vHH(4011,Jt)}}function jr(I){return I.segments.length>0?new _n([],{[zt]:I}):I}function Hr(I){const D={};for(const T of Object.keys(I.children)){const G=Hr(I.children[T]);(G.segments.length>0||G.hasChildren())&&(D[T]=G)}return function cr(I){if(1===I.numberOfChildren&&I.children[zt]){const D=I.children[zt];return new _n(I.segments.concat(D.segments),D.children)}return I}(new _n(I.segments,D))}function ei(I){return I instanceof vn}const cs=!1;function Ar(I,D,E,T,L){var G;if(0===E.length)return kr(D.root,D.root,D.root,T,L);const J=function ui(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new gi(!0,0,I);let D=0,E=!1;const T=I.reduce((L,G,J)=>{if("object"==typeof G&&null!=G){if(G.outlets){const Ze={};return tr(G.outlets,(_t,qt)=>{Ze[qt]="string"==typeof _t?_t.split("/"):_t}),[...L,{outlets:Ze}]}if(G.segmentPath)return[...L,G.segmentPath]}return"string"!=typeof G?[...L,G]:0===J?(G.split("/").forEach((Ze,_t)=>{0==_t&&"."===Ze||(0==_t&&""===Ze?E=!0:".."===Ze?D++:""!=Ze&&L.push(Ze))}),L):[...L,G]},[]);return new gi(E,D,T)}(E);return J.toRoot()?kr(D.root,D.root,new _n([],{}),T,L):function Ze(qt){var Xt;const un=function Or(I,D,E,T){if(I.isAbsolute)return new Gt(D.root,!0,0);if(-1===T)return new Gt(E,E===D.root,0);return function Gr(I,D,E){let T=I,L=D,G=E;for(;G>L;){if(G-=L,T=T.parent,!T)throw new l.vHH(4005,cs&&"Invalid number of '../'");L=T.segments.length}return new Gt(T,!1,L-G)}(E,T+(Pr(I.commands[0])?0:1),I.numberOfDoubleDots)}(J,D,null===(Xt=I.snapshot)||void 0===Xt?void 0:Xt._urlSegment,qt),xr=un.processChildren?de(un.segmentGroup,un.index,J.commands):q(un.segmentGroup,un.index,J.commands);return kr(D.root,un.segmentGroup,xr,T,L)}(null===(G=I.snapshot)||void 0===G?void 0:G._lastPathIndex)}function Pr(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function zr(I){return"object"==typeof I&&null!=I&&I.outlets}function kr(I,D,E,T,L){let J,G={};T&&tr(T,(_t,qt)=>{G[qt]=Array.isArray(_t)?_t.map(Xt=>`${Xt}`):`${_t}`}),J=I===D?E:ts(I,D,E);const Ze=jr(Hr(J));return new vn(Ze,G,L)}function ts(I,D,E){const T={};return tr(I.children,(L,G)=>{T[G]=L===D?E:ts(L,D,E)}),new _n(I.segments,T)}class gi{constructor(D,E,T){if(this.isAbsolute=D,this.numberOfDoubleDots=E,this.commands=T,D&&T.length>0&&Pr(T[0]))throw new l.vHH(4003,cs&&"Root segment cannot have matrix parameters");const L=T.find(zr);if(L&&L!==er(T))throw new l.vHH(4004,cs&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gt{constructor(D,E,T){this.segmentGroup=D,this.processChildren=E,this.index=T}}function q(I,D,E){if(I||(I=new _n([],{})),0===I.segments.length&&I.hasChildren())return de(I,D,E);const T=function qe(I,D,E){let T=0,L=D;const G={match:!1,pathIndex:0,commandIndex:0};for(;L<I.segments.length;){if(T>=E.length)return G;const J=I.segments[L],Ze=E[T];if(zr(Ze))break;const _t=`${Ze}`,qt=T<E.length-1?E[T+1]:null;if(L>0&&void 0===_t)break;if(_t&&qt&&"object"==typeof qt&&void 0===qt.outlets){if(!Ye(_t,qt,J))return G;T+=2}else{if(!Ye(_t,{},J))return G;T++}L++}return{match:!0,pathIndex:L,commandIndex:T}}(I,D,E),L=E.slice(T.commandIndex);if(T.match&&T.pathIndex<I.segments.length){const G=new _n(I.segments.slice(0,T.pathIndex),{});return G.children[zt]=new _n(I.segments.slice(T.pathIndex),I.children),de(G,0,L)}return T.match&&0===L.length?new _n(I.segments,{}):T.match&&!I.hasChildren()?ot(I,D,E):T.match?de(I,0,L):ot(I,D,E)}function de(I,D,E){if(0===E.length)return new _n(I.segments,{});{const T=function Mi(I){return zr(I[0])?I[0].outlets:{[zt]:I}}(E),L={};if(!T[zt]&&I.children[zt]&&1===I.numberOfChildren&&0===I.children[zt].segments.length){const G=de(I.children[zt],D,E);return new _n(I.segments,G.children)}return tr(T,(G,J)=>{"string"==typeof G&&(G=[G]),null!==G&&(L[J]=q(I.children[J],D,G))}),tr(I.children,(G,J)=>{void 0===T[J]&&(L[J]=G)}),new _n(I.segments,L)}}function ot(I,D,E){const T=I.segments.slice(0,D);let L=0;for(;L<E.length;){const G=E[L];if(zr(G)){const _t=wt(G.outlets);return new _n(T,_t)}if(0===L&&Pr(E[0])){T.push(new Sr(I.segments[D].path,te(E[0]))),L++;continue}const J=zr(G)?G.outlets[zt]:`${G}`,Ze=L<E.length-1?E[L+1]:null;J&&Ze&&Pr(Ze)?(T.push(new Sr(J,te(Ze))),L+=2):(T.push(new Sr(J,{})),L++)}return new _n(T,{})}function wt(I){const D={};return tr(I,(E,T)=>{"string"==typeof E&&(E=[E]),null!==E&&(D[T]=ot(new _n([],{}),0,E))}),D}function te(I){const D={};return tr(I,(E,T)=>D[T]=`${E}`),D}function Ye(I,D,E){return I==E.path&&Ot(D,E.parameters)}const lt="imperative";class bt{constructor(D,E){this.id=D,this.url=E}}class Dt extends bt{constructor(D,E,T="imperative",L=null){super(D,E),this.type=0,this.navigationTrigger=T,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $t extends bt{constructor(D,E,T){super(D,E),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ln extends bt{constructor(D,E,T,L){super(D,E),this.reason=T,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mn extends bt{constructor(D,E,T,L){super(D,E),this.reason=T,this.code=L,this.type=16}}class Zn extends bt{constructor(D,E,T,L){super(D,E),this.error=T,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fi extends bt{constructor(D,E,T,L){super(D,E),this.urlAfterRedirects=T,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi extends bt{constructor(D,E,T,L){super(D,E),this.urlAfterRedirects=T,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends bt{constructor(D,E,T,L,G){super(D,E),this.urlAfterRedirects=T,this.state=L,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ds extends bt{constructor(D,E,T,L){super(D,E),this.urlAfterRedirects=T,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends bt{constructor(D,E,T,L){super(D,E),this.urlAfterRedirects=T,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ns{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hs{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hi{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _i{constructor(D,E,T){this.routerEvent=D,this.position=E,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let bo=(()=>{class I{createUrlTree(E,T,L,G,J,Ze){return Ar(E||T.root,L,G,J,Ze)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac}),I})(),zi=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:function(D){return bo.\u0275fac(D)},providedIn:"root"}),I})();class Gs{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const E=this.pathFromRoot(D);return E.length>1?E[E.length-2]:null}children(D){const E=Gi(D,this._root);return E?E.children.map(T=>T.value):[]}firstChild(D){const E=Gi(D,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(D){const E=Ps(D,this._root);return E.length<2?[]:E[E.length-2].children.map(L=>L.value).filter(L=>L!==D)}pathFromRoot(D){return Ps(D,this._root).map(E=>E.value)}}function Gi(I,D){if(I===D.value)return D;for(const E of D.children){const T=Gi(I,E);if(T)return T}return null}function Ps(I,D){if(I===D.value)return[D];for(const E of D.children){const T=Ps(I,E);if(T.length)return T.unshift(D),T}return[]}class Ii{constructor(D,E){this.value=D,this.children=E}toString(){return`TreeNode(${this.value})`}}function so(I){const D={};return I&&I.children.forEach(E=>D[E.value.outlet]=E),D}class oo extends Gs{constructor(D,E){super(D),this.snapshot=E,ao(this,D)}toString(){return this.snapshot.toString()}}function Ca(I,D){const E=function wo(I,D){const J=new is([],{},{},"",{},zt,D,null,I.root,-1,{});return new Io("",new Ii(J,[]))}(I,D),T=new Ce.X([new Sr("",{})]),L=new Ce.X({}),G=new Ce.X({}),J=new Ce.X({}),Ze=new Ce.X(""),_t=new rs(T,L,J,Ze,G,zt,D,E.root);return _t.snapshot=E.root,new oo(new Ii(_t,[]),E)}class rs{constructor(D,E,T,L,G,J,Ze,_t){var qt,Xt;this.url=D,this.params=E,this.queryParams=T,this.fragment=L,this.data=G,this.outlet=J,this.component=Ze,this.title=null!==(qt=null===(Xt=this.data)||void 0===Xt?void 0:Xt.pipe((0,Qe.U)(un=>un[jn])))&&void 0!==qt?qt:(0,F.of)(void 0),this._futureSnapshot=_t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(D=>vr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(D=>vr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bo(I,D="emptyOnly"){const E=I.pathFromRoot;let T=0;if("always"!==D)for(T=E.length-1;T>=1;){const L=E[T],G=E[T-1];if(L.routeConfig&&""===L.routeConfig.path)T--;else{if(G.component)break;T--}}return function $i(I){return I.reduce((D,E)=>{var T;return{params:{...D.params,...E.params},data:{...D.data,...E.data},resolve:{...E.data,...D.resolve,...null===(T=E.routeConfig)||void 0===T?void 0:T.data,...E._resolvedData}}},{params:{},data:{},resolve:{}})}(E.slice(T))}class is{get title(){var D;return null===(D=this.data)||void 0===D?void 0:D[jn]}constructor(D,E,T,L,G,J,Ze,_t,qt,Xt,un){this.url=D,this.params=E,this.queryParams=T,this.fragment=L,this.data=G,this.outlet=J,this.component=Ze,this.routeConfig=_t,this._urlSegment=qt,this._lastPathIndex=Xt,this._resolve=un}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Io extends Gs{constructor(D,E){super(E),this.url=D,ao(this,E)}toString(){return Di(this._root)}}function ao(I,D){D.value._routerState=I,D.children.forEach(E=>ao(I,E))}function Di(I){const D=I.children.length>0?` { ${I.children.map(Di).join(", ")} } `:"";return`${I.value}${D}`}function Do(I){if(I.snapshot){const D=I.snapshot,E=I._futureSnapshot;I.snapshot=E,Ot(D.queryParams,E.queryParams)||I.queryParams.next(E.queryParams),D.fragment!==E.fragment&&I.fragment.next(E.fragment),Ot(D.params,E.params)||I.params.next(E.params),function An(I,D){if(I.length!==D.length)return!1;for(let E=0;E<I.length;++E)if(!Ot(I[E],D[E]))return!1;return!0}(D.url,E.url)||I.url.next(E.url),Ot(D.data,E.data)||I.data.next(E.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Ws(I,D){const E=Ot(I.params,D.params)&&function Nt(I,D){return Ct(I,D)&&I.every((E,T)=>Ot(E.parameters,D[T].parameters))}(I.url,D.url);return E&&!(!I.parent!=!D.parent)&&(!I.parent||Ws(I.parent,D.parent))}function lo(I,D,E){if(E&&I.shouldReuseRoute(D.value,E.value.snapshot)){const T=E.value;T._futureSnapshot=D.value;const L=function Bi(I,D,E){return D.children.map(T=>{for(const L of E.children)if(I.shouldReuseRoute(T.value,L.value.snapshot))return lo(I,T,L);return lo(I,T)})}(I,D,E);return new Ii(T,L)}{if(I.shouldAttach(D.value)){const G=I.retrieve(D.value);if(null!==G){const J=G.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(Ze=>lo(I,Ze)),J}}const T=function qs(I){return new rs(new Ce.X(I.url),new Ce.X(I.params),new Ce.X(I.queryParams),new Ce.X(I.fragment),new Ce.X(I.data),I.outlet,I.component,I)}(D.value),L=D.children.map(G=>lo(I,G));return new Ii(T,L)}}const ti="ngNavigationCancelingError";function Ts(I,D){const{redirectTo:E,navigationBehaviorOptions:T}=ei(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,L=Ss(!1,0,D);return L.url=E,L.navigationBehaviorOptions=T,L}function Ss(I,D,E){const T=new Error("NavigationCancelingError: "+(I||""));return T[ti]=!0,T.cancellationCode=D,E&&(T.url=E),T}function ks(I){return Ci(I)&&ei(I.url)}function Ci(I){return I&&I[ti]}class ss{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new As,this.attachRef=null}}let As=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(E,T){const L=this.getOrCreateContext(E);L.outlet=T,this.contexts.set(E,L)}onChildOutletDestroyed(E){const T=this.getContext(E);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let T=this.getContext(E);return T||(T=new ss,this.contexts.set(E,T)),T}getContext(E){return this.contexts.get(E)||null}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Wi=!1;let Vo=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(As),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(E){if(E.name){const{firstChange:T,previousValue:L}=E.name;if(T)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){var T;return(null===(T=this.parentContexts.getContext(E))||void 0===T?void 0:T.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);null!=E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Wi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Wi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Wi);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,T){this.activated=E,this._activatedRoute=T,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,T){if(this.isActivated)throw new l.vHH(4013,Wi);this._activatedRoute=E;const L=this.location,J=E.snapshot.component,Ze=this.parentContexts.getOrCreateContext(this.name).children,_t=new qi(E,Ze,L.injector);if(T&&function Co(I){return!!I.resolveComponentFactory}(T)){const qt=T.resolveComponentFactory(J);this.activated=L.createComponent(qt,L.length,_t)}else this.activated=L.createComponent(J,{index:L.length,injector:_t,environmentInjector:null!=T?T:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275dir=l.lG2({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),I})();class qi{constructor(D,E,T){this.route=D,this.childContexts=E,this.parent=T}get(D,E){return D===rs?this.route:D===As?this.childContexts:this.parent.get(D,E)}}let br=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275cmp=l.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(E,T){1&E&&l._UZ(0,"router-outlet")},dependencies:[Vo],encapsulation:2}),I})();function di(I,D){var E;return I.providers&&!I._injector&&(I._injector=(0,l.MMx)(I.providers,D,`Route: ${I.path}`)),null!==(E=I._injector)&&void 0!==E?E:D}function pi(I){const D=I.children&&I.children.map(pi),E=D?{...I,children:D}:{...I};return!E.component&&!E.loadComponent&&(D||E.loadChildren)&&E.outlet&&E.outlet!==zt&&(E.component=br),E}function Ei(I){return I.outlet||zt}function Zo(I,D){const E=I.filter(T=>Ei(T)===D);return E.push(...I.filter(T=>Ei(T)!==D)),E}function Ms(I){var D;if(!I)return null;if(null!==(D=I.routeConfig)&&void 0!==D&&D._injector)return I.routeConfig._injector;for(let E=I.parent;E;E=E.parent){const T=E.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class Ti{constructor(D,E,T,L){this.routeReuseStrategy=D,this.futureState=E,this.currState=T,this.forwardEvent=L}activate(D){const E=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,T,D),Do(this.futureState.root),this.activateChildRoutes(E,T,D)}deactivateChildRoutes(D,E,T){const L=so(E);D.children.forEach(G=>{const J=G.value.outlet;this.deactivateRoutes(G,L[J],T),delete L[J]}),tr(L,(G,J)=>{this.deactivateRouteAndItsChildren(G,T)})}deactivateRoutes(D,E,T){const L=D.value,G=E?E.value:null;if(L===G)if(L.component){const J=T.getContext(L.outlet);J&&this.deactivateChildRoutes(D,E,J.children)}else this.deactivateChildRoutes(D,E,T);else G&&this.deactivateRouteAndItsChildren(E,T)}deactivateRouteAndItsChildren(D,E){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,E):this.deactivateRouteAndOutlet(D,E)}detachAndStoreRouteSubtree(D,E){const T=E.getContext(D.value.outlet),L=T&&D.value.component?T.children:E,G=so(D);for(const J of Object.keys(G))this.deactivateRouteAndItsChildren(G[J],L);if(T&&T.outlet){const J=T.outlet.detach(),Ze=T.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:Ze})}}deactivateRouteAndOutlet(D,E){const T=E.getContext(D.value.outlet),L=T&&D.value.component?T.children:E,G=so(D);for(const J of Object.keys(G))this.deactivateRouteAndItsChildren(G[J],L);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(D,E,T){const L=so(E);D.children.forEach(G=>{this.activateRoutes(G,L[G.value.outlet],T),this.forwardEvent(new Lo(G.value.snapshot))}),D.children.length&&this.forwardEvent(new fs(D.value.snapshot))}activateRoutes(D,E,T){const L=D.value,G=E?E.value:null;if(Do(L),L===G)if(L.component){const Ze=T.getOrCreateContext(L.outlet);this.activateChildRoutes(D,E,Ze.children)}else this.activateChildRoutes(D,E,T);else if(L.component){const Ze=T.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const _t=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Ze.children.onOutletReAttached(_t.contexts),Ze.attachRef=_t.componentRef,Ze.route=_t.route.value,Ze.outlet&&Ze.outlet.attach(_t.componentRef,_t.route.value),Do(_t.route.value),this.activateChildRoutes(D,null,Ze.children)}else{var J;const _t=Ms(L.snapshot),qt=null!==(J=null==_t?void 0:_t.get(l._Vd))&&void 0!==J?J:null;Ze.attachRef=null,Ze.route=L,Ze.resolver=qt,Ze.injector=_t,Ze.outlet&&Ze.outlet.activateWith(L,Ze.injector),this.activateChildRoutes(D,null,Ze.children)}}else this.activateChildRoutes(D,null,T)}}class ca{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Fn{constructor(D,E){this.component=D,this.route=E}}function Qo(I,D,E){const T=I._root;return xs(T,D?D._root:null,E,[T.value])}function Ks(I,D){const E=Symbol(),T=D.get(I,E);return T===E?"function"!=typeof I||(0,l.Z0I)(I)?D.get(I):I:T}function xs(I,D,E,T,L={canDeactivateChecks:[],canActivateChecks:[]}){const G=so(D);return I.children.forEach(J=>{(function Wa(I,D,E,T,L={canDeactivateChecks:[],canActivateChecks:[]}){const G=I.value,J=D?D.value:null,Ze=E?E.getContext(I.value.outlet):null;if(J&&G.routeConfig===J.routeConfig){const _t=function jo(I,D,E){if("function"==typeof E)return E(I,D);switch(E){case"pathParamsChange":return!Ct(I.url,D.url);case"pathParamsOrQueryParamsChange":return!Ct(I.url,D.url)||!Ot(I.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ws(I,D)||!Ot(I.queryParams,D.queryParams);default:return!Ws(I,D)}}(J,G,G.routeConfig.runGuardsAndResolvers);_t?L.canActivateChecks.push(new ca(T)):(G.data=J.data,G._resolvedData=J._resolvedData),xs(I,D,G.component?Ze?Ze.children:null:E,T,L),_t&&Ze&&Ze.outlet&&Ze.outlet.isActivated&&L.canDeactivateChecks.push(new Fn(Ze.outlet.component,J))}else J&&Ho(D,Ze,L),L.canActivateChecks.push(new ca(T)),xs(I,null,G.component?Ze?Ze.children:null:E,T,L)})(J,G[J.value.outlet],E,T.concat([J.value]),L),delete G[J.value.outlet]}),tr(G,(J,Ze)=>Ho(J,E.getContext(Ze),L)),L}function Ho(I,D,E){const T=so(I),L=I.value;tr(T,(G,J)=>{Ho(G,L.component?D?D.children.getContext(J):null:D,E)}),E.canDeactivateChecks.push(new Fn(L.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,L))}function $(I){return"function"==typeof I}function Rn(I){return I instanceof Ne.K||"EmptyError"===(null==I?void 0:I.name)}const nr=Symbol("INITIAL_VALUE");function $r(){return(0,Pe.w)(I=>Be(I.map(D=>D.pipe((0,ne.q)(1),(0,De.O)(nr)))).pipe((0,Qe.U)(D=>{for(const E of D)if(!0!==E){if(E===nr)return nr;if(!1===E||E instanceof vn)return E}return!0}),(0,Ve.h)(D=>D!==nr),(0,ne.q)(1)))}function qa(I){return(0,et.z)((0,$e.b)(D=>{if(ei(D))throw Ts(0,D)}),(0,Qe.U)(D=>!0===D))}const Xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ta(I,D,E,T,L){const G=Yi(I,D,E);return G.matched?function da(I,D,E,T){const L=D.canMatch;if(!L||0===L.length)return(0,F.of)(!0);const G=L.map(J=>{const Ze=Ks(J,I);return pn(function ut(I){return I&&$(I.canMatch)}(Ze)?Ze.canMatch(D,E):I.runInContext(()=>Ze(D,E)))});return(0,F.of)(G).pipe($r(),qa())}(T=di(D,T),D,E).pipe((0,Qe.U)(J=>!0===J?G:{...Xo})):(0,F.of)(G)}function Yi(I,D,E){var T;if(""===D.path)return"full"===D.pathMatch&&(I.hasChildren()||E.length>0)?{...Xo}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const G=(D.matcher||on)(E,I,D);if(!G)return{...Xo};const J={};tr(G.posParams,(_t,qt)=>{J[qt]=_t.path});const Ze=G.consumed.length>0?{...J,...G.consumed[G.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:G.consumed,remainingSegments:E.slice(G.consumed.length),parameters:Ze,positionalParamSegments:null!==(T=G.posParams)&&void 0!==T?T:{}}}function Ao(I,D,E,T){if(E.length>0&&function Ys(I,D,E){return E.some(T=>gl(I,D,T)&&Ei(T)!==zt)}(I,E,T)){const G=new _n(D,function Sa(I,D,E,T){const L={};L[zt]=T,T._sourceSegment=I,T._segmentIndexShift=D.length;for(const G of E)if(""===G.path&&Ei(G)!==zt){const J=new _n([],{});J._sourceSegment=I,J._segmentIndexShift=D.length,L[Ei(G)]=J}return L}(I,D,T,new _n(E,I.children)));return G._sourceSegment=I,G._segmentIndexShift=D.length,{segmentGroup:G,slicedSegments:[]}}if(0===E.length&&function dc(I,D,E){return E.some(T=>gl(I,D,T))}(I,E,T)){const G=new _n(I.segments,function Au(I,D,E,T,L){const G={};for(const J of T)if(gl(I,E,J)&&!L[Ei(J)]){const Ze=new _n([],{});Ze._sourceSegment=I,Ze._segmentIndexShift=D.length,G[Ei(J)]=Ze}return{...L,...G}}(I,D,E,T,I.children));return G._sourceSegment=I,G._segmentIndexShift=D.length,{segmentGroup:G,slicedSegments:E}}const L=new _n(I.segments,I.children);return L._sourceSegment=I,L._segmentIndexShift=D.length,{segmentGroup:L,slicedSegments:E}}function gl(I,D,E){return(!(I.hasChildren()||D.length>0)||"full"!==E.pathMatch)&&""===E.path}function Mt(I,D,E,T){return!!(Ei(I)===T||T!==zt&&gl(D,E,I))&&("**"===I.path||Yi(D,I,E).matched)}function zo(I,D,E){return 0===D.length&&!I.children[E]}const Jo=!1;class Ls{constructor(D){this.segmentGroup=D||null}}class Nr{constructor(D){this.urlTree=D}}function mi(I){return Se(new Ls(I))}function yi(I){return Se(new Nr(I))}class Ka{constructor(D,E,T,L,G){this.injector=D,this.configLoader=E,this.urlSerializer=T,this.urlTree=L,this.config=G,this.allowRedirects=!0}apply(){const D=Ao(this.urlTree.root,[],[],this.config).segmentGroup,E=new _n(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,E,zt).pipe((0,Qe.U)(G=>this.createUrlTree(Hr(G),this.urlTree.queryParams,this.urlTree.fragment))).pipe(le(G=>{if(G instanceof Nr)return this.allowRedirects=!1,this.match(G.urlTree);throw G instanceof Ls?this.noMatchError(G):G}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,zt).pipe((0,Qe.U)(L=>this.createUrlTree(Hr(L),D.queryParams,D.fragment))).pipe(le(L=>{throw L instanceof Ls?this.noMatchError(L):L}))}noMatchError(D){return new l.vHH(4002,Jo)}createUrlTree(D,E,T){const L=jr(D);return new vn(L,E,T)}expandSegmentGroup(D,E,T,L){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(D,E,T).pipe((0,Qe.U)(G=>new _n([],G))):this.expandSegment(D,T,E,T.segments,L,!0)}expandChildren(D,E,T){const L=[];for(const G of Object.keys(T.children))"primary"===G?L.unshift(G):L.push(G);return(0,v.D)(L).pipe(Ae(G=>{const J=T.children[G],Ze=Zo(E,G);return this.expandSegmentGroup(D,Ze,J,G).pipe((0,Qe.U)(_t=>({segment:_t,outlet:G})))}),(0,Te.R)((G,J)=>(G[J.outlet]=J.segment,G),{}),gt())}expandSegment(D,E,T,L,G,J){return(0,v.D)(T).pipe(Ae(Ze=>this.expandSegmentAgainstRoute(D,E,T,Ze,L,G,J).pipe(le(qt=>{if(qt instanceof Ls)return(0,F.of)(null);throw qt}))),(0,ue.P)(Ze=>!!Ze),le((Ze,_t)=>{if(Rn(Ze))return zo(E,L,G)?(0,F.of)(new _n([],{})):mi(E);throw Ze}))}expandSegmentAgainstRoute(D,E,T,L,G,J,Ze){return Mt(L,E,G,J)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(D,E,L,G,J):Ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,E,T,L,G,J):mi(E):mi(E)}expandSegmentAgainstRouteUsingRedirect(D,E,T,L,G,J){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,T,L,J):this.expandRegularSegmentAgainstRouteUsingRedirect(D,E,T,L,G,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,E,T,L){const G=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?yi(G):this.lineralizeSegments(T,G).pipe((0,he.z)(J=>{const Ze=new _n(J,{});return this.expandSegment(D,Ze,E,J,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,E,T,L,G,J){const{matched:Ze,consumedSegments:_t,remainingSegments:qt,positionalParamSegments:Xt}=Yi(E,L,G);if(!Ze)return mi(E);const un=this.applyRedirectCommands(_t,L.redirectTo,Xt);return L.redirectTo.startsWith("/")?yi(un):this.lineralizeSegments(L,un).pipe((0,he.z)(xr=>this.expandSegment(D,E,T,xr.concat(qt),J,!1)))}matchSegmentAgainstRoute(D,E,T,L,G){return"**"===T.path?(D=di(T,D),T.loadChildren?(T._loadedRoutes?(0,F.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(D,T)).pipe((0,Qe.U)(Ze=>(T._loadedRoutes=Ze.routes,T._loadedInjector=Ze.injector,new _n(L,{})))):(0,F.of)(new _n(L,{}))):Ta(E,T,L,D).pipe((0,Pe.w)(({matched:J,consumedSegments:Ze,remainingSegments:_t})=>{var qt;return J?(D=null!==(qt=T._injector)&&void 0!==qt?qt:D,this.getChildConfig(D,T,L).pipe((0,he.z)(un=>{var xr;const ii=null!==(xr=un.injector)&&void 0!==xr?xr:D,k=un.routes,{segmentGroup:B,slicedSegments:K}=Ao(E,Ze,_t,k),xe=new _n(B.segments,B.children);if(0===K.length&&xe.hasChildren())return this.expandChildren(ii,k,xe).pipe((0,Qe.U)(En=>new _n(Ze,En)));if(0===k.length&&0===K.length)return(0,F.of)(new _n(Ze,{}));const st=Ei(T)===G;return this.expandSegment(ii,xe,k,K,st?zt:G,!0).pipe((0,Qe.U)(kt=>new _n(Ze.concat(kt.segments),kt.children)))}))):mi(E)}))}getChildConfig(D,E,T){return E.children?(0,F.of)({routes:E.children,injector:D}):E.loadChildren?void 0!==E._loadedRoutes?(0,F.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Mr(I,D,E,T){const L=D.canLoad;if(void 0===L||0===L.length)return(0,F.of)(!0);const G=L.map(J=>{const Ze=Ks(J,I);return pn(function m(I){return I&&$(I.canLoad)}(Ze)?Ze.canLoad(D,E):I.runInContext(()=>Ze(D,E)))});return(0,F.of)(G).pipe($r(),qa())}(D,E,T).pipe((0,he.z)(L=>L?this.configLoader.loadChildren(D,E).pipe((0,$e.b)(G=>{E._loadedRoutes=G.routes,E._loadedInjector=G.injector})):function ml(I){return Se(Ss(Jo,3))}())):(0,F.of)({routes:[],injector:D})}lineralizeSegments(D,E){let T=[],L=E.root;for(;;){if(T=T.concat(L.segments),0===L.numberOfChildren)return(0,F.of)(T);if(L.numberOfChildren>1||!L.children[zt])return D.redirectTo,Se(new l.vHH(4e3,Jo));L=L.children[zt]}}applyRedirectCommands(D,E,T){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),D,T)}applyRedirectCreateUrlTree(D,E,T,L){const G=this.createSegmentGroup(D,E.root,T,L);return new vn(G,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(D,E){const T={};return tr(D,(L,G)=>{if("string"==typeof L&&L.startsWith(":")){const Ze=L.substring(1);T[G]=E[Ze]}else T[G]=L}),T}createSegmentGroup(D,E,T,L){const G=this.createSegments(D,E.segments,T,L);let J={};return tr(E.children,(Ze,_t)=>{J[_t]=this.createSegmentGroup(D,Ze,T,L)}),new _n(G,J)}createSegments(D,E,T,L){return E.map(G=>G.path.startsWith(":")?this.findPosParam(D,G,L):this.findOrReturn(G,T))}findPosParam(D,E,T){const L=T[E.path.substring(1)];if(!L)throw new l.vHH(4001,Jo);return L}findOrReturn(D,E){let T=0;for(const L of E){if(L.path===D.path)return E.splice(T),L;T++}return D}}class Nl{}class R{constructor(D,E,T,L,G,J,Ze){this.injector=D,this.rootComponentType=E,this.config=T,this.urlTree=L,this.url=G,this.paramsInheritanceStrategy=J,this.urlSerializer=Ze}recognize(){const D=Ao(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,zt).pipe((0,Qe.U)(E=>{if(null===E)return null;const T=new is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Ii(T,E),G=new Io(this.url,L);return this.inheritParamsAndData(G._root),G}))}inheritParamsAndData(D){const E=D.value,T=Bo(E,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data),D.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(D,E,T,L){return 0===T.segments.length&&T.hasChildren()?this.processChildren(D,E,T):this.processSegment(D,E,T,T.segments,L)}processChildren(D,E,T){return(0,v.D)(Object.keys(T.children)).pipe(Ae(L=>{const G=T.children[L],J=Zo(E,L);return this.processSegmentGroup(D,J,G,L)}),(0,Te.R)((L,G)=>L&&G?(L.push(...G),L):null),function en(I,D=!1){return(0,ie.e)((E,T)=>{let L=0;E.subscribe((0,_e.x)(T,G=>{const J=I(G,L++);(J||D)&&T.next(G),!J&&T.complete()}))})}(L=>null!==L),(0,tt.d)(null),gt(),(0,Qe.U)(L=>{if(null===L)return null;const G=fe(L);return function j(I){I.sort((D,E)=>D.value.outlet===zt?-1:E.value.outlet===zt?1:D.value.outlet.localeCompare(E.value.outlet))}(G),G}))}processSegment(D,E,T,L,G){return(0,v.D)(E).pipe(Ae(J=>{var Ze;return this.processSegmentAgainstRoute(null!==(Ze=J._injector)&&void 0!==Ze?Ze:D,J,T,L,G)}),(0,ue.P)(J=>!!J),le(J=>{if(Rn(J))return zo(T,L,G)?(0,F.of)([]):(0,F.of)(null);throw J}))}processSegmentAgainstRoute(D,E,T,L,G){if(E.redirectTo||!Mt(E,T,L,G))return(0,F.of)(null);let J;if("**"===E.path){var Ze,_t;const qt=L.length>0?er(L).parameters:{},Xt=yn(T)+L.length,un=new is(L,qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cr(E),Ei(E),null!==(Ze=null!==(_t=E.component)&&void 0!==_t?_t:E._loadedComponent)&&void 0!==Ze?Ze:null,E,Rt(T),Xt,Ln(E));J=(0,F.of)({snapshot:un,consumedSegments:[],remainingSegments:[]})}else J=Ta(T,E,L,D).pipe((0,Qe.U)(({matched:qt,consumedSegments:Xt,remainingSegments:un,parameters:xr})=>{var ii,k;if(!qt)return null;const B=yn(T)+Xt.length;return{snapshot:new is(Xt,xr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cr(E),Ei(E),null!==(ii=null!==(k=E.component)&&void 0!==k?k:E._loadedComponent)&&void 0!==ii?ii:null,E,Rt(T),B,Ln(E)),consumedSegments:Xt,remainingSegments:un}}));return J.pipe((0,Pe.w)(qt=>{var Xt,un;if(null===qt)return(0,F.of)(null);const{snapshot:xr,consumedSegments:ii,remainingSegments:k}=qt;D=null!==(Xt=E._injector)&&void 0!==Xt?Xt:D;const B=null!==(un=E._loadedInjector)&&void 0!==un?un:D,K=function P(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(E),{segmentGroup:xe,slicedSegments:st}=Ao(T,ii,k,K.filter(kt=>void 0===kt.redirectTo));if(0===st.length&&xe.hasChildren())return this.processChildren(B,K,xe).pipe((0,Qe.U)(kt=>null===kt?null:[new Ii(xr,kt)]));if(0===K.length&&0===st.length)return(0,F.of)([new Ii(xr,[])]);const yt=Ei(E)===G;return this.processSegment(B,K,xe,st,yt?zt:G).pipe((0,Qe.U)(kt=>null===kt?null:[new Ii(xr,kt)]))}))}}function Z(I){const D=I.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function fe(I){const D=[],E=new Set;for(const T of I){if(!Z(T)){D.push(T);continue}const L=D.find(G=>T.value.routeConfig===G.value.routeConfig);void 0!==L?(L.children.push(...T.children),E.add(L)):D.push(T)}for(const T of E){const L=fe(T.children);D.push(new Ii(T.value,L))}return D.filter(T=>!E.has(T))}function Rt(I){let D=I;for(;D._sourceSegment;)D=D._sourceSegment;return D}function yn(I){var D;let E=I,T=null!==(D=E._segmentIndexShift)&&void 0!==D?D:0;for(;E._sourceSegment;){var L;E=E._sourceSegment,T+=null!==(L=E._segmentIndexShift)&&void 0!==L?L:0}return T-1}function Cr(I){return I.data||{}}function Ln(I){return I.resolve||{}}function ys(I){return"string"==typeof I.title||null===I.title}function Zs(I){return(0,Pe.w)(D=>{const E=I(D);return E?(0,v.D)(E).pipe((0,Qe.U)(()=>D)):(0,F.of)(D)})}const Oi=new l.OlP("ROUTES");let Go=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,F.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const T=pn(E.loadComponent()).pipe((0,Qe.U)(ia),(0,$e.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=G}),tn(()=>{this.componentLoaders.delete(E)})),L=new We(T,()=>new rt.x).pipe(be());return this.componentLoaders.set(E,L),L}loadChildren(E,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,F.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const G=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Qe.U)(Ze=>{this.onLoadEndListener&&this.onLoadEndListener(T);let _t,qt,Xt=!1;Array.isArray(Ze)?qt=Ze:(_t=Ze.create(E).injector,qt=Yn(_t.get(Oi,[],l.XFs.Self|l.XFs.Optional)));return{routes:qt.map(pi),injector:_t}}),tn(()=>{this.childrenLoaders.delete(T)})),J=new We(G,()=>new rt.x).pipe(be());return this.childrenLoaders.set(T,J),J}loadModuleFactoryOrRoutes(E){return pn(E()).pipe((0,Qe.U)(ia),(0,he.z)(T=>T instanceof l.YKP||Array.isArray(T)?(0,F.of)(T):(0,v.D)(this.compiler.compileModuleAsync(T))))}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ia(I){return function ra(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let Fl=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new rt.x,this.configLoader=(0,l.f3M)(Go),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(mn),this.rootContexts=(0,l.f3M)(As),this.navigationId=0,this.afterPreactivation=()=>(0,F.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new hs(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new ns(L))}complete(){var E;null===(E=this.transitions)||void 0===E||E.complete()}handleNavigationRequest(E){var T;const L=++this.navigationId;null===(T=this.transitions)||void 0===T||T.next({...this.transitions.value,...E,id:L})}setupNavigations(E){return this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lt,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.h)(T=>0!==T.id),(0,Qe.U)(T=>({...T,extractedUrl:E.urlHandlingStrategy.extract(T.rawUrl)})),(0,Pe.w)(T=>{let L=!1,G=!1;return(0,F.of)(T).pipe((0,$e.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(J=>{var Ze;const _t=E.browserUrlTree.toString(),qt=!E.navigated||J.extractedUrl.toString()!==_t||_t!==E.currentUrlTree.toString(),Xt=null!==(Ze=J.extras.onSameUrlNavigation)&&void 0!==Ze?Ze:E.onSameUrlNavigation;if(!qt&&"reload"!==Xt){const un="";return this.events.next(new Mn(J.id,E.serializeUrl(T.rawUrl),un,0)),E.rawUrlTree=J.rawUrl,J.resolve(null),Ke.E}if(E.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Wo(J.source)&&(E.browserUrlTree=J.extractedUrl),(0,F.of)(J).pipe((0,Pe.w)(un=>{var xr,ii;const k=null===(xr=this.transitions)||void 0===xr?void 0:xr.getValue();return this.events.next(new Dt(un.id,this.urlSerializer.serialize(un.extractedUrl),un.source,un.restoredState)),k!==(null===(ii=this.transitions)||void 0===ii?void 0:ii.getValue())?Ke.E:Promise.resolve(un)}),function yl(I,D,E,T){return(0,Pe.w)(L=>function Cn(I,D,E,T,L){return new Ka(I,D,E,T,L).apply()}(I,D,E,L.extractedUrl,T).pipe((0,Qe.U)(G=>({...L,urlAfterRedirects:G}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),(0,$e.b)(un=>{this.currentNavigation={...this.currentNavigation,finalUrl:un.urlAfterRedirects},T.urlAfterRedirects=un.urlAfterRedirects}),function pr(I,D,E,T,L){return(0,he.z)(G=>function ha(I,D,E,T,L,G,J="emptyOnly"){return new R(I,D,E,T,L,J,G).recognize().pipe((0,Pe.w)(Ze=>null===Ze?function ta(I){return new Le.y(D=>D.error(I))}(new Nl):(0,F.of)(Ze)))}(I,D,E,G.urlAfterRedirects,T.serialize(G.urlAfterRedirects),T,L).pipe((0,Qe.U)(J=>({...G,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,$e.b)(un=>{if(T.targetSnapshot=un.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!un.extras.skipLocationChange){const ii=E.urlHandlingStrategy.merge(un.urlAfterRedirects,un.rawUrl);E.setBrowserUrl(ii,un)}E.browserUrlTree=un.urlAfterRedirects}const xr=new fi(un.id,this.urlSerializer.serialize(un.extractedUrl),this.urlSerializer.serialize(un.urlAfterRedirects),un.targetSnapshot);this.events.next(xr)}));if(qt&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:un,extractedUrl:xr,source:ii,restoredState:k,extras:B}=J,K=new Dt(un,this.urlSerializer.serialize(xr),ii,k);this.events.next(K);const xe=Ca(xr,this.rootComponentType).snapshot;return T={...J,targetSnapshot:xe,urlAfterRedirects:xr,extras:{...B,skipLocationChange:!1,replaceUrl:!1}},(0,F.of)(T)}{const un="";return this.events.next(new Mn(J.id,E.serializeUrl(T.extractedUrl),un,1)),E.rawUrlTree=J.rawUrl,J.resolve(null),Ke.E}}),(0,$e.b)(J=>{const Ze=new xi(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(Ze)}),(0,Qe.U)(J=>T={...J,guards:Qo(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function Gn(I,D){return(0,he.z)(E=>{const{targetSnapshot:T,currentSnapshot:L,guards:{canActivateChecks:G,canDeactivateChecks:J}}=E;return 0===J.length&&0===G.length?(0,F.of)({...E,guardsResult:!0}):function Ut(I,D,E,T){return(0,v.D)(I).pipe((0,he.z)(L=>function co(I,D,E,T,L){const G=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,F.of)(!0);const J=G.map(Ze=>{var _t;const qt=null!==(_t=Ms(D))&&void 0!==_t?_t:L,Xt=Ks(Ze,qt);return pn(function H(I){return I&&$(I.canDeactivate)}(Xt)?Xt.canDeactivate(I,D,E,T):qt.runInContext(()=>Xt(I,D,E,T))).pipe((0,ue.P)())});return(0,F.of)(J).pipe($r())}(L.component,L.route,E,D,T)),(0,ue.P)(L=>!0!==L,!0))}(J,T,L,I).pipe((0,he.z)(Ze=>Ze&&function d(I){return"boolean"==typeof I}(Ze)?function dr(I,D,E,T){return(0,v.D)(D).pipe(Ae(L=>(0,Me.z)(function uo(I,D){return null!==I&&D&&D(new Hi(I)),(0,F.of)(!0)}(L.route.parent,T),function oi(I,D){return null!==I&&D&&D(new Ri(I)),(0,F.of)(!0)}(L.route,T),function os(I,D,E){const T=D[D.length-1],G=D.slice(0,D.length-1).reverse().map(J=>function Uo(I){const D=I.routeConfig?I.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:I,guards:D}:null}(J)).filter(J=>null!==J).map(J=>je(()=>{const Ze=J.guards.map(_t=>{var qt;const Xt=null!==(qt=Ms(J.node))&&void 0!==qt?qt:E,un=Ks(_t,Xt);return pn(function M(I){return I&&$(I.canActivateChild)}(un)?un.canActivateChild(T,I):Xt.runInContext(()=>un(T,I))).pipe((0,ue.P)())});return(0,F.of)(Ze).pipe($r())}));return(0,F.of)(G).pipe($r())}(I,L.path,E),function ms(I,D,E){const T=D.routeConfig?D.routeConfig.canActivate:null;if(!T||0===T.length)return(0,F.of)(!0);const L=T.map(G=>je(()=>{var J;const Ze=null!==(J=Ms(D))&&void 0!==J?J:E,_t=Ks(G,Ze);return pn(function f(I){return I&&$(I.canActivate)}(_t)?_t.canActivate(D,I):Ze.runInContext(()=>_t(D,I))).pipe((0,ue.P)())}));return(0,F.of)(L).pipe($r())}(I,L.route,E))),(0,ue.P)(L=>!0!==L,!0))}(T,G,I,D):(0,F.of)(Ze)),(0,Qe.U)(Ze=>({...E,guardsResult:Ze})))})}(this.environmentInjector,J=>this.events.next(J)),(0,$e.b)(J=>{if(T.guardsResult=J.guardsResult,ei(J.guardsResult))throw Ts(0,J.guardsResult);const Ze=new Sn(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(Ze)}),(0,Ve.h)(J=>!!J.guardsResult||(E.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),Zs(J=>{if(J.guards.canActivateChecks.length)return(0,F.of)(J).pipe((0,$e.b)(Ze=>{const _t=new Ds(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(_t)}),(0,Pe.w)(Ze=>{let _t=!1;return(0,F.of)(Ze).pipe(function rr(I,D){return(0,he.z)(E=>{const{targetSnapshot:T,guards:{canActivateChecks:L}}=E;if(!L.length)return(0,F.of)(E);let G=0;return(0,v.D)(L).pipe(Ae(J=>function Zr(I,D,E,T){const L=I.routeConfig,G=I._resolve;return void 0!==(null==L?void 0:L.title)&&!ys(L)&&(G[jn]=L.title),function ri(I,D,E,T){const L=function $s(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===L.length)return(0,F.of)({});const G={};return(0,v.D)(L).pipe((0,he.z)(J=>function ai(I,D,E,T){var L;const G=null!==(L=Ms(D))&&void 0!==L?L:T,J=Ks(I,G);return pn(J.resolve?J.resolve(D,E):G.runInContext(()=>J(D,E)))}(I[J],D,E,T).pipe((0,ue.P)(),(0,$e.b)(Ze=>{G[J]=Ze}))),X(1),function vt(I){return(0,Qe.U)(()=>I)}(G),le(J=>Rn(J)?Ke.E:Se(J)))}(G,I,D,T).pipe((0,Qe.U)(J=>(I._resolvedData=J,I.data=Bo(I,E).resolve,L&&ys(L)&&(I.data[jn]=L.title),null)))}(J.route,T,I,D)),(0,$e.b)(()=>G++),X(1),(0,he.z)(J=>G===L.length?(0,F.of)(E):Ke.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,$e.b)({next:()=>_t=!0,complete:()=>{_t||(E.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"",2))}}))}),(0,$e.b)(Ze=>{const _t=new ds(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(_t)}))}),Zs(J=>{const Ze=_t=>{var qt;const Xt=[];null!==(qt=_t.routeConfig)&&void 0!==qt&&qt.loadComponent&&!_t.routeConfig._loadedComponent&&Xt.push(this.configLoader.loadComponent(_t.routeConfig).pipe((0,$e.b)(un=>{_t.component=un}),(0,Qe.U)(()=>{})));for(const un of _t.children)Xt.push(...Ze(un));return Xt};return Be(Ze(J.targetSnapshot.root)).pipe((0,tt.d)(),(0,ne.q)(1))}),Zs(()=>this.afterPreactivation()),(0,Qe.U)(J=>{const Ze=function Cs(I,D,E){const T=lo(I,D._root,E?E._root:void 0);return new oo(T,D)}(E.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return T={...J,targetRouterState:Ze}}),(0,$e.b)(J=>{E.currentUrlTree=J.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),E.routerState=J.targetRouterState,"deferred"===E.urlUpdateStrategy&&(J.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,J),E.browserUrlTree=J.urlAfterRedirects)}),((I,D,E)=>(0,Qe.U)(T=>(new Ti(D,T.targetRouterState,T.currentRouterState,E).activate(I),T)))(this.rootContexts,E.routeReuseStrategy,J=>this.events.next(J)),(0,ne.q)(1),(0,$e.b)({next:J=>{var Ze;L=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new $t(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),null===(Ze=E.titleStrategy)||void 0===Ze||Ze.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{L=!0}}),tn(()=>{var J;L||G||this.cancelNavigationTransition(T,"",1),(null===(J=this.currentNavigation)||void 0===J?void 0:J.id)===T.id&&(this.currentNavigation=null)}),le(J=>{if(G=!0,Ci(J)){ks(J)||(E.navigated=!0,E.restoreHistory(T,!0));const _t=new ln(T.id,this.urlSerializer.serialize(T.extractedUrl),J.message,J.cancellationCode);if(this.events.next(_t),ks(J)){const qt=E.urlHandlingStrategy.merge(J.url,E.rawUrlTree),Xt={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||Wo(T.source)};E.scheduleNavigation(qt,lt,null,Xt,{resolve:T.resolve,reject:T.reject,promise:T.promise})}else T.resolve(!1)}else{var Ze;E.restoreHistory(T,!0);const _t=new Zn(T.id,this.urlSerializer.serialize(T.extractedUrl),J,null!==(Ze=T.targetSnapshot)&&void 0!==Ze?Ze:void 0);this.events.next(_t);try{T.resolve(E.errorHandler(J))}catch(qt){T.reject(qt)}}return Ke.E}))}))}cancelNavigationTransition(E,T,L){const G=new ln(E.id,this.urlSerializer.serialize(E.extractedUrl),T,L);this.events.next(G),E.resolve(!1)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Wo(I){return I!==lt}let Ya=(()=>{class I{buildTitle(E){let T,L=E.root;for(;void 0!==L;){var G;T=null!==(G=this.getResolvedTitleForRoute(L))&&void 0!==G?G:T,L=L.children.find(J=>J.outlet===zt)}return T}getResolvedTitleForRoute(E){return E.data[jn]}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:function(){return(0,l.f3M)(Aa)},providedIn:"root"}),I})(),Aa=(()=>{class I extends Ya{constructor(E){super(),this.title=E}updateTitle(E){const T=this.buildTitle(E);void 0!==T&&this.title.setTitle(T)}}return I.\u0275fac=function(E){return new(E||I)(l.LFG(rn.Dx))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Qs=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:function(){return(0,l.f3M)(Ma)},providedIn:"root"}),I})();class vl{shouldDetach(D){return!1}store(D,E){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,E){return D.routeConfig===E.routeConfig}}let Ma=(()=>{class I extends vl{}return I.\u0275fac=function(){let D;return function(T){return(D||(D=l.n5z(I)))(T||I)}}(),I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const xa=new l.OlP("",{providedIn:"root",factory:()=>({})});let Mu=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:function(){return(0,l.f3M)(qo)},providedIn:"root"}),I})(),qo=(()=>{class I{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,T){return E}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function fa(I){throw I}function xu(I,D,E){return D.parse("/")}const fo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var E;this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(xa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||fa,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Mu),this.routeReuseStrategy=(0,l.f3M)(Qs),this.urlCreationStrategy=(0,l.f3M)(zi),this.titleStrategy=(0,l.f3M)(Ya),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Yn(null!==(E=(0,l.f3M)(Oi,{optional:!0}))&&void 0!==E?E:[]),this.navigationTransitions=(0,l.f3M)(Fl),this.urlSerializer=(0,l.f3M)(mn),this.location=(0,l.f3M)(Ge.Ye),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ca(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lt,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const T="popstate"===E.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,T,E.state)},0)}))}navigateToSyncWithBrowser(E,T,L){const G={replaceUrl:!0},J=null!=L&&L.navigationId?L:null;if(L){const _t={...L};delete _t.navigationId,delete _t.\u0275routerPageId,0!==Object.keys(_t).length&&(G.state=_t)}const Ze=this.parseUrl(E);this.scheduleNavigation(Ze,T,J,G)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(pi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,T={}){const{relativeTo:L,queryParams:G,fragment:J,queryParamsHandling:Ze,preserveFragment:_t}=T,qt=_t?this.currentUrlTree.fragment:J;let Xt=null;switch(Ze){case"merge":Xt={...this.currentUrlTree.queryParams,...G};break;case"preserve":Xt=this.currentUrlTree.queryParams;break;default:Xt=G||null}return null!==Xt&&(Xt=this.removeEmptyProps(Xt)),this.urlCreationStrategy.createUrlTree(L,this.routerState,this.currentUrlTree,E,Xt,null!=qt?qt:null)}navigateByUrl(E,T={skipLocationChange:!1}){const L=ei(E)?E:this.parseUrl(E),G=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(G,lt,null,T)}navigate(E,T={skipLocationChange:!1}){return function sa(I){for(let D=0;D<I.length;D++){const E=I[D];if(null==E)throw new l.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,T),T)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let T;try{T=this.urlSerializer.parse(E)}catch(L){T=this.malformedUriErrorHandler(L,this.urlSerializer,E)}return T}isActive(E,T){let L;if(L=!0===T?{...fo}:!1===T?{...Qa}:T,ei(E))return an(this.currentUrlTree,E,L);const G=this.parseUrl(E);return an(this.currentUrlTree,G,L)}removeEmptyProps(E){return Object.keys(E).reduce((T,L)=>{const G=E[L];return null!=G&&(T[L]=G),T},{})}scheduleNavigation(E,T,L,G,J){if(this.disposed)return Promise.resolve(!1);let Ze,_t,qt,Xt;if(J?(Ze=J.resolve,_t=J.reject,qt=J.promise):qt=new Promise((ii,k)=>{Ze=ii,_t=k}),"computed"===this.canceledNavigationResolution)if(L&&L.\u0275routerPageId)Xt=L.\u0275routerPageId;else if(G.replaceUrl||G.skipLocationChange){var un;Xt=null!==(un=this.browserPageId)&&void 0!==un?un:0}else{var xr;Xt=(null!==(xr=this.browserPageId)&&void 0!==xr?xr:0)+1}else Xt=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:Xt,source:T,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:G,resolve:Ze,reject:_t,promise:qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qt.catch(ii=>Promise.reject(ii))}setBrowserUrl(E,T){const L=this.urlSerializer.serialize(E),G={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(L)||T.extras.replaceUrl?this.location.replaceState(L,"",G):this.location.go(L,"",G)}restoreHistory(E,T=!1){if("computed"===this.canceledNavigationResolution){var L,G;const J=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.getCurrentNavigation())||void 0===L?void 0:L.finalUrl)||0===J?this.currentUrlTree===(null===(G=this.getCurrentNavigation())||void 0===G?void 0:G.finalUrl)&&0===J&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(J)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,T){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:T}:{navigationId:E}}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),po=(()=>{class I{constructor(E,T,L,G,J,Ze){var _t;this.router=E,this.route=T,this.tabIndexAttribute=L,this.renderer=G,this.el=J,this.locationStrategy=Ze,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new rt.x;const qt=null===(_t=J.nativeElement.tagName)||void 0===_t?void 0:_t.toLowerCase();this.isAnchorElement="a"===qt||"area"===qt,this.isAnchorElement?this.subscription=E.events.subscribe(Xt=>{Xt instanceof $t&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,l.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,l.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,l.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,T,L,G,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||T||L||G||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var E;null===(E=this.subscription)||void 0===E||E.unsubscribe()}updateHref(){var E;this.href=null!==this.urlTree&&this.locationStrategy?null===(E=this.locationStrategy)||void 0===E?void 0:E.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(E,T){const L=this.renderer,G=this.el.nativeElement;null!==T?L.setAttribute(G,E,T):L.removeAttribute(G,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(E){return new(E||I)(l.Y36(Zi),l.Y36(rs),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ge.S$))},I.\u0275dir=l.lG2({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,T){1&E&&l.NdJ("click",function(G){return T.onClick(G.button,G.ctrlKey,G.shiftKey,G.altKey,G.metaKey)}),2&E&&l.uIk("target",T.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),I})(),Ll=(()=>{class I{get isActive(){return this._isActive}constructor(E,T,L,G,J){this.router=E,this.element=T,this.renderer=L,this.cdr=G,this.link=J,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=E.events.subscribe(Ze=>{Ze instanceof $t&&this.update()})}ngAfterContentInit(){(0,F.of)(this.links.changes,(0,F.of)(null)).pipe((0,In.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var E;null===(E=this.linkInputChangesSubscription)||void 0===E||E.unsubscribe();const T=[...this.links.toArray(),this.link].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,v.D)(T).pipe((0,In.J)()).subscribe(L=>{this._isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(E){const T=Array.isArray(E)?E:E.split(" ");this.classes=T.filter(L=>!!L)}ngOnChanges(E){this.update()}ngOnDestroy(){var E;this.routerEventsSubscription.unsubscribe(),null===(E=this.linkInputChangesSubscription)||void 0===E||E.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.classes.forEach(T=>{E?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const T=function vs(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&E.isActive(L.urlTree,T)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}}return I.\u0275fac=function(E){return new(E||I)(l.Y36(Zi),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(po,8))},I.\u0275dir=l.lG2({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(E,T,L){if(1&E&&l.Suo(L,po,5),2&E){let G;l.iGM(G=l.CRH())&&(T.links=G)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),I})();class Ra{}let Oa=(()=>{class I{preload(E,T){return T().pipe(le(()=>(0,F.of)(null)))}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Xa=(()=>{class I{constructor(E,T,L,G,J){this.router=E,this.injector=L,this.preloadingStrategy=G,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.h)(E=>E instanceof $t),Ae(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,T){const L=[];for(const _t of T){var G,J;_t.providers&&!_t._injector&&(_t._injector=(0,l.MMx)(_t.providers,E,`Route: ${_t.path}`));const qt=null!==(G=_t._injector)&&void 0!==G?G:E,Xt=null!==(J=_t._loadedInjector)&&void 0!==J?J:qt;var Ze;(_t.loadChildren&&!_t._loadedRoutes&&void 0===_t.canLoad||_t.loadComponent&&!_t._loadedComponent)&&L.push(this.preloadConfig(qt,_t)),(_t.children||_t._loadedRoutes)&&L.push(this.processRoutes(Xt,null!==(Ze=_t.children)&&void 0!==Ze?Ze:_t._loadedRoutes))}return(0,v.D)(L).pipe((0,In.J)())}preloadConfig(E,T){return this.preloadingStrategy.preload(T,()=>{let L;L=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(E,T):(0,F.of)(null);const G=L.pipe((0,he.z)(J=>{var Ze;return null===J?(0,F.of)(void 0):(T._loadedRoutes=J.routes,T._loadedInjector=J.injector,this.processRoutes(null!==(Ze=J.injector)&&void 0!==Ze?Ze:E,J.routes))}));if(T.loadComponent&&!T._loadedComponent){const J=this.loader.loadComponent(T);return(0,v.D)([G,J]).pipe((0,In.J)())}return G})}}return I.\u0275fac=function(E){return new(E||I)(l.LFG(Zi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ra),l.LFG(Go))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const _l=new l.OlP("");let tu=(()=>{class I{constructor(E,T,L,G,J={}){this.urlSerializer=E,this.transitions=T,this.viewportScroller=L,this.zone=G,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Dt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof $t&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof _i&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _i(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){var E,T;null===(E=this.routerEventsSubscription)||void 0===E||E.unsubscribe(),null===(T=this.scrollEventsSubscription)||void 0===T||T.unsubscribe()}}return I.\u0275fac=function(E){l.$Z()},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac}),I})();var Bs=(()=>((Bs=Bs||{})[Bs.COMPLETE=0]="COMPLETE",Bs[Bs.FAILED=1]="FAILED",Bs[Bs.REDIRECTING=2]="REDIRECTING",Bs))();const Mo=!1;function pa(I,D){return{\u0275kind:I,\u0275providers:D}}const el=new l.OlP("",{providedIn:"root",factory:()=>!1});function sr(){const I=(0,l.f3M)(l.zs3);return D=>{var E,T;const L=I.get(l.z2F);if(D!==L.components[0])return;const G=I.get(Zi),J=I.get(tl);1===I.get($l)&&G.initialNavigation(),null===(E=I.get(hc,null,l.XFs.Optional))||void 0===E||E.setUpPreloading(),null===(T=I.get(_l,null,l.XFs.Optional))||void 0===T||T.init(),G.resetRootComponentType(L.componentTypes[0]),J.closed||(J.next(),J.complete(),J.unsubscribe())}}const tl=new l.OlP(Mo?"bootstrap done indicator":"",{factory:()=>new rt.x}),$l=new l.OlP(Mo?"initial navigation":"",{providedIn:"root",factory:()=>1});function ru(){let I=[];return I=Mo?[{provide:l.Xts,multi:!0,useFactory:()=>{const D=(0,l.f3M)(Zi);return()=>D.events.subscribe(E=>{var T,L,G,J;null===(T=(L=console).group)||void 0===T||T.call(L,`Router Event: ${E.constructor.name}`),console.log(function ci(I){var D,E,T,L;if(!("type"in I))return`Unknown Router Event: ${I.constructor.name}`;switch(I.type){case 14:return`ActivationEnd(path: '${(null===(D=I.snapshot.routeConfig)||void 0===D?void 0:D.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(E=I.snapshot.routeConfig)||void 0===E?void 0:E.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(T=I.snapshot.routeConfig)||void 0===T?void 0:T.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(L=I.snapshot.routeConfig)||void 0===L?void 0:L.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state}, shouldActivate: ${I.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 2:return`NavigationCancel(id: ${I.id}, url: '${I.url}')`;case 16:return`NavigationSkipped(id: ${I.id}, url: '${I.url}')`;case 1:return`NavigationEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${I.id}, url: '${I.url}', error: ${I.error})`;case 0:return`NavigationStart(id: ${I.id}, url: '${I.url}')`;case 6:return`ResolveEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 5:return`ResolveStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 10:return`RouteConfigLoadEnd(path: ${I.route.path})`;case 9:return`RouteConfigLoadStart(path: ${I.route.path})`;case 4:return`RoutesRecognized(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 15:return`Scroll(anchor: '${I.anchor}', position: '${I.position?`${I.position[0]}, ${I.position[1]}`:null}')`}}(E)),console.log(E),null===(G=(J=console).groupEnd)||void 0===G||G.call(J)})}}]:[],pa(1,I)}const hc=new l.OlP(Mo?"router preloader":"");function fc(I){return pa(0,[{provide:hc,useExisting:Xa},{provide:Ra,useExisting:I}])}const li=!1,nl=new l.OlP(li?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ma=[Ge.Ye,{provide:mn,useClass:bn},Zi,As,{provide:rs,useFactory:function ka(I){return I.routerState.root},deps:[Zi]},Go,li?{provide:el,useValue:!0}:[]];function as(){return new l.PXZ("Router",Zi)}let xo=(()=>{class I{constructor(E){}static forRoot(E,T){return{ngModule:I,providers:[ma,li&&null!=T&&T.enableTracing?ru().\u0275providers:[],{provide:Oi,multi:!0,useValue:E},{provide:nl,useFactory:rl,deps:[[Zi,new l.FiY,new l.tp0]]},{provide:xa,useValue:T||{}},null!=T&&T.useHash?{provide:Ge.S$,useClass:Ge.Do}:{provide:Ge.S$,useClass:Ge.b0},{provide:_l,useFactory:()=>{const I=(0,l.f3M)(Ge.EM),D=(0,l.f3M)(l.R0b),E=(0,l.f3M)(xa),T=(0,l.f3M)(Fl),L=(0,l.f3M)(mn);return E.scrollOffset&&I.setOffset(E.scrollOffset),new tu(L,T,I,D,E)}},null!=T&&T.preloadingStrategy?fc(T.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:as},null!=T&&T.initialNavigation?ld(T):[],[{provide:Vl,useFactory:sr},{provide:l.tb,multi:!0,useExisting:Vl}]]}}static forChild(E){return{ngModule:I,providers:[{provide:Oi,multi:!0,useValue:E}]}}}return I.\u0275fac=function(E){return new(E||I)(l.LFG(nl,8))},I.\u0275mod=l.oAB({type:I}),I.\u0275inj=l.cJS({imports:[br]}),I})();function rl(I){if(li&&I)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ld(I){return["disabled"===I.initialNavigation?pa(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const D=(0,l.f3M)(Zi);return()=>{D.setUpLocationChangeListener()}}},{provide:$l,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?pa(2,[{provide:$l,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:D=>{const E=D.get(Ge.V_,Promise.resolve());return()=>E.then(()=>new Promise(T=>{const L=D.get(Zi),G=D.get(tl);(function Ja(I,D){I.events.pipe((0,Ve.h)(E=>E instanceof $t||E instanceof ln||E instanceof Zn||E instanceof Mn),(0,Qe.U)(E=>E instanceof $t||E instanceof Mn?Bs.COMPLETE:E instanceof ln&&(0===E.code||1===E.code)?Bs.REDIRECTING:Bs.FAILED),(0,Ve.h)(E=>E!==Bs.REDIRECTING),(0,ne.q)(1)).subscribe(()=>{D()})})(L,()=>{T(!0)}),D.get(Fl).afterPreactivation=()=>(T(!0),G.closed?(0,F.of)(void 0):G),L.initialNavigation()}))}}]).\u0275providers:[]]}const Vl=new l.OlP(li?"Router Initializer":"")},3942:(jt,at,V)=>{"use strict";V.d(at,{Z:()=>it});var l=V(2090),v=V(4859),F=V(9681),Ce=V(1877);class Ne{constructor(Me,pe){this._delegate=Me,this.firebase=pe,(0,F._addComponent)(Me,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Me,pe=F._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(Me);return!et.isInitialized()&&"EXPLICIT"===(null===(je=et.getComponent())||void 0===je?void 0:je.instantiationMode)&&et.initialize(),et.getImmediate({identifier:pe})}_removeServiceInstance(Me,pe=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(pe)}_addComponent(Me){(0,F._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,F._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function Ue(){const mt=function Oe(mt){const Me={},pe={__esModule:!0,initializeApp:function ze(ie,be={}){const We=F.initializeApp(ie,be);if((0,l.r3)(Me,We.name))return Me[We.name];const rt=new mt(We,pe);return Me[We.name]=rt,rt},app:et,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ke(ie){const be=ie.name,We=be.replace("-compat","");if(F._registerComponent(ie)&&"PUBLIC"===ie.type){const rt=(Ge=et())=>{if("function"!=typeof Ge[We])throw ve.create("invalid-app-argument",{appName:be});return Ge[We]()};void 0!==ie.serviceProps&&(0,l.ZB)(rt,ie.serviceProps),pe[We]=rt,mt.prototype[We]=function(...Ge){return this._getService.bind(this,be).apply(this,ie.multipleInstances?Ge:[])}}return"PUBLIC"===ie.type?pe[We]:null},removeApp:function je(ie){delete Me[ie]},useAsService:function Re(ie,be){return"serverAuth"===be?null:be},modularAPIs:F}};function et(ie){if(!(0,l.r3)(Me,ie=ie||F._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:ie});return Me[ie]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Se(){return Object.keys(Me).map(ie=>Me[ie])}}),et.App=mt,pe}(Ne);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function Me(pe){(0,l.ZB)(mt,pe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),mt}(),me=new Ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=ye;!function Be(mt){(0,F.registerVersion)("@firebase/app-compat","0.2.5",mt)}()},9681:(jt,at,V)=>{"use strict";V.r(at),V.d(at,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>rn,_DEFAULT_ENTRY_NAME:()=>ue,_addComponent:()=>Te,_addOrOverwriteComponent:()=>X,_apps:()=>$e,_clearComponents:()=>en,_components:()=>le,_getProvider:()=>tt,_registerComponent:()=>Ie,_removeServiceInstance:()=>gt,deleteApp:()=>vr,getApp:()=>jn,getApps:()=>fr,initializeApp:()=>zt,onLog:()=>Ot,registerVersion:()=>An,setLogLevel:()=>Vn});var l=V(5861),v=V(4859),F=V(1877),Ce=V(2090),Ne=V(8766);class Le{constructor(Ct){this.container=Ct}getPlatformInfoString(){return this.container.getProviders().map(Zt=>{if(function ve(Nt){const Ct=Nt.getComponent();return"VERSION"===(null==Ct?void 0:Ct.type)}(Zt)){const mn=Zt.getImmediate();return`${mn.library}/${mn.version}`}return null}).filter(Zt=>Zt).join(" ")}}const Oe="@firebase/app",ye=new F.Yd("@firebase/app"),ue="[DEFAULT]",Ae={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$e=new Map,le=new Map;function Te(Nt,Ct){try{Nt.container.addComponent(Ct)}catch(Zt){ye.debug(`Component ${Ct.name} failed to register with FirebaseApp ${Nt.name}`,Zt)}}function X(Nt,Ct){Nt.container.addOrOverwriteComponent(Ct)}function Ie(Nt){const Ct=Nt.name;if(le.has(Ct))return ye.debug(`There were multiple attempts to register component ${Ct}.`),!1;le.set(Ct,Nt);for(const Zt of $e.values())Te(Zt,Nt);return!0}function tt(Nt,Ct){const Zt=Nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Zt&&Zt.triggerHeartbeat(),Nt.container.getProvider(Ct)}function gt(Nt,Ct,Zt=ue){tt(Nt,Ct).clearInstance(Zt)}function en(){le.clear()}const tn=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor(Ct,Zt,mn){this._isDeleted=!1,this._options=Object.assign({},Ct),this._config=Object.assign({},Zt),this._name=Zt.name,this._automaticDataCollectionEnabled=Zt.automaticDataCollectionEnabled,this._container=mn,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ct){this._isDeleted=Ct}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}const rn="9.18.0";function zt(Nt,Ct={}){let Zt=Nt;"object"!=typeof Ct&&(Ct={name:Ct});const mn=Object.assign({name:ue,automaticDataCollectionEnabled:!1},Ct),bn=mn.name;if("string"!=typeof bn||!bn)throw tn.create("bad-app-name",{appName:String(bn)});if(Zt||(Zt=(0,Ce.aH)()),!Zt)throw tn.create("no-options");const kn=$e.get(bn);if(kn){if((0,Ce.vZ)(Zt,kn.options)&&(0,Ce.vZ)(mn,kn.config))return kn;throw tn.create("duplicate-app",{appName:bn})}const ur=new v.H0(bn);for(const Ee of le.values())ur.addComponent(Ee);const ke=new In(Zt,mn,ur);return $e.set(bn,ke),ke}function jn(Nt=ue){const Ct=$e.get(Nt);if(!Ct&&Nt===ue)return zt();if(!Ct)throw tn.create("no-app",{appName:Nt});return Ct}function fr(){return Array.from($e.values())}function vr(Nt){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(Nt){const Ct=Nt.name;$e.has(Ct)&&($e.delete(Ct),yield Promise.all(Nt.container.getProviders().map(Zt=>Zt.delete())),Nt.isDeleted=!0)})).apply(this,arguments)}function An(Nt,Ct,Zt){var mn;let bn=null!==(mn=Ae[Nt])&&void 0!==mn?mn:Nt;Zt&&(bn+=`-${Zt}`);const kn=bn.match(/\s|\//),ur=Ct.match(/\s|\//);if(kn||ur){const ke=[`Unable to register library "${bn}" with version "${Ct}":`];return kn&&ke.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),kn&&ur&&ke.push("and"),ur&&ke.push(`version name "${Ct}" contains illegal characters (whitespace or "/")`),void ye.warn(ke.join(" "))}Ie(new v.wA(`${bn}-version`,()=>({library:bn,version:Ct}),"VERSION"))}function Ot(Nt,Ct){if(null!==Nt&&"function"!=typeof Nt)throw tn.create("invalid-log-argument");(0,F.Am)(Nt,Ct)}function Vn(Nt){(0,F.Ub)(Nt)}const Yn="firebase-heartbeat-database",er=1,Br="firebase-heartbeat-store";let tr=null;function pn(){return tr||(tr=(0,Ne.X3)(Yn,er,{upgrade:(Nt,Ct)=>{0===Ct&&Nt.createObjectStore(Br)}}).catch(Nt=>{throw tn.create("idb-open",{originalErrorMessage:Nt.message})})),tr}function dn(){return(dn=(0,l.Z)(function*(Nt){try{return(yield pn()).transaction(Br).objectStore(Br).get(Hn(Nt))}catch(Ct){if(Ct instanceof Ce.ZR)ye.warn(Ct.message);else{const Zt=tn.create("idb-get",{originalErrorMessage:null==Ct?void 0:Ct.message});ye.warn(Zt.message)}}})).apply(this,arguments)}function ir(Nt,Ct){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(Nt,Ct){try{const mn=(yield pn()).transaction(Br,"readwrite");return yield mn.objectStore(Br).put(Ct,Hn(Nt)),mn.done}catch(Zt){if(Zt instanceof Ce.ZR)ye.warn(Zt.message);else{const mn=tn.create("idb-set",{originalErrorMessage:null==Zt?void 0:Zt.message});ye.warn(mn.message)}}})).apply(this,arguments)}function Hn(Nt){return`${Nt.name}!${Nt.options.appId}`}class Lr{constructor(Ct){this.container=Ct,this._heartbeatsCache=null;const Zt=this.container.getProvider("app").getImmediate();this._storage=new vn(Zt),this._heartbeatsCachePromise=this._storage.read().then(mn=>(this._heartbeatsCache=mn,mn))}triggerHeartbeat(){var Ct=this;return(0,l.Z)(function*(){const mn=Ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bn=Dn();if(null===Ct._heartbeatsCache&&(Ct._heartbeatsCache=yield Ct._heartbeatsCachePromise),Ct._heartbeatsCache.lastSentHeartbeatDate!==bn&&!Ct._heartbeatsCache.heartbeats.some(kn=>kn.date===bn))return Ct._heartbeatsCache.heartbeats.push({date:bn,agent:mn}),Ct._heartbeatsCache.heartbeats=Ct._heartbeatsCache.heartbeats.filter(kn=>{const ur=new Date(kn.date).valueOf();return Date.now()-ur<=2592e6}),Ct._storage.overwrite(Ct._heartbeatsCache)})()}getHeartbeatsHeader(){var Ct=this;return(0,l.Z)(function*(){if(null===Ct._heartbeatsCache&&(yield Ct._heartbeatsCachePromise),null===Ct._heartbeatsCache||0===Ct._heartbeatsCache.heartbeats.length)return"";const Zt=Dn(),{heartbeatsToSend:mn,unsentEntries:bn}=function Er(Nt,Ct=1024){const Zt=[];let mn=Nt.slice();for(const bn of Nt){const kn=Zt.find(ur=>ur.agent===bn.agent);if(kn){if(kn.dates.push(bn.date),_n(Zt)>Ct){kn.dates.pop();break}}else if(Zt.push({agent:bn.agent,dates:[bn.date]}),_n(Zt)>Ct){Zt.pop();break}mn=mn.slice(1)}return{heartbeatsToSend:Zt,unsentEntries:mn}}(Ct._heartbeatsCache.heartbeats),kn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:mn}));return Ct._heartbeatsCache.lastSentHeartbeatDate=Zt,bn.length>0?(Ct._heartbeatsCache.heartbeats=bn,yield Ct._storage.overwrite(Ct._heartbeatsCache)):(Ct._heartbeatsCache.heartbeats=[],Ct._storage.overwrite(Ct._heartbeatsCache)),kn})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class vn{constructor(Ct){this.app=Ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ct=this;return(0,l.Z)(function*(){return(yield Ct._canUseIndexedDBPromise)&&(yield function Jt(Nt){return dn.apply(this,arguments)}(Ct.app))||{heartbeats:[]}})()}overwrite(Ct){var Zt=this;return(0,l.Z)(function*(){var mn;if(yield Zt._canUseIndexedDBPromise){const kn=yield Zt.read();return ir(Zt.app,{lastSentHeartbeatDate:null!==(mn=Ct.lastSentHeartbeatDate)&&void 0!==mn?mn:kn.lastSentHeartbeatDate,heartbeats:Ct.heartbeats})}})()}add(Ct){var Zt=this;return(0,l.Z)(function*(){var mn;if(yield Zt._canUseIndexedDBPromise){const kn=yield Zt.read();return ir(Zt.app,{lastSentHeartbeatDate:null!==(mn=Ct.lastSentHeartbeatDate)&&void 0!==mn?mn:kn.lastSentHeartbeatDate,heartbeats:[...kn.heartbeats,...Ct.heartbeats]})}})()}}function _n(Nt){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:Nt})).length}!function Sr(Nt){Ie(new v.wA("platform-logger",Ct=>new Le(Ct),"PRIVATE")),Ie(new v.wA("heartbeat",Ct=>new Lr(Ct),"PRIVATE")),An(Oe,"0.9.5",Nt),An(Oe,"0.9.5","esm2017"),An("fire-js","")}("")},4859:(jt,at,V)=>{"use strict";V.d(at,{H0:()=>Oe,wA:()=>F});var l=V(5861),v=V(2090);class F{constructor(ye,me,_e){this.name=ye,this.instanceFactory=me,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const Ce="[DEFAULT]";class Ne{constructor(ye,me){this.name=ye,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const me=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(me)){const _e=new v.BH;if(this.instancesDeferred.set(me,_e),this.isInitialized(me)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:me});Fe&&_e.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(me).promise}getImmediate(ye){var me;const _e=this.normalizeInstanceIdentifier(null==ye?void 0:ye.identifier),Fe=null!==(me=null==ye?void 0:ye.optional)&&void 0!==me&&me;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Be){if(Fe)return null;throw Be}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function ve(Ue){return"EAGER"===Ue.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(me){}for(const[me,_e]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(me);try{const Be=this.getOrInitializeService({instanceIdentifier:Fe});_e.resolve(Be)}catch(Be){}}}}clearInstance(ye=Ce){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,l.Z)(function*(){const me=Array.from(ye.instances.values());yield Promise.all([...me.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...me.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=Ce){return this.instances.has(ye)}getOptions(ye=Ce){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:me={}}=ye,_e=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:_e,options:me});for(const[Be,it]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(Be)&&it.resolve(Fe);return Fe}onInit(ye,me){var _e;const Fe=this.normalizeInstanceIdentifier(me),Be=null!==(_e=this.onInitCallbacks.get(Fe))&&void 0!==_e?_e:new Set;Be.add(ye),this.onInitCallbacks.set(Fe,Be);const it=this.instances.get(Fe);return it&&ye(it,Fe),()=>{Be.delete(ye)}}invokeOnInitCallbacks(ye,me){const _e=this.onInitCallbacks.get(me);if(_e)for(const Fe of _e)try{Fe(ye,me)}catch(Be){}}getOrInitializeService({instanceIdentifier:ye,options:me={}}){let _e=this.instances.get(ye);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=ye,Ue===Ce?void 0:Ue),options:me}),this.instances.set(ye,_e),this.instancesOptions.set(ye,me),this.invokeOnInitCallbacks(_e,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,_e)}catch(Fe){}var Ue;return _e||null}normalizeInstanceIdentifier(ye=Ce){return this.component?this.component.multipleInstances?ye:Ce:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const me=this.getProvider(ye.name);if(me.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);me.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const me=new Ne(ye,this);return this.providers.set(ye,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(jt,at,V)=>{"use strict";V.d(at,{Am:()=>Ue,Ub:()=>Oe,Yd:()=>ve,in:()=>v});const l=[];var v=(()=>{return(ye=v||(v={}))[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",v;var ye})();const F={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},Ce=v.INFO,Ne={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},Le=(ye,me,..._e)=>{if(me<ye.logLevel)return;const Fe=(new Date).toISOString(),Be=Ne[me];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Be](`[${Fe}]  ${ye.name}:`,..._e)};class ve{constructor(me){this.name=me,this._logLevel=Ce,this._logHandler=Le,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in v))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?F[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...me),this._logHandler(this,v.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...me),this._logHandler(this,v.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,v.INFO,...me),this._logHandler(this,v.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,v.WARN,...me),this._logHandler(this,v.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...me),this._logHandler(this,v.ERROR,...me)}}function Oe(ye){l.forEach(me=>{me.setLogLevel(ye)})}function Ue(ye,me){for(const _e of l){let Fe=null;me&&me.level&&(Fe=F[me.level]),_e.userLogHandler=null===ye?null:(Be,it,...mt)=>{const Me=mt.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch(je){return null}}).filter(pe=>pe).join(" ");it>=(null!=Fe?Fe:Be.logLevel)&&ye({level:v[it].toLowerCase(),message:Me,args:mt,type:Be.name})}}}},259:(jt,at,V)=>{"use strict";V.d(at,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=V(9681);(0,l.registerVersion)("firebase","9.18.0","app")},9260:(jt,at,V)=>{"use strict";V.d(at,{Z:()=>l.Z});var l=V(3942);l.Z.registerVersion("firebase","9.18.0","app-compat")},9568:(jt,at,V)=>{"use strict";V.r(at);var l=V(5861),v=V(3942),F=V(5114),Ce=V(2090),ve=(V(9681),V(1877),V(4859));function Oe(){return window}const Ue=2e3;function me(){return me=(0,l.Z)(function*(ee,re,Y){var nt;const{BuildInfo:oe}=Oe();(0,F.ap)(re.sessionId,"AuthEvent did not contain a session ID");const we=yield function pe(ee){return je.apply(this,arguments)}(re.sessionId),se={};return(0,F.aq)()?se.ibi=oe.packageName:(0,F.ar)()?se.apn=oe.packageName:(0,F.as)(ee,"operation-not-supported-in-this-environment"),oe.displayName&&(se.appDisplayName=oe.displayName),se.sessionId=we,(0,F.at)(ee,Y,re.type,void 0,null!==(nt=re.eventId)&&void 0!==nt?nt:void 0,se)}),me.apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(ee){const{BuildInfo:re}=Oe(),Y={};(0,F.aq)()?Y.iosBundleId=re.packageName:(0,F.ar)()?Y.androidPackageName=re.packageName:(0,F.as)(ee,"operation-not-supported-in-this-environment"),yield(0,F.au)(ee,Y)})).apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(ee,re,Y){const{cordova:nt}=Oe();let oe=()=>{};try{yield new Promise((we,se)=>{let He=null;function ht(){var cn;we();const Dr=null===(cn=nt.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Dr&&Dr(),"function"==typeof(null==Y?void 0:Y.close)&&Y.close()}function At(){He||(He=window.setTimeout(()=>{se((0,F.aw)(ee,"redirect-cancelled-by-user"))},Ue))}function sn(){"visible"===(null==document?void 0:document.visibilityState)&&At()}re.addPassiveListener(ht),document.addEventListener("resume",At,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",sn,!1),oe=()=>{re.removePassiveListener(ht),document.removeEventListener("resume",At,!1),document.removeEventListener("visibilitychange",sn,!1),He&&window.clearTimeout(He)}})}finally{oe()}})).apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(ee){const re=function et(ee){if((0,F.ap)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ee);const re=new ArrayBuffer(ee.length),Y=new Uint8Array(re);for(let nt=0;nt<ee.length;nt++)Y[nt]=ee.charCodeAt(nt);return Y}(ee),Y=yield crypto.subtle.digest("SHA-256",re);return Array.from(new Uint8Array(Y)).map(oe=>oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ze=20;class Se extends F.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(re=>{this.resolveInialized=re})}addPassiveListener(re){this.passiveListeners.add(re)}removePassiveListener(re){this.passiveListeners.delete(re)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(re){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(re)),super.onEvent(re)}initialized(){var re=this;return(0,l.Z)(function*(){yield re.initPromise})()}}function ie(ee){return be.apply(this,arguments)}function be(){return(be=(0,l.Z)(function*(ee){const re=yield Ge()._get(Qe(ee));return re&&(yield Ge()._remove(Qe(ee))),re})).apply(this,arguments)}function rt(){const ee=[],re="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Y=0;Y<ze;Y++){const nt=Math.floor(Math.random()*re.length);ee.push(re.charAt(nt))}return ee.join("")}function Ge(){return(0,F.az)(F.b)}function Qe(ee){return(0,F.aA)("authEvent",ee.config.apiKey,ee.name)}function De(ee){if(null==ee||!ee.includes("?"))return{};const[re,...Y]=ee.split("?");return(0,Ce.zd)(Y.join("?"))}const ue=class he{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(re){var Y=this;return(0,l.Z)(function*(){const nt=re._key();let oe=Y.eventManagers.get(nt);return oe||(oe=new Se(re),Y.eventManagers.set(nt,oe),Y.attachCallbackListeners(re,oe)),oe})()}_openPopup(re){(0,F.as)(re,"operation-not-supported-in-this-environment")}_openRedirect(re,Y,nt,oe){var we=this;return(0,l.Z)(function*(){!function Me(ee){var re,Y,nt,oe,we,se,He,ht,At,sn;const cn=Oe();(0,F.ax)("function"==typeof(null===(re=null==cn?void 0:cn.universalLinks)||void 0===re?void 0:re.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(Y=null==cn?void 0:cn.BuildInfo)||void 0===Y?void 0:Y.packageName)<"u",ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(we=null===(oe=null===(nt=null==cn?void 0:cn.cordova)||void 0===nt?void 0:nt.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===we?void 0:we.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(ht=null===(He=null===(se=null==cn?void 0:cn.cordova)||void 0===se?void 0:se.plugins)||void 0===He?void 0:He.browsertab)||void 0===ht?void 0:ht.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(sn=null===(At=null==cn?void 0:cn.cordova)||void 0===At?void 0:At.InAppBrowser)||void 0===sn?void 0:sn.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(re);const se=yield we._initialize(re);yield se.initialized(),se.resetRedirect(),(0,F.aD)(),yield we._originValidation(re);const He=function Ke(ee,re,Y=null){return{type:re,eventId:Y,urlResponse:null,sessionId:rt(),postBody:null,tenantId:ee.tenantId,error:(0,F.aw)(ee,"no-auth-event")}}(re,nt,oe);yield function Re(ee,re){return Ge()._set(Qe(ee),re)}(re,He);const ht=yield function ye(ee,re,Y){return me.apply(this,arguments)}(re,He,Y),At=yield function Be(ee){const{cordova:re}=Oe();return new Promise(Y=>{re.plugins.browsertab.isAvailable(nt=>{let oe=null;nt?re.plugins.browsertab.openUrl(ee):oe=re.InAppBrowser.open(ee,(0,F.av)()?"_blank":"_system","location=yes"),Y(oe)})})}(ht);return function it(ee,re,Y){return mt.apply(this,arguments)}(re,se,At)})()}_isIframeWebStorageSupported(re,Y){throw new Error("Method not implemented.")}_originValidation(re){const Y=re._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function _e(ee){return Fe.apply(this,arguments)}(re)),this.originValidationPromises[Y]}attachCallbackListeners(re,Y){const{universalLinks:nt,handleOpenURL:oe,BuildInfo:we}=Oe(),se=setTimeout((0,l.Z)(function*(){yield ie(re),Y.onEvent(Ae())}),500),He=function(){var sn=(0,l.Z)(function*(cn){clearTimeout(se);const Dr=yield ie(re);let vi=null;Dr&&null!=cn&&cn.url&&(vi=function We(ee,re){var Y,nt;const oe=function ne(ee){const re=De(ee),Y=re.link?decodeURIComponent(re.link):void 0,nt=De(Y).link,oe=re.deep_link_id?decodeURIComponent(re.deep_link_id):void 0;return De(oe).link||oe||nt||Y||ee}(re);if(oe.includes("/__/auth/callback")){const we=De(oe),se=we.firebaseError?function Pe(ee){try{return JSON.parse(ee)}catch(re){return null}}(decodeURIComponent(we.firebaseError)):null,He=null===(nt=null===(Y=null==se?void 0:se.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===nt?void 0:nt[1],ht=He?(0,F.aw)(He):null;return ht?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:ht,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:oe,postBody:null}}return null}(Dr,cn.url)),Y.onEvent(vi||Ae())});return function(Dr){return sn.apply(this,arguments)}}();typeof nt<"u"&&"function"==typeof nt.subscribe&&nt.subscribe(null,He);const ht=oe,At=`${we.packageName.toLowerCase()}://`;Oe().handleOpenURL=function(){var sn=(0,l.Z)(function*(cn){if(cn.toLowerCase().startsWith(At)&&He({url:cn}),"function"==typeof ht)try{ht(cn)}catch(Dr){console.error(Dr)}});return function(cn){return sn.apply(this,arguments)}}()}};function Ae(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}const X=1e3;function Ie(){var ee;return(null===(ee=null==self?void 0:self.location)||void 0===ee?void 0:ee.protocol)||null}function gt(ee=(0,Ce.z$)()){return!("file:"!==Ie()&&"ionic:"!==Ie()&&"capacitor:"!==Ie()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function rn(){try{const ee=self.localStorage,re=F.aI();if(ee)return ee.setItem(re,"1"),ee.removeItem(re),!function In(ee=(0,Ce.z$)()){return function vt(){return(0,Ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function tn(ee=(0,Ce.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,Ce.hl)()}catch(ee){return zt()&&(0,Ce.hl)()}return!1}function zt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function tt(){return"http:"===Ie()||"https:"===Ie()}()||(0,Ce.ru)()||gt())&&!function en(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&rn()&&!zt()}function fr(){return gt()&&typeof document<"u"}function on(){return(on=(0,l.Z)(function*(){return!!fr()&&new Promise(ee=>{const re=setTimeout(()=>{ee(!1)},X);document.addEventListener("deviceready",()=>{clearTimeout(re),ee(!0)})})})).apply(this,arguments)}const Ot={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=F.ax,Yn="persistence";function Br(ee){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(ee){yield ee._initializationPromise;const re=Jt(),Y=F.aA(Yn,ee.config.apiKey,ee.name);re&&re.setItem(Y,ee._getPersistence())})).apply(this,arguments)}function Jt(){var ee;try{return(null===(ee=function An(){return typeof window<"u"?window:null}())||void 0===ee?void 0:ee.sessionStorage)||null}catch(re){return null}}const dn=F.ax;class ir{constructor(){this.browserResolver=F.az(F.k),this.cordovaResolver=F.az(ue),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(re){var Y=this;return(0,l.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(re)})()}_openPopup(re,Y,nt,oe){var we=this;return(0,l.Z)(function*(){return yield we.selectUnderlyingResolver(),we.assertedUnderlyingResolver._openPopup(re,Y,nt,oe)})()}_openRedirect(re,Y,nt,oe){var we=this;return(0,l.Z)(function*(){return yield we.selectUnderlyingResolver(),we.assertedUnderlyingResolver._openRedirect(re,Y,nt,oe)})()}_isIframeWebStorageSupported(re,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(re,Y)}_originValidation(re){return this.assertedUnderlyingResolver._originValidation(re)}get _shouldInitProactively(){return fr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return dn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var re=this;return(0,l.Z)(function*(){if(re.underlyingResolver)return;const Y=yield function vr(){return on.apply(this,arguments)}();re.underlyingResolver=Y?re.cordovaResolver:re.browserResolver})()}}function an(ee){return ee.unwrap()}function St(ee){return Lr(ee)}function Lr(ee){const{_tokenResponse:re}=ee instanceof Ce.ZR?ee.customData:ee;if(!re)return null;if(!(ee instanceof Ce.ZR)&&"temporaryProof"in re&&"phoneNumber"in re)return F.P.credentialFromResult(ee);const Y=re.providerId;if(!Y||Y===F.o.PASSWORD)return null;let nt;switch(Y){case F.o.GOOGLE:nt=F.Q;break;case F.o.FACEBOOK:nt=F.N;break;case F.o.GITHUB:nt=F.T;break;case F.o.TWITTER:nt=F.W;break;default:const{oauthIdToken:oe,oauthAccessToken:we,oauthTokenSecret:se,pendingToken:He,nonce:ht}=re;return we||se||oe||He?He?Y.startsWith("saml.")?F.aL._create(Y,He):F.J._fromParams({providerId:Y,signInMethod:Y,pendingToken:He,idToken:oe,accessToken:we}):new F.U(Y).credential({idToken:oe,accessToken:we,rawNonce:ht}):null}return ee instanceof Ce.ZR?nt.credentialFromError(ee):nt.credentialFromResult(ee)}function Dn(ee,re){return re.catch(Y=>{throw Y instanceof Ce.ZR&&function _r(ee,re){var Y;const nt=null===(Y=re.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===(null==re?void 0:re.code))re.resolver=new _n(ee,F.an(ee,re));else if(nt){const oe=Lr(re),we=re;oe&&(we.credential=oe,we.tenantId=nt.tenantId||void 0,we.email=nt.email||void 0,we.phoneNumber=nt.phoneNumber||void 0)}}(ee,Y),Y}).then(Y=>{const oe=Y.user;return{operationType:Y.operationType,credential:St(Y),additionalUserInfo:F.al(Y),user:Sr.getOrCreate(oe)}})}function Er(ee,re){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(ee,re){const Y=yield re;return{verificationId:Y.verificationId,confirm:nt=>Dn(ee,Y.confirm(nt))}})).apply(this,arguments)}class _n{constructor(re,Y){this.resolver=Y,this.auth=function Hn(ee){return ee.wrapped()}(re)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(re){return Dn(an(this.auth),this.resolver.resolveSignIn(re))}}class Sr{constructor(re){this._delegate=re,this.multiFactor=F.ao(re)}static getOrCreate(re){return Sr.USER_MAP.has(re)||Sr.USER_MAP.set(re,new Sr(re)),Sr.USER_MAP.get(re)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(re){return this._delegate.getIdTokenResult(re)}getIdToken(re){return this._delegate.getIdToken(re)}linkAndRetrieveDataWithCredential(re){return this.linkWithCredential(re)}linkWithCredential(re){var Y=this;return(0,l.Z)(function*(){return Dn(Y.auth,F.Z(Y._delegate,re))})()}linkWithPhoneNumber(re,Y){var nt=this;return(0,l.Z)(function*(){return Er(nt.auth,F.l(nt._delegate,re,Y))})()}linkWithPopup(re){var Y=this;return(0,l.Z)(function*(){return Dn(Y.auth,F.d(Y._delegate,re,ir))})()}linkWithRedirect(re){var Y=this;return(0,l.Z)(function*(){return yield Br(F.aE(Y.auth)),F.g(Y._delegate,re,ir)})()}reauthenticateAndRetrieveDataWithCredential(re){return this.reauthenticateWithCredential(re)}reauthenticateWithCredential(re){var Y=this;return(0,l.Z)(function*(){return Dn(Y.auth,F._(Y._delegate,re))})()}reauthenticateWithPhoneNumber(re,Y){return Er(this.auth,F.r(this._delegate,re,Y))}reauthenticateWithPopup(re){return Dn(this.auth,F.e(this._delegate,re,ir))}reauthenticateWithRedirect(re){var Y=this;return(0,l.Z)(function*(){return yield Br(F.aE(Y.auth)),F.h(Y._delegate,re,ir)})()}sendEmailVerification(re){return F.ab(this._delegate,re)}unlink(re){var Y=this;return(0,l.Z)(function*(){return yield F.ak(Y._delegate,re),Y})()}updateEmail(re){return F.ag(this._delegate,re)}updatePassword(re){return F.ah(this._delegate,re)}updatePhoneNumber(re){return F.u(this._delegate,re)}updateProfile(re){return F.af(this._delegate,re)}verifyBeforeUpdateEmail(re,Y){return F.ac(this._delegate,re,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sr.USER_MAP=new WeakMap;const Nt=F.ax;let Ct=(()=>{class ee{constructor(Y,nt){if(this.app=Y,nt.isInitialized())return this._delegate=nt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:oe}=Y.options;Nt(oe,"invalid-api-key",{appName:Y.name}),Nt(oe,"invalid-api-key",{appName:Y.name});const we=typeof window<"u"?ir:void 0;this._delegate=nt.initialize({options:{persistence:mn(oe,Y.name),popupRedirectResolver:we}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,nt){F.G(this._delegate,Y,nt)}applyActionCode(Y){return F.a2(this._delegate,Y)}checkActionCode(Y){return F.a3(this._delegate,Y)}confirmPasswordReset(Y,nt){return F.a1(this._delegate,Y,nt)}createUserWithEmailAndPassword(Y,nt){var oe=this;return(0,l.Z)(function*(){return Dn(oe._delegate,F.a5(oe._delegate,Y,nt))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return F.aa(this._delegate,Y)}isSignInWithEmailLink(Y){return F.a8(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,l.Z)(function*(){Nt(jn(),Y._delegate,"operation-not-supported-in-this-environment");const nt=yield F.j(Y._delegate,ir);return nt?Dn(Y._delegate,Promise.resolve(nt)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function $e(ee,re){(0,F.aE)(ee)._logFramework(re)}(this._delegate,Y)}onAuthStateChanged(Y,nt,oe){const{next:we,error:se,complete:He}=Zt(Y,nt,oe);return this._delegate.onAuthStateChanged(we,se,He)}onIdTokenChanged(Y,nt,oe){const{next:we,error:se,complete:He}=Zt(Y,nt,oe);return this._delegate.onIdTokenChanged(we,se,He)}sendSignInLinkToEmail(Y,nt){return F.a7(this._delegate,Y,nt)}sendPasswordResetEmail(Y,nt){return F.a0(this._delegate,Y,nt||void 0)}setPersistence(Y){var nt=this;return(0,l.Z)(function*(){let oe;switch(function er(ee,re){Vn(Object.values(Ot).includes(re),ee,"invalid-persistence-type"),(0,Ce.b$)()?Vn(re!==Ot.SESSION,ee,"unsupported-persistence-type"):(0,Ce.UG)()?Vn(re===Ot.NONE,ee,"unsupported-persistence-type"):zt()?Vn(re===Ot.NONE||re===Ot.LOCAL&&(0,Ce.hl)(),ee,"unsupported-persistence-type"):Vn(re===Ot.NONE||rn(),ee,"unsupported-persistence-type")}(nt._delegate,Y),Y){case Ot.SESSION:oe=F.a;break;case Ot.LOCAL:oe=(yield F.az(F.i)._isAvailable())?F.i:F.b;break;case Ot.NONE:oe=F.L;break;default:return F.as("argument-error",{appName:nt._delegate.name})}return nt._delegate.setPersistence(oe)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return Dn(this._delegate,F.X(this._delegate))}signInWithCredential(Y){return Dn(this._delegate,F.Y(this._delegate,Y))}signInWithCustomToken(Y){return Dn(this._delegate,F.$(this._delegate,Y))}signInWithEmailAndPassword(Y,nt){return Dn(this._delegate,F.a6(this._delegate,Y,nt))}signInWithEmailLink(Y,nt){return Dn(this._delegate,F.a9(this._delegate,Y,nt))}signInWithPhoneNumber(Y,nt){return Er(this._delegate,F.s(this._delegate,Y,nt))}signInWithPopup(Y){var nt=this;return(0,l.Z)(function*(){return Nt(jn(),nt._delegate,"operation-not-supported-in-this-environment"),Dn(nt._delegate,F.c(nt._delegate,Y,ir))})()}signInWithRedirect(Y){var nt=this;return(0,l.Z)(function*(){return Nt(jn(),nt._delegate,"operation-not-supported-in-this-environment"),yield Br(nt._delegate),F.f(nt._delegate,Y,ir)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return F.a4(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=Ot,ee})();function Zt(ee,re,Y){let nt=ee;"function"!=typeof ee&&({next:nt,error:re,complete:Y}=ee);const oe=nt;return{next:se=>oe(se&&Sr.getOrCreate(se)),error:re,complete:Y}}function mn(ee,re){const Y=function pn(ee,re){const Y=Jt();if(!Y)return[];const nt=F.aA(Yn,ee,re);switch(Y.getItem(nt)){case Ot.NONE:return[F.L];case Ot.LOCAL:return[F.i,F.a];case Ot.SESSION:return[F.a];default:return[]}}(ee,re);if(typeof self<"u"&&!Y.includes(F.i)&&Y.push(F.i),typeof window<"u")for(const nt of[F.b,F.a])Y.includes(nt)||Y.push(nt);return Y.includes(F.L)||Y.push(F.L),Y}class bn{constructor(){this.providerId="phone",this._delegate=new F.P(an(v.Z.auth()))}static credential(re,Y){return F.P.credential(re,Y)}verifyPhoneNumber(re,Y){return this._delegate.verifyPhoneNumber(re,Y)}unwrap(){return this._delegate}}bn.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,bn.PROVIDER_ID=F.P.PROVIDER_ID;const kn=F.ax;class ur{constructor(re,Y,nt=v.Z.app()){var oe;kn(null===(oe=nt.options)||void 0===oe?void 0:oe.apiKey,"invalid-api-key",{appName:nt.name}),this._delegate=new F.R(re,Y,nt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ee(ee){ee.INTERNAL.registerComponent(new ve.wA("auth-compat",re=>{const Y=re.getProvider("app-compat").getImmediate(),nt=re.getProvider("auth");return new Ct(Y,nt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:bn,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:ur,TwitterAuthProvider:F.W,Auth:Ct,AuthCredential:F.H,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.3.5")}(v.Z)},8766:(jt,at,V)=>{"use strict";V.d(at,{Lj:()=>ze,X3:()=>et});var l=V(5861);const v=(be,We)=>We.some(rt=>be instanceof rt);let F,Ce;const ve=new WeakMap,Oe=new WeakMap,Ue=new WeakMap,ye=new WeakMap,me=new WeakMap;let Be={get(be,We,rt){if(be instanceof IDBTransaction){if("done"===We)return Oe.get(be);if("objectStoreNames"===We)return be.objectStoreNames||Ue.get(be);if("store"===We)return rt.objectStoreNames[1]?void 0:rt.objectStore(rt.objectStoreNames[0])}return pe(be[We])},set:(be,We,rt)=>(be[We]=rt,!0),has:(be,We)=>be instanceof IDBTransaction&&("done"===We||"store"===We)||We in be};function Me(be){return"function"==typeof be?function mt(be){return be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(be)?function(...We){return be.apply(je(this),We),pe(ve.get(this))}:function(...We){return pe(be.apply(je(this),We))}:function(We,...rt){const Ge=be.call(je(this),We,...rt);return Ue.set(Ge,We.sort?We.sort():[We]),pe(Ge)}}(be):(be instanceof IDBTransaction&&function Fe(be){if(Oe.has(be))return;const We=new Promise((rt,Ge)=>{const Qe=()=>{be.removeEventListener("complete",Pe),be.removeEventListener("error",ne),be.removeEventListener("abort",ne)},Pe=()=>{rt(),Qe()},ne=()=>{Ge(be.error||new DOMException("AbortError","AbortError")),Qe()};be.addEventListener("complete",Pe),be.addEventListener("error",ne),be.addEventListener("abort",ne)});Oe.set(be,We)}(be),v(be,function Ne(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(be,Be):be)}function pe(be){if(be instanceof IDBRequest)return function _e(be){const We=new Promise((rt,Ge)=>{const Qe=()=>{be.removeEventListener("success",Pe),be.removeEventListener("error",ne)},Pe=()=>{rt(pe(be.result)),Qe()},ne=()=>{Ge(be.error),Qe()};be.addEventListener("success",Pe),be.addEventListener("error",ne)});return We.then(rt=>{rt instanceof IDBCursor&&ve.set(rt,be)}).catch(()=>{}),me.set(We,be),We}(be);if(ye.has(be))return ye.get(be);const We=Me(be);return We!==be&&(ye.set(be,We),me.set(We,be)),We}const je=be=>me.get(be);function et(be,We,{blocked:rt,upgrade:Ge,blocking:Qe,terminated:Pe}={}){const ne=indexedDB.open(be,We),De=pe(ne);return Ge&&ne.addEventListener("upgradeneeded",Ve=>{Ge(pe(ne.result),Ve.oldVersion,Ve.newVersion,pe(ne.transaction))}),rt&&ne.addEventListener("blocked",()=>rt()),De.then(Ve=>{Pe&&Ve.addEventListener("close",()=>Pe()),Qe&&Ve.addEventListener("versionchange",()=>Qe())}).catch(()=>{}),De}function ze(be,{blocked:We}={}){const rt=indexedDB.deleteDatabase(be);return We&&rt.addEventListener("blocked",()=>We()),pe(rt).then(()=>{})}const Se=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Re=new Map;function ie(be,We){if(!(be instanceof IDBDatabase)||We in be||"string"!=typeof We)return;if(Re.get(We))return Re.get(We);const rt=We.replace(/FromIndex$/,""),Ge=We!==rt,Qe=Ke.includes(rt);if(!(rt in(Ge?IDBIndex:IDBObjectStore).prototype)||!Qe&&!Se.includes(rt))return;const Pe=function(){var ne=(0,l.Z)(function*(De,...Ve){const he=this.transaction(De,Qe?"readwrite":"readonly");let ue=he.store;return Ge&&(ue=ue.index(Ve.shift())),(yield Promise.all([ue[rt](...Ve),Qe&&he.done]))[0]});return function(Ve){return ne.apply(this,arguments)}}();return Re.set(We,Pe),Pe}!function it(be){Be=be(Be)}(be=>({...be,get:(We,rt,Ge)=>ie(We,rt)||be.get(We,rt,Ge),has:(We,rt)=>!!ie(We,rt)||be.has(We,rt)}))},7185:(jt,at,V)=>{"use strict";V.d(at,{Rh:()=>Ve,_W:()=>Pe});var l=V(4650),v=V(7340),F=V(7579),Ce=V(6895),Ne=V(1481);const Le=["toast-component",""];function ve(le,Te){if(1&le){const X=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(X);const tt=l.oxw();return l.KtG(tt.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function Oe(le,Te){if(1&le&&(l.ynx(0),l._uU(1),l.BQk()),2&le){const X=l.oxw(2);l.xp6(1),l.hij("[",X.duplicatesCount+1,"]")}}function Ue(le,Te){if(1&le&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,Oe,2,1,"ng-container",4),l.qZA()),2&le){const X=l.oxw();l.Tol(X.options.titleClass),l.uIk("aria-label",X.title),l.xp6(1),l.hij(" ",X.title," "),l.xp6(1),l.Q6J("ngIf",X.duplicatesCount)}}function ye(le,Te){if(1&le&&l._UZ(0,"div",7),2&le){const X=l.oxw();l.Tol(X.options.messageClass),l.Q6J("innerHTML",X.message,l.oJD)}}function me(le,Te){if(1&le&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&le){const X=l.oxw();l.Tol(X.options.messageClass),l.uIk("aria-label",X.message),l.xp6(1),l.hij(" ",X.message," ")}}function _e(le,Te){if(1&le&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&le){const X=l.oxw();l.xp6(1),l.Udp("width",X.width+"%")}}class ze{constructor(Te,X){this.component=Te,this.injector=X}attach(Te,X){return this._attachedHost=Te,Te.attach(this,X)}detach(){const Te=this._attachedHost;if(Te)return this._attachedHost=void 0,Te.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Te){this._attachedHost=Te}}class Se{attach(Te,X){return this._attachedPortal=Te,this.attachComponentPortal(Te,X)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Te){this._disposeFn=Te}}class Ke{constructor(Te){this._overlayRef=Te,this.duplicatesCount=0,this._afterClosed=new F.x,this._activate=new F.x,this._manualClose=new F.x,this._resetTimeout=new F.x,this._countDuplicate=new F.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Te,X){Te&&this._resetTimeout.next(),X&&this._countDuplicate.next(++this.duplicatesCount)}}class Re{constructor(Te,X,Ie,tt,gt,en){this.toastId=Te,this.config=X,this.message=Ie,this.title=tt,this.toastType=gt,this.toastRef=en,this._onTap=new F.x,this._onAction=new F.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Te){this._onAction.next(Te)}onAction(){return this._onAction.asObservable()}}const be=new l.OlP("ToastConfig");class We extends Se{constructor(Te,X,Ie){super(),this._hostDomElement=Te,this._componentFactoryResolver=X,this._appRef=Ie}attachComponentPortal(Te,X){const Ie=this._componentFactoryResolver.resolveComponentFactory(Te.component);let tt;return tt=Ie.create(Te.injector),this._appRef.attachView(tt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(tt.hostView),tt.destroy()}),X?this._hostDomElement.insertBefore(this._getComponentRootNode(tt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(tt)),tt}_getComponentRootNode(Te){return Te.hostView.rootNodes[0]}}class rt{constructor(Te){this._portalHost=Te}attach(Te,X=!0){return this._portalHost.attach(Te,X)}detach(){return this._portalHost.detach()}}let Ge=(()=>{class le{constructor(X){this._document=X}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const X=this._document.createElement("div");X.classList.add("overlay-container"),X.setAttribute("aria-live","polite"),this._document.body.appendChild(X),this._containerElement=X}}return le.\u0275fac=function(X){return new(X||le)(l.LFG(Ce.K0))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})(),Qe=(()=>{class le{constructor(X,Ie,tt,gt){this._overlayContainer=X,this._componentFactoryResolver=Ie,this._appRef=tt,this._document=gt,this._paneElements=new Map}create(X,Ie){return this._createOverlayRef(this.getPaneElement(X,Ie))}getPaneElement(X="",Ie){return this._paneElements.get(Ie)||this._paneElements.set(Ie,{}),this._paneElements.get(Ie)[X]||(this._paneElements.get(Ie)[X]=this._createPaneElement(X,Ie)),this._paneElements.get(Ie)[X]}_createPaneElement(X,Ie){const tt=this._document.createElement("div");return tt.id="toast-container",tt.classList.add(X),tt.classList.add("toast-container"),Ie?Ie.getContainerElement().appendChild(tt):this._overlayContainer.getContainerElement().appendChild(tt),tt}_createPortalHost(X){return new We(X,this._componentFactoryResolver,this._appRef)}_createOverlayRef(X){return new rt(this._createPortalHost(X))}}return le.\u0275fac=function(X){return new(X||le)(l.LFG(Ge),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(Ce.K0))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})(),Pe=(()=>{class le{constructor(X,Ie,tt,gt,en){this.overlay=Ie,this._injector=tt,this.sanitizer=gt,this.ngZone=en,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...X.default,...X.config},X.config.iconClasses&&(this.toastrConfig.iconClasses={...X.default.iconClasses,...X.config.iconClasses})}show(X,Ie,tt={},gt=""){return this._preBuildNotification(gt,X,Ie,this.applyConfig(tt))}success(X,Ie,tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",X,Ie,this.applyConfig(tt))}error(X,Ie,tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",X,Ie,this.applyConfig(tt))}info(X,Ie,tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",X,Ie,this.applyConfig(tt))}warning(X,Ie,tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",X,Ie,this.applyConfig(tt))}clear(X){for(const Ie of this.toasts)if(void 0!==X){if(Ie.toastId===X)return void Ie.toastRef.manualClose()}else Ie.toastRef.manualClose()}remove(X){const Ie=this._findToast(X);if(!Ie||(Ie.activeToast.toastRef.close(),this.toasts.splice(Ie.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const tt=this.toasts[this.currentlyActive].toastRef;tt.isInactive()||(this.currentlyActive=this.currentlyActive+1,tt.activate())}return!0}findDuplicate(X="",Ie="",tt,gt){const{includeTitleDuplicates:en}=this.toastrConfig;for(const vt of this.toasts)if((!en||en&&vt.title===X)&&vt.message===Ie)return vt.toastRef.onDuplicate(tt,gt),vt;return null}applyConfig(X={}){return{...this.toastrConfig,...X}}_findToast(X){for(let Ie=0;Ie<this.toasts.length;Ie++)if(this.toasts[Ie].toastId===X)return{index:Ie,activeToast:this.toasts[Ie]};return null}_preBuildNotification(X,Ie,tt,gt){return gt.onActivateTick?this.ngZone.run(()=>this._buildNotification(X,Ie,tt,gt)):this._buildNotification(X,Ie,tt,gt)}_buildNotification(X,Ie,tt,gt){if(!gt.toastComponent)throw new Error("toastComponent required");const en=this.findDuplicate(tt,Ie,this.toastrConfig.resetTimeoutOnDuplicate&&gt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&tt||Ie)&&this.toastrConfig.preventDuplicates&&null!==en)return en;this.previousToastMessage=Ie;let vt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(vt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const tn=this.overlay.create(gt.positionClass,this.overlayContainer);this.index=this.index+1;let In=Ie;Ie&&gt.enableHtml&&(In=this.sanitizer.sanitize(l.q3G.HTML,Ie));const rn=new Ke(tn),zt=new Re(this.index,gt,In,tt,X,rn),fr=l.zs3.create({providers:[{provide:Re,useValue:zt}],parent:this._injector}),vr=new ze(gt.toastComponent,fr),on=tn.attach(vr,gt.newestOnTop);rn.componentInstance=on.instance;const An={toastId:this.index,title:tt||"",message:Ie||"",toastRef:rn,onShown:rn.afterActivate(),onHidden:rn.afterClosed(),onTap:zt.onTap(),onAction:zt.onAction(),portal:on};return vt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{An.toastRef.activate()})),this.toasts.push(An),An}}return le.\u0275fac=function(X){return new(X||le)(l.LFG(be),l.LFG(Qe),l.LFG(l.zs3),l.LFG(Ne.H7),l.LFG(l.R0b))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();const De={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class le{constructor(X,Ie,tt){this.toastrService=X,this.toastPackage=Ie,this.ngZone=tt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ie.message,this.title=Ie.title,this.options=Ie.config,this.originalTimeout=Ie.config.timeOut,this.toastClasses=`${Ie.toastType} ${Ie.config.toastClass}`,this.sub=Ie.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ie.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ie.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ie.toastRef.countDuplicate().subscribe(gt=>{this.duplicatesCount=gt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const X=(new Date).getTime();this.width=(this.hideTime-X)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(X,Ie){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(X),Ie)):this.timeout=setTimeout(()=>X(),Ie)}outsideInterval(X,Ie){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(X),Ie)):this.intervalId=setInterval(()=>X(),Ie)}runInsideAngular(X){this.ngZone?this.ngZone.run(()=>X()):X()}}return le.\u0275fac=function(X){return new(X||le)(l.Y36(Pe),l.Y36(Re),l.Y36(l.R0b))},le.\u0275cmp=l.Xpm({type:le,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(X,Ie){1&X&&l.NdJ("click",function(){return Ie.tapToast()})("mouseenter",function(){return Ie.stickAround()})("mouseleave",function(){return Ie.delayedHideToast()}),2&X&&(l.d8E("@flyInOut",Ie.state),l.Tol(Ie.toastClasses),l.Udp("display",Ie.displayStyle))},attrs:Le,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(X,Ie){1&X&&(l.YNc(0,ve,3,0,"button",0),l.YNc(1,Ue,3,5,"div",1),l.YNc(2,ye,1,3,"div",2),l.YNc(3,me,2,4,"div",3),l.YNc(4,_e,2,2,"div",4)),2&X&&(l.Q6J("ngIf",Ie.options.closeButton),l.xp6(1),l.Q6J("ngIf",Ie.title),l.xp6(1),l.Q6J("ngIf",Ie.message&&Ie.options.enableHtml),l.xp6(1),l.Q6J("ngIf",Ie.message&&!Ie.options.enableHtml),l.xp6(1),l.Q6J("ngIf",Ie.options.progressBar))},dependencies:[Ce.O5],encapsulation:2,data:{animation:[(0,v.X$)("flyInOut",[(0,v.SB)("inactive",(0,v.oB)({opacity:0})),(0,v.SB)("active",(0,v.oB)({opacity:1})),(0,v.SB)("removed",(0,v.oB)({opacity:0})),(0,v.eR)("inactive => active",(0,v.jt)("{{ easeTime }}ms {{ easing }}")),(0,v.eR)("active => removed",(0,v.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),le})()};let Ve=(()=>{class le{static forRoot(X={}){return{ngModule:le,providers:[{provide:be,useValue:{default:De,config:X}}]}}}return le.\u0275fac=function(X){return new(X||le)},le.\u0275mod=l.oAB({type:le}),le.\u0275inj=l.cJS({imports:[Ce.ez]}),le})()},5861:(jt,at,V)=>{"use strict";function l(F,Ce,Ne,Le,ve,Oe,Ue){try{var ye=F[Oe](Ue),me=ye.value}catch(_e){return void Ne(_e)}ye.done?Ce(me):Promise.resolve(me).then(Le,ve)}function v(F){return function(){var Ce=this,Ne=arguments;return new Promise(function(Le,ve){var Oe=F.apply(Ce,Ne);function Ue(me){l(Oe,Le,ve,Ue,ye,"next",me)}function ye(me){l(Oe,Le,ve,Ue,ye,"throw",me)}Ue(void 0)})}}V.d(at,{Z:()=>v})}},jt=>{jt(jt.s=6095)}]);